{"version":3,"sources":["node_modules/browser-pack/_prelude.js","demo/index.ts","node_modules/@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js","node_modules/@webcomponents/webcomponentsjs/webcomponents-bundle.js","node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js","node_modules/intl-tel-input/build/js/intlTelInput.js","node_modules/intl-tel-input/index.js","node_modules/js-polyfills/polyfill.js","node_modules/process/browser.js","node_modules/timers-browserify/main.js","src/custom-form.ts","src/elements/Address/AddressElement.ts","src/elements/BankField/BankFieldElement.ts","src/elements/CPRElement/CPRElement.ts","src/elements/CVRElement/CVRElement.ts","src/elements/CheckBoxElement/CheckBoxElement.ts","src/elements/CustomRegularExpression/CustomRegularExpressionElement.ts","src/elements/DateField/DateFieldElement.ts","src/elements/DropDownList/DropDownListElement.ts","src/elements/Elements.ts","src/elements/EmailField/EmailFieldElement.ts","src/elements/FileField/FileFieldElement.ts","src/elements/IdentificationElement/IdentificationElement.ts","src/elements/InternationaPhoneNumber/InternationaPhoneNumberElement.ts","src/elements/NumericField/NumericFieldElement.ts","src/elements/RadioButtonGroup/RadioButtonGroupElement.ts","src/elements/TextAreaElement/TextAreaElement.ts","src/elements/TextField/TextFieldElement.ts","src/framework/CustomEvents.ts","src/framework/CustomInputElement.ts","src/framework/Utilities/ArrayUtil.ts","src/framework/Utilities/DomUtil.ts","src/framework/Utilities/MakeRequest.ts","src/framework/Utilities/StringUtil.ts","src/framework/Utilities/ViewportUtil.ts","src/framework/Validation/Validators/BankAccount.ts","src/framework/Validation/Validators/BankAccountRegistrationNumber.ts","src/framework/Validation/Validators/BankIdNorway.ts","src/framework/Validation/Validators/BankIdSweden.ts","src/framework/Validation/Validators/CPR.ts","src/framework/Validation/Validators/CVR.ts","src/framework/custom-element.decorator.ts","src/index.ts"],"names":[],"mappings":"AAAA;;;ACAA,wCAAsD;AAEtD,QAAQ,CAAC,kBAAkB,GAAG;IAC1B,IAAI,QAAQ,CAAC,UAAU,KAAK,UAAU,EAAE;QACpC,IAAI,IAAI,GAAG,IAAI,kBAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7C,IAAI,CAAC,QAAQ,GAAG,UAAA,OAAO;YACnB,OAAO,CAAC,IAAI,CAAC,UAAA,QAAQ,IAAK,CAAC,CAAC,CAAC;QACjC,CAAC,CAAC;KACL;AACL,CAAC,CAAC;;ACTF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7yCA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC71MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC3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","file":"index.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { CustomForm, elements } from './../src/index';\r\n\r\ndocument.onreadystatechange = () => {\r\n    if (document.readyState === 'complete') {\r\n        let form = new CustomForm(document.forms[0]);\r\n        form.onsubmit = promise => {\r\n            promise.then(response => {});\r\n        };\r\n    }\r\n};\r\n","/**\n@license @nocompile\nCopyright (c) 2018 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n(function () {\n  'use strict';\n\n  (function(){if(void 0===window.Reflect||void 0===window.customElements||window.customElements.polyfillWrapFlushCallback)return;const a=HTMLElement;window.HTMLElement=function HTMLElement(){return Reflect.construct(a,[],this.constructor)},HTMLElement.prototype=a.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,a);})();\n\n}());\n","/**\n@license @nocompile\nCopyright (c) 2018 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n(function(){/*\n\n Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n Code distributed by Google as part of the polymer project is also\n subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n'use strict';var r,t=\"undefined\"!=typeof window&&window===this?this:\"undefined\"!=typeof global&&null!=global?global:this,ca=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function da(){da=function(){};t.Symbol||(t.Symbol=ea)}var ea=function(){var a=0;return function(b){return\"jscomp_symbol_\"+(b||\"\")+a++}}();\nfunction fa(){da();var a=t.Symbol.iterator;a||(a=t.Symbol.iterator=t.Symbol(\"iterator\"));\"function\"!=typeof Array.prototype[a]&&ca(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ha(this)}});fa=function(){}}function ha(a){var b=0;return ia(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function ia(a){fa();a={next:a};a[t.Symbol.iterator]=function(){return this};return a}function ja(a){fa();var b=a[Symbol.iterator];return b?b.call(a):ha(a)}\nfunction ka(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}var la;if(\"function\"==typeof Object.setPrototypeOf)la=Object.setPrototypeOf;else{var ma;a:{var na={Ga:!0},oa={};try{oa.__proto__=na;ma=oa.Ga;break a}catch(a){}ma=!1}la=ma?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+\" is not extensible\");return a}:null}var pa=la;function qa(){this.f=!1;this.b=null;this.aa=void 0;this.a=1;this.F=0;this.c=null}\nfunction ra(a){if(a.f)throw new TypeError(\"Generator is already running\");a.f=!0}qa.prototype.u=function(a){this.aa=a};function sa(a,b){a.c={Ja:b,Na:!0};a.a=a.F}qa.prototype.return=function(a){this.c={return:a};this.a=this.F};function ta(a,b){a.a=3;return{value:b}}function ua(a){this.a=new qa;this.b=a}function va(a,b){ra(a.a);var c=a.a.b;if(c)return wa(a,\"return\"in c?c[\"return\"]:function(a){return{value:a,done:!0}},b,a.a.return);a.a.return(b);return xa(a)}\nfunction wa(a,b,c,d){try{var e=b.call(a.a.b,c);if(!(e instanceof Object))throw new TypeError(\"Iterator result \"+e+\" is not an object\");if(!e.done)return a.a.f=!1,e;var f=e.value}catch(g){return a.a.b=null,sa(a.a,g),xa(a)}a.a.b=null;d.call(a.a,f);return xa(a)}function xa(a){for(;a.a.a;)try{var b=a.b(a.a);if(b)return a.a.f=!1,{value:b.value,done:!1}}catch(c){a.a.aa=void 0,sa(a.a,c)}a.a.f=!1;if(a.a.c){b=a.a.c;a.a.c=null;if(b.Na)throw b.Ja;return{value:b.return,done:!0}}return{value:void 0,done:!0}}\nfunction ya(a){this.next=function(b){ra(a.a);a.a.b?b=wa(a,a.a.b.next,b,a.a.u):(a.a.u(b),b=xa(a));return b};this.throw=function(b){ra(a.a);a.a.b?b=wa(a,a.a.b[\"throw\"],b,a.a.u):(sa(a.a,b),b=xa(a));return b};this.return=function(b){return va(a,b)};fa();this[Symbol.iterator]=function(){return this}}function Ba(a,b){b=new ya(new ua(b));pa&&pa(b,a.prototype);return b}\n(function(){if(!function(){var a=document.createEvent(\"Event\");a.initEvent(\"foo\",!0,!0);a.preventDefault();return a.defaultPrevented}()){var a=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(a.call(this),Object.defineProperty(this,\"defaultPrevented\",{get:function(){return!0},configurable:!0}))}}var b=/Trident/.test(navigator.userAgent);if(!window.Event||b&&\"function\"!==typeof window.Event){var c=window.Event;window.Event=function(a,b){b=b||{};var c=document.createEvent(\"Event\");\nc.initEvent(a,!!b.bubbles,!!b.cancelable);return c};if(c){for(var d in c)window.Event[d]=c[d];window.Event.prototype=c.prototype}}if(!window.CustomEvent||b&&\"function\"!==typeof window.CustomEvent)window.CustomEvent=function(a,b){b=b||{};var c=document.createEvent(\"CustomEvent\");c.initCustomEvent(a,!!b.bubbles,!!b.cancelable,b.detail);return c},window.CustomEvent.prototype=window.Event.prototype;if(!window.MouseEvent||b&&\"function\"!==typeof window.MouseEvent){b=window.MouseEvent;window.MouseEvent=\nfunction(a,b){b=b||{};var c=document.createEvent(\"MouseEvent\");c.initMouseEvent(a,!!b.bubbles,!!b.cancelable,b.view||window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget);return c};if(b)for(d in b)window.MouseEvent[d]=b[d];window.MouseEvent.prototype=b.prototype}Array.from||(Array.from=function(a){return[].slice.call(a)});Object.assign||(Object.assign=function(a,b){for(var c=[].slice.call(arguments,1),d=0,e;d<c.length;d++)if(e=c[d])for(var f=\na,n=e,q=Object.getOwnPropertyNames(n),I=0;I<q.length;I++)e=q[I],f[e]=n[e];return a})})();(function(){function a(){}function b(a,b){if(!a.childNodes.length)return[];switch(a.nodeType){case Node.DOCUMENT_NODE:return Q.call(a,b);case Node.DOCUMENT_FRAGMENT_NODE:return Eb.call(a,b);default:return x.call(a,b)}}var c=\"undefined\"===typeof HTMLTemplateElement,d=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),e=!1;/Trident/.test(navigator.userAgent)&&function(){function a(a,b){if(a instanceof DocumentFragment)for(var d;d=a.firstChild;)c.call(this,d,b);else c.call(this,\na,b);return a}e=!0;var b=Node.prototype.cloneNode;Node.prototype.cloneNode=function(a){a=b.call(this,a);this instanceof DocumentFragment&&(a.__proto__=DocumentFragment.prototype);return a};DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll;DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector;Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},\nconfigurable:!0},nodeName:{get:function(){return\"#document-fragment\"},configurable:!0}});var c=Node.prototype.insertBefore;Node.prototype.insertBefore=a;var d=Node.prototype.appendChild;Node.prototype.appendChild=function(b){b instanceof DocumentFragment?a.call(this,b,null):d.call(this,b);return b};var f=Node.prototype.removeChild,g=Node.prototype.replaceChild;Node.prototype.replaceChild=function(b,c){b instanceof DocumentFragment?(a.call(this,b,c),f.call(this,c)):g.call(this,b,c);return c};Document.prototype.createDocumentFragment=\nfunction(){var a=this.createElement(\"df\");a.__proto__=DocumentFragment.prototype;return a};var h=Document.prototype.importNode;Document.prototype.importNode=function(a,b){b=h.call(this,a,b||!1);a instanceof DocumentFragment&&(b.__proto__=DocumentFragment.prototype);return b}}();var f=Node.prototype.cloneNode,g=Document.prototype.createElement,h=Document.prototype.importNode,k=Node.prototype.removeChild,l=Node.prototype.appendChild,n=Node.prototype.replaceChild,q=DOMParser.prototype.parseFromString,\nI=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,\"innerHTML\")||{get:function(){return this.innerHTML},set:function(a){this.innerHTML=a}},v=Object.getOwnPropertyDescriptor(window.Node.prototype,\"childNodes\")||{get:function(){return this.childNodes}},x=Element.prototype.querySelectorAll,Q=Document.prototype.querySelectorAll,Eb=DocumentFragment.prototype.querySelectorAll,Fb=function(){if(!c){var a=document.createElement(\"template\"),b=document.createElement(\"template\");b.content.appendChild(document.createElement(\"div\"));\na.content.appendChild(b);a=a.cloneNode(!0);return 0===a.content.childNodes.length||0===a.content.firstChild.content.childNodes.length||d}}();if(c){var T=document.implementation.createHTMLDocument(\"template\"),Ja=!0,p=document.createElement(\"style\");p.textContent=\"template{display:none;}\";var za=document.head;za.insertBefore(p,za.firstElementChild);a.prototype=Object.create(HTMLElement.prototype);var aa=!document.createElement(\"div\").hasOwnProperty(\"innerHTML\");a.S=function(b){if(!b.content&&b.namespaceURI===\ndocument.documentElement.namespaceURI){b.content=T.createDocumentFragment();for(var c;c=b.firstChild;)l.call(b.content,c);if(aa)b.__proto__=a.prototype;else if(b.cloneNode=function(b){return a.b(this,b)},Ja)try{m(b),y(b)}catch(vh){Ja=!1}a.a(b.content)}};var X={option:[\"select\"],thead:[\"table\"],col:[\"colgroup\",\"table\"],tr:[\"tbody\",\"table\"],th:[\"tr\",\"tbody\",\"table\"],td:[\"tr\",\"tbody\",\"table\"]},m=function(b){Object.defineProperty(b,\"innerHTML\",{get:function(){return ba(this)},set:function(b){var c=X[(/<([a-z][^/\\0>\\x20\\t\\r\\n\\f]+)/i.exec(b)||\n[\"\",\"\"])[1].toLowerCase()];if(c)for(var d=0;d<c.length;d++)b=\"<\"+c[d]+\">\"+b+\"</\"+c[d]+\">\";T.body.innerHTML=b;for(a.a(T);this.content.firstChild;)k.call(this.content,this.content.firstChild);b=T.body;if(c)for(d=0;d<c.length;d++)b=b.lastChild;for(;b.firstChild;)l.call(this.content,b.firstChild)},configurable:!0})},y=function(a){Object.defineProperty(a,\"outerHTML\",{get:function(){return\"<template>\"+this.innerHTML+\"</template>\"},set:function(a){if(this.parentNode){T.body.innerHTML=a;for(a=this.ownerDocument.createDocumentFragment();T.body.firstChild;)l.call(a,\nT.body.firstChild);n.call(this.parentNode,a,this)}else throw Error(\"Failed to set the 'outerHTML' property on 'Element': This element has no parent node.\");},configurable:!0})};m(a.prototype);y(a.prototype);a.a=function(c){c=b(c,\"template\");for(var d=0,e=c.length,f;d<e&&(f=c[d]);d++)a.S(f)};document.addEventListener(\"DOMContentLoaded\",function(){a.a(document)});Document.prototype.createElement=function(){var b=g.apply(this,arguments);\"template\"===b.localName&&a.S(b);return b};DOMParser.prototype.parseFromString=\nfunction(){var b=q.apply(this,arguments);a.a(b);return b};Object.defineProperty(HTMLElement.prototype,\"innerHTML\",{get:function(){return ba(this)},set:function(b){I.set.call(this,b);a.a(this)},configurable:!0,enumerable:!0});var Y=/[&\\u00A0\"]/g,Gb=/[&\\u00A0<>]/g,Ka=function(a){switch(a){case \"&\":return\"&amp;\";case \"<\":return\"&lt;\";case \">\":return\"&gt;\";case '\"':return\"&quot;\";case \"\\u00a0\":return\"&nbsp;\"}};p=function(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b};var Aa=p(\"area base br col command embed hr img input keygen link meta param source track wbr\".split(\" \")),\nLa=p(\"style script xmp iframe noembed noframes plaintext noscript\".split(\" \")),ba=function(a,b){\"template\"===a.localName&&(a=a.content);for(var c=\"\",d=b?b(a):v.get.call(a),e=0,f=d.length,g;e<f&&(g=d[e]);e++){a:{var h=g;var k=a;var l=b;switch(h.nodeType){case Node.ELEMENT_NODE:for(var n=h.localName,m=\"<\"+n,q=h.attributes,x=0;k=q[x];x++)m+=\" \"+k.name+'=\"'+k.value.replace(Y,Ka)+'\"';m+=\">\";h=Aa[n]?m:m+ba(h,l)+\"</\"+n+\">\";break a;case Node.TEXT_NODE:h=h.data;h=k&&La[k.localName]?h:h.replace(Gb,Ka);break a;\ncase Node.COMMENT_NODE:h=\"\\x3c!--\"+h.data+\"--\\x3e\";break a;default:throw window.console.error(h),Error(\"not implemented\");}}c+=h}return c}}if(c||Fb){a.b=function(a,b){var c=f.call(a,!1);this.S&&this.S(c);b&&(l.call(c.content,f.call(a.content,!0)),Ma(c.content,a.content));return c};var Ma=function(c,d){if(d.querySelectorAll&&(d=b(d,\"template\"),0!==d.length)){c=b(c,\"template\");for(var e=0,f=c.length,g,h;e<f;e++)h=d[e],g=c[e],a&&a.S&&a.S(h),n.call(g.parentNode,sf.call(h,!0),g)}},sf=Node.prototype.cloneNode=\nfunction(b){if(!e&&d&&this instanceof DocumentFragment)if(b)var c=tf.call(this.ownerDocument,this,!0);else return this.ownerDocument.createDocumentFragment();else this.nodeType===Node.ELEMENT_NODE&&\"template\"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?c=a.b(this,b):c=f.call(this,b);b&&Ma(c,this);return c},tf=Document.prototype.importNode=function(c,d){d=d||!1;if(\"template\"===c.localName)return a.b(c,d);var e=h.call(this,c,d);if(d){Ma(e,c);c=b(e,'script:not([type]),script[type=\"application/javascript\"],script[type=\"text/javascript\"]');\nfor(var f,k=0;k<c.length;k++){f=c[k];d=g.call(document,\"script\");d.textContent=f.textContent;for(var l=f.attributes,m=0,q;m<l.length;m++)q=l[m],d.setAttribute(q.name,q.value);n.call(f.parentNode,d,f)}}return e}}c&&(window.HTMLTemplateElement=a)})();var Ca=setTimeout;function Da(){}function Ea(a,b){return function(){a.apply(b,arguments)}}function u(a){if(!(this instanceof u))throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!==typeof a)throw new TypeError(\"not a function\");this.I=0;this.oa=!1;this.w=void 0;this.U=[];Fa(a,this)}\nfunction Ga(a,b){for(;3===a.I;)a=a.w;0===a.I?a.U.push(b):(a.oa=!0,Ha(function(){var c=1===a.I?b.Pa:b.Qa;if(null===c)(1===a.I?Ia:Na)(b.ma,a.w);else{try{var d=c(a.w)}catch(e){Na(b.ma,e);return}Ia(b.ma,d)}}))}function Ia(a,b){try{if(b===a)throw new TypeError(\"A promise cannot be resolved with itself.\");if(b&&(\"object\"===typeof b||\"function\"===typeof b)){var c=b.then;if(b instanceof u){a.I=3;a.w=b;Oa(a);return}if(\"function\"===typeof c){Fa(Ea(c,b),a);return}}a.I=1;a.w=b;Oa(a)}catch(d){Na(a,d)}}\nfunction Na(a,b){a.I=2;a.w=b;Oa(a)}function Oa(a){2===a.I&&0===a.U.length&&Ha(function(){a.oa||\"undefined\"!==typeof console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",a.w)});for(var b=0,c=a.U.length;b<c;b++)Ga(a,a.U[b]);a.U=null}function Pa(a,b,c){this.Pa=\"function\"===typeof a?a:null;this.Qa=\"function\"===typeof b?b:null;this.ma=c}function Fa(a,b){var c=!1;try{a(function(a){c||(c=!0,Ia(b,a))},function(a){c||(c=!0,Na(b,a))})}catch(d){c||(c=!0,Na(b,d))}}\nu.prototype[\"catch\"]=function(a){return this.then(null,a)};u.prototype.then=function(a,b){var c=new this.constructor(Da);Ga(this,new Pa(a,b,c));return c};u.prototype[\"finally\"]=function(a){var b=this.constructor;return this.then(function(c){return b.resolve(a()).then(function(){return c})},function(c){return b.resolve(a()).then(function(){return b.reject(c)})})};\nfunction Qa(a){return new u(function(b,c){function d(a,g){try{if(g&&(\"object\"===typeof g||\"function\"===typeof g)){var h=g.then;if(\"function\"===typeof h){h.call(g,function(b){d(a,b)},c);return}}e[a]=g;0===--f&&b(e)}catch(n){c(n)}}if(!a||\"undefined\"===typeof a.length)throw new TypeError(\"Promise.all accepts an array\");var e=Array.prototype.slice.call(a);if(0===e.length)return b([]);for(var f=e.length,g=0;g<e.length;g++)d(g,e[g])})}\nfunction Ra(a){return a&&\"object\"===typeof a&&a.constructor===u?a:new u(function(b){b(a)})}function Sa(a){return new u(function(b,c){c(a)})}function Ta(a){return new u(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})}var Ha=\"function\"===typeof setImmediate&&function(a){setImmediate(a)}||function(a){Ca(a,0)};/*\n\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nif(!window.Promise){window.Promise=u;u.prototype.then=u.prototype.then;u.all=Qa;u.race=Ta;u.resolve=Ra;u.reject=Sa;var Ua=document.createTextNode(\"\"),Va=[];(new MutationObserver(function(){for(var a=Va.length,b=0;b<a;b++)Va[b]();Va.splice(0,a)})).observe(Ua,{characterData:!0});Ha=function(a){Va.push(a);Ua.textContent=0<Ua.textContent.length?\"\":\"a\"}};/*\n Copyright (C) 2015 by WebReflection\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n(function(a,b){if(!(b in a)){var c=typeof global===typeof c?window:global,d=0,e=\"\"+Math.random(),f=\"__\\u0001symbol@@\"+e,g=a.getOwnPropertyNames,h=a.getOwnPropertyDescriptor,k=a.create,l=a.keys,n=a.freeze||a,q=a.defineProperty,I=a.defineProperties,v=h(a,\"getOwnPropertyNames\"),x=a.prototype,Q=x.hasOwnProperty,Eb=x.propertyIsEnumerable,Fb=x.toString,T=function(a,b,c){Q.call(a,f)||q(a,f,{enumerable:!1,configurable:!1,writable:!1,value:{}});a[f][\"@@\"+b]=c},Ja=function(a,b){var c=k(a);g(b).forEach(function(a){X.call(b,\na)&&Aa(c,a,b[a])});return c},p=function(){},za=function(a){return a!=f&&!Q.call(Y,a)},aa=function(a){return a!=f&&Q.call(Y,a)},X=function(a){var b=\"\"+a;return aa(b)?Q.call(this,b)&&this[f][\"@@\"+b]:Eb.call(this,a)},m=function(b){q(x,b,{enumerable:!1,configurable:!0,get:p,set:function(a){ba(this,b,{enumerable:!1,configurable:!0,writable:!0,value:a});T(this,b,!0)}});return n(Y[b]=q(a(b),\"constructor\",Gb))},y=function(a){if(this&&this!==c)throw new TypeError(\"Symbol is not a constructor\");return m(\"__\\u0001symbol:\".concat(a||\n\"\",e,++d))},Y=k(null),Gb={value:y},Ka=function(a){return Y[a]},Aa=function(a,b,c){var d=\"\"+b;if(aa(d)){b=ba;if(c.enumerable){var e=k(c);e.enumerable=!1}else e=c;b(a,d,e);T(a,d,!!c.enumerable)}else q(a,b,c);return a},La=function(a){return g(a).filter(aa).map(Ka)};v.value=Aa;q(a,\"defineProperty\",v);v.value=La;q(a,b,v);v.value=function(a){return g(a).filter(za)};q(a,\"getOwnPropertyNames\",v);v.value=function(a,b){var c=La(b);c.length?l(b).concat(c).forEach(function(c){X.call(b,c)&&Aa(a,c,b[c])}):I(a,\nb);return a};q(a,\"defineProperties\",v);v.value=X;q(x,\"propertyIsEnumerable\",v);v.value=y;q(c,\"Symbol\",v);v.value=function(a){a=\"__\\u0001symbol:\".concat(\"__\\u0001symbol:\",a,e);return a in x?Y[a]:m(a)};q(y,\"for\",v);v.value=function(a){if(za(a))throw new TypeError(a+\" is not a symbol\");return Q.call(Y,a)?a.slice(20,-e.length):void 0};q(y,\"keyFor\",v);v.value=function(a,b){var c=h(a,b);c&&aa(b)&&(c.enumerable=X.call(a,b));return c};q(a,\"getOwnPropertyDescriptor\",v);v.value=function(a,b){return 1===arguments.length?\nk(a):Ja(a,b)};q(a,\"create\",v);v.value=function(){var a=Fb.call(this);return\"[object String]\"===a&&aa(this)?\"[object Symbol]\":a};q(x,\"toString\",v);try{var ba=k(q({},\"__\\u0001symbol:\",{get:function(){return q(this,\"__\\u0001symbol:\",{value:!1})[\"__\\u0001symbol:\"]}}))[\"__\\u0001symbol:\"]||q}catch(Ma){ba=function(a,b,c){var d=h(x,b);delete x[b];q(a,b,c);q(x,b,d)}}}})(Object,\"getOwnPropertySymbols\");\n(function(a){var b=a.defineProperty,c=a.prototype,d=c.toString,e;\"iterator match replace search split hasInstance isConcatSpreadable unscopables species toPrimitive toStringTag\".split(\" \").forEach(function(f){if(!(f in Symbol))switch(b(Symbol,f,{value:Symbol(f)}),f){case \"toStringTag\":e=a.getOwnPropertyDescriptor(c,\"toString\"),e.value=function(){var a=d.call(this),b=this[Symbol.toStringTag];return\"undefined\"===typeof b?a:\"[object \"+b+\"]\"},b(c,\"toString\",e)}})})(Object,Symbol);\n(function(a,b,c){function d(){return this}b[a]||(b[a]=function(){var b=0,c=this,g={next:function(){var a=c.length<=b;return a?{done:a}:{done:a,value:c[b++]}}};g[a]=d;return g});c[a]||(c[a]=function(){var b=String.fromCodePoint,c=this,g=0,h=c.length,k={next:function(){var a=h<=g,d=a?\"\":b(c.codePointAt(g));g+=d.length;return a?{done:a}:{done:a,value:d}}};k[a]=d;return k})})(Symbol.iterator,Array.prototype,String.prototype);/*\n\nCopyright (c) 2018 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nvar Wa=Object.prototype.toString;Object.prototype.toString=function(){return void 0===this?\"[object Undefined]\":null===this?\"[object Null]\":Wa.call(this)};Object.keys=function(a){return Object.getOwnPropertyNames(a).filter(function(b){return(b=Object.getOwnPropertyDescriptor(a,b))&&b.enumerable})};var Xa=window.Symbol.iterator;\nString.prototype[Xa]&&String.prototype.codePointAt||(String.prototype[Xa]=function Ya(){var b,c=this;return Ba(Ya,function(d){1==d.a&&(b=0);if(3!=d.a)return b<c.length?d=ta(d,c[b]):(d.a=0,d=void 0),d;b++;d.a=2})});Set.prototype[Xa]||(Set.prototype[Xa]=function Za(){var b,c=this,d;return Ba(Za,function(e){1==e.a&&(b=[],c.forEach(function(c){b.push(c)}),d=0);if(3!=e.a)return d<b.length?e=ta(e,b[d]):(e.a=0,e=void 0),e;d++;e.a=2})});\nMap.prototype[Xa]||(Map.prototype[Xa]=function $a(){var b,c=this,d;return Ba($a,function(e){1==e.a&&(b=[],c.forEach(function(c,d){b.push([d,c])}),d=0);if(3!=e.a)return d<b.length?e=ta(e,b[d]):(e.a=0,e=void 0),e;d++;e.a=2})});/*\n\n Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n Code distributed by Google as part of the polymer project is also\n subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nwindow.WebComponents=window.WebComponents||{flags:{}};var ab=document.querySelector('script[src*=\"webcomponents-bundle\"]'),bb=/wc-(.+)/,w={};if(!w.noOpts){location.search.slice(1).split(\"&\").forEach(function(a){a=a.split(\"=\");var b;a[0]&&(b=a[0].match(bb))&&(w[b[1]]=a[1]||!0)});if(ab)for(var cb=0,db=void 0;db=ab.attributes[cb];cb++)\"src\"!==db.name&&(w[db.name]=db.value||!0);if(w.log&&w.log.split){var eb=w.log.split(\",\");w.log={};eb.forEach(function(a){w.log[a]=!0})}else w.log={}}\nwindow.WebComponents.flags=w;var fb=w.shadydom;fb&&(window.ShadyDOM=window.ShadyDOM||{},window.ShadyDOM.force=fb);var gb=w.register||w.ce;gb&&window.customElements&&(window.customElements.forcePolyfill=gb);/*\n\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nfunction hb(){}hb.prototype.toJSON=function(){return{}};function z(a){a.__shady||(a.__shady=new hb);return a.__shady}function A(a){return a&&a.__shady};var B=window.ShadyDOM||{};B.La=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var ib=Object.getOwnPropertyDescriptor(Node.prototype,\"firstChild\");B.D=!!(ib&&ib.configurable&&ib.get);B.ka=B.force||!B.La;B.M=B.noPatch||!1;B.ta=B.preferPerformance;var jb=navigator.userAgent.match(\"Trident\");B.ya=jb;function kb(a){return(a=A(a))&&void 0!==a.firstChild}function C(a){return\"ShadyRoot\"===a.Da}function lb(a){return(a=(a=A(a))&&a.root)&&mb(a)}\nvar nb=Element.prototype,ob=nb.matches||nb.matchesSelector||nb.mozMatchesSelector||nb.msMatchesSelector||nb.oMatchesSelector||nb.webkitMatchesSelector,pb=document.createTextNode(\"\"),qb=0,rb=[];(new MutationObserver(function(){for(;rb.length;)try{rb.shift()()}catch(a){throw pb.textContent=qb++,a;}})).observe(pb,{characterData:!0});function sb(a){rb.push(a);pb.textContent=qb++}var tb=!!document.contains;function ub(a,b){for(;b;){if(b==a)return!0;b=b.__shady_parentNode}return!1}\nfunction vb(a){for(var b=a.length-1;0<=b;b--){var c=a[b],d=c.getAttribute(\"id\")||c.getAttribute(\"name\");d&&\"length\"!==d&&isNaN(d)&&(a[d]=c)}a.item=function(b){return a[b]};a.namedItem=function(b){if(\"length\"!==b&&isNaN(b)&&a[b])return a[b];for(var c=ja(a),d=c.next();!d.done;d=c.next())if(d=d.value,(d.getAttribute(\"id\")||d.getAttribute(\"name\"))==b)return d;return null};return a}function wb(a){var b=[];for(a=a.__shady_native_firstChild;a;a=a.__shady_native_nextSibling)b.push(a);return b}\nfunction xb(a){var b=[];for(a=a.__shady_firstChild;a;a=a.__shady_nextSibling)b.push(a);return b}function D(a,b,c,d){c=void 0===c?\"\":c;for(var e in b){var f=b[e];if(!(d&&0<=d.indexOf(e))){f.configurable=!0;var g=c+e;if(f.value)a[g]=f.value;else try{Object.defineProperty(a,g,f)}catch(h){}}}}function E(a){var b={};Object.getOwnPropertyNames(a).forEach(function(c){b[c]=Object.getOwnPropertyDescriptor(a,c)});return b};var yb=[],zb;function Ab(a){zb||(zb=!0,sb(Bb));yb.push(a)}function Bb(){zb=!1;for(var a=!!yb.length;yb.length;)yb.shift()();return a}Bb.list=yb;function Cb(){this.a=!1;this.addedNodes=[];this.removedNodes=[];this.$=new Set}function Db(a){a.a||(a.a=!0,sb(function(){a.flush()}))}Cb.prototype.flush=function(){if(this.a){this.a=!1;var a=this.takeRecords();a.length&&this.$.forEach(function(b){b(a)})}};Cb.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var a=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];this.addedNodes=[];this.removedNodes=[];return a}return[]};\nfunction Hb(a,b){var c=z(a);c.V||(c.V=new Cb);c.V.$.add(b);var d=c.V;return{Ca:b,P:d,Ea:a,takeRecords:function(){return d.takeRecords()}}}function Ib(a){var b=a&&a.P;b&&(b.$.delete(a.Ca),b.$.size||(z(a.Ea).V=null))}\nfunction Jb(a,b){var c=b.getRootNode();return a.map(function(a){var b=c===a.target.getRootNode();if(b&&a.addedNodes){if(b=Array.from(a.addedNodes).filter(function(a){return c===a.getRootNode()}),b.length)return a=Object.create(a),Object.defineProperty(a,\"addedNodes\",{value:b,configurable:!0}),a}else if(b)return a}).filter(function(a){return a})};var Kb=/[&\\u00A0\"]/g,Lb=/[&\\u00A0<>]/g;function Mb(a){switch(a){case \"&\":return\"&amp;\";case \"<\":return\"&lt;\";case \">\":return\"&gt;\";case '\"':return\"&quot;\";case \"\\u00a0\":return\"&nbsp;\"}}function Nb(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b}var Ob=Nb(\"area base br col command embed hr img input keygen link meta param source track wbr\".split(\" \")),Pb=Nb(\"style script xmp iframe noembed noframes plaintext noscript\".split(\" \"));\nfunction Qb(a,b){\"template\"===a.localName&&(a=a.content);for(var c=\"\",d=b?b(a):a.childNodes,e=0,f=d.length,g=void 0;e<f&&(g=d[e]);e++){a:{var h=g;var k=a,l=b;switch(h.nodeType){case Node.ELEMENT_NODE:k=h.localName;for(var n=\"<\"+k,q=h.attributes,I=0,v;v=q[I];I++)n+=\" \"+v.name+'=\"'+v.value.replace(Kb,Mb)+'\"';n+=\">\";h=Ob[k]?n:n+Qb(h,l)+\"</\"+k+\">\";break a;case Node.TEXT_NODE:h=h.data;h=k&&Pb[k.localName]?h:h.replace(Lb,Mb);break a;case Node.COMMENT_NODE:h=\"\\x3c!--\"+h.data+\"--\\x3e\";break a;default:throw window.console.error(h),\nError(\"not implemented\");}}c+=h}return c};var Rb=B.D,Sb={querySelector:function(a){return this.__shady_native_querySelector(a)},querySelectorAll:function(a){return this.__shady_native_querySelectorAll(a)}},Tb={};function Ub(a){Tb[a]=function(b){return b[\"__shady_native_\"+a]}}function Vb(a,b){D(a,b,\"__shady_native_\");for(var c in b)Ub(c)}function F(a,b){b=void 0===b?[]:b;for(var c=0;c<b.length;c++){var d=b[c],e=Object.getOwnPropertyDescriptor(a,d);e&&(Object.defineProperty(a,\"__shady_native_\"+d,e),e.value?Sb[d]||(Sb[d]=e.value):Ub(d))}}\nvar G=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),H=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),Wb=document.implementation.createHTMLDocument(\"inert\");function Xb(a){for(var b;b=a.__shady_native_firstChild;)a.__shady_native_removeChild(b)}var Yb=[\"firstElementChild\",\"lastElementChild\",\"children\",\"childElementCount\"],Zb=[\"querySelector\",\"querySelectorAll\"];\nfunction $b(){var a=[\"dispatchEvent\",\"addEventListener\",\"removeEventListener\"];window.EventTarget?F(window.EventTarget.prototype,a):(F(Node.prototype,a),F(Window.prototype,a));Rb?F(Node.prototype,\"parentNode firstChild lastChild previousSibling nextSibling childNodes parentElement textContent\".split(\" \")):Vb(Node.prototype,{parentNode:{get:function(){G.currentNode=this;return G.parentNode()}},firstChild:{get:function(){G.currentNode=this;return G.firstChild()}},lastChild:{get:function(){G.currentNode=\nthis;return G.lastChild()}},previousSibling:{get:function(){G.currentNode=this;return G.previousSibling()}},nextSibling:{get:function(){G.currentNode=this;return G.nextSibling()}},childNodes:{get:function(){var a=[];G.currentNode=this;for(var c=G.firstChild();c;)a.push(c),c=G.nextSibling();return a}},parentElement:{get:function(){H.currentNode=this;return H.parentNode()}},textContent:{get:function(){switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:for(var a=document.createTreeWalker(this,\nNodeFilter.SHOW_TEXT,null,!1),c=\"\",d;d=a.nextNode();)c+=d.nodeValue;return c;default:return this.nodeValue}},set:function(a){if(\"undefined\"===typeof a||null===a)a=\"\";switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:Xb(this);(0<a.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_native_insertBefore(document.createTextNode(a),void 0);break;default:this.nodeValue=a}}}});F(Node.prototype,\"appendChild insertBefore removeChild replaceChild cloneNode contains\".split(\" \"));\nF(HTMLElement.prototype,[\"parentElement\",\"contains\"]);a={firstElementChild:{get:function(){H.currentNode=this;return H.firstChild()}},lastElementChild:{get:function(){H.currentNode=this;return H.lastChild()}},children:{get:function(){var a=[];H.currentNode=this;for(var c=H.firstChild();c;)a.push(c),c=H.nextSibling();return vb(a)}},childElementCount:{get:function(){return this.children?this.children.length:0}}};Rb?(F(Element.prototype,Yb),F(Element.prototype,[\"previousElementSibling\",\"nextElementSibling\",\n\"innerHTML\",\"className\"]),F(HTMLElement.prototype,[\"children\",\"innerHTML\",\"className\"])):(Vb(Element.prototype,a),Vb(Element.prototype,{previousElementSibling:{get:function(){H.currentNode=this;return H.previousSibling()}},nextElementSibling:{get:function(){H.currentNode=this;return H.nextSibling()}},innerHTML:{get:function(){return Qb(this,wb)},set:function(a){var b=\"template\"===this.localName?this.content:this;Xb(b);var d=this.localName||\"div\";d=this.namespaceURI&&this.namespaceURI!==Wb.namespaceURI?\nWb.createElementNS(this.namespaceURI,d):Wb.createElement(d);d.innerHTML=a;for(a=\"template\"===this.localName?d.content:d;d=a.__shady_native_firstChild;)b.__shady_native_insertBefore(d,void 0)}},className:{get:function(){return this.getAttribute(\"class\")||\"\"},set:function(a){this.setAttribute(\"class\",a)}}}));F(Element.prototype,\"setAttribute getAttribute hasAttribute removeAttribute focus blur\".split(\" \"));F(Element.prototype,Zb);F(HTMLElement.prototype,[\"focus\",\"blur\"]);window.HTMLTemplateElement&&\nF(window.HTMLTemplateElement.prototype,[\"innerHTML\"]);Rb?F(DocumentFragment.prototype,Yb):Vb(DocumentFragment.prototype,a);F(DocumentFragment.prototype,Zb);Rb?(F(Document.prototype,Yb),F(Document.prototype,[\"activeElement\"])):Vb(Document.prototype,a);F(Document.prototype,[\"importNode\",\"getElementById\"]);F(Document.prototype,Zb)};var ac=E({get childNodes(){return this.__shady_childNodes},get firstChild(){return this.__shady_firstChild},get lastChild(){return this.__shady_lastChild},get childElementCount(){return this.__shady_childElementCount},get children(){return this.__shady_children},get firstElementChild(){return this.__shady_firstElementChild},get lastElementChild(){return this.__shady_lastElementChild},get shadowRoot(){return this.__shady_shadowRoot}}),bc=E({get textContent(){return this.__shady_textContent},set textContent(a){this.__shady_textContent=\na},get innerHTML(){return this.__shady_innerHTML},set innerHTML(a){return this.__shady_innerHTML=a}}),cc=E({get parentElement(){return this.__shady_parentElement},get parentNode(){return this.__shady_parentNode},get nextSibling(){return this.__shady_nextSibling},get previousSibling(){return this.__shady_previousSibling},get nextElementSibling(){return this.__shady_nextElementSibling},get previousElementSibling(){return this.__shady_previousElementSibling},get className(){return this.__shady_className},\nset className(a){return this.__shady_className=a}}),dc;for(dc in ac)ac[dc].enumerable=!1;for(var ec in bc)bc[ec].enumerable=!1;for(var fc in cc)cc[fc].enumerable=!1;var gc=B.D||B.M,hc=gc?function(){}:function(a){var b=z(a);b.Aa||(b.Aa=!0,D(a,cc))},ic=gc?function(){}:function(a){var b=z(a);b.za||(b.za=!0,D(a,ac),window.customElements&&!B.M||D(a,bc))};var jc=\"__eventWrappers\"+Date.now(),kc=function(){var a=Object.getOwnPropertyDescriptor(Event.prototype,\"composed\");return a?function(b){return a.get.call(b)}:null}(),lc=function(){function a(){}var b=!1,c={get capture(){b=!0}};window.addEventListener(\"test\",a,c);window.removeEventListener(\"test\",a,c);return b}();function mc(a){if(a&&\"object\"===typeof a){var b=!!a.capture;var c=!!a.once;var d=!!a.passive;var e=a.O}else b=!!a,d=c=!1;return{ua:e,capture:b,once:c,passive:d,sa:lc?a:b}}\nvar nc={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,\ndrag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},oc={DOMAttrModified:!0,DOMAttributeNameChanged:!0,DOMCharacterDataModified:!0,DOMElementNameChanged:!0,DOMNodeInserted:!0,DOMNodeInsertedIntoDocument:!0,DOMNodeRemoved:!0,DOMNodeRemovedFromDocument:!0,DOMSubtreeModified:!0};function pc(a){return a instanceof Node?a.__shady_getRootNode():a}\nfunction qc(a,b){var c=[],d=a;for(a=pc(a);d;)c.push(d),d.__shady_assignedSlot?d=d.__shady_assignedSlot:d.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&d.host&&(b||d!==a)?d=d.host:d=d.__shady_parentNode;c[c.length-1]===document&&c.push(window);return c}function rc(a){a.__composedPath||(a.__composedPath=qc(a.target,!0));return a.__composedPath}function sc(a,b){if(!C)return a;a=qc(a,!0);for(var c=0,d,e=void 0,f,g=void 0;c<b.length;c++)if(d=b[c],f=pc(d),f!==e&&(g=a.indexOf(f),e=f),!C(f)||-1<g)return d}\nfunction tc(a){function b(b,d){b=new a(b,d);b.__composed=d&&!!d.composed;return b}b.__proto__=a;b.prototype=a.prototype;return b}var uc={focus:!0,blur:!0};function vc(a){return a.__target!==a.target||a.__relatedTarget!==a.relatedTarget}function wc(a,b,c){if(c=b.__handlers&&b.__handlers[a.type]&&b.__handlers[a.type][c])for(var d=0,e;(e=c[d])&&(!vc(a)||a.target!==a.relatedTarget)&&(e.call(b,a),!a.__immediatePropagationStopped);d++);}\nfunction xc(a){var b=a.composedPath();Object.defineProperty(a,\"currentTarget\",{get:function(){return d},configurable:!0});for(var c=b.length-1;0<=c;c--){var d=b[c];wc(a,d,\"capture\");if(a.ga)return}Object.defineProperty(a,\"eventPhase\",{get:function(){return Event.AT_TARGET}});var e;for(c=0;c<b.length;c++){d=b[c];var f=A(d);f=f&&f.root;if(0===c||f&&f===e)if(wc(a,d,\"bubble\"),d!==window&&(e=d.__shady_getRootNode()),a.ga)break}}\nfunction yc(a,b,c,d,e,f){for(var g=0;g<a.length;g++){var h=a[g],k=h.type,l=h.capture,n=h.once,q=h.passive;if(b===h.node&&c===k&&d===l&&e===n&&f===q)return g}return-1}\nfunction zc(a,b,c){var d=mc(c),e=d.capture,f=d.once,g=d.passive,h=d.ua;d=d.sa;if(b){var k=typeof b;if(\"function\"===k||\"object\"===k)if(\"object\"!==k||b.handleEvent&&\"function\"===typeof b.handleEvent){if(oc[a])return this.__shady_native_addEventListener(a,b,d);var l=h||this;if(h=b[jc]){if(-1<yc(h,l,a,e,f,g))return}else b[jc]=[];h=function(d){f&&this.__shady_removeEventListener(a,b,c);d.__target||Ac(d);if(l!==this){var e=Object.getOwnPropertyDescriptor(d,\"currentTarget\");Object.defineProperty(d,\"currentTarget\",\n{get:function(){return l},configurable:!0})}d.__previousCurrentTarget=d.currentTarget;if(!C(l)&&\"slot\"!==l.localName||-1!=d.composedPath().indexOf(l))if(d.composed||-1<d.composedPath().indexOf(l))if(vc(d)&&d.target===d.relatedTarget)d.eventPhase===Event.BUBBLING_PHASE&&d.stopImmediatePropagation();else if(d.eventPhase===Event.CAPTURING_PHASE||d.bubbles||d.target===l||l instanceof Window){var g=\"function\"===k?b.call(l,d):b.handleEvent&&b.handleEvent(d);l!==this&&(e?(Object.defineProperty(d,\"currentTarget\",\ne),e=null):delete d.currentTarget);return g}};b[jc].push({node:l,type:a,capture:e,once:f,passive:g,ab:h});uc[a]?(this.__handlers=this.__handlers||{},this.__handlers[a]=this.__handlers[a]||{capture:[],bubble:[]},this.__handlers[a][e?\"capture\":\"bubble\"].push(h)):this.__shady_native_addEventListener(a,h,d)}}}\nfunction Bc(a,b,c){if(b){var d=mc(c);c=d.capture;var e=d.once,f=d.passive,g=d.ua;d=d.sa;if(oc[a])return this.__shady_native_removeEventListener(a,b,d);var h=g||this;g=void 0;var k=null;try{k=b[jc]}catch(l){}k&&(e=yc(k,h,a,c,e,f),-1<e&&(g=k.splice(e,1)[0].ab,k.length||(b[jc]=void 0)));this.__shady_native_removeEventListener(a,g||b,d);g&&uc[a]&&this.__handlers&&this.__handlers[a]&&(a=this.__handlers[a][c?\"capture\":\"bubble\"],b=a.indexOf(g),-1<b&&a.splice(b,1))}}\nfunction Cc(){for(var a in uc)window.__shady_native_addEventListener(a,function(a){a.__target||(Ac(a),xc(a))},!0)}\nvar Dc=E({get composed(){void 0===this.__composed&&(kc?this.__composed=\"focusin\"===this.type||\"focusout\"===this.type||kc(this):!1!==this.isTrusted&&(this.__composed=nc[this.type]));return this.__composed||!1},composedPath:function(){this.__composedPath||(this.__composedPath=qc(this.__target,this.composed));return this.__composedPath},get target(){return sc(this.currentTarget||this.__previousCurrentTarget,this.composedPath())},get relatedTarget(){if(!this.__relatedTarget)return null;this.__relatedTargetComposedPath||\n(this.__relatedTargetComposedPath=qc(this.__relatedTarget,!0));return sc(this.currentTarget||this.__previousCurrentTarget,this.__relatedTargetComposedPath)},stopPropagation:function(){Event.prototype.stopPropagation.call(this);this.ga=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this);this.ga=this.__immediatePropagationStopped=!0}});\nfunction Ac(a){a.__target=a.target;a.__relatedTarget=a.relatedTarget;if(B.D){var b=Object.getPrototypeOf(a);if(!Object.hasOwnProperty(b,\"__shady_patchedProto\")){var c=Object.create(b);c.__shady_sourceProto=b;D(c,Dc);b.__shady_patchedProto=c}a.__proto__=b.__shady_patchedProto}else D(a,Dc)}var Ec=tc(Event),Fc=tc(CustomEvent),Gc=tc(MouseEvent);\nfunction Hc(){if(!kc&&Object.getOwnPropertyDescriptor(Event.prototype,\"isTrusted\")){var a=function(){var a=new MouseEvent(\"click\",{bubbles:!0,cancelable:!0,composed:!0});this.__shady_dispatchEvent(a)};Element.prototype.click?Element.prototype.click=a:HTMLElement.prototype.click&&(HTMLElement.prototype.click=a)}}var Ic=Object.getOwnPropertyNames(Document.prototype).filter(function(a){return\"on\"===a.substring(0,2)});function Jc(a,b){return{index:a,W:[],Z:b}}\nfunction Kc(a,b,c,d){var e=0,f=0,g=0,h=0,k=Math.min(b-e,d-f);if(0==e&&0==f)a:{for(g=0;g<k;g++)if(a[g]!==c[g])break a;g=k}if(b==a.length&&d==c.length){h=a.length;for(var l=c.length,n=0;n<k-g&&Lc(a[--h],c[--l]);)n++;h=n}e+=g;f+=g;b-=h;d-=h;if(0==b-e&&0==d-f)return[];if(e==b){for(b=Jc(e,0);f<d;)b.W.push(c[f++]);return[b]}if(f==d)return[Jc(e,b-e)];k=e;g=f;d=d-g+1;h=b-k+1;b=Array(d);for(l=0;l<d;l++)b[l]=Array(h),b[l][0]=l;for(l=0;l<h;l++)b[0][l]=l;for(l=1;l<d;l++)for(n=1;n<h;n++)if(a[k+n-1]===c[g+l-1])b[l][n]=\nb[l-1][n-1];else{var q=b[l-1][n]+1,I=b[l][n-1]+1;b[l][n]=q<I?q:I}k=b.length-1;g=b[0].length-1;d=b[k][g];for(a=[];0<k||0<g;)0==k?(a.push(2),g--):0==g?(a.push(3),k--):(h=b[k-1][g-1],l=b[k-1][g],n=b[k][g-1],q=l<n?l<h?l:h:n<h?n:h,q==h?(h==d?a.push(0):(a.push(1),d=h),k--,g--):q==l?(a.push(3),k--,d=l):(a.push(2),g--,d=n));a.reverse();b=void 0;k=[];for(g=0;g<a.length;g++)switch(a[g]){case 0:b&&(k.push(b),b=void 0);e++;f++;break;case 1:b||(b=Jc(e,0));b.Z++;e++;b.W.push(c[f]);f++;break;case 2:b||(b=Jc(e,0));\nb.Z++;e++;break;case 3:b||(b=Jc(e,0)),b.W.push(c[f]),f++}b&&k.push(b);return k}function Lc(a,b){return a===b};function Mc(a,b,c,d){hc(a);d=d||null;var e=z(a),f=d?z(d):null;e.previousSibling=d?f.previousSibling:b.__shady_lastChild;if(f=A(e.previousSibling))f.nextSibling=a;if(f=A(e.nextSibling=d))f.previousSibling=a;e.parentNode=b;d?d===c.firstChild&&(c.firstChild=a):(c.lastChild=a,c.firstChild||(c.firstChild=a));c.childNodes=null}\nfunction Nc(a,b,c){ic(b);var d=z(b);void 0!==d.firstChild&&(d.childNodes=null);if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(a=a.__shady_native_firstChild;a;a=a.__shady_native_nextSibling)Mc(a,b,d,c);else Mc(a,b,d,c)}\nfunction Oc(a,b){var c=z(a);b=z(b);a===b.firstChild&&(b.firstChild=c.nextSibling);a===b.lastChild&&(b.lastChild=c.previousSibling);a=c.previousSibling;var d=c.nextSibling;a&&(z(a).nextSibling=d);d&&(z(d).previousSibling=a);c.parentNode=c.previousSibling=c.nextSibling=void 0;void 0!==b.childNodes&&(b.childNodes=null)}\nfunction Pc(a,b){var c=z(a);if(b||void 0===c.firstChild){c.childNodes=null;var d=c.firstChild=a.__shady_native_firstChild;c.lastChild=a.__shady_native_lastChild;ic(a);c=d;for(d=void 0;c;c=c.__shady_native_nextSibling){var e=z(c);e.parentNode=b||a;e.nextSibling=c.__shady_native_nextSibling;e.previousSibling=d||null;d=c;hc(c)}}};var Qc=null;function Rc(){Qc||(Qc=window.ShadyCSS&&window.ShadyCSS.ScopingShim);return Qc||null}function Sc(a,b){var c=Rc();c&&c.unscopeNode(a,b)}function Tc(a,b){var c=Rc();if(!c)return!0;if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE){c=!0;for(a=a.__shady_firstChild;a;a=a.__shady_nextSibling)c=c&&Tc(a,b);return c}return a.nodeType!==Node.ELEMENT_NODE?!0:c.currentScopeForNode(a)===b}function Uc(a){if(a.nodeType!==Node.ELEMENT_NODE)return\"\";var b=Rc();return b?b.currentScopeForNode(a):\"\"}\nfunction Vc(a,b){if(a)for(a.nodeType===Node.ELEMENT_NODE&&b(a),a=a.__shady_firstChild;a;a=a.__shady_nextSibling)a.nodeType===Node.ELEMENT_NODE&&Vc(a,b)};var Wc=window.document,Xc=B.ta,Yc=Object.getOwnPropertyDescriptor(Node.prototype,\"isConnected\"),Zc=Yc&&Yc.get;function $c(a){for(var b;b=a.__shady_firstChild;)a.__shady_removeChild(b)}function ad(a){var b=A(a);if(b&&void 0!==b.ca)for(b=a.__shady_firstChild;b;b=b.__shady_nextSibling)ad(b);if(a=A(a))a.ca=void 0}function bd(a){var b=a;a&&\"slot\"===a.localName&&(b=(b=(b=A(a))&&b.T)&&b.length?b[0]:bd(a.__shady_nextSibling));return b}\nfunction cd(a,b,c){if(a=(a=A(a))&&a.V)b&&a.addedNodes.push(b),c&&a.removedNodes.push(c),Db(a)}\nvar gd=E({get parentNode(){var a=A(this);a=a&&a.parentNode;return void 0!==a?a:this.__shady_native_parentNode},get firstChild(){var a=A(this);a=a&&a.firstChild;return void 0!==a?a:this.__shady_native_firstChild},get lastChild(){var a=A(this);a=a&&a.lastChild;return void 0!==a?a:this.__shady_native_lastChild},get nextSibling(){var a=A(this);a=a&&a.nextSibling;return void 0!==a?a:this.__shady_native_nextSibling},get previousSibling(){var a=A(this);a=a&&a.previousSibling;return void 0!==a?a:this.__shady_native_previousSibling},\nget childNodes(){if(kb(this)){var a=A(this);if(!a.childNodes){a.childNodes=[];for(var b=this.__shady_firstChild;b;b=b.__shady_nextSibling)a.childNodes.push(b)}var c=a.childNodes}else c=this.__shady_native_childNodes;c.item=function(a){return c[a]};return c},get parentElement(){var a=A(this);(a=a&&a.parentNode)&&a.nodeType!==Node.ELEMENT_NODE&&(a=null);return void 0!==a?a:this.__shady_native_parentElement},get isConnected(){if(Zc&&Zc.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;\nvar a=this.ownerDocument;if(tb){if(a.__shady_native_contains(this))return!0}else if(a.documentElement&&a.documentElement.__shady_native_contains(this))return!0;for(a=this;a&&!(a instanceof Document);)a=a.__shady_parentNode||(C(a)?a.host:void 0);return!!(a&&a instanceof Document)},get textContent(){if(kb(this)){for(var a=[],b=this.__shady_firstChild;b;b=b.__shady_nextSibling)b.nodeType!==Node.COMMENT_NODE&&a.push(b.__shady_textContent);return a.join(\"\")}return this.__shady_native_textContent},set textContent(a){if(\"undefined\"===\ntypeof a||null===a)a=\"\";switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:if(!kb(this)&&B.D){var b=this.__shady_firstChild;(b!=this.__shady_lastChild||b&&b.nodeType!=Node.TEXT_NODE)&&$c(this);this.__shady_native_textContent=a}else $c(this),(0<a.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_insertBefore(document.createTextNode(a));break;default:this.nodeValue=a}},insertBefore:function(a,b){if(this.ownerDocument!==Wc&&a.ownerDocument!==Wc)return this.__shady_native_insertBefore(a,\nb),a;if(a===this)throw Error(\"Failed to execute 'appendChild' on 'Node': The new child element contains the parent.\");if(b){var c=A(b);c=c&&c.parentNode;if(void 0!==c&&c!==this||void 0===c&&b.__shady_native_parentNode!==this)throw Error(\"Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.\");}if(b===a)return a;var d=[],e=(c=dd(this))?c.host.localName:Uc(this),f=a.__shady_parentNode;if(f){var g=Uc(a);var h=!!c||!dd(a)||Xc&&void 0!==\nthis.__noInsertionPoint;f.__shady_removeChild(a,h)}f=!0;var k=(!Xc||void 0===a.__noInsertionPoint&&void 0===this.__noInsertionPoint)&&!Tc(a,e),l=c&&!a.__noInsertionPoint&&(!Xc||a.nodeType===Node.DOCUMENT_FRAGMENT_NODE);if(l||k)k&&(g=g||Uc(a)),Vc(a,function(a){l&&\"slot\"===a.localName&&d.push(a);if(k){var b=g;Rc()&&(b&&Sc(a,b),(b=Rc())&&b.scopeNode(a,e))}});d.length&&(ed(c),c.c.push.apply(c.c,d instanceof Array?d:ka(ja(d))),J(c));kb(this)&&(Nc(a,this,b),c=A(this),lb(this)?(J(c.root),f=!1):c.root&&(f=\n!1));f?(c=C(this)?this.host:this,b?(b=bd(b),c.__shady_native_insertBefore(a,b)):c.__shady_native_appendChild(a)):a.ownerDocument!==this.ownerDocument&&this.ownerDocument.adoptNode(a);cd(this,a);return a},appendChild:function(a){if(this!=a||!C(a))return this.__shady_insertBefore(a)},removeChild:function(a,b){b=void 0===b?!1:b;if(this.ownerDocument!==Wc)return this.__shady_native_removeChild(a);if(a.__shady_parentNode!==this)throw Error(\"The node to be removed is not a child of this node: \"+a);var c=\ndd(a),d=c&&fd(c,a),e=A(this);if(kb(this)&&(Oc(a,this),lb(this))){J(e.root);var f=!0}if(Rc()&&!b&&c&&a.nodeType!==Node.TEXT_NODE){var g=Uc(a);Vc(a,function(a){Sc(a,g)})}ad(a);c&&((b=this&&\"slot\"===this.localName)&&(f=!0),(d||b)&&J(c));f||(f=C(this)?this.host:this,(!e.root&&\"slot\"!==a.localName||f===a.__shady_native_parentNode)&&f.__shady_native_removeChild(a));cd(this,null,a);return a},replaceChild:function(a,b){this.__shady_insertBefore(a,b);this.__shady_removeChild(b);return a},cloneNode:function(a){if(\"template\"==\nthis.localName)return this.__shady_native_cloneNode(a);var b=this.__shady_native_cloneNode(!1);if(a&&b.nodeType!==Node.ATTRIBUTE_NODE){a=this.__shady_firstChild;for(var c;a;a=a.__shady_nextSibling)c=a.__shady_cloneNode(!0),b.__shady_appendChild(c)}return b},getRootNode:function(a){if(this&&this.nodeType){var b=z(this),c=b.ca;void 0===c&&(C(this)?(c=this,b.ca=c):(c=(c=this.__shady_parentNode)?c.__shady_getRootNode(a):this,document.documentElement.__shady_native_contains(this)&&(b.ca=c)));return c}},\ncontains:function(a){return ub(this,a)}});function hd(a,b,c){var d=[];id(a,b,c,d);return d}function id(a,b,c,d){for(a=a.__shady_firstChild;a;a=a.__shady_nextSibling){var e;if(e=a.nodeType===Node.ELEMENT_NODE){e=a;var f=b,g=c,h=d,k=f(e);k&&h.push(e);g&&g(k)?e=k:(id(e,f,g,h),e=void 0)}if(e)break}}\nvar jd=E({get firstElementChild(){var a=A(this);if(a&&void 0!==a.firstChild){for(a=this.__shady_firstChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__shady_nextSibling;return a}return this.__shady_native_firstElementChild},get lastElementChild(){var a=A(this);if(a&&void 0!==a.lastChild){for(a=this.__shady_lastChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__shady_previousSibling;return a}return this.__shady_native_lastElementChild},get children(){return kb(this)?vb(Array.prototype.filter.call(xb(this),\nfunction(a){return a.nodeType===Node.ELEMENT_NODE})):this.__shady_native_children},get childElementCount(){var a=this.__shady_children;return a?a.length:0}}),kd=E({querySelector:function(a){return hd(this,function(b){return ob.call(b,a)},function(a){return!!a})[0]||null},querySelectorAll:function(a,b){if(b){b=Array.prototype.slice.call(this.__shady_native_querySelectorAll(a));var c=this.__shady_getRootNode();return b.filter(function(a){return a.__shady_getRootNode()==c})}return hd(this,function(b){return ob.call(b,\na)})}}),ld=B.ta&&!B.M?Object.assign({},jd):jd;Object.assign(jd,kd);var md=E({getElementById:function(a){return\"\"===a?null:hd(this,function(b){return b.id==a},function(a){return!!a})[0]||null}});var nd=E({get activeElement(){var a=B.D?document.__shady_native_activeElement:document.activeElement;if(!a||!a.nodeType)return null;var b=!!C(this);if(!(this===document||b&&this.host!==a&&this.host.__shady_native_contains(a)))return null;for(b=dd(a);b&&b!==this;)a=b.host,b=dd(a);return this===document?b?null:a:b===this?a:null}});var od=document.implementation.createHTMLDocument(\"inert\"),pd=E({get innerHTML(){return kb(this)?Qb(\"template\"===this.localName?this.content:this,xb):this.__shady_native_innerHTML},set innerHTML(a){if(\"template\"===this.localName)this.__shady_native_innerHTML=a;else{$c(this);var b=this.localName||\"div\";b=this.namespaceURI&&this.namespaceURI!==od.namespaceURI?od.createElementNS(this.namespaceURI,b):od.createElement(b);for(B.D?b.__shady_native_innerHTML=a:b.innerHTML=a;a=b.__shady_firstChild;)this.__shady_insertBefore(a)}}});var qd=E({addEventListener:function(a,b,c){\"object\"!==typeof c&&(c={capture:!!c});c.O=c.O||this;this.host.__shady_addEventListener(a,b,c)},removeEventListener:function(a,b,c){\"object\"!==typeof c&&(c={capture:!!c});c.O=c.O||this;this.host.__shady_removeEventListener(a,b,c)}});function rd(a,b){D(a,qd,b);D(a,nd,b);D(a,pd,b);D(a,jd,b);B.M&&!b?(D(a,gd,b),D(a,md,b)):B.D||(D(a,cc),D(a,ac),D(a,bc))};var sd={},td=B.deferConnectionCallbacks&&\"loading\"===document.readyState,ud;function vd(a){var b=[];do b.unshift(a);while(a=a.__shady_parentNode);return b}function wd(a,b,c){if(a!==sd)throw new TypeError(\"Illegal constructor\");this.a=null;xd(this,b,c)}\nfunction xd(a,b,c){a.Da=\"ShadyRoot\";a.host=b;a.mode=c&&c.mode;Pc(a.host);b=z(a.host);b.root=a;b.Ta=\"closed\"!==a.mode?a:null;b=z(a);b.firstChild=b.lastChild=b.parentNode=b.nextSibling=b.previousSibling=null;if(B.preferPerformance)for(;b=a.host.__shady_native_firstChild;)a.host.__shady_native_removeChild(b);else J(a)}function J(a){a.R||(a.R=!0,Ab(function(){return yd(a)}))}\nfunction yd(a){var b;if(b=a.R){for(var c;a;)a:{a.R&&(c=a),b=a;a=b.host.__shady_getRootNode();if(C(a)&&(b=A(b.host))&&0<b.Y)break a;a=void 0}b=c}(c=b)&&c._renderSelf()}\nwd.prototype._renderSelf=function(){var a=td;td=!0;this.R=!1;if(this.a){zd(this);for(var b=0,c;b<this.a.length;b++){c=this.a[b];var d=A(c),e=d.assignedNodes;d.assignedNodes=[];d.T=[];if(d.qa=e)for(d=0;d<e.length;d++){var f=A(e[d]);f.ha=f.assignedSlot;f.assignedSlot===c&&(f.assignedSlot=null)}}for(b=this.host.__shady_firstChild;b;b=b.__shady_nextSibling)Ad(this,b);for(b=0;b<this.a.length;b++){c=this.a[b];e=A(c);if(!e.assignedNodes.length)for(d=c.__shady_firstChild;d;d=d.__shady_nextSibling)Ad(this,\nd,c);(d=(d=A(c.__shady_parentNode))&&d.root)&&(mb(d)||d.R)&&d._renderSelf();Bd(this,e.T,e.assignedNodes);if(d=e.qa){for(f=0;f<d.length;f++)A(d[f]).ha=null;e.qa=null;d.length>e.assignedNodes.length&&(e.ja=!0)}e.ja&&(e.ja=!1,Cd(this,c))}c=this.a;b=[];for(e=0;e<c.length;e++)d=c[e].__shady_parentNode,(f=A(d))&&f.root||!(0>b.indexOf(d))||b.push(d);for(c=0;c<b.length;c++){f=b[c];e=f===this?this.host:f;d=[];for(f=f.__shady_firstChild;f;f=f.__shady_nextSibling)if(\"slot\"==f.localName)for(var g=A(f).T,h=0;h<\ng.length;h++)d.push(g[h]);else d.push(f);f=wb(e);g=Kc(d,d.length,f,f.length);for(var k=h=0,l=void 0;h<g.length&&(l=g[h]);h++){for(var n=0,q=void 0;n<l.W.length&&(q=l.W[n]);n++)q.__shady_native_parentNode===e&&e.__shady_native_removeChild(q),f.splice(l.index+k,1);k-=l.Z}k=0;for(l=void 0;k<g.length&&(l=g[k]);k++)for(h=f[l.index],n=l.index;n<l.index+l.Z;n++)q=d[n],e.__shady_native_insertBefore(q,h),f.splice(n,0,q)}}if(!B.preferPerformance&&!this.pa)for(b=this.host.__shady_firstChild;b;b=b.__shady_nextSibling)c=\nA(b),b.__shady_native_parentNode!==this.host||\"slot\"!==b.localName&&c.assignedSlot||this.host.__shady_native_removeChild(b);this.pa=!0;td=a;ud&&ud()};function Ad(a,b,c){var d=z(b),e=d.ha;d.ha=null;c||(c=(a=a.b[b.__shady_slot||\"__catchall\"])&&a[0]);c?(z(c).assignedNodes.push(b),d.assignedSlot=c):d.assignedSlot=void 0;e!==d.assignedSlot&&d.assignedSlot&&(z(d.assignedSlot).ja=!0)}\nfunction Bd(a,b,c){for(var d=0,e=void 0;d<c.length&&(e=c[d]);d++)if(\"slot\"==e.localName){var f=A(e).assignedNodes;f&&f.length&&Bd(a,b,f)}else b.push(c[d])}function Cd(a,b){b.__shady_native_dispatchEvent(new Event(\"slotchange\"));b=A(b);b.assignedSlot&&Cd(a,b.assignedSlot)}function ed(a){a.c=a.c||[];a.a=a.a||[];a.b=a.b||{}}\nfunction zd(a){if(a.c&&a.c.length){for(var b=a.c,c,d=0;d<b.length;d++){var e=b[d];Pc(e);var f=e.__shady_parentNode;Pc(f);f=A(f);f.Y=(f.Y||0)+1;f=Dd(e);a.b[f]?(c=c||{},c[f]=!0,a.b[f].push(e)):a.b[f]=[e];a.a.push(e)}if(c)for(var g in c)a.b[g]=Ed(a.b[g]);a.c=[]}}function Dd(a){var b=a.name||a.getAttribute(\"name\")||\"__catchall\";return a.Ba=b}\nfunction Ed(a){return a.sort(function(a,c){a=vd(a);for(var b=vd(c),e=0;e<a.length;e++){c=a[e];var f=b[e];if(c!==f)return a=xb(c.__shady_parentNode),a.indexOf(c)-a.indexOf(f)}})}\nfunction fd(a,b){if(a.a){zd(a);var c=a.b,d;for(d in c)for(var e=c[d],f=0;f<e.length;f++){var g=e[f];if(ub(b,g)){e.splice(f,1);var h=a.a.indexOf(g);0<=h&&(a.a.splice(h,1),(h=A(g.__shady_parentNode))&&h.Y&&h.Y--);f--;g=A(g);if(h=g.T)for(var k=0;k<h.length;k++){var l=h[k],n=l.__shady_native_parentNode;n&&n.__shady_native_removeChild(l)}g.T=[];g.assignedNodes=[];h=!0}}return h}}function mb(a){zd(a);return!(!a.a||!a.a.length)}\n(function(a){a.__proto__=DocumentFragment.prototype;rd(a,\"__shady_\");rd(a);Object.defineProperties(a,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:\"#document-fragment\",configurable:!0},nodeValue:{value:null,configurable:!0}});[\"localName\",\"namespaceURI\",\"prefix\"].forEach(function(b){Object.defineProperty(a,b,{value:void 0,configurable:!0})});[\"ownerDocument\",\"baseURI\",\"isConnected\"].forEach(function(b){Object.defineProperty(a,b,{get:function(){return this.host[b]},\nconfigurable:!0})})})(wd.prototype);\nif(window.customElements&&B.ka&&!B.preferPerformance){var Fd=new Map;ud=function(){var a=[];Fd.forEach(function(b,c){a.push([c,b])});Fd.clear();for(var b=0;b<a.length;b++){var c=a[b][0];a[b][1]?c.__shadydom_connectedCallback():c.__shadydom_disconnectedCallback()}};td&&document.addEventListener(\"readystatechange\",function(){td=!1;ud()},{once:!0});var Gd=function(a,b,c){var d=0,e=\"__isConnected\"+d++;if(b||c)a.prototype.connectedCallback=a.prototype.__shadydom_connectedCallback=function(){td?Fd.set(this,\n!0):this[e]||(this[e]=!0,b&&b.call(this))},a.prototype.disconnectedCallback=a.prototype.__shadydom_disconnectedCallback=function(){td?this.isConnected||Fd.set(this,!1):this[e]&&(this[e]=!1,c&&c.call(this))};return a},Hd=window.customElements.define,define=function(a,b){var c=b.prototype.connectedCallback,d=b.prototype.disconnectedCallback;Hd.call(window.customElements,a,Gd(b,c,d));b.prototype.connectedCallback=c;b.prototype.disconnectedCallback=d};window.customElements.define=define;Object.defineProperty(window.CustomElementRegistry.prototype,\n\"define\",{value:define,configurable:!0})}function dd(a){a=a.__shady_getRootNode();if(C(a))return a};function Id(a){this.node=a}r=Id.prototype;r.addEventListener=function(a,b,c){return this.node.__shady_addEventListener(a,b,c)};r.removeEventListener=function(a,b,c){return this.node.__shady_removeEventListener(a,b,c)};r.appendChild=function(a){return this.node.__shady_appendChild(a)};r.insertBefore=function(a,b){return this.node.__shady_insertBefore(a,b)};r.removeChild=function(a){return this.node.__shady_removeChild(a)};r.replaceChild=function(a,b){return this.node.__shady_replaceChild(a,b)};\nr.cloneNode=function(a){return this.node.__shady_cloneNode(a)};r.getRootNode=function(a){return this.node.__shady_getRootNode(a)};r.contains=function(a){return this.node.__shady_contains(a)};r.dispatchEvent=function(a){return this.node.__shady_dispatchEvent(a)};r.setAttribute=function(a,b){this.node.__shady_setAttribute(a,b)};r.getAttribute=function(a){return this.node.__shady_native_getAttribute(a)};r.hasAttribute=function(a){return this.node.__shady_native_hasAttribute(a)};r.removeAttribute=function(a){this.node.__shady_removeAttribute(a)};\nr.attachShadow=function(a){return this.node.__shady_attachShadow(a)};r.focus=function(){this.node.__shady_native_focus()};r.blur=function(){this.node.__shady_blur()};r.importNode=function(a,b){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_importNode(a,b)};r.getElementById=function(a){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_getElementById(a)};r.querySelector=function(a){return this.node.__shady_querySelector(a)};\nr.querySelectorAll=function(a,b){return this.node.__shady_querySelectorAll(a,b)};r.assignedNodes=function(a){if(\"slot\"===this.node.localName)return this.node.__shady_assignedNodes(a)};\nt.Object.defineProperties(Id.prototype,{activeElement:{configurable:!0,enumerable:!0,get:function(){if(C(this.node)||this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_activeElement}},_activeElement:{configurable:!0,enumerable:!0,get:function(){return this.activeElement}},host:{configurable:!0,enumerable:!0,get:function(){if(C(this.node))return this.node.host}},parentNode:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentNode}},firstChild:{configurable:!0,\nenumerable:!0,get:function(){return this.node.__shady_firstChild}},lastChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastChild}},nextSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextSibling}},previousSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousSibling}},childNodes:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childNodes}},parentElement:{configurable:!0,enumerable:!0,\nget:function(){return this.node.__shady_parentElement}},firstElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstElementChild}},lastElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastElementChild}},nextElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextElementSibling}},previousElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousElementSibling}},\nchildren:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_children}},childElementCount:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childElementCount}},shadowRoot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_shadowRoot}},assignedSlot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_assignedSlot}},isConnected:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_isConnected}},innerHTML:{configurable:!0,\nenumerable:!0,get:function(){return this.node.__shady_innerHTML},set:function(a){this.node.__shady_innerHTML=a}},textContent:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_textContent},set:function(a){this.node.__shady_textContent=a}},slot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_slot},set:function(a){this.node.__shady_slot=a}},className:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_className},set:function(a){return this.node.__shady_className=\na}}});Ic.forEach(function(a){Object.defineProperty(Id.prototype,a,{get:function(){return this.node[\"__shady_\"+a]},set:function(b){this.node[\"__shady_\"+a]=b},configurable:!0})});var Jd=new WeakMap;function Kd(a){if(C(a)||a instanceof Id)return a;var b=Jd.get(a);b||(b=new Id(a),Jd.set(a,b));return b};var Ld=E({dispatchEvent:function(a){Bb();return this.__shady_native_dispatchEvent(a)},addEventListener:zc,removeEventListener:Bc});var Md=E({get assignedSlot(){var a=this.__shady_parentNode;(a=a&&a.__shady_shadowRoot)&&yd(a);return(a=A(this))&&a.assignedSlot||null}});var Nd=window.document;function Od(a,b){if(\"slot\"===b)a=a.__shady_parentNode,lb(a)&&J(A(a).root);else if(\"slot\"===a.localName&&\"name\"===b&&(b=dd(a))){if(b.a){zd(b);var c=a.Ba,d=Dd(a);if(d!==c){c=b.b[c];var e=c.indexOf(a);0<=e&&c.splice(e,1);c=b.b[d]||(b.b[d]=[]);c.push(a);1<c.length&&(b.b[d]=Ed(c))}}J(b)}}\nvar Pd=E({get previousElementSibling(){var a=A(this);if(a&&void 0!==a.previousSibling){for(a=this.__shady_previousSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__shady_previousSibling;return a}return this.__shady_native_previousElementSibling},get nextElementSibling(){var a=A(this);if(a&&void 0!==a.nextSibling){for(a=this.__shady_nextSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__shady_nextSibling;return a}return this.__shady_native_nextElementSibling},get slot(){return this.getAttribute(\"slot\")},\nset slot(a){this.__shady_setAttribute(\"slot\",a)},get shadowRoot(){var a=A(this);return a&&a.Ta||null},get className(){return this.getAttribute(\"class\")||\"\"},set className(a){this.__shady_setAttribute(\"class\",a)},setAttribute:function(a,b){if(this.ownerDocument!==Nd)this.__shady_native_setAttribute(a,b);else{var c;(c=Rc())&&\"class\"===a?(c.setElementClass(this,b),c=!0):c=!1;c||(this.__shady_native_setAttribute(a,b),Od(this,a))}},removeAttribute:function(a){this.__shady_native_removeAttribute(a);Od(this,\na)},attachShadow:function(a){if(!this)throw Error(\"Must provide a host.\");if(!a)throw Error(\"Not enough arguments.\");if(a.shadyUpgradeFragment&&!B.ya){var b=a.shadyUpgradeFragment;b.__proto__=ShadowRoot.prototype;xd(b,this,a);Pc(b,b);a=b.__noInsertionPoint?null:b.querySelectorAll(\"slot\");b.__noInsertionPoint=void 0;if(a&&a.length){var c=b;ed(c);c.c.push.apply(c.c,a instanceof Array?a:ka(ja(a)));J(b)}b.host.__shady_native_appendChild(b)}else b=new wd(sd,this,a);return b}});var Qd=E({blur:function(){var a=A(this);(a=(a=a&&a.root)&&a.activeElement)?a.__shady_blur():this.__shady_native_blur()}});Ic.forEach(function(a){Qd[a]={set:function(b){var c=z(this),d=a.substring(2);c.N||(c.N={});c.N[a]&&this.removeEventListener(d,c.N[a]);this.__shady_addEventListener(d,b);c.N[a]=b},get:function(){var b=A(this);return b&&b.N&&b.N[a]},configurable:!0}});var Rd=E({assignedNodes:function(a){if(\"slot\"===this.localName){var b=this.__shady_getRootNode();b&&C(b)&&yd(b);return(b=A(this))?(a&&a.flatten?b.T:b.assignedNodes)||[]:[]}},addEventListener:function(a,b,c){if(\"slot\"!==this.localName||\"slotchange\"===a)zc.call(this,a,b,c);else{\"object\"!==typeof c&&(c={capture:!!c});var d=this.__shady_parentNode;if(!d)throw Error(\"ShadyDOM cannot attach event to slot unless it has a `parentNode`\");c.O=this;d.__shady_addEventListener(a,b,c)}},removeEventListener:function(a,\nb,c){if(\"slot\"!==this.localName||\"slotchange\"===a)Bc.call(this,a,b,c);else{\"object\"!==typeof c&&(c={capture:!!c});var d=this.__shady_parentNode;if(!d)throw Error(\"ShadyDOM cannot attach event to slot unless it has a `parentNode`\");c.O=this;d.__shady_removeEventListener(a,b,c)}}});var Sd=window.document,Td=E({importNode:function(a,b){if(a.ownerDocument!==Sd||\"template\"===a.localName)return this.__shady_native_importNode(a,b);var c=this.__shady_native_importNode(a,!1);if(b)for(a=a.__shady_firstChild;a;a=a.__shady_nextSibling)b=this.__shady_importNode(a,!0),c.__shady_appendChild(b);return c}});var Ud=E({addEventListener:zc.bind(window),removeEventListener:Bc.bind(window)});var Vd={};Object.getOwnPropertyDescriptor(HTMLElement.prototype,\"parentElement\")&&(Vd.parentElement=gd.parentElement);Object.getOwnPropertyDescriptor(HTMLElement.prototype,\"contains\")&&(Vd.contains=gd.contains);Object.getOwnPropertyDescriptor(HTMLElement.prototype,\"children\")&&(Vd.children=jd.children);Object.getOwnPropertyDescriptor(HTMLElement.prototype,\"innerHTML\")&&(Vd.innerHTML=pd.innerHTML);Object.getOwnPropertyDescriptor(HTMLElement.prototype,\"className\")&&(Vd.className=Pd.className);\nvar Wd={EventTarget:[Ld],Node:[gd,window.EventTarget?null:Ld],Text:[Md],Element:[Pd,jd,Md,!B.D||\"innerHTML\"in Element.prototype?pd:null,window.HTMLSlotElement?null:Rd],HTMLElement:[Qd,Vd],HTMLSlotElement:[Rd],DocumentFragment:[ld,md],Document:[Td,ld,md,nd],Window:[Ud]},Xd=B.D?null:[\"innerHTML\",\"textContent\"];function Yd(a){var b=a?null:Xd,c={},d;for(d in Wd)c.ea=window[d]&&window[d].prototype,Wd[d].forEach(function(c){return function(d){return c.ea&&d&&D(c.ea,d,a,b)}}(c)),c={ea:c.ea}};if(B.ka){var ShadyDOM={inUse:B.ka,patch:function(a){ic(a);hc(a);return a},isShadyRoot:C,enqueue:Ab,flush:Bb,flushInitial:function(a){!a.pa&&a.R&&yd(a)},settings:B,filterMutations:Jb,observeChildren:Hb,unobserveChildren:Ib,deferConnectionCallbacks:B.deferConnectionCallbacks,preferPerformance:B.preferPerformance,handlesDynamicScoping:!0,wrap:B.M?Kd:function(a){return a},Wrapper:Id,composedPath:rc,noPatch:B.M,nativeMethods:Sb,nativeTree:Tb};window.ShadyDOM=ShadyDOM;$b();Yd(\"__shady_\");Object.defineProperty(document,\n\"_activeElement\",nd.activeElement);D(Window.prototype,Ud,\"__shady_\");B.M||(Yd(),Hc());Cc();window.Event=Ec;window.CustomEvent=Fc;window.MouseEvent=Gc;window.ShadowRoot=wd};var Zd=new Set(\"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph\".split(\" \"));function $d(a){var b=Zd.has(a);a=/^[a-z][.0-9_a-z]*-[\\-.0-9_a-z]*$/.test(a);return!b&&a}function K(a){var b=a.isConnected;if(void 0!==b)return b;for(;a&&!(a.__CE_isImportDocument||a instanceof Document);)a=a.parentNode||(window.ShadowRoot&&a instanceof ShadowRoot?a.host:void 0);return!(!a||!(a.__CE_isImportDocument||a instanceof Document))}\nfunction ae(a,b){for(;b&&b!==a&&!b.nextSibling;)b=b.parentNode;return b&&b!==a?b.nextSibling:null}\nfunction be(a,b,c){c=void 0===c?new Set:c;for(var d=a;d;){if(d.nodeType===Node.ELEMENT_NODE){var e=d;b(e);var f=e.localName;if(\"link\"===f&&\"import\"===e.getAttribute(\"rel\")){d=e.import;if(d instanceof Node&&!c.has(d))for(c.add(d),d=d.firstChild;d;d=d.nextSibling)be(d,b,c);d=ae(a,e);continue}else if(\"template\"===f){d=ae(a,e);continue}if(e=e.__CE_shadowRoot)for(e=e.firstChild;e;e=e.nextSibling)be(e,b,c)}d=d.firstChild?d.firstChild:ae(a,d)}}function L(a,b,c){a[b]=c};function ce(){this.a=new Map;this.u=new Map;this.c=[];this.f=[];this.b=!1}function de(a,b,c){a.a.set(b,c);a.u.set(c.constructorFunction,c)}function ee(a,b){a.b=!0;a.c.push(b)}function fe(a,b){a.b=!0;a.f.push(b)}function ge(a,b){a.b&&be(b,function(b){return he(a,b)})}function he(a,b){if(a.b&&!b.__CE_patched){b.__CE_patched=!0;for(var c=0;c<a.c.length;c++)a.c[c](b);for(c=0;c<a.f.length;c++)a.f[c](b)}}\nfunction M(a,b){var c=[];be(b,function(a){return c.push(a)});for(b=0;b<c.length;b++){var d=c[b];1===d.__CE_state?a.connectedCallback(d):ie(a,d)}}function N(a,b){var c=[];be(b,function(a){return c.push(a)});for(b=0;b<c.length;b++){var d=c[b];1===d.__CE_state&&a.disconnectedCallback(d)}}\nfunction O(a,b,c){c=void 0===c?{}:c;var d=c.$a||new Set,e=c.fa||function(b){return ie(a,b)},f=[];be(b,function(b){if(\"link\"===b.localName&&\"import\"===b.getAttribute(\"rel\")){var c=b.import;c instanceof Node&&(c.__CE_isImportDocument=!0,c.__CE_hasRegistry=!0);c&&\"complete\"===c.readyState?c.__CE_documentLoadHandled=!0:b.addEventListener(\"load\",function(){var c=b.import;if(!c.__CE_documentLoadHandled){c.__CE_documentLoadHandled=!0;var f=new Set(d);f.delete(c);O(a,c,{$a:f,fa:e})}})}else f.push(b)},d);\nif(a.b)for(b=0;b<f.length;b++)he(a,f[b]);for(b=0;b<f.length;b++)e(f[b])}\nfunction ie(a,b){if(void 0===b.__CE_state){var c=b.ownerDocument;if(c.defaultView||c.__CE_isImportDocument&&c.__CE_hasRegistry)if(c=a.a.get(b.localName)){c.constructionStack.push(b);var d=c.constructorFunction;try{try{if(new d!==b)throw Error(\"The custom element constructor did not produce the element being upgraded.\");}finally{c.constructionStack.pop()}}catch(g){throw b.__CE_state=2,g;}b.__CE_state=1;b.__CE_definition=c;if(c.attributeChangedCallback)for(c=c.observedAttributes,d=0;d<c.length;d++){var e=\nc[d],f=b.getAttribute(e);null!==f&&a.attributeChangedCallback(b,e,null,f,null)}K(b)&&a.connectedCallback(b)}}}ce.prototype.connectedCallback=function(a){var b=a.__CE_definition;b.connectedCallback&&b.connectedCallback.call(a)};ce.prototype.disconnectedCallback=function(a){var b=a.__CE_definition;b.disconnectedCallback&&b.disconnectedCallback.call(a)};\nce.prototype.attributeChangedCallback=function(a,b,c,d,e){var f=a.__CE_definition;f.attributeChangedCallback&&-1<f.observedAttributes.indexOf(b)&&f.attributeChangedCallback.call(a,b,c,d,e)};function je(a){var b=document;this.b=a;this.a=b;this.P=void 0;O(this.b,this.a);\"loading\"===this.a.readyState&&(this.P=new MutationObserver(this.c.bind(this)),this.P.observe(this.a,{childList:!0,subtree:!0}))}function ke(a){a.P&&a.P.disconnect()}je.prototype.c=function(a){var b=this.a.readyState;\"interactive\"!==b&&\"complete\"!==b||ke(this);for(b=0;b<a.length;b++)for(var c=a[b].addedNodes,d=0;d<c.length;d++)O(this.b,c[d])};function le(){var a=this;this.a=this.w=void 0;this.b=new Promise(function(b){a.a=b;a.w&&b(a.w)})}le.prototype.resolve=function(a){if(this.w)throw Error(\"Already resolved.\");this.w=a;this.a&&this.a(a)};function P(a){this.c=!1;this.a=a;this.F=new Map;this.f=function(a){return a()};this.b=!1;this.u=[];this.aa=new je(a)}r=P.prototype;\nr.wa=function(a,b){var c=this;if(!(b instanceof Function))throw new TypeError(\"Custom element constructors must be functions.\");if(!$d(a))throw new SyntaxError(\"The element name '\"+a+\"' is not valid.\");if(this.a.a.get(a))throw Error(\"A custom element with name '\"+a+\"' has already been defined.\");if(this.c)throw Error(\"A custom element is already being defined.\");this.c=!0;try{var d=function(a){var b=e[a];if(void 0!==b&&!(b instanceof Function))throw Error(\"The '\"+a+\"' callback must be a function.\");\nreturn b},e=b.prototype;if(!(e instanceof Object))throw new TypeError(\"The custom element constructor's prototype is not an object.\");var f=d(\"connectedCallback\");var g=d(\"disconnectedCallback\");var h=d(\"adoptedCallback\");var k=d(\"attributeChangedCallback\");var l=b.observedAttributes||[]}catch(n){return}finally{this.c=!1}b={localName:a,constructorFunction:b,connectedCallback:f,disconnectedCallback:g,adoptedCallback:h,attributeChangedCallback:k,observedAttributes:l,constructionStack:[]};de(this.a,\na,b);this.u.push(b);this.b||(this.b=!0,this.f(function(){return me(c)}))};r.fa=function(a){O(this.a,a)};\nfunction me(a){if(!1!==a.b){a.b=!1;for(var b=a.u,c=[],d=new Map,e=0;e<b.length;e++)d.set(b[e].localName,[]);O(a.a,document,{fa:function(b){if(void 0===b.__CE_state){var e=b.localName,f=d.get(e);f?f.push(b):a.a.a.get(e)&&c.push(b)}}});for(e=0;e<c.length;e++)ie(a.a,c[e]);for(;0<b.length;){var f=b.shift();e=f.localName;f=d.get(f.localName);for(var g=0;g<f.length;g++)ie(a.a,f[g]);(e=a.F.get(e))&&e.resolve(void 0)}}}r.get=function(a){if(a=this.a.a.get(a))return a.constructorFunction};\nr.xa=function(a){if(!$d(a))return Promise.reject(new SyntaxError(\"'\"+a+\"' is not a valid custom element name.\"));var b=this.F.get(a);if(b)return b.b;b=new le;this.F.set(a,b);this.a.a.get(a)&&!this.u.some(function(b){return b.localName===a})&&b.resolve(void 0);return b.b};r.Ra=function(a){ke(this.aa);var b=this.f;this.f=function(c){return a(function(){return b(c)})}};window.CustomElementRegistry=P;P.prototype.define=P.prototype.wa;P.prototype.upgrade=P.prototype.fa;P.prototype.get=P.prototype.get;\nP.prototype.whenDefined=P.prototype.xa;P.prototype.polyfillWrapFlushCallback=P.prototype.Ra;var ne=window.Document.prototype.createElement,oe=window.Document.prototype.createElementNS,pe=window.Document.prototype.importNode,qe=window.Document.prototype.prepend,re=window.Document.prototype.append,se=window.DocumentFragment.prototype.prepend,te=window.DocumentFragment.prototype.append,ue=window.Node.prototype.cloneNode,ve=window.Node.prototype.appendChild,we=window.Node.prototype.insertBefore,xe=window.Node.prototype.removeChild,ye=window.Node.prototype.replaceChild,ze=Object.getOwnPropertyDescriptor(window.Node.prototype,\n\"textContent\"),Ae=window.Element.prototype.attachShadow,Be=Object.getOwnPropertyDescriptor(window.Element.prototype,\"innerHTML\"),Ce=window.Element.prototype.getAttribute,De=window.Element.prototype.setAttribute,Ee=window.Element.prototype.removeAttribute,Fe=window.Element.prototype.getAttributeNS,Ge=window.Element.prototype.setAttributeNS,He=window.Element.prototype.removeAttributeNS,Ie=window.Element.prototype.insertAdjacentElement,Je=window.Element.prototype.insertAdjacentHTML,Ke=window.Element.prototype.prepend,\nLe=window.Element.prototype.append,Me=window.Element.prototype.before,Ne=window.Element.prototype.after,Oe=window.Element.prototype.replaceWith,Pe=window.Element.prototype.remove,Qe=window.HTMLElement,Re=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,\"innerHTML\"),Se=window.HTMLElement.prototype.insertAdjacentElement,Te=window.HTMLElement.prototype.insertAdjacentHTML;var Ue=new function(){};function Ve(){var a=We;window.HTMLElement=function(){function b(){var b=this.constructor,d=a.u.get(b);if(!d)throw Error(\"The custom element being constructed was not registered with `customElements`.\");var e=d.constructionStack;if(0===e.length)return e=ne.call(document,d.localName),Object.setPrototypeOf(e,b.prototype),e.__CE_state=1,e.__CE_definition=d,he(a,e),e;d=e.length-1;var f=e[d];if(f===Ue)throw Error(\"The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.\");\ne[d]=Ue;Object.setPrototypeOf(f,b.prototype);he(a,f);return f}b.prototype=Qe.prototype;Object.defineProperty(b.prototype,\"constructor\",{writable:!0,configurable:!0,enumerable:!1,value:b});return b}()};function Xe(a,b,c){function d(b){return function(c){for(var d=[],e=0;e<arguments.length;++e)d[e]=arguments[e];e=[];for(var f=[],l=0;l<d.length;l++){var n=d[l];n instanceof Element&&K(n)&&f.push(n);if(n instanceof DocumentFragment)for(n=n.firstChild;n;n=n.nextSibling)e.push(n);else e.push(n)}b.apply(this,d);for(d=0;d<f.length;d++)N(a,f[d]);if(K(this))for(d=0;d<e.length;d++)f=e[d],f instanceof Element&&M(a,f)}}void 0!==c.da&&(b.prepend=d(c.da));void 0!==c.append&&(b.append=d(c.append))};function Ye(){var a=We;L(Document.prototype,\"createElement\",function(b){if(this.__CE_hasRegistry){var c=a.a.get(b);if(c)return new c.constructorFunction}b=ne.call(this,b);he(a,b);return b});L(Document.prototype,\"importNode\",function(b,c){b=pe.call(this,b,!!c);this.__CE_hasRegistry?O(a,b):ge(a,b);return b});L(Document.prototype,\"createElementNS\",function(b,c){if(this.__CE_hasRegistry&&(null===b||\"http://www.w3.org/1999/xhtml\"===b)){var d=a.a.get(c);if(d)return new d.constructorFunction}b=oe.call(this,\nb,c);he(a,b);return b});Xe(a,Document.prototype,{da:qe,append:re})};function Ze(){function a(a,d){Object.defineProperty(a,\"textContent\",{enumerable:d.enumerable,configurable:!0,get:d.get,set:function(a){if(this.nodeType===Node.TEXT_NODE)d.set.call(this,a);else{var c=void 0;if(this.firstChild){var e=this.childNodes,h=e.length;if(0<h&&K(this)){c=Array(h);for(var k=0;k<h;k++)c[k]=e[k]}}d.set.call(this,a);if(c)for(a=0;a<c.length;a++)N(b,c[a])}}})}var b=We;L(Node.prototype,\"insertBefore\",function(a,d){if(a instanceof DocumentFragment){var c=Array.prototype.slice.apply(a.childNodes);\na=we.call(this,a,d);if(K(this))for(d=0;d<c.length;d++)M(b,c[d]);return a}c=K(a);d=we.call(this,a,d);c&&N(b,a);K(this)&&M(b,a);return d});L(Node.prototype,\"appendChild\",function(a){if(a instanceof DocumentFragment){var c=Array.prototype.slice.apply(a.childNodes);a=ve.call(this,a);if(K(this))for(var e=0;e<c.length;e++)M(b,c[e]);return a}c=K(a);e=ve.call(this,a);c&&N(b,a);K(this)&&M(b,a);return e});L(Node.prototype,\"cloneNode\",function(a){a=ue.call(this,!!a);this.ownerDocument.__CE_hasRegistry?O(b,a):\nge(b,a);return a});L(Node.prototype,\"removeChild\",function(a){var c=K(a),e=xe.call(this,a);c&&N(b,a);return e});L(Node.prototype,\"replaceChild\",function(a,d){if(a instanceof DocumentFragment){var c=Array.prototype.slice.apply(a.childNodes);a=ye.call(this,a,d);if(K(this))for(N(b,d),d=0;d<c.length;d++)M(b,c[d]);return a}c=K(a);var f=ye.call(this,a,d),g=K(this);g&&N(b,d);c&&N(b,a);g&&M(b,a);return f});ze&&ze.get?a(Node.prototype,ze):ee(b,function(b){a(b,{enumerable:!0,configurable:!0,get:function(){for(var a=\n[],b=0;b<this.childNodes.length;b++){var c=this.childNodes[b];c.nodeType!==Node.COMMENT_NODE&&a.push(c.textContent)}return a.join(\"\")},set:function(a){for(;this.firstChild;)xe.call(this,this.firstChild);null!=a&&\"\"!==a&&ve.call(this,document.createTextNode(a))}})})};function $e(a){function b(b){return function(c){for(var d=[],e=0;e<arguments.length;++e)d[e]=arguments[e];e=[];for(var h=[],k=0;k<d.length;k++){var l=d[k];l instanceof Element&&K(l)&&h.push(l);if(l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)e.push(l);else e.push(l)}b.apply(this,d);for(d=0;d<h.length;d++)N(a,h[d]);if(K(this))for(d=0;d<e.length;d++)h=e[d],h instanceof Element&&M(a,h)}}var c=Element.prototype;void 0!==Me&&(c.before=b(Me));void 0!==Me&&(c.after=b(Ne));void 0!==Oe&&\nL(c,\"replaceWith\",function(b){for(var c=[],d=0;d<arguments.length;++d)c[d]=arguments[d];d=[];for(var g=[],h=0;h<c.length;h++){var k=c[h];k instanceof Element&&K(k)&&g.push(k);if(k instanceof DocumentFragment)for(k=k.firstChild;k;k=k.nextSibling)d.push(k);else d.push(k)}h=K(this);Oe.apply(this,c);for(c=0;c<g.length;c++)N(a,g[c]);if(h)for(N(a,this),c=0;c<d.length;c++)g=d[c],g instanceof Element&&M(a,g)});void 0!==Pe&&L(c,\"remove\",function(){var b=K(this);Pe.call(this);b&&N(a,this)})};function af(){function a(a,b){Object.defineProperty(a,\"innerHTML\",{enumerable:b.enumerable,configurable:!0,get:b.get,set:function(a){var c=this,e=void 0;K(this)&&(e=[],be(this,function(a){a!==c&&e.push(a)}));b.set.call(this,a);if(e)for(var f=0;f<e.length;f++){var g=e[f];1===g.__CE_state&&d.disconnectedCallback(g)}this.ownerDocument.__CE_hasRegistry?O(d,this):ge(d,this);return a}})}function b(a,b){L(a,\"insertAdjacentElement\",function(a,c){var e=K(c);a=b.call(this,a,c);e&&N(d,c);K(a)&&M(d,c);return a})}\nfunction c(a,b){function c(a,b){for(var c=[];a!==b;a=a.nextSibling)c.push(a);for(b=0;b<c.length;b++)O(d,c[b])}L(a,\"insertAdjacentHTML\",function(a,d){a=a.toLowerCase();if(\"beforebegin\"===a){var e=this.previousSibling;b.call(this,a,d);c(e||this.parentNode.firstChild,this)}else if(\"afterbegin\"===a)e=this.firstChild,b.call(this,a,d),c(this.firstChild,e);else if(\"beforeend\"===a)e=this.lastChild,b.call(this,a,d),c(e||this.firstChild,null);else if(\"afterend\"===a)e=this.nextSibling,b.call(this,a,d),c(this.nextSibling,\ne);else throw new SyntaxError(\"The value provided (\"+String(a)+\") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.\");})}var d=We;Ae&&L(Element.prototype,\"attachShadow\",function(a){a=Ae.call(this,a);var b=d;if(b.b&&!a.__CE_patched){a.__CE_patched=!0;for(var c=0;c<b.c.length;c++)b.c[c](a)}return this.__CE_shadowRoot=a});Be&&Be.get?a(Element.prototype,Be):Re&&Re.get?a(HTMLElement.prototype,Re):fe(d,function(b){a(b,{enumerable:!0,configurable:!0,get:function(){return ue.call(this,\n!0).innerHTML},set:function(a){var b=\"template\"===this.localName,c=b?this.content:this,d=oe.call(document,this.namespaceURI,this.localName);for(d.innerHTML=a;0<c.childNodes.length;)xe.call(c,c.childNodes[0]);for(a=b?d.content:d;0<a.childNodes.length;)ve.call(c,a.childNodes[0])}})});L(Element.prototype,\"setAttribute\",function(a,b){if(1!==this.__CE_state)return De.call(this,a,b);var c=Ce.call(this,a);De.call(this,a,b);b=Ce.call(this,a);d.attributeChangedCallback(this,a,c,b,null)});L(Element.prototype,\n\"setAttributeNS\",function(a,b,c){if(1!==this.__CE_state)return Ge.call(this,a,b,c);var e=Fe.call(this,a,b);Ge.call(this,a,b,c);c=Fe.call(this,a,b);d.attributeChangedCallback(this,b,e,c,a)});L(Element.prototype,\"removeAttribute\",function(a){if(1!==this.__CE_state)return Ee.call(this,a);var b=Ce.call(this,a);Ee.call(this,a);null!==b&&d.attributeChangedCallback(this,a,b,null,null)});L(Element.prototype,\"removeAttributeNS\",function(a,b){if(1!==this.__CE_state)return He.call(this,a,b);var c=Fe.call(this,\na,b);He.call(this,a,b);var e=Fe.call(this,a,b);c!==e&&d.attributeChangedCallback(this,b,c,e,a)});Se?b(HTMLElement.prototype,Se):Ie?b(Element.prototype,Ie):console.warn(\"Custom Elements: `Element#insertAdjacentElement` was not patched.\");Te?c(HTMLElement.prototype,Te):Je?c(Element.prototype,Je):console.warn(\"Custom Elements: `Element#insertAdjacentHTML` was not patched.\");Xe(d,Element.prototype,{da:Ke,append:Le});$e(d)};var bf=window.customElements;if(!bf||bf.forcePolyfill||\"function\"!=typeof bf.define||\"function\"!=typeof bf.get){var We=new ce;Ve();Ye();Xe(We,DocumentFragment.prototype,{da:se,append:te});Ze();af();document.__CE_hasRegistry=!0;var customElements=new P(We);Object.defineProperty(window,\"customElements\",{configurable:!0,enumerable:!0,value:customElements})};function cf(){this.end=this.start=0;this.rules=this.parent=this.previous=null;this.cssText=this.parsedCssText=\"\";this.atRule=!1;this.type=0;this.parsedSelector=this.selector=this.keyframesName=\"\"}\nfunction df(a){a=a.replace(ef,\"\").replace(ff,\"\");var b=gf,c=a,d=new cf;d.start=0;d.end=c.length;for(var e=d,f=0,g=c.length;f<g;f++)if(\"{\"===c[f]){e.rules||(e.rules=[]);var h=e,k=h.rules[h.rules.length-1]||null;e=new cf;e.start=f+1;e.parent=h;e.previous=k;h.rules.push(e)}else\"}\"===c[f]&&(e.end=f+1,e=e.parent||d);return b(d,a)}\nfunction gf(a,b){var c=b.substring(a.start,a.end-1);a.parsedCssText=a.cssText=c.trim();a.parent&&(c=b.substring(a.previous?a.previous.end:a.parent.start,a.start-1),c=hf(c),c=c.replace(jf,\" \"),c=c.substring(c.lastIndexOf(\";\")+1),c=a.parsedSelector=a.selector=c.trim(),a.atRule=0===c.indexOf(\"@\"),a.atRule?0===c.indexOf(\"@media\")?a.type=kf:c.match(lf)&&(a.type=mf,a.keyframesName=a.selector.split(jf).pop()):a.type=0===c.indexOf(\"--\")?nf:of);if(c=a.rules)for(var d=0,e=c.length,f=void 0;d<e&&(f=c[d]);d++)gf(f,\nb);return a}function hf(a){return a.replace(/\\\\([0-9a-f]{1,6})\\s/gi,function(a,c){a=c;for(c=6-a.length;c--;)a=\"0\"+a;return\"\\\\\"+a})}\nfunction pf(a,b,c){c=void 0===c?\"\":c;var d=\"\";if(a.cssText||a.rules){var e=a.rules,f;if(f=e)f=e[0],f=!(f&&f.selector&&0===f.selector.indexOf(\"--\"));if(f){f=0;for(var g=e.length,h=void 0;f<g&&(h=e[f]);f++)d=pf(h,b,d)}else b?b=a.cssText:(b=a.cssText,b=b.replace(qf,\"\").replace(rf,\"\"),b=b.replace(uf,\"\").replace(vf,\"\")),(d=b.trim())&&(d=\"  \"+d+\"\\n\")}d&&(a.selector&&(c+=a.selector+\" {\\n\"),c+=d,a.selector&&(c+=\"}\\n\\n\"));return c}\nvar of=1,mf=7,kf=4,nf=1E3,ef=/\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//gim,ff=/@import[^;]*;/gim,qf=/(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\\n]|$)/gim,rf=/(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\\n]|$)?/gim,uf=/@apply\\s*\\(?[^);]*\\)?\\s*(?:[;\\n]|$)?/gim,vf=/[^;:]*?:[^;]*?var\\([^;]*\\)(?:[;\\n]|$)?/gim,lf=/^@[^\\s]*keyframes/,jf=/\\s+/g;var R=!(window.ShadyDOM&&window.ShadyDOM.inUse),wf;function xf(a){wf=a&&a.shimcssproperties?!1:R||!(navigator.userAgent.match(/AppleWebKit\\/601|Edge\\/15/)||!window.CSS||!CSS.supports||!CSS.supports(\"box-shadow\",\"0 0 0 var(--foo)\"))}var yf;window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(yf=window.ShadyCSS.cssBuild);var zf=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);\nwindow.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?wf=window.ShadyCSS.nativeCss:window.ShadyCSS?(xf(window.ShadyCSS),window.ShadyCSS=void 0):xf(window.WebComponents&&window.WebComponents.flags);var S=wf,Af=yf;var Bf=/(?:^|[;\\s{]\\s*)(--[\\w-]*?)\\s*:\\s*(?:((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^)]*?\\)|[^};{])+)|\\{([^}]*)\\}(?:(?=[;\\s}])|$))/gi,Cf=/(?:^|\\W+)@apply\\s*\\(?([^);\\n]*)\\)?/gi,Df=/(--[\\w-]+)\\s*([:,;)]|$)/gi,Ef=/(animation\\s*:)|(animation-name\\s*:)/,Ff=/@media\\s(.*)/,Gf=/\\{[^}]*\\}/g;var Hf=new Set;function If(a,b){if(!a)return\"\";\"string\"===typeof a&&(a=df(a));b&&Jf(a,b);return pf(a,S)}function Kf(a){!a.__cssRules&&a.textContent&&(a.__cssRules=df(a.textContent));return a.__cssRules||null}function Lf(a){return!!a.parent&&a.parent.type===mf}function Jf(a,b,c,d){if(a){var e=!1,f=a.type;if(d&&f===kf){var g=a.selector.match(Ff);g&&(window.matchMedia(g[1]).matches||(e=!0))}f===of?b(a):c&&f===mf?c(a):f===nf&&(e=!0);if((a=a.rules)&&!e)for(e=0,f=a.length,g=void 0;e<f&&(g=a[e]);e++)Jf(g,b,c,d)}}\nfunction Mf(a,b,c,d){var e=document.createElement(\"style\");b&&e.setAttribute(\"scope\",b);e.textContent=a;Nf(e,c,d);return e}var Of=null;function Pf(a){a=document.createComment(\" Shady DOM styles for \"+a+\" \");var b=document.head;b.insertBefore(a,(Of?Of.nextSibling:null)||b.firstChild);return Of=a}function Nf(a,b,c){b=b||document.head;b.insertBefore(a,c&&c.nextSibling||b.firstChild);Of?a.compareDocumentPosition(Of)===Node.DOCUMENT_POSITION_PRECEDING&&(Of=a):Of=a}\nfunction Qf(a,b){for(var c=0,d=a.length;b<d;b++)if(\"(\"===a[b])c++;else if(\")\"===a[b]&&0===--c)return b;return-1}function Rf(a,b){var c=a.indexOf(\"var(\");if(-1===c)return b(a,\"\",\"\",\"\");var d=Qf(a,c+3),e=a.substring(c+4,d);c=a.substring(0,c);a=Rf(a.substring(d+1),b);d=e.indexOf(\",\");return-1===d?b(c,e.trim(),\"\",a):b(c,e.substring(0,d).trim(),e.substring(d+1).trim(),a)}function Sf(a,b){R?a.setAttribute(\"class\",b):window.ShadyDOM.nativeMethods.setAttribute.call(a,\"class\",b)}\nvar Tf=window.ShadyDOM&&window.ShadyDOM.wrap||function(a){return a};function Uf(a){var b=a.localName,c=\"\";b?-1<b.indexOf(\"-\")||(c=b,b=a.getAttribute&&a.getAttribute(\"is\")||\"\"):(b=a.is,c=a.extends);return{is:b,X:c}}function Vf(a){for(var b=[],c=\"\",d=0;0<=d&&d<a.length;d++)if(\"(\"===a[d]){var e=Qf(a,d);c+=a.slice(d,e+1);d=e}else\",\"===a[d]?(b.push(c),c=\"\"):c+=a[d];c&&b.push(c);return b}\nfunction Wf(a){if(void 0!==Af)return Af;if(void 0===a.__cssBuild){var b=a.getAttribute(\"css-build\");if(b)a.__cssBuild=b;else{a:{b=\"template\"===a.localName?a.content.firstChild:a.firstChild;if(b instanceof Comment&&(b=b.textContent.trim().split(\":\"),\"css-build\"===b[0])){b=b[1];break a}b=\"\"}if(\"\"!==b){var c=\"template\"===a.localName?a.content.firstChild:a.firstChild;c.parentNode.removeChild(c)}a.__cssBuild=b}}return a.__cssBuild||\"\"}\nfunction Xf(a){a=void 0===a?\"\":a;return\"\"!==a&&S?R?\"shadow\"===a:\"shady\"===a:!1};function Yf(){}function Zf(a,b){$f(U,a,function(a){ag(a,b||\"\")})}function $f(a,b,c){b.nodeType===Node.ELEMENT_NODE&&c(b);var d;\"template\"===b.localName?d=(b.content||b._content||b).childNodes:d=b.children||b.childNodes;if(d)for(b=0;b<d.length;b++)$f(a,d[b],c)}\nfunction ag(a,b,c){if(b)if(a.classList)c?(a.classList.remove(\"style-scope\"),a.classList.remove(b)):(a.classList.add(\"style-scope\"),a.classList.add(b));else if(a.getAttribute){var d=a.getAttribute(\"class\");c?d&&(b=d.replace(\"style-scope\",\"\").replace(b,\"\"),Sf(a,b)):Sf(a,(d?d+\" \":\"\")+\"style-scope \"+b)}}function bg(a,b,c){$f(U,a,function(a){ag(a,b,!0);ag(a,c)})}function cg(a,b){$f(U,a,function(a){ag(a,b||\"\",!0)})}\nfunction dg(a,b,c,d,e){var f=U;e=void 0===e?\"\":e;\"\"===e&&(R||\"shady\"===(void 0===d?\"\":d)?e=If(b,c):(a=Uf(a),e=eg(f,b,a.is,a.X,c)+\"\\n\\n\"));return e.trim()}function eg(a,b,c,d,e){var f=fg(c,d);c=c?\".\"+c:\"\";return If(b,function(b){b.c||(b.selector=b.C=gg(a,b,a.b,c,f),b.c=!0);e&&e(b,c,f)})}function fg(a,b){return b?\"[is=\"+a+\"]\":a}\nfunction gg(a,b,c,d,e){var f=Vf(b.selector);if(!Lf(b)){b=0;for(var g=f.length,h=void 0;b<g&&(h=f[b]);b++)f[b]=c.call(a,h,d,e)}return f.filter(function(a){return!!a}).join(\",\")}function hg(a){return a.replace(ig,function(a,c,d){-1<d.indexOf(\"+\")?d=d.replace(/\\+/g,\"___\"):-1<d.indexOf(\"___\")&&(d=d.replace(/___/g,\"+\"));return\":\"+c+\"(\"+d+\")\"})}\nfunction jg(a){for(var b=[],c;c=a.match(kg);){var d=c.index,e=Qf(a,d);if(-1===e)throw Error(c.input+\" selector missing ')'\");c=a.slice(d,e+1);a=a.replace(c,\"\\ue000\");b.push(c)}return{na:a,matches:b}}function lg(a,b){var c=a.split(\"\\ue000\");return b.reduce(function(a,b,f){return a+b+c[f+1]},c[0])}\nYf.prototype.b=function(a,b,c){var d=!1;a=a.trim();var e=ig.test(a);e&&(a=a.replace(ig,function(a,b,c){return\":\"+b+\"(\"+c.replace(/\\s/g,\"\")+\")\"}),a=hg(a));var f=kg.test(a);if(f){var g=jg(a);a=g.na;g=g.matches}a=a.replace(mg,\":host $1\");a=a.replace(ng,function(a,e,f){d||(a=og(f,e,b,c),d=d||a.stop,e=a.Ha,f=a.value);return e+f});f&&(a=lg(a,g));e&&(a=hg(a));return a=a.replace(pg,function(a,b,c,d){return'[dir=\"'+c+'\"] '+b+d+\", \"+b+'[dir=\"'+c+'\"]'+d})};\nfunction og(a,b,c,d){var e=a.indexOf(\"::slotted\");0<=a.indexOf(\":host\")?a=qg(a,d):0!==e&&(a=c?rg(a,c):a);c=!1;0<=e&&(b=\"\",c=!0);if(c){var f=!0;c&&(a=a.replace(sg,function(a,b){return\" > \"+b}))}return{value:a,Ha:b,stop:f}}function rg(a,b){a=a.split(/(\\[.+?\\])/);for(var c=[],d=0;d<a.length;d++)if(1===d%2)c.push(a[d]);else{var e=a[d];if(\"\"!==e||d!==a.length-1)e=e.split(\":\"),e[0]+=b,c.push(e.join(\":\"))}return c.join(\"\")}\nfunction qg(a,b){var c=a.match(tg);return(c=c&&c[2].trim()||\"\")?c[0].match(ug)?a.replace(tg,function(a,c,f){return b+f}):c.split(ug)[0]===b?c:\"should_not_match\":a.replace(\":host\",b)}function vg(a){\":root\"===a.selector&&(a.selector=\"html\")}Yf.prototype.c=function(a){return a.match(\":host\")?\"\":a.match(\"::slotted\")?this.b(a,\":not(.style-scope)\"):rg(a.trim(),\":not(.style-scope)\")};t.Object.defineProperties(Yf.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return\"style-scope\"}}});\nvar ig=/:(nth[-\\w]+)\\(([^)]+)\\)/,ng=/(^|[\\s>+~]+)((?:\\[.+?\\]|[^\\s>+~=[])+)/g,ug=/[[.:#*]/,mg=/^(::slotted)/,tg=/(:host)(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))/,sg=/(?:::slotted)(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))/,pg=/(.*):dir\\((?:(ltr|rtl))\\)(.*)/,kg=/:(?:matches|any|-(?:webkit|moz)-any)/,U=new Yf;function wg(a,b,c,d,e){this.L=a||null;this.b=b||null;this.la=c||[];this.G=null;this.cssBuild=e||\"\";this.X=d||\"\";this.a=this.H=this.K=null}function V(a){return a?a.__styleInfo:null}function xg(a,b){return a.__styleInfo=b}wg.prototype.c=function(){return this.L};wg.prototype._getStyleRules=wg.prototype.c;function yg(a){var b=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return b&&b.call(this,a)}var zg=navigator.userAgent.match(\"Trident\");function Ag(){}function Bg(a){var b={},c=[],d=0;Jf(a,function(a){Cg(a);a.index=d++;a=a.A.cssText;for(var c;c=Df.exec(a);){var e=c[1];\":\"!==c[2]&&(b[e]=!0)}},function(a){c.push(a)});a.b=c;a=[];for(var e in b)a.push(e);return a}\nfunction Cg(a){if(!a.A){var b={},c={};Dg(a,c)&&(b.J=c,a.rules=null);b.cssText=a.parsedCssText.replace(Gf,\"\").replace(Bf,\"\");a.A=b}}function Dg(a,b){var c=a.A;if(c){if(c.J)return Object.assign(b,c.J),!0}else{c=a.parsedCssText;for(var d;a=Bf.exec(c);){d=(a[2]||a[3]).trim();if(\"inherit\"!==d||\"unset\"!==d)b[a[1].trim()]=d;d=!0}return d}}\nfunction Eg(a,b,c){b&&(b=0<=b.indexOf(\";\")?Fg(a,b,c):Rf(b,function(b,e,f,g){if(!e)return b+g;(e=Eg(a,c[e],c))&&\"initial\"!==e?\"apply-shim-inherit\"===e&&(e=\"inherit\"):e=Eg(a,c[f]||f,c)||f;return b+(e||\"\")+g}));return b&&b.trim()||\"\"}\nfunction Fg(a,b,c){b=b.split(\";\");for(var d=0,e,f;d<b.length;d++)if(e=b[d]){Cf.lastIndex=0;if(f=Cf.exec(e))e=Eg(a,c[f[1]],c);else if(f=e.indexOf(\":\"),-1!==f){var g=e.substring(f);g=g.trim();g=Eg(a,g,c)||g;e=e.substring(0,f)+g}b[d]=e&&e.lastIndexOf(\";\")===e.length-1?e.slice(0,-1):e||\"\"}return b.join(\";\")}\nfunction Gg(a,b){var c={},d=[];Jf(a,function(a){a.A||Cg(a);var e=a.C||a.parsedSelector;b&&a.A.J&&e&&yg.call(b,e)&&(Dg(a,c),a=a.index,e=parseInt(a/32,10),d[e]=(d[e]||0)|1<<a%32)},null,!0);return{J:c,key:d}}\nfunction Hg(a,b,c,d){b.A||Cg(b);if(b.A.J){var e=Uf(a);a=e.is;e=e.X;e=a?fg(a,e):\"html\";var f=b.parsedSelector,g=\":host > *\"===f||\"html\"===f,h=0===f.indexOf(\":host\")&&!g;\"shady\"===c&&(g=f===e+\" > *.\"+e||-1!==f.indexOf(\"html\"),h=!g&&0===f.indexOf(e));if(g||h)c=e,h&&(b.C||(b.C=gg(U,b,U.b,a?\".\"+a:\"\",e)),c=b.C||e),d({na:c,Oa:h,bb:g})}}function Ig(a,b,c){var d={},e={};Jf(b,function(b){Hg(a,b,c,function(c){yg.call(a._element||a,c.na)&&(c.Oa?Dg(b,d):Dg(b,e))})},null,!0);return{Ua:e,Ma:d}}\nfunction Jg(a,b,c,d){var e=Uf(b),f=fg(e.is,e.X),g=new RegExp(\"(?:^|[^.#[:])\"+(b.extends?\"\\\\\"+f.slice(0,-1)+\"\\\\]\":f)+\"($|[.:[\\\\s>+~])\"),h=V(b);e=h.L;h=h.cssBuild;var k=Kg(e,d);return dg(b,e,function(b){var e=\"\";b.A||Cg(b);b.A.cssText&&(e=Fg(a,b.A.cssText,c));b.cssText=e;if(!R&&!Lf(b)&&b.cssText){var h=e=b.cssText;null==b.ra&&(b.ra=Ef.test(e));if(b.ra)if(null==b.ba){b.ba=[];for(var l in k)h=k[l],h=h(e),e!==h&&(e=h,b.ba.push(l))}else{for(l=0;l<b.ba.length;++l)h=k[b.ba[l]],e=h(e);h=e}b.cssText=h;b.C=\nb.C||b.selector;e=\".\"+d;l=Vf(b.C);h=0;for(var v=l.length,x=void 0;h<v&&(x=l[h]);h++)l[h]=x.match(g)?x.replace(f,e):e+\" \"+x;b.selector=l.join(\",\")}},h)}function Kg(a,b){a=a.b;var c={};if(!R&&a)for(var d=0,e=a[d];d<a.length;e=a[++d]){var f=e,g=b;f.f=new RegExp(\"\\\\b\"+f.keyframesName+\"(?!\\\\B|-)\",\"g\");f.a=f.keyframesName+\"-\"+g;f.C=f.C||f.selector;f.selector=f.C.replace(f.keyframesName,f.a);c[e.keyframesName]=Lg(e)}return c}function Lg(a){return function(b){return b.replace(a.f,a.a)}}\nfunction Mg(a,b){var c=Ng,d=Kf(a);a.textContent=If(d,function(a){var d=a.cssText=a.parsedCssText;a.A&&a.A.cssText&&(d=d.replace(qf,\"\").replace(rf,\"\"),a.cssText=Fg(c,d,b))})}t.Object.defineProperties(Ag.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return\"x-scope\"}}});var Ng=new Ag;var Og={},Pg=window.customElements;if(Pg&&!R&&!zf){var Qg=Pg.define;Pg.define=function(a,b,c){Og[a]||(Og[a]=Pf(a));Qg.call(Pg,a,b,c)}};function Rg(){this.cache={}}Rg.prototype.store=function(a,b,c,d){var e=this.cache[a]||[];e.push({J:b,styleElement:c,H:d});100<e.length&&e.shift();this.cache[a]=e};function Sg(){}var Tg=new RegExp(U.a+\"\\\\s*([^\\\\s]*)\");function Ug(a){return(a=(a.classList&&a.classList.value?a.classList.value:a.getAttribute(\"class\")||\"\").match(Tg))?a[1]:\"\"}function Vg(a){var b=Tf(a).getRootNode();return b===a||b===a.ownerDocument?\"\":(a=b.host)?Uf(a).is:\"\"}\nfunction Wg(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.target!==document.documentElement&&c.target!==document.head)for(var d=0;d<c.addedNodes.length;d++){var e=c.addedNodes[d];if(e.nodeType===Node.ELEMENT_NODE){var f=e.getRootNode(),g=Ug(e);if(g&&f===e.ownerDocument&&(\"style\"!==e.localName&&\"template\"!==e.localName||\"\"===Wf(e)))cg(e,g);else if(f instanceof ShadowRoot)for(f=Vg(e),f!==g&&bg(e,g,f),e=window.ShadyDOM.nativeMethods.querySelectorAll.call(e,\":not(.\"+U.a+\")\"),g=0;g<e.length;g++){f=e[g];\nvar h=Vg(f);h&&ag(f,h)}}}}}\nif(!(R||window.ShadyDOM&&window.ShadyDOM.handlesDynamicScoping)){var Xg=new MutationObserver(Wg),Yg=function(a){Xg.observe(a,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)Yg(document);else{var Zg=function(){Yg(document.body)};window.HTMLImports?window.HTMLImports.whenReady(Zg):requestAnimationFrame(function(){if(\"loading\"===document.readyState){var a=function(){Zg();document.removeEventListener(\"readystatechange\",a)};document.addEventListener(\"readystatechange\",\na)}else Zg()})}Sg=function(){Wg(Xg.takeRecords())}}var $g=Sg;var ah={};var bh=Promise.resolve();function ch(a){if(a=ah[a])a._applyShimCurrentVersion=a._applyShimCurrentVersion||0,a._applyShimValidatingVersion=a._applyShimValidatingVersion||0,a._applyShimNextVersion=(a._applyShimNextVersion||0)+1}function dh(a){return a._applyShimCurrentVersion===a._applyShimNextVersion}function eh(a){a._applyShimValidatingVersion=a._applyShimNextVersion;a._validating||(a._validating=!0,bh.then(function(){a._applyShimCurrentVersion=a._applyShimNextVersion;a._validating=!1}))};var fh={},gh=new Rg;function W(){this.F={};this.c=document.documentElement;var a=new cf;a.rules=[];this.f=xg(this.c,new wg(a));this.u=!1;this.b=this.a=null}r=W.prototype;r.flush=function(){$g()};r.Ka=function(a){return Kf(a)};r.Ya=function(a){return If(a)};r.prepareTemplate=function(a,b,c){this.prepareTemplateDom(a,b);this.prepareTemplateStyles(a,b,c)};\nr.prepareTemplateStyles=function(a,b,c){if(!a._prepared&&!zf){R||Og[b]||(Og[b]=Pf(b));a._prepared=!0;a.name=b;a.extends=c;ah[b]=a;var d=Wf(a),e=Xf(d);c={is:b,extends:c};for(var f=[],g=a.content.querySelectorAll(\"style\"),h=0;h<g.length;h++){var k=g[h];if(k.hasAttribute(\"shady-unscoped\")){if(!R){var l=k.textContent;Hf.has(l)||(Hf.add(l),l=k.cloneNode(!0),document.head.appendChild(l));k.parentNode.removeChild(k)}}else f.push(k.textContent),k.parentNode.removeChild(k)}f=f.join(\"\").trim()+(fh[b]||\"\");\nhh(this);if(!e){if(g=!d)g=Cf.test(f)||Bf.test(f),Cf.lastIndex=0,Bf.lastIndex=0;h=df(f);g&&S&&this.a&&this.a.transformRules(h,b);a._styleAst=h}g=[];S||(g=Bg(a._styleAst));if(!g.length||S)h=R?a.content:null,b=Og[b]||null,d=dg(c,a._styleAst,null,d,e?f:\"\"),d=d.length?Mf(d,c.is,h,b):null,a._style=d;a.a=g}};r.Sa=function(a,b){fh[b]=a.join(\" \")};r.prepareTemplateDom=function(a,b){if(!zf){var c=Wf(a);R||\"shady\"===c||a._domPrepared||(a._domPrepared=!0,Zf(a.content,b))}};\nfunction ih(a){var b=Uf(a),c=b.is;b=b.X;var d=Og[c]||null,e=ah[c];if(e){c=e._styleAst;var f=e.a;e=Wf(e);b=new wg(c,d,f,b,e);xg(a,b);return b}}function jh(a){!a.b&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(a.b=window.ShadyCSS.CustomStyleInterface,a.b.transformCallback=function(b){a.va(b)},a.b.validateCallback=function(){requestAnimationFrame(function(){(a.b.enqueued||a.u)&&a.flushCustomStyles()})})}\nfunction hh(a){!a.a&&window.ShadyCSS&&window.ShadyCSS.ApplyShim&&(a.a=window.ShadyCSS.ApplyShim,a.a.invalidCallback=ch);jh(a)}\nr.flushCustomStyles=function(){if(!zf&&(hh(this),this.b)){var a=this.b.processStyles();if(this.b.enqueued&&!Xf(this.f.cssBuild)){if(S){if(!this.f.cssBuild)for(var b=0;b<a.length;b++){var c=this.b.getStyleForCustomStyle(a[b]);if(c&&S&&this.a){var d=Kf(c);hh(this);this.a.transformRules(d);c.textContent=If(d)}}}else{kh(this,this.c,this.f);for(b=0;b<a.length;b++)(c=this.b.getStyleForCustomStyle(a[b]))&&Mg(c,this.f.K);this.u&&this.styleDocument()}this.b.enqueued=!1}}};\nr.styleElement=function(a,b){if(zf){if(b){V(a)||xg(a,new wg(null));var c=V(a);c.G=c.G||{};Object.assign(c.G,b);lh(this,a,c)}}else if(c=V(a)||ih(a))if(a!==this.c&&(this.u=!0),b&&(c.G=c.G||{},Object.assign(c.G,b)),S)lh(this,a,c);else if(this.flush(),kh(this,a,c),c.la&&c.la.length){b=Uf(a).is;var d;a:{if(d=gh.cache[b])for(var e=d.length-1;0<=e;e--){var f=d[e];b:{var g=c.la;for(var h=0;h<g.length;h++){var k=g[h];if(f.J[k]!==c.K[k]){g=!1;break b}}g=!0}if(g){d=f;break a}}d=void 0}g=d?d.styleElement:null;\ne=c.H;(f=d&&d.H)||(f=this.F[b]=(this.F[b]||0)+1,f=b+\"-\"+f);c.H=f;f=c.H;h=Ng;h=g?g.textContent||\"\":Jg(h,a,c.K,f);k=V(a);var l=k.a;l&&!R&&l!==g&&(l._useCount--,0>=l._useCount&&l.parentNode&&l.parentNode.removeChild(l));R?k.a?(k.a.textContent=h,g=k.a):h&&(g=Mf(h,f,a.shadowRoot,k.b)):g?g.parentNode||(zg&&-1<h.indexOf(\"@media\")&&(g.textContent=h),Nf(g,null,k.b)):h&&(g=Mf(h,f,null,k.b));g&&(g._useCount=g._useCount||0,k.a!=g&&g._useCount++,k.a=g);f=g;R||(g=c.H,k=h=a.getAttribute(\"class\")||\"\",e&&(k=h.replace(new RegExp(\"\\\\s*x-scope\\\\s*\"+\ne+\"\\\\s*\",\"g\"),\" \")),k+=(k?\" \":\"\")+\"x-scope \"+g,h!==k&&Sf(a,k));d||gh.store(b,c.K,f,c.H)}};\nfunction lh(a,b,c){var d=Uf(b).is;if(c.G){var e=c.G,f;for(f in e)null===f?b.style.removeProperty(f):b.style.setProperty(f,e[f])}e=ah[d];if(!(!e&&b!==a.c||e&&\"\"!==Wf(e))&&e&&e._style&&!dh(e)){if(dh(e)||e._applyShimValidatingVersion!==e._applyShimNextVersion)hh(a),a.a&&a.a.transformRules(e._styleAst,d),e._style.textContent=dg(b,c.L),eh(e);R&&(a=b.shadowRoot)&&(a=a.querySelector(\"style\"))&&(a.textContent=dg(b,c.L));c.L=e._styleAst}}\nfunction mh(a,b){return(b=Tf(b).getRootNode().host)?V(b)||ih(b)?b:mh(a,b):a.c}function kh(a,b,c){var d=mh(a,b),e=V(d),f=e.K;d===a.c||f||(kh(a,d,e),f=e.K);a=Object.create(f||null);d=Ig(b,c.L,c.cssBuild);b=Gg(e.L,b).J;Object.assign(a,d.Ma,b,d.Ua);b=c.G;for(var g in b)if((e=b[g])||0===e)a[g]=e;g=Ng;b=Object.getOwnPropertyNames(a);for(e=0;e<b.length;e++)d=b[e],a[d]=Eg(g,a[d],a);c.K=a}r.styleDocument=function(a){this.styleSubtree(this.c,a)};\nr.styleSubtree=function(a,b){var c=Tf(a),d=c.shadowRoot;(d||a===this.c)&&this.styleElement(a,b);if(a=d&&(d.children||d.childNodes))for(c=0;c<a.length;c++)this.styleSubtree(a[c]);else if(c=c.children||c.childNodes)for(a=0;a<c.length;a++)this.styleSubtree(c[a])};\nr.va=function(a){var b=this,c=Wf(a);c!==this.f.cssBuild&&(this.f.cssBuild=c);if(!Xf(c)){var d=Kf(a);Jf(d,function(a){if(R)vg(a);else{var d=U;a.selector=a.parsedSelector;vg(a);a.selector=a.C=gg(d,a,d.c,void 0,void 0)}S&&\"\"===c&&(hh(b),b.a&&b.a.transformRule(a))});S?a.textContent=If(d):this.f.L.rules.push(d)}};r.getComputedStyleValue=function(a,b){var c;S||(c=(V(a)||V(mh(this,a))).K[b]);return(c=c||window.getComputedStyle(a).getPropertyValue(b))?c.trim():\"\"};\nr.Xa=function(a,b){var c=Tf(a).getRootNode();b=b?b.split(/\\s/):[];c=c.host&&c.host.localName;if(!c){var d=a.getAttribute(\"class\");if(d){d=d.split(/\\s/);for(var e=0;e<d.length;e++)if(d[e]===U.a){c=d[e+1];break}}}c&&b.push(U.a,c);S||(c=V(a))&&c.H&&b.push(Ng.a,c.H);Sf(a,b.join(\" \"))};r.Fa=function(a){return V(a)};r.Wa=function(a,b){ag(a,b)};r.Za=function(a,b){ag(a,b,!0)};r.Va=function(a){return Vg(a)};r.Ia=function(a){return Ug(a)};W.prototype.flush=W.prototype.flush;W.prototype.prepareTemplate=W.prototype.prepareTemplate;\nW.prototype.styleElement=W.prototype.styleElement;W.prototype.styleDocument=W.prototype.styleDocument;W.prototype.styleSubtree=W.prototype.styleSubtree;W.prototype.getComputedStyleValue=W.prototype.getComputedStyleValue;W.prototype.setElementClass=W.prototype.Xa;W.prototype._styleInfoForNode=W.prototype.Fa;W.prototype.transformCustomStyleForDocument=W.prototype.va;W.prototype.getStyleAst=W.prototype.Ka;W.prototype.styleAstToString=W.prototype.Ya;W.prototype.flushCustomStyles=W.prototype.flushCustomStyles;\nW.prototype.scopeNode=W.prototype.Wa;W.prototype.unscopeNode=W.prototype.Za;W.prototype.scopeForNode=W.prototype.Va;W.prototype.currentScopeForNode=W.prototype.Ia;W.prototype.prepareAdoptedCssText=W.prototype.Sa;Object.defineProperties(W.prototype,{nativeShadow:{get:function(){return R}},nativeCss:{get:function(){return S}}});var Z=new W,nh,oh;window.ShadyCSS&&(nh=window.ShadyCSS.ApplyShim,oh=window.ShadyCSS.CustomStyleInterface);\nwindow.ShadyCSS={ScopingShim:Z,prepareTemplate:function(a,b,c){Z.flushCustomStyles();Z.prepareTemplate(a,b,c)},prepareTemplateDom:function(a,b){Z.prepareTemplateDom(a,b)},prepareTemplateStyles:function(a,b,c){Z.flushCustomStyles();Z.prepareTemplateStyles(a,b,c)},styleSubtree:function(a,b){Z.flushCustomStyles();Z.styleSubtree(a,b)},styleElement:function(a){Z.flushCustomStyles();Z.styleElement(a)},styleDocument:function(a){Z.flushCustomStyles();Z.styleDocument(a)},flushCustomStyles:function(){Z.flushCustomStyles()},\ngetComputedStyleValue:function(a,b){return Z.getComputedStyleValue(a,b)},nativeCss:S,nativeShadow:R,cssBuild:Af,disableRuntime:zf};nh&&(window.ShadyCSS.ApplyShim=nh);oh&&(window.ShadyCSS.CustomStyleInterface=oh);(function(a){function b(a){\"\"==a&&(f.call(this),this.i=!0);return a.toLowerCase()}function c(a){var b=a.charCodeAt(0);return 32<b&&127>b&&-1==[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function d(a){var b=a.charCodeAt(0);return 32<b&&127>b&&-1==[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}function e(a,e,g){function h(a){X.push(a)}var k=e||\"scheme start\",x=0,p=\"\",v=!1,Q=!1,X=[];a:for(;(void 0!=a[x-1]||0==x)&&!this.i;){var m=a[x];switch(k){case \"scheme start\":if(m&&q.test(m))p+=m.toLowerCase(),\nk=\"scheme\";else if(e){h(\"Invalid scheme.\");break a}else{p=\"\";k=\"no scheme\";continue}break;case \"scheme\":if(m&&I.test(m))p+=m.toLowerCase();else if(\":\"==m){this.h=p;p=\"\";if(e)break a;void 0!==l[this.h]&&(this.B=!0);k=\"file\"==this.h?\"relative\":this.B&&g&&g.h==this.h?\"relative or authority\":this.B?\"authority first slash\":\"scheme data\"}else if(e){void 0!=m&&h(\"Code point not allowed in scheme: \"+m);break a}else{p=\"\";x=0;k=\"no scheme\";continue}break;case \"scheme data\":\"?\"==m?(this.o=\"?\",k=\"query\"):\"#\"==\nm?(this.v=\"#\",k=\"fragment\"):void 0!=m&&\"\\t\"!=m&&\"\\n\"!=m&&\"\\r\"!=m&&(this.ia+=c(m));break;case \"no scheme\":if(g&&void 0!==l[g.h]){k=\"relative\";continue}else h(\"Missing scheme.\"),f.call(this),this.i=!0;break;case \"relative or authority\":if(\"/\"==m&&\"/\"==a[x+1])k=\"authority ignore slashes\";else{h(\"Expected /, got: \"+m);k=\"relative\";continue}break;case \"relative\":this.B=!0;\"file\"!=this.h&&(this.h=g.h);if(void 0==m){this.j=g.j;this.m=g.m;this.l=g.l.slice();this.o=g.o;this.s=g.s;this.g=g.g;break a}else if(\"/\"==\nm||\"\\\\\"==m)\"\\\\\"==m&&h(\"\\\\ is an invalid code point.\"),k=\"relative slash\";else if(\"?\"==m)this.j=g.j,this.m=g.m,this.l=g.l.slice(),this.o=\"?\",this.s=g.s,this.g=g.g,k=\"query\";else if(\"#\"==m)this.j=g.j,this.m=g.m,this.l=g.l.slice(),this.o=g.o,this.v=\"#\",this.s=g.s,this.g=g.g,k=\"fragment\";else{k=a[x+1];var y=a[x+2];if(\"file\"!=this.h||!q.test(m)||\":\"!=k&&\"|\"!=k||void 0!=y&&\"/\"!=y&&\"\\\\\"!=y&&\"?\"!=y&&\"#\"!=y)this.j=g.j,this.m=g.m,this.s=g.s,this.g=g.g,this.l=g.l.slice(),this.l.pop();k=\"relative path\";continue}break;\ncase \"relative slash\":if(\"/\"==m||\"\\\\\"==m)\"\\\\\"==m&&h(\"\\\\ is an invalid code point.\"),k=\"file\"==this.h?\"file host\":\"authority ignore slashes\";else{\"file\"!=this.h&&(this.j=g.j,this.m=g.m,this.s=g.s,this.g=g.g);k=\"relative path\";continue}break;case \"authority first slash\":if(\"/\"==m)k=\"authority second slash\";else{h(\"Expected '/', got: \"+m);k=\"authority ignore slashes\";continue}break;case \"authority second slash\":k=\"authority ignore slashes\";if(\"/\"!=m){h(\"Expected '/', got: \"+m);continue}break;case \"authority ignore slashes\":if(\"/\"!=\nm&&\"\\\\\"!=m){k=\"authority\";continue}else h(\"Expected authority, got: \"+m);break;case \"authority\":if(\"@\"==m){v&&(h(\"@ already seen.\"),p+=\"%40\");v=!0;for(m=0;m<p.length;m++)y=p[m],\"\\t\"==y||\"\\n\"==y||\"\\r\"==y?h(\"Invalid whitespace in authority.\"):\":\"==y&&null===this.g?this.g=\"\":(y=c(y),null!==this.g?this.g+=y:this.s+=y);p=\"\"}else if(void 0==m||\"/\"==m||\"\\\\\"==m||\"?\"==m||\"#\"==m){x-=p.length;p=\"\";k=\"host\";continue}else p+=m;break;case \"file host\":if(void 0==m||\"/\"==m||\"\\\\\"==m||\"?\"==m||\"#\"==m){2!=p.length||\n!q.test(p[0])||\":\"!=p[1]&&\"|\"!=p[1]?(0!=p.length&&(this.j=b.call(this,p),p=\"\"),k=\"relative path start\"):k=\"relative path\";continue}else\"\\t\"==m||\"\\n\"==m||\"\\r\"==m?h(\"Invalid whitespace in file host.\"):p+=m;break;case \"host\":case \"hostname\":if(\":\"!=m||Q)if(void 0==m||\"/\"==m||\"\\\\\"==m||\"?\"==m||\"#\"==m){this.j=b.call(this,p);p=\"\";k=\"relative path start\";if(e)break a;continue}else\"\\t\"!=m&&\"\\n\"!=m&&\"\\r\"!=m?(\"[\"==m?Q=!0:\"]\"==m&&(Q=!1),p+=m):h(\"Invalid code point in host/hostname: \"+m);else if(this.j=b.call(this,\np),p=\"\",k=\"port\",\"hostname\"==e)break a;break;case \"port\":if(/[0-9]/.test(m))p+=m;else if(void 0==m||\"/\"==m||\"\\\\\"==m||\"?\"==m||\"#\"==m||e){\"\"!=p&&(p=parseInt(p,10),p!=l[this.h]&&(this.m=p+\"\"),p=\"\");if(e)break a;k=\"relative path start\";continue}else\"\\t\"==m||\"\\n\"==m||\"\\r\"==m?h(\"Invalid code point in port: \"+m):(f.call(this),this.i=!0);break;case \"relative path start\":\"\\\\\"==m&&h(\"'\\\\' not allowed in path.\");k=\"relative path\";if(\"/\"!=m&&\"\\\\\"!=m)continue;break;case \"relative path\":if(void 0!=m&&\"/\"!=m&&\"\\\\\"!=\nm&&(e||\"?\"!=m&&\"#\"!=m))\"\\t\"!=m&&\"\\n\"!=m&&\"\\r\"!=m&&(p+=c(m));else{\"\\\\\"==m&&h(\"\\\\ not allowed in relative path.\");if(y=n[p.toLowerCase()])p=y;\"..\"==p?(this.l.pop(),\"/\"!=m&&\"\\\\\"!=m&&this.l.push(\"\")):\".\"==p&&\"/\"!=m&&\"\\\\\"!=m?this.l.push(\"\"):\".\"!=p&&(\"file\"==this.h&&0==this.l.length&&2==p.length&&q.test(p[0])&&\"|\"==p[1]&&(p=p[0]+\":\"),this.l.push(p));p=\"\";\"?\"==m?(this.o=\"?\",k=\"query\"):\"#\"==m&&(this.v=\"#\",k=\"fragment\")}break;case \"query\":e||\"#\"!=m?void 0!=m&&\"\\t\"!=m&&\"\\n\"!=m&&\"\\r\"!=m&&(this.o+=d(m)):(this.v=\n\"#\",k=\"fragment\");break;case \"fragment\":void 0!=m&&\"\\t\"!=m&&\"\\n\"!=m&&\"\\r\"!=m&&(this.v+=m)}x++}}function f(){this.s=this.ia=this.h=\"\";this.g=null;this.m=this.j=\"\";this.l=[];this.v=this.o=\"\";this.B=this.i=!1}function g(a,b){void 0===b||b instanceof g||(b=new g(String(b)));this.a=a;f.call(this);a=this.a.replace(/^[ \\t\\r\\n\\f]+|[ \\t\\r\\n\\f]+$/g,\"\");e.call(this,a,null,b)}var h=!1;try{var k=new URL(\"b\",\"http://a\");k.pathname=\"c%20d\";h=\"http://a/c%20d\"===k.href}catch(x){}if(!h){var l=Object.create(null);l.ftp=\n21;l.file=0;l.gopher=70;l.http=80;l.https=443;l.ws=80;l.wss=443;var n=Object.create(null);n[\"%2e\"]=\".\";n[\".%2e\"]=\"..\";n[\"%2e.\"]=\"..\";n[\"%2e%2e\"]=\"..\";var q=/[a-zA-Z]/,I=/[a-zA-Z0-9\\+\\-\\.]/;g.prototype={toString:function(){return this.href},get href(){if(this.i)return this.a;var a=\"\";if(\"\"!=this.s||null!=this.g)a=this.s+(null!=this.g?\":\"+this.g:\"\")+\"@\";return this.protocol+(this.B?\"//\"+a+this.host:\"\")+this.pathname+this.o+this.v},set href(a){f.call(this);e.call(this,a)},get protocol(){return this.h+\n\":\"},set protocol(a){this.i||e.call(this,a+\":\",\"scheme start\")},get host(){return this.i?\"\":this.m?this.j+\":\"+this.m:this.j},set host(a){!this.i&&this.B&&e.call(this,a,\"host\")},get hostname(){return this.j},set hostname(a){!this.i&&this.B&&e.call(this,a,\"hostname\")},get port(){return this.m},set port(a){!this.i&&this.B&&e.call(this,a,\"port\")},get pathname(){return this.i?\"\":this.B?\"/\"+this.l.join(\"/\"):this.ia},set pathname(a){!this.i&&this.B&&(this.l=[],e.call(this,a,\"relative path start\"))},get search(){return this.i||\n!this.o||\"?\"==this.o?\"\":this.o},set search(a){!this.i&&this.B&&(this.o=\"?\",\"?\"==a[0]&&(a=a.slice(1)),e.call(this,a,\"query\"))},get hash(){return this.i||!this.v||\"#\"==this.v?\"\":this.v},set hash(a){this.i||(a?(this.v=\"#\",\"#\"==a[0]&&(a=a.slice(1)),e.call(this,a,\"fragment\")):this.v=\"\")},get origin(){var a;if(this.i||!this.h)return\"\";switch(this.h){case \"data\":case \"file\":case \"javascript\":case \"mailto\":return\"null\"}return(a=this.host)?this.h+\"://\"+a:\"\"}};var v=a.URL;v&&(g.createObjectURL=function(a){return v.createObjectURL.apply(v,\narguments)},g.revokeObjectURL=function(a){v.revokeObjectURL(a)});a.URL=g}})(window);Object.getOwnPropertyDescriptor(Node.prototype,\"baseURI\")||Object.defineProperty(Node.prototype,\"baseURI\",{get:function(){var a=(this.ownerDocument||this).querySelector(\"base[href]\");return a&&a.href||window.location.href},configurable:!0,enumerable:!0});var ph=document.createElement(\"style\");ph.textContent=\"body {transition: opacity ease-in 0.2s; } \\nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \\n\";var qh=document.querySelector(\"head\");qh.insertBefore(ph,qh.firstChild);var rh=window.customElements,sh=!1,th=null;rh.polyfillWrapFlushCallback&&rh.polyfillWrapFlushCallback(function(a){th=a;sh&&a()});function uh(){window.HTMLTemplateElement.bootstrap&&window.HTMLTemplateElement.bootstrap(window.document);th&&th();sh=!0;window.WebComponents.ready=!0;document.dispatchEvent(new CustomEvent(\"WebComponentsReady\",{bubbles:!0}))}\n\"complete\"!==document.readyState?(window.addEventListener(\"load\",uh),window.addEventListener(\"DOMContentLoaded\",function(){window.removeEventListener(\"load\",uh);uh()})):uh();}).call(this);\n\n//# sourceMappingURL=webcomponents-bundle.js.map\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n(function() {\n  'use strict';\n\n  /**\n   * Basic flow of the loader process\n   *\n   * There are 4 flows the loader can take when booting up\n   *\n   * - Synchronous script, no polyfills needed\n   *   - wait for `DOMContentLoaded`\n   *   - fire WCR event, as there could not be any callbacks passed to `waitFor`\n   *\n   * - Synchronous script, polyfills needed\n   *   - document.write the polyfill bundle\n   *   - wait on the `load` event of the bundle to batch Custom Element upgrades\n   *   - wait for `DOMContentLoaded`\n   *   - run callbacks passed to `waitFor`\n   *   - fire WCR event\n   *\n   * - Asynchronous script, no polyfills needed\n   *   - wait for `DOMContentLoaded`\n   *   - run callbacks passed to `waitFor`\n   *   - fire WCR event\n   *\n   * - Asynchronous script, polyfills needed\n   *   - Append the polyfill bundle script\n   *   - wait for `load` event of the bundle\n   *   - batch Custom Element Upgrades\n   *   - run callbacks pass to `waitFor`\n   *   - fire WCR event\n   */\n\n  var polyfillsLoaded = false;\n  var whenLoadedFns = [];\n  var allowUpgrades = false;\n  var flushFn;\n\n  function fireEvent() {\n    window.WebComponents.ready = true;\n    document.dispatchEvent(new CustomEvent('WebComponentsReady', { bubbles: true }));\n  }\n\n  function batchCustomElements() {\n    if (window.customElements && customElements.polyfillWrapFlushCallback) {\n      customElements.polyfillWrapFlushCallback(function (flushCallback) {\n        flushFn = flushCallback;\n        if (allowUpgrades) {\n          flushFn();\n        }\n      });\n    }\n  }\n\n  function asyncReady() {\n    batchCustomElements();\n    ready();\n  }\n\n  function ready() {\n    // bootstrap <template> elements before custom elements\n    if (window.HTMLTemplateElement && HTMLTemplateElement.bootstrap) {\n      HTMLTemplateElement.bootstrap(window.document);\n    }\n    polyfillsLoaded = true;\n    runWhenLoadedFns().then(fireEvent);\n  }\n\n  function runWhenLoadedFns() {\n    allowUpgrades = false;\n    var fnsMap = whenLoadedFns.map(function(fn) {\n      return fn instanceof Function ? fn() : fn;\n    });\n    whenLoadedFns = [];\n    return Promise.all(fnsMap).then(function() {\n      allowUpgrades = true;\n      flushFn && flushFn();\n    }).catch(function(err) {\n      console.error(err);\n    });\n  }\n\n  window.WebComponents = window.WebComponents || {};\n  window.WebComponents.ready = window.WebComponents.ready || false;\n  window.WebComponents.waitFor = window.WebComponents.waitFor || function(waitFn) {\n    if (!waitFn) {\n      return;\n    }\n    whenLoadedFns.push(waitFn);\n    if (polyfillsLoaded) {\n      runWhenLoadedFns();\n    }\n  };\n  window.WebComponents._batchCustomElements = batchCustomElements;\n\n  var name = 'webcomponents-loader.js';\n  // Feature detect which polyfill needs to be imported.\n  var polyfills = [];\n  if (!('attachShadow' in Element.prototype && 'getRootNode' in Element.prototype) ||\n    (window.ShadyDOM && window.ShadyDOM.force)) {\n    polyfills.push('sd');\n  }\n  if (!window.customElements || window.customElements.forcePolyfill) {\n    polyfills.push('ce');\n  }\n\n  var needsTemplate = (function() {\n    // no real <template> because no `content` property (IE and older browsers)\n    var t = document.createElement('template');\n    if (!('content' in t)) {\n      return true;\n    }\n    // broken doc fragment (older Edge)\n    if (!(t.content.cloneNode() instanceof DocumentFragment)) {\n      return true;\n    }\n    // broken <template> cloning (Edge up to at least version 17)\n    var t2 = document.createElement('template');\n    t2.content.appendChild(document.createElement('div'));\n    t.content.appendChild(t2);\n    var clone = t.cloneNode(true);\n    return (clone.content.childNodes.length === 0 ||\n        clone.content.firstChild.content.childNodes.length === 0);\n  })();\n\n  // NOTE: any browser that does not have template or ES6 features\n  // must load the full suite of polyfills.\n  if (!window.Promise || !Array.from || !window.URL || !window.Symbol || needsTemplate) {\n    polyfills = ['sd-ce-pf'];\n  }\n\n  if (polyfills.length) {\n    var url;\n    var polyfillFile = 'bundles/webcomponents-' + polyfills.join('-') + '.js';\n\n    // Load it from the right place.\n    if (window.WebComponents.root) {\n      url = window.WebComponents.root + polyfillFile;\n    } else {\n      var script = document.querySelector('script[src*=\"' + name +'\"]');\n      // Load it from the right place.\n      url = script.src.replace(name, polyfillFile);\n    }\n\n    var newScript = document.createElement('script');\n    newScript.src = url;\n    // if readyState is 'loading', this script is synchronous\n    if (document.readyState === 'loading') {\n      // make sure custom elements are batched whenever parser gets to the injected script\n      newScript.setAttribute('onload', 'window.WebComponents._batchCustomElements()');\n      document.write(newScript.outerHTML);\n      document.addEventListener('DOMContentLoaded', ready);\n    } else {\n      newScript.addEventListener('load', function () {\n        asyncReady();\n      });\n      newScript.addEventListener('error', function () {\n        throw new Error('Could not load polyfill bundle' + url);\n      });\n      document.head.appendChild(newScript);\n    }\n  } else {\n    // if readyState is 'complete', script is loaded imperatively on a spec-compliant browser, so just fire WCR\n    if (document.readyState === 'complete') {\n      polyfillsLoaded = true;\n      fireEvent();\n    } else {\n      // this script may come between DCL and load, so listen for both, and cancel load listener if DCL fires\n      window.addEventListener('load', ready);\n      window.addEventListener('DOMContentLoaded', function() {\n        window.removeEventListener('load', ready);\n        ready();\n      })\n    }\n  }\n})();\n","/*\n * International Telephone Input v16.0.2\n * https://github.com/jackocnr/intl-tel-input.git\n * Licensed under the MIT license\n */\n\n// wrap in UMD\n(function(factory) {\n    var intlTelInput = factory(window, document);\n    if (typeof module === \"object\" && module.exports) module.exports = intlTelInput; else window.intlTelInput = intlTelInput;\n})(function(window, document, undefined) {\n    \"use strict\";\n    return function() {\n        // Array of country objects for the flag dropdown.\n        // Here is the criteria for the plugin to support a given country/territory\n        // - It has an iso2 code: https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\n        // - It has it's own country calling code (it is not a sub-region of another country): https://en.wikipedia.org/wiki/List_of_country_calling_codes\n        // - It has a flag in the region-flags project: https://github.com/behdad/region-flags/tree/gh-pages/png\n        // - It is supported by libphonenumber (it must be listed on this page): https://github.com/googlei18n/libphonenumber/blob/master/resources/ShortNumberMetadata.xml\n        // Each country array has the following information:\n        // [\n        //    Country name,\n        //    iso2 code,\n        //    International dial code,\n        //    Order (if >1 country with same dial code),\n        //    Area codes\n        // ]\n        var allCountries = [ [ \"Afghanistan (‫افغانستان‬‎)\", \"af\", \"93\" ], [ \"Albania (Shqipëri)\", \"al\", \"355\" ], [ \"Algeria (‫الجزائر‬‎)\", \"dz\", \"213\" ], [ \"American Samoa\", \"as\", \"1\", 5, [ \"684\" ] ], [ \"Andorra\", \"ad\", \"376\" ], [ \"Angola\", \"ao\", \"244\" ], [ \"Anguilla\", \"ai\", \"1\", 6, [ \"264\" ] ], [ \"Antigua and Barbuda\", \"ag\", \"1\", 7, [ \"268\" ] ], [ \"Argentina\", \"ar\", \"54\" ], [ \"Armenia (Հայաստան)\", \"am\", \"374\" ], [ \"Aruba\", \"aw\", \"297\" ], [ \"Australia\", \"au\", \"61\", 0 ], [ \"Austria (Österreich)\", \"at\", \"43\" ], [ \"Azerbaijan (Azərbaycan)\", \"az\", \"994\" ], [ \"Bahamas\", \"bs\", \"1\", 8, [ \"242\" ] ], [ \"Bahrain (‫البحرين‬‎)\", \"bh\", \"973\" ], [ \"Bangladesh (বাংলাদেশ)\", \"bd\", \"880\" ], [ \"Barbados\", \"bb\", \"1\", 9, [ \"246\" ] ], [ \"Belarus (Беларусь)\", \"by\", \"375\" ], [ \"Belgium (België)\", \"be\", \"32\" ], [ \"Belize\", \"bz\", \"501\" ], [ \"Benin (Bénin)\", \"bj\", \"229\" ], [ \"Bermuda\", \"bm\", \"1\", 10, [ \"441\" ] ], [ \"Bhutan (འབྲུག)\", \"bt\", \"975\" ], [ \"Bolivia\", \"bo\", \"591\" ], [ \"Bosnia and Herzegovina (Босна и Херцеговина)\", \"ba\", \"387\" ], [ \"Botswana\", \"bw\", \"267\" ], [ \"Brazil (Brasil)\", \"br\", \"55\" ], [ \"British Indian Ocean Territory\", \"io\", \"246\" ], [ \"British Virgin Islands\", \"vg\", \"1\", 11, [ \"284\" ] ], [ \"Brunei\", \"bn\", \"673\" ], [ \"Bulgaria (България)\", \"bg\", \"359\" ], [ \"Burkina Faso\", \"bf\", \"226\" ], [ \"Burundi (Uburundi)\", \"bi\", \"257\" ], [ \"Cambodia (កម្ពុជា)\", \"kh\", \"855\" ], [ \"Cameroon (Cameroun)\", \"cm\", \"237\" ], [ \"Canada\", \"ca\", \"1\", 1, [ \"204\", \"226\", \"236\", \"249\", \"250\", \"289\", \"306\", \"343\", \"365\", \"387\", \"403\", \"416\", \"418\", \"431\", \"437\", \"438\", \"450\", \"506\", \"514\", \"519\", \"548\", \"579\", \"581\", \"587\", \"604\", \"613\", \"639\", \"647\", \"672\", \"705\", \"709\", \"742\", \"778\", \"780\", \"782\", \"807\", \"819\", \"825\", \"867\", \"873\", \"902\", \"905\" ] ], [ \"Cape Verde (Kabu Verdi)\", \"cv\", \"238\" ], [ \"Caribbean Netherlands\", \"bq\", \"599\", 1, [ \"3\", \"4\", \"7\" ] ], [ \"Cayman Islands\", \"ky\", \"1\", 12, [ \"345\" ] ], [ \"Central African Republic (République centrafricaine)\", \"cf\", \"236\" ], [ \"Chad (Tchad)\", \"td\", \"235\" ], [ \"Chile\", \"cl\", \"56\" ], [ \"China (中国)\", \"cn\", \"86\" ], [ \"Christmas Island\", \"cx\", \"61\", 2 ], [ \"Cocos (Keeling) Islands\", \"cc\", \"61\", 1 ], [ \"Colombia\", \"co\", \"57\" ], [ \"Comoros (‫جزر القمر‬‎)\", \"km\", \"269\" ], [ \"Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)\", \"cd\", \"243\" ], [ \"Congo (Republic) (Congo-Brazzaville)\", \"cg\", \"242\" ], [ \"Cook Islands\", \"ck\", \"682\" ], [ \"Costa Rica\", \"cr\", \"506\" ], [ \"Côte d’Ivoire\", \"ci\", \"225\" ], [ \"Croatia (Hrvatska)\", \"hr\", \"385\" ], [ \"Cuba\", \"cu\", \"53\" ], [ \"Curaçao\", \"cw\", \"599\", 0 ], [ \"Cyprus (Κύπρος)\", \"cy\", \"357\" ], [ \"Czech Republic (Česká republika)\", \"cz\", \"420\" ], [ \"Denmark (Danmark)\", \"dk\", \"45\" ], [ \"Djibouti\", \"dj\", \"253\" ], [ \"Dominica\", \"dm\", \"1\", 13, [ \"767\" ] ], [ \"Dominican Republic (República Dominicana)\", \"do\", \"1\", 2, [ \"809\", \"829\", \"849\" ] ], [ \"Ecuador\", \"ec\", \"593\" ], [ \"Egypt (‫مصر‬‎)\", \"eg\", \"20\" ], [ \"El Salvador\", \"sv\", \"503\" ], [ \"Equatorial Guinea (Guinea Ecuatorial)\", \"gq\", \"240\" ], [ \"Eritrea\", \"er\", \"291\" ], [ \"Estonia (Eesti)\", \"ee\", \"372\" ], [ \"Ethiopia\", \"et\", \"251\" ], [ \"Falkland Islands (Islas Malvinas)\", \"fk\", \"500\" ], [ \"Faroe Islands (Føroyar)\", \"fo\", \"298\" ], [ \"Fiji\", \"fj\", \"679\" ], [ \"Finland (Suomi)\", \"fi\", \"358\", 0 ], [ \"France\", \"fr\", \"33\" ], [ \"French Guiana (Guyane française)\", \"gf\", \"594\" ], [ \"French Polynesia (Polynésie française)\", \"pf\", \"689\" ], [ \"Gabon\", \"ga\", \"241\" ], [ \"Gambia\", \"gm\", \"220\" ], [ \"Georgia (საქართველო)\", \"ge\", \"995\" ], [ \"Germany (Deutschland)\", \"de\", \"49\" ], [ \"Ghana (Gaana)\", \"gh\", \"233\" ], [ \"Gibraltar\", \"gi\", \"350\" ], [ \"Greece (Ελλάδα)\", \"gr\", \"30\" ], [ \"Greenland (Kalaallit Nunaat)\", \"gl\", \"299\" ], [ \"Grenada\", \"gd\", \"1\", 14, [ \"473\" ] ], [ \"Guadeloupe\", \"gp\", \"590\", 0 ], [ \"Guam\", \"gu\", \"1\", 15, [ \"671\" ] ], [ \"Guatemala\", \"gt\", \"502\" ], [ \"Guernsey\", \"gg\", \"44\", 1, [ \"1481\", \"7781\", \"7839\", \"7911\" ] ], [ \"Guinea (Guinée)\", \"gn\", \"224\" ], [ \"Guinea-Bissau (Guiné Bissau)\", \"gw\", \"245\" ], [ \"Guyana\", \"gy\", \"592\" ], [ \"Haiti\", \"ht\", \"509\" ], [ \"Honduras\", \"hn\", \"504\" ], [ \"Hong Kong (香港)\", \"hk\", \"852\" ], [ \"Hungary (Magyarország)\", \"hu\", \"36\" ], [ \"Iceland (Ísland)\", \"is\", \"354\" ], [ \"India (भारत)\", \"in\", \"91\" ], [ \"Indonesia\", \"id\", \"62\" ], [ \"Iran (‫ایران‬‎)\", \"ir\", \"98\" ], [ \"Iraq (‫العراق‬‎)\", \"iq\", \"964\" ], [ \"Ireland\", \"ie\", \"353\" ], [ \"Isle of Man\", \"im\", \"44\", 2, [ \"1624\", \"74576\", \"7524\", \"7924\", \"7624\" ] ], [ \"Israel (‫ישראל‬‎)\", \"il\", \"972\" ], [ \"Italy (Italia)\", \"it\", \"39\", 0 ], [ \"Jamaica\", \"jm\", \"1\", 4, [ \"876\", \"658\" ] ], [ \"Japan (日本)\", \"jp\", \"81\" ], [ \"Jersey\", \"je\", \"44\", 3, [ \"1534\", \"7509\", \"7700\", \"7797\", \"7829\", \"7937\" ] ], [ \"Jordan (‫الأردن‬‎)\", \"jo\", \"962\" ], [ \"Kazakhstan (Казахстан)\", \"kz\", \"7\", 1, [ \"33\", \"7\" ] ], [ \"Kenya\", \"ke\", \"254\" ], [ \"Kiribati\", \"ki\", \"686\" ], [ \"Kosovo\", \"xk\", \"383\" ], [ \"Kuwait (‫الكويت‬‎)\", \"kw\", \"965\" ], [ \"Kyrgyzstan (Кыргызстан)\", \"kg\", \"996\" ], [ \"Laos (ລາວ)\", \"la\", \"856\" ], [ \"Latvia (Latvija)\", \"lv\", \"371\" ], [ \"Lebanon (‫لبنان‬‎)\", \"lb\", \"961\" ], [ \"Lesotho\", \"ls\", \"266\" ], [ \"Liberia\", \"lr\", \"231\" ], [ \"Libya (‫ليبيا‬‎)\", \"ly\", \"218\" ], [ \"Liechtenstein\", \"li\", \"423\" ], [ \"Lithuania (Lietuva)\", \"lt\", \"370\" ], [ \"Luxembourg\", \"lu\", \"352\" ], [ \"Macau (澳門)\", \"mo\", \"853\" ], [ \"Macedonia (FYROM) (Македонија)\", \"mk\", \"389\" ], [ \"Madagascar (Madagasikara)\", \"mg\", \"261\" ], [ \"Malawi\", \"mw\", \"265\" ], [ \"Malaysia\", \"my\", \"60\" ], [ \"Maldives\", \"mv\", \"960\" ], [ \"Mali\", \"ml\", \"223\" ], [ \"Malta\", \"mt\", \"356\" ], [ \"Marshall Islands\", \"mh\", \"692\" ], [ \"Martinique\", \"mq\", \"596\" ], [ \"Mauritania (‫موريتانيا‬‎)\", \"mr\", \"222\" ], [ \"Mauritius (Moris)\", \"mu\", \"230\" ], [ \"Mayotte\", \"yt\", \"262\", 1, [ \"269\", \"639\" ] ], [ \"Mexico (México)\", \"mx\", \"52\" ], [ \"Micronesia\", \"fm\", \"691\" ], [ \"Moldova (Republica Moldova)\", \"md\", \"373\" ], [ \"Monaco\", \"mc\", \"377\" ], [ \"Mongolia (Монгол)\", \"mn\", \"976\" ], [ \"Montenegro (Crna Gora)\", \"me\", \"382\" ], [ \"Montserrat\", \"ms\", \"1\", 16, [ \"664\" ] ], [ \"Morocco (‫المغرب‬‎)\", \"ma\", \"212\", 0 ], [ \"Mozambique (Moçambique)\", \"mz\", \"258\" ], [ \"Myanmar (Burma) (မြန်မာ)\", \"mm\", \"95\" ], [ \"Namibia (Namibië)\", \"na\", \"264\" ], [ \"Nauru\", \"nr\", \"674\" ], [ \"Nepal (नेपाल)\", \"np\", \"977\" ], [ \"Netherlands (Nederland)\", \"nl\", \"31\" ], [ \"New Caledonia (Nouvelle-Calédonie)\", \"nc\", \"687\" ], [ \"New Zealand\", \"nz\", \"64\" ], [ \"Nicaragua\", \"ni\", \"505\" ], [ \"Niger (Nijar)\", \"ne\", \"227\" ], [ \"Nigeria\", \"ng\", \"234\" ], [ \"Niue\", \"nu\", \"683\" ], [ \"Norfolk Island\", \"nf\", \"672\" ], [ \"North Korea (조선 민주주의 인민 공화국)\", \"kp\", \"850\" ], [ \"Northern Mariana Islands\", \"mp\", \"1\", 17, [ \"670\" ] ], [ \"Norway (Norge)\", \"no\", \"47\", 0 ], [ \"Oman (‫عُمان‬‎)\", \"om\", \"968\" ], [ \"Pakistan (‫پاکستان‬‎)\", \"pk\", \"92\" ], [ \"Palau\", \"pw\", \"680\" ], [ \"Palestine (‫فلسطين‬‎)\", \"ps\", \"970\" ], [ \"Panama (Panamá)\", \"pa\", \"507\" ], [ \"Papua New Guinea\", \"pg\", \"675\" ], [ \"Paraguay\", \"py\", \"595\" ], [ \"Peru (Perú)\", \"pe\", \"51\" ], [ \"Philippines\", \"ph\", \"63\" ], [ \"Poland (Polska)\", \"pl\", \"48\" ], [ \"Portugal\", \"pt\", \"351\" ], [ \"Puerto Rico\", \"pr\", \"1\", 3, [ \"787\", \"939\" ] ], [ \"Qatar (‫قطر‬‎)\", \"qa\", \"974\" ], [ \"Réunion (La Réunion)\", \"re\", \"262\", 0 ], [ \"Romania (România)\", \"ro\", \"40\" ], [ \"Russia (Россия)\", \"ru\", \"7\", 0 ], [ \"Rwanda\", \"rw\", \"250\" ], [ \"Saint Barthélemy\", \"bl\", \"590\", 1 ], [ \"Saint Helena\", \"sh\", \"290\" ], [ \"Saint Kitts and Nevis\", \"kn\", \"1\", 18, [ \"869\" ] ], [ \"Saint Lucia\", \"lc\", \"1\", 19, [ \"758\" ] ], [ \"Saint Martin (Saint-Martin (partie française))\", \"mf\", \"590\", 2 ], [ \"Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)\", \"pm\", \"508\" ], [ \"Saint Vincent and the Grenadines\", \"vc\", \"1\", 20, [ \"784\" ] ], [ \"Samoa\", \"ws\", \"685\" ], [ \"San Marino\", \"sm\", \"378\" ], [ \"São Tomé and Príncipe (São Tomé e Príncipe)\", \"st\", \"239\" ], [ \"Saudi Arabia (‫المملكة العربية السعودية‬‎)\", \"sa\", \"966\" ], [ \"Senegal (Sénégal)\", \"sn\", \"221\" ], [ \"Serbia (Србија)\", \"rs\", \"381\" ], [ \"Seychelles\", \"sc\", \"248\" ], [ \"Sierra Leone\", \"sl\", \"232\" ], [ \"Singapore\", \"sg\", \"65\" ], [ \"Sint Maarten\", \"sx\", \"1\", 21, [ \"721\" ] ], [ \"Slovakia (Slovensko)\", \"sk\", \"421\" ], [ \"Slovenia (Slovenija)\", \"si\", \"386\" ], [ \"Solomon Islands\", \"sb\", \"677\" ], [ \"Somalia (Soomaaliya)\", \"so\", \"252\" ], [ \"South Africa\", \"za\", \"27\" ], [ \"South Korea (대한민국)\", \"kr\", \"82\" ], [ \"South Sudan (‫جنوب السودان‬‎)\", \"ss\", \"211\" ], [ \"Spain (España)\", \"es\", \"34\" ], [ \"Sri Lanka (ශ්‍රී ලංකාව)\", \"lk\", \"94\" ], [ \"Sudan (‫السودان‬‎)\", \"sd\", \"249\" ], [ \"Suriname\", \"sr\", \"597\" ], [ \"Svalbard and Jan Mayen\", \"sj\", \"47\", 1, [ \"79\" ] ], [ \"Swaziland\", \"sz\", \"268\" ], [ \"Sweden (Sverige)\", \"se\", \"46\" ], [ \"Switzerland (Schweiz)\", \"ch\", \"41\" ], [ \"Syria (‫سوريا‬‎)\", \"sy\", \"963\" ], [ \"Taiwan (台灣)\", \"tw\", \"886\" ], [ \"Tajikistan\", \"tj\", \"992\" ], [ \"Tanzania\", \"tz\", \"255\" ], [ \"Thailand (ไทย)\", \"th\", \"66\" ], [ \"Timor-Leste\", \"tl\", \"670\" ], [ \"Togo\", \"tg\", \"228\" ], [ \"Tokelau\", \"tk\", \"690\" ], [ \"Tonga\", \"to\", \"676\" ], [ \"Trinidad and Tobago\", \"tt\", \"1\", 22, [ \"868\" ] ], [ \"Tunisia (‫تونس‬‎)\", \"tn\", \"216\" ], [ \"Turkey (Türkiye)\", \"tr\", \"90\" ], [ \"Turkmenistan\", \"tm\", \"993\" ], [ \"Turks and Caicos Islands\", \"tc\", \"1\", 23, [ \"649\" ] ], [ \"Tuvalu\", \"tv\", \"688\" ], [ \"U.S. Virgin Islands\", \"vi\", \"1\", 24, [ \"340\" ] ], [ \"Uganda\", \"ug\", \"256\" ], [ \"Ukraine (Україна)\", \"ua\", \"380\" ], [ \"United Arab Emirates (‫الإمارات العربية المتحدة‬‎)\", \"ae\", \"971\" ], [ \"United Kingdom\", \"gb\", \"44\", 0 ], [ \"United States\", \"us\", \"1\", 0 ], [ \"Uruguay\", \"uy\", \"598\" ], [ \"Uzbekistan (Oʻzbekiston)\", \"uz\", \"998\" ], [ \"Vanuatu\", \"vu\", \"678\" ], [ \"Vatican City (Città del Vaticano)\", \"va\", \"39\", 1, [ \"06698\" ] ], [ \"Venezuela\", \"ve\", \"58\" ], [ \"Vietnam (Việt Nam)\", \"vn\", \"84\" ], [ \"Wallis and Futuna (Wallis-et-Futuna)\", \"wf\", \"681\" ], [ \"Western Sahara (‫الصحراء الغربية‬‎)\", \"eh\", \"212\", 1, [ \"5288\", \"5289\" ] ], [ \"Yemen (‫اليمن‬‎)\", \"ye\", \"967\" ], [ \"Zambia\", \"zm\", \"260\" ], [ \"Zimbabwe\", \"zw\", \"263\" ], [ \"Åland Islands\", \"ax\", \"358\", 1, [ \"18\" ] ] ];\n        // loop over all of the countries above, restructuring the data to be objects with named keys\n        for (var i = 0; i < allCountries.length; i++) {\n            var c = allCountries[i];\n            allCountries[i] = {\n                name: c[0],\n                iso2: c[1],\n                dialCode: c[2],\n                priority: c[3] || 0,\n                areaCodes: c[4] || null\n            };\n        }\n        \"use strict\";\n        function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\");\n            }\n        }\n        function _defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n        function _createClass(Constructor, protoProps, staticProps) {\n            if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) _defineProperties(Constructor, staticProps);\n            return Constructor;\n        }\n        window.intlTelInputGlobals = {\n            getInstance: function getInstance(input) {\n                var id = input.getAttribute(\"data-intl-tel-input-id\");\n                return window.intlTelInputGlobals.instances[id];\n            },\n            instances: {}\n        };\n        // these vars persist through all instances of the plugin\n        var id = 0;\n        var defaults = {\n            // whether or not to allow the dropdown\n            allowDropdown: true,\n            // if there is just a dial code in the input: remove it on blur\n            autoHideDialCode: true,\n            // add a placeholder in the input with an example number for the selected country\n            autoPlaceholder: \"polite\",\n            // modify the parentClass\n            customContainer: \"\",\n            // modify the auto placeholder\n            customPlaceholder: null,\n            // append menu to specified element\n            dropdownContainer: null,\n            // don't display these countries\n            excludeCountries: [],\n            // format the input value during initialisation and on setNumber\n            formatOnDisplay: true,\n            // geoIp lookup function\n            geoIpLookup: null,\n            // inject a hidden input with this name, and on submit, populate it with the result of getNumber\n            hiddenInput: \"\",\n            // initial country\n            initialCountry: \"\",\n            // localized country names e.g. { 'de': 'Deutschland' }\n            localizedCountries: null,\n            // don't insert international dial codes\n            nationalMode: true,\n            // display only these countries\n            onlyCountries: [],\n            // number type to use for placeholders\n            placeholderNumberType: \"MOBILE\",\n            // the countries at the top of the list. defaults to united states and united kingdom\n            preferredCountries: [ \"us\", \"gb\" ],\n            // display the country dial code next to the selected flag so it's not part of the typed number\n            separateDialCode: false,\n            // specify the path to the libphonenumber script to enable validation/formatting\n            utilsScript: \"\"\n        };\n        // https://en.wikipedia.org/wiki/List_of_North_American_Numbering_Plan_area_codes#Non-geographic_area_codes\n        var regionlessNanpNumbers = [ \"800\", \"822\", \"833\", \"844\", \"855\", \"866\", \"877\", \"880\", \"881\", \"882\", \"883\", \"884\", \"885\", \"886\", \"887\", \"888\", \"889\" ];\n        // keep track of if the window.load event has fired as impossible to check after the fact\n        window.addEventListener(\"load\", function() {\n            // UPDATE: use a public static field so we can fudge it in the tests\n            window.intlTelInputGlobals.windowLoaded = true;\n        });\n        // utility function to iterate over an object. can't use Object.entries or native forEach because\n        // of IE11\n        var forEachProp = function forEachProp(obj, callback) {\n            var keys = Object.keys(obj);\n            for (var i = 0; i < keys.length; i++) {\n                callback(keys[i], obj[keys[i]]);\n            }\n        };\n        // run a method on each instance of the plugin\n        var forEachInstance = function forEachInstance(method) {\n            forEachProp(window.intlTelInputGlobals.instances, function(key) {\n                window.intlTelInputGlobals.instances[key][method]();\n            });\n        };\n        // this is our plugin class that we will create an instance of\n        // eslint-disable-next-line no-unused-vars\n        var Iti = /*#__PURE__*/\n        function() {\n            function Iti(input, options) {\n                var _this = this;\n                _classCallCheck(this, Iti);\n                this.id = id++;\n                this.telInput = input;\n                this.activeItem = null;\n                this.highlightedItem = null;\n                // process specified options / defaults\n                // alternative to Object.assign, which isn't supported by IE11\n                var customOptions = options || {};\n                this.options = {};\n                forEachProp(defaults, function(key, value) {\n                    _this.options[key] = customOptions.hasOwnProperty(key) ? customOptions[key] : value;\n                });\n                this.hadInitialPlaceholder = Boolean(input.getAttribute(\"placeholder\"));\n            }\n            _createClass(Iti, [ {\n                key: \"_init\",\n                value: function _init() {\n                    var _this2 = this;\n                    // if in nationalMode, disable options relating to dial codes\n                    if (this.options.nationalMode) this.options.autoHideDialCode = false;\n                    // if separateDialCode then doesn't make sense to A) insert dial code into input\n                    // (autoHideDialCode), and B) display national numbers (because we're displaying the country\n                    // dial code next to them)\n                    if (this.options.separateDialCode) {\n                        this.options.autoHideDialCode = this.options.nationalMode = false;\n                    }\n                    // we cannot just test screen size as some smartphones/website meta tags will report desktop\n                    // resolutions\n                    // Note: for some reason jasmine breaks if you put this in the main Plugin function with the\n                    // rest of these declarations\n                    // Note: to target Android Mobiles (and not Tablets), we must find 'Android' and 'Mobile'\n                    this.isMobile = /Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n                    if (this.isMobile) {\n                        // trigger the mobile dropdown css\n                        document.body.classList.add(\"iti-mobile\");\n                        // on mobile, we want a full screen dropdown, so we must append it to the body\n                        if (!this.options.dropdownContainer) this.options.dropdownContainer = document.body;\n                    }\n                    // these promises get resolved when their individual requests complete\n                    // this way the dev can do something like iti.promise.then(...) to know when all requests are\n                    // complete\n                    if (typeof Promise !== \"undefined\") {\n                        var autoCountryPromise = new Promise(function(resolve, reject) {\n                            _this2.resolveAutoCountryPromise = resolve;\n                            _this2.rejectAutoCountryPromise = reject;\n                        });\n                        var utilsScriptPromise = new Promise(function(resolve, reject) {\n                            _this2.resolveUtilsScriptPromise = resolve;\n                            _this2.rejectUtilsScriptPromise = reject;\n                        });\n                        this.promise = Promise.all([ autoCountryPromise, utilsScriptPromise ]);\n                    } else {\n                        // prevent errors when Promise doesn't exist\n                        this.resolveAutoCountryPromise = this.rejectAutoCountryPromise = function() {};\n                        this.resolveUtilsScriptPromise = this.rejectUtilsScriptPromise = function() {};\n                    }\n                    // in various situations there could be no country selected initially, but we need to be able\n                    // to assume this variable exists\n                    this.selectedCountryData = {};\n                    // process all the data: onlyCountries, excludeCountries, preferredCountries etc\n                    this._processCountryData();\n                    // generate the markup\n                    this._generateMarkup();\n                    // set the initial state of the input value and the selected flag\n                    this._setInitialState();\n                    // start all of the event listeners: autoHideDialCode, input keydown, selectedFlag click\n                    this._initListeners();\n                    // utils script, and auto country\n                    this._initRequests();\n                }\n            }, {\n                key: \"_processCountryData\",\n                value: function _processCountryData() {\n                    // process onlyCountries or excludeCountries array if present\n                    this._processAllCountries();\n                    // process the countryCodes map\n                    this._processCountryCodes();\n                    // process the preferredCountries\n                    this._processPreferredCountries();\n                    // translate countries according to localizedCountries option\n                    if (this.options.localizedCountries) this._translateCountriesByLocale();\n                    // sort countries by name\n                    if (this.options.onlyCountries.length || this.options.localizedCountries) {\n                        this.countries.sort(this._countryNameSort);\n                    }\n                }\n            }, {\n                key: \"_addCountryCode\",\n                value: function _addCountryCode(iso2, dialCode, priority) {\n                    if (dialCode.length > this.dialCodeMaxLen) {\n                        this.dialCodeMaxLen = dialCode.length;\n                    }\n                    if (!this.countryCodes.hasOwnProperty(dialCode)) {\n                        this.countryCodes[dialCode] = [];\n                    }\n                    // bail if we already have this country for this dialCode\n                    for (var i = 0; i < this.countryCodes[dialCode].length; i++) {\n                        if (this.countryCodes[dialCode][i] === iso2) return;\n                    }\n                    // check for undefined as 0 is falsy\n                    var index = priority !== undefined ? priority : this.countryCodes[dialCode].length;\n                    this.countryCodes[dialCode][index] = iso2;\n                }\n            }, {\n                key: \"_processAllCountries\",\n                value: function _processAllCountries() {\n                    if (this.options.onlyCountries.length) {\n                        var lowerCaseOnlyCountries = this.options.onlyCountries.map(function(country) {\n                            return country.toLowerCase();\n                        });\n                        this.countries = allCountries.filter(function(country) {\n                            return lowerCaseOnlyCountries.indexOf(country.iso2) > -1;\n                        });\n                    } else if (this.options.excludeCountries.length) {\n                        var lowerCaseExcludeCountries = this.options.excludeCountries.map(function(country) {\n                            return country.toLowerCase();\n                        });\n                        this.countries = allCountries.filter(function(country) {\n                            return lowerCaseExcludeCountries.indexOf(country.iso2) === -1;\n                        });\n                    } else {\n                        this.countries = allCountries;\n                    }\n                }\n            }, {\n                key: \"_translateCountriesByLocale\",\n                value: function _translateCountriesByLocale() {\n                    for (var i = 0; i < this.countries.length; i++) {\n                        var iso = this.countries[i].iso2.toLowerCase();\n                        if (this.options.localizedCountries.hasOwnProperty(iso)) {\n                            this.countries[i].name = this.options.localizedCountries[iso];\n                        }\n                    }\n                }\n            }, {\n                key: \"_countryNameSort\",\n                value: function _countryNameSort(a, b) {\n                    return a.name.localeCompare(b.name);\n                }\n            }, {\n                key: \"_processCountryCodes\",\n                value: function _processCountryCodes() {\n                    this.dialCodeMaxLen = 0;\n                    this.countryCodes = {};\n                    // first: add dial codes\n                    for (var i = 0; i < this.countries.length; i++) {\n                        var c = this.countries[i];\n                        this._addCountryCode(c.iso2, c.dialCode, c.priority);\n                    }\n                    // next: add area codes\n                    // this is a second loop over countries, to make sure we have all of the \"root\" countries\n                    // already in the map, so that we can access them, as each time we add an area code substring\n                    // to the map, we also need to include the \"root\" country's code, as that also matches\n                    for (var _i = 0; _i < this.countries.length; _i++) {\n                        var _c = this.countries[_i];\n                        // area codes\n                        if (_c.areaCodes) {\n                            var rootCountryCode = this.countryCodes[_c.dialCode][0];\n                            // for each area code\n                            for (var j = 0; j < _c.areaCodes.length; j++) {\n                                var areaCode = _c.areaCodes[j];\n                                // for each digit in the area code to add all partial matches as well\n                                for (var k = 1; k < areaCode.length; k++) {\n                                    var partialDialCode = _c.dialCode + areaCode.substr(0, k);\n                                    // start with the root country, as that also matches this dial code\n                                    this._addCountryCode(rootCountryCode, partialDialCode);\n                                    this._addCountryCode(_c.iso2, partialDialCode);\n                                }\n                                // add the full area code\n                                this._addCountryCode(_c.iso2, _c.dialCode + areaCode);\n                            }\n                        }\n                    }\n                }\n            }, {\n                key: \"_processPreferredCountries\",\n                value: function _processPreferredCountries() {\n                    this.preferredCountries = [];\n                    for (var i = 0; i < this.options.preferredCountries.length; i++) {\n                        var countryCode = this.options.preferredCountries[i].toLowerCase();\n                        var countryData = this._getCountryData(countryCode, false, true);\n                        if (countryData) this.preferredCountries.push(countryData);\n                    }\n                }\n            }, {\n                key: \"_createEl\",\n                value: function _createEl(name, attrs, container) {\n                    var el = document.createElement(name);\n                    if (attrs) forEachProp(attrs, function(key, value) {\n                        return el.setAttribute(key, value);\n                    });\n                    if (container) container.appendChild(el);\n                    return el;\n                }\n            }, {\n                key: \"_generateMarkup\",\n                value: function _generateMarkup() {\n                    // prevent autocomplete as there's no safe, cross-browser event we can react to, so it can\n                    // easily put the plugin in an inconsistent state e.g. the wrong flag selected for the\n                    // autocompleted number, which on submit could mean wrong number is saved (esp in nationalMode)\n                    this.telInput.setAttribute(\"autocomplete\", \"off\");\n                    // containers (mostly for positioning)\n                    var parentClass = \"iti\";\n                    if (this.options.allowDropdown) parentClass += \" iti--allow-dropdown\";\n                    if (this.options.separateDialCode) parentClass += \" iti--separate-dial-code\";\n                    if (this.options.customContainer) {\n                        parentClass += \" \";\n                        parentClass += this.options.customContainer;\n                    }\n                    var wrapper = this._createEl(\"div\", {\n                        \"class\": parentClass\n                    });\n                    this.telInput.parentNode.insertBefore(wrapper, this.telInput);\n                    this.flagsContainer = this._createEl(\"div\", {\n                        \"class\": \"iti__flag-container\"\n                    }, wrapper);\n                    wrapper.appendChild(this.telInput);\n                    // selected flag (displayed to left of input)\n                    this.selectedFlag = this._createEl(\"div\", {\n                        \"class\": \"iti__selected-flag\",\n                        role: \"combobox\",\n                        \"aria-owns\": \"country-listbox\"\n                    }, this.flagsContainer);\n                    this.selectedFlagInner = this._createEl(\"div\", {\n                        \"class\": \"iti__flag\"\n                    }, this.selectedFlag);\n                    if (this.options.separateDialCode) {\n                        this.selectedDialCode = this._createEl(\"div\", {\n                            \"class\": \"iti__selected-dial-code\"\n                        }, this.selectedFlag);\n                    }\n                    if (this.options.allowDropdown) {\n                        // make element focusable and tab navigable\n                        this.selectedFlag.setAttribute(\"tabindex\", \"0\");\n                        this.dropdownArrow = this._createEl(\"div\", {\n                            \"class\": \"iti__arrow\"\n                        }, this.selectedFlag);\n                        // country dropdown: preferred countries, then divider, then all countries\n                        this.countryList = this._createEl(\"ul\", {\n                            \"class\": \"iti__country-list iti__hide\",\n                            id: \"country-listbox\",\n                            \"aria-expanded\": \"false\",\n                            role: \"listbox\"\n                        });\n                        if (this.preferredCountries.length) {\n                            this._appendListItems(this.preferredCountries, \"iti__preferred\");\n                            this._createEl(\"li\", {\n                                \"class\": \"iti__divider\",\n                                role: \"separator\",\n                                \"aria-disabled\": \"true\"\n                            }, this.countryList);\n                        }\n                        this._appendListItems(this.countries, \"iti__standard\");\n                        // create dropdownContainer markup\n                        if (this.options.dropdownContainer) {\n                            this.dropdown = this._createEl(\"div\", {\n                                \"class\": \"iti iti--container\"\n                            });\n                            this.dropdown.appendChild(this.countryList);\n                        } else {\n                            this.flagsContainer.appendChild(this.countryList);\n                        }\n                    }\n                    if (this.options.hiddenInput) {\n                        var hiddenInputName = this.options.hiddenInput;\n                        var name = this.telInput.getAttribute(\"name\");\n                        if (name) {\n                            var i = name.lastIndexOf(\"[\");\n                            // if input name contains square brackets, then give the hidden input the same name,\n                            // replacing the contents of the last set of brackets with the given hiddenInput name\n                            if (i !== -1) hiddenInputName = \"\".concat(name.substr(0, i), \"[\").concat(hiddenInputName, \"]\");\n                        }\n                        this.hiddenInput = this._createEl(\"input\", {\n                            type: \"hidden\",\n                            name: hiddenInputName\n                        });\n                        wrapper.appendChild(this.hiddenInput);\n                    }\n                }\n            }, {\n                key: \"_appendListItems\",\n                value: function _appendListItems(countries, className) {\n                    // we create so many DOM elements, it is faster to build a temp string\n                    // and then add everything to the DOM in one go at the end\n                    var tmp = \"\";\n                    // for each country\n                    for (var i = 0; i < countries.length; i++) {\n                        var c = countries[i];\n                        // open the list item\n                        tmp += \"<li class='iti__country \".concat(className, \"' tabIndex='-1' id='iti-item-\").concat(c.iso2, \"' role='option' data-dial-code='\").concat(c.dialCode, \"' data-country-code='\").concat(c.iso2, \"'>\");\n                        // add the flag\n                        tmp += \"<div class='iti__flag-box'><div class='iti__flag iti__\".concat(c.iso2, \"'></div></div>\");\n                        // and the country name and dial code\n                        tmp += \"<span class='iti__country-name'>\".concat(c.name, \"</span>\");\n                        tmp += \"<span class='iti__dial-code'>+\".concat(c.dialCode, \"</span>\");\n                        // close the list item\n                        tmp += \"</li>\";\n                    }\n                    this.countryList.insertAdjacentHTML(\"beforeend\", tmp);\n                }\n            }, {\n                key: \"_setInitialState\",\n                value: function _setInitialState() {\n                    var val = this.telInput.value;\n                    var dialCode = this._getDialCode(val);\n                    var isRegionlessNanp = this._isRegionlessNanp(val);\n                    var _this$options = this.options, initialCountry = _this$options.initialCountry, nationalMode = _this$options.nationalMode, autoHideDialCode = _this$options.autoHideDialCode, separateDialCode = _this$options.separateDialCode;\n                    // if we already have a dial code, and it's not a regionlessNanp, we can go ahead and set the\n                    // flag, else fall back to the default country\n                    if (dialCode && !isRegionlessNanp) {\n                        this._updateFlagFromNumber(val);\n                    } else if (initialCountry !== \"auto\") {\n                        // see if we should select a flag\n                        if (initialCountry) {\n                            this._setFlag(initialCountry.toLowerCase());\n                        } else {\n                            if (dialCode && isRegionlessNanp) {\n                                // has intl dial code, is regionless nanp, and no initialCountry, so default to US\n                                this._setFlag(\"us\");\n                            } else {\n                                // no dial code and no initialCountry, so default to first in list\n                                this.defaultCountry = this.preferredCountries.length ? this.preferredCountries[0].iso2 : this.countries[0].iso2;\n                                if (!val) {\n                                    this._setFlag(this.defaultCountry);\n                                }\n                            }\n                        }\n                        // if empty and no nationalMode and no autoHideDialCode then insert the default dial code\n                        if (!val && !nationalMode && !autoHideDialCode && !separateDialCode) {\n                            this.telInput.value = \"+\".concat(this.selectedCountryData.dialCode);\n                        }\n                    }\n                    // NOTE: if initialCountry is set to auto, that will be handled separately\n                    // format - note this wont be run after _updateDialCode as that's only called if no val\n                    if (val) this._updateValFromNumber(val);\n                }\n            }, {\n                key: \"_initListeners\",\n                value: function _initListeners() {\n                    this._initKeyListeners();\n                    if (this.options.autoHideDialCode) this._initBlurListeners();\n                    if (this.options.allowDropdown) this._initDropdownListeners();\n                    if (this.hiddenInput) this._initHiddenInputListener();\n                }\n            }, {\n                key: \"_initHiddenInputListener\",\n                value: function _initHiddenInputListener() {\n                    var _this3 = this;\n                    this._handleHiddenInputSubmit = function() {\n                        _this3.hiddenInput.value = _this3.getNumber();\n                    };\n                    if (this.telInput.form) this.telInput.form.addEventListener(\"submit\", this._handleHiddenInputSubmit);\n                }\n            }, {\n                key: \"_getClosestLabel\",\n                value: function _getClosestLabel() {\n                    var el = this.telInput;\n                    while (el && el.tagName !== \"LABEL\") {\n                        el = el.parentNode;\n                    }\n                    return el;\n                }\n            }, {\n                key: \"_initDropdownListeners\",\n                value: function _initDropdownListeners() {\n                    var _this4 = this;\n                    // hack for input nested inside label (which is valid markup): clicking the selected-flag to\n                    // open the dropdown would then automatically trigger a 2nd click on the input which would\n                    // close it again\n                    this._handleLabelClick = function(e) {\n                        // if the dropdown is closed, then focus the input, else ignore the click\n                        if (_this4.countryList.classList.contains(\"iti__hide\")) _this4.telInput.focus(); else e.preventDefault();\n                    };\n                    var label = this._getClosestLabel();\n                    if (label) label.addEventListener(\"click\", this._handleLabelClick);\n                    // toggle country dropdown on click\n                    this._handleClickSelectedFlag = function() {\n                        // only intercept this event if we're opening the dropdown\n                        // else let it bubble up to the top (\"click-off-to-close\" listener)\n                        // we cannot just stopPropagation as it may be needed to close another instance\n                        if (_this4.countryList.classList.contains(\"iti__hide\") && !_this4.telInput.disabled && !_this4.telInput.readOnly) {\n                            _this4._showDropdown();\n                        }\n                    };\n                    this.selectedFlag.addEventListener(\"click\", this._handleClickSelectedFlag);\n                    // open dropdown list if currently focused\n                    this._handleFlagsContainerKeydown = function(e) {\n                        var isDropdownHidden = _this4.countryList.classList.contains(\"iti__hide\");\n                        if (isDropdownHidden && [ \"ArrowUp\", \"ArrowDown\", \" \", \"Enter\" ].indexOf(e.key) !== -1) {\n                            // prevent form from being submitted if \"ENTER\" was pressed\n                            e.preventDefault();\n                            // prevent event from being handled again by document\n                            e.stopPropagation();\n                            _this4._showDropdown();\n                        }\n                        // allow navigation from dropdown to input on TAB\n                        if (e.key === \"Tab\") _this4._closeDropdown();\n                    };\n                    this.flagsContainer.addEventListener(\"keydown\", this._handleFlagsContainerKeydown);\n                }\n            }, {\n                key: \"_initRequests\",\n                value: function _initRequests() {\n                    var _this5 = this;\n                    // if the user has specified the path to the utils script, fetch it on window.load, else resolve\n                    if (this.options.utilsScript && !window.intlTelInputUtils) {\n                        // if the plugin is being initialised after the window.load event has already been fired\n                        if (window.intlTelInputGlobals.windowLoaded) {\n                            window.intlTelInputGlobals.loadUtils(this.options.utilsScript);\n                        } else {\n                            // wait until the load event so we don't block any other requests e.g. the flags image\n                            window.addEventListener(\"load\", function() {\n                                window.intlTelInputGlobals.loadUtils(_this5.options.utilsScript);\n                            });\n                        }\n                    } else this.resolveUtilsScriptPromise();\n                    if (this.options.initialCountry === \"auto\") this._loadAutoCountry(); else this.resolveAutoCountryPromise();\n                }\n            }, {\n                key: \"_loadAutoCountry\",\n                value: function _loadAutoCountry() {\n                    // 3 options:\n                    // 1) already loaded (we're done)\n                    // 2) not already started loading (start)\n                    // 3) already started loading (do nothing - just wait for loading callback to fire)\n                    if (window.intlTelInputGlobals.autoCountry) {\n                        this.handleAutoCountry();\n                    } else if (!window.intlTelInputGlobals.startedLoadingAutoCountry) {\n                        // don't do this twice!\n                        window.intlTelInputGlobals.startedLoadingAutoCountry = true;\n                        if (typeof this.options.geoIpLookup === \"function\") {\n                            this.options.geoIpLookup(function(countryCode) {\n                                window.intlTelInputGlobals.autoCountry = countryCode.toLowerCase();\n                                // tell all instances the auto country is ready\n                                // TODO: this should just be the current instances\n                                // UPDATE: use setTimeout in case their geoIpLookup function calls this callback straight\n                                // away (e.g. if they have already done the geo ip lookup somewhere else). Using\n                                // setTimeout means that the current thread of execution will finish before executing\n                                // this, which allows the plugin to finish initialising.\n                                setTimeout(function() {\n                                    return forEachInstance(\"handleAutoCountry\");\n                                });\n                            }, function() {\n                                return forEachInstance(\"rejectAutoCountryPromise\");\n                            });\n                        }\n                    }\n                }\n            }, {\n                key: \"_initKeyListeners\",\n                value: function _initKeyListeners() {\n                    var _this6 = this;\n                    // update flag on keyup\n                    this._handleKeyupEvent = function() {\n                        if (_this6._updateFlagFromNumber(_this6.telInput.value)) {\n                            _this6._triggerCountryChange();\n                        }\n                    };\n                    this.telInput.addEventListener(\"keyup\", this._handleKeyupEvent);\n                    // update flag on cut/paste events (now supported in all major browsers)\n                    this._handleClipboardEvent = function() {\n                        // hack because \"paste\" event is fired before input is updated\n                        setTimeout(_this6._handleKeyupEvent);\n                    };\n                    this.telInput.addEventListener(\"cut\", this._handleClipboardEvent);\n                    this.telInput.addEventListener(\"paste\", this._handleClipboardEvent);\n                }\n            }, {\n                key: \"_cap\",\n                value: function _cap(number) {\n                    var max = this.telInput.getAttribute(\"maxlength\");\n                    return max && number.length > max ? number.substr(0, max) : number;\n                }\n            }, {\n                key: \"_initBlurListeners\",\n                value: function _initBlurListeners() {\n                    var _this7 = this;\n                    // on blur or form submit: if just a dial code then remove it\n                    this._handleSubmitOrBlurEvent = function() {\n                        _this7._removeEmptyDialCode();\n                    };\n                    if (this.telInput.form) this.telInput.form.addEventListener(\"submit\", this._handleSubmitOrBlurEvent);\n                    this.telInput.addEventListener(\"blur\", this._handleSubmitOrBlurEvent);\n                }\n            }, {\n                key: \"_removeEmptyDialCode\",\n                value: function _removeEmptyDialCode() {\n                    if (this.telInput.value.charAt(0) === \"+\") {\n                        var numeric = this._getNumeric(this.telInput.value);\n                        // if just a plus, or if just a dial code\n                        if (!numeric || this.selectedCountryData.dialCode === numeric) {\n                            this.telInput.value = \"\";\n                        }\n                    }\n                }\n            }, {\n                key: \"_getNumeric\",\n                value: function _getNumeric(s) {\n                    return s.replace(/\\D/g, \"\");\n                }\n            }, {\n                key: \"_trigger\",\n                value: function _trigger(name) {\n                    // have to use old school document.createEvent as IE11 doesn't support `new Event()` syntax\n                    var e = document.createEvent(\"Event\");\n                    e.initEvent(name, true, true);\n                    // can bubble, and is cancellable\n                    this.telInput.dispatchEvent(e);\n                }\n            }, {\n                key: \"_showDropdown\",\n                value: function _showDropdown() {\n                    this.countryList.classList.remove(\"iti__hide\");\n                    this.countryList.setAttribute(\"aria-expanded\", \"true\");\n                    this._setDropdownPosition();\n                    // update highlighting and scroll to active list item\n                    if (this.activeItem) {\n                        this._highlightListItem(this.activeItem, false);\n                        this._scrollTo(this.activeItem, true);\n                    }\n                    // bind all the dropdown-related listeners: mouseover, click, click-off, keydown\n                    this._bindDropdownListeners();\n                    // update the arrow\n                    this.dropdownArrow.classList.add(\"iti__arrow--up\");\n                    this._trigger(\"open:countrydropdown\");\n                }\n            }, {\n                key: \"_toggleClass\",\n                value: function _toggleClass(el, className, shouldHaveClass) {\n                    if (shouldHaveClass && !el.classList.contains(className)) el.classList.add(className); else if (!shouldHaveClass && el.classList.contains(className)) el.classList.remove(className);\n                }\n            }, {\n                key: \"_setDropdownPosition\",\n                value: function _setDropdownPosition() {\n                    var _this8 = this;\n                    if (this.options.dropdownContainer) {\n                        this.options.dropdownContainer.appendChild(this.dropdown);\n                    }\n                    if (!this.isMobile) {\n                        var pos = this.telInput.getBoundingClientRect();\n                        // windowTop from https://stackoverflow.com/a/14384091/217866\n                        var windowTop = window.pageYOffset || document.documentElement.scrollTop;\n                        var inputTop = pos.top + windowTop;\n                        var dropdownHeight = this.countryList.offsetHeight;\n                        // dropdownFitsBelow = (dropdownBottom < windowBottom)\n                        var dropdownFitsBelow = inputTop + this.telInput.offsetHeight + dropdownHeight < windowTop + window.innerHeight;\n                        var dropdownFitsAbove = inputTop - dropdownHeight > windowTop;\n                        // by default, the dropdown will be below the input. If we want to position it above the\n                        // input, we add the dropup class.\n                        this._toggleClass(this.countryList, \"iti__country-list--dropup\", !dropdownFitsBelow && dropdownFitsAbove);\n                        // if dropdownContainer is enabled, calculate postion\n                        if (this.options.dropdownContainer) {\n                            // by default the dropdown will be directly over the input because it's not in the flow.\n                            // If we want to position it below, we need to add some extra top value.\n                            var extraTop = !dropdownFitsBelow && dropdownFitsAbove ? 0 : this.telInput.offsetHeight;\n                            // calculate placement\n                            this.dropdown.style.top = \"\".concat(inputTop + extraTop, \"px\");\n                            this.dropdown.style.left = \"\".concat(pos.left + document.body.scrollLeft, \"px\");\n                            // close menu on window scroll\n                            this._handleWindowScroll = function() {\n                                return _this8._closeDropdown();\n                            };\n                            window.addEventListener(\"scroll\", this._handleWindowScroll);\n                        }\n                    }\n                }\n            }, {\n                key: \"_getClosestListItem\",\n                value: function _getClosestListItem(target) {\n                    var el = target;\n                    while (el && el !== this.countryList && !el.classList.contains(\"iti__country\")) {\n                        el = el.parentNode;\n                    }\n                    // if we reached the countryList element, then return null\n                    return el === this.countryList ? null : el;\n                }\n            }, {\n                key: \"_bindDropdownListeners\",\n                value: function _bindDropdownListeners() {\n                    var _this9 = this;\n                    // when mouse over a list item, just highlight that one\n                    // we add the class \"highlight\", so if they hit \"enter\" we know which one to select\n                    this._handleMouseoverCountryList = function(e) {\n                        // handle event delegation, as we're listening for this event on the countryList\n                        var listItem = _this9._getClosestListItem(e.target);\n                        if (listItem) _this9._highlightListItem(listItem, false);\n                    };\n                    this.countryList.addEventListener(\"mouseover\", this._handleMouseoverCountryList);\n                    // listen for country selection\n                    this._handleClickCountryList = function(e) {\n                        var listItem = _this9._getClosestListItem(e.target);\n                        if (listItem) _this9._selectListItem(listItem);\n                    };\n                    this.countryList.addEventListener(\"click\", this._handleClickCountryList);\n                    // click off to close\n                    // (except when this initial opening click is bubbling up)\n                    // we cannot just stopPropagation as it may be needed to close another instance\n                    var isOpening = true;\n                    this._handleClickOffToClose = function() {\n                        if (!isOpening) _this9._closeDropdown();\n                        isOpening = false;\n                    };\n                    document.documentElement.addEventListener(\"click\", this._handleClickOffToClose);\n                    // listen for up/down scrolling, enter to select, or letters to jump to country name.\n                    // use keydown as keypress doesn't fire for non-char keys and we want to catch if they\n                    // just hit down and hold it to scroll down (no keyup event).\n                    // listen on the document because that's where key events are triggered if no input has focus\n                    var query = \"\";\n                    var queryTimer = null;\n                    this._handleKeydownOnDropdown = function(e) {\n                        // prevent down key from scrolling the whole page,\n                        // and enter key from submitting a form etc\n                        e.preventDefault();\n                        // up and down to navigate\n                        if (e.key === \"ArrowUp\" || e.key === \"ArrowDown\") _this9._handleUpDownKey(e.key); else if (e.key === \"Enter\") _this9._handleEnterKey(); else if (e.key === \"Escape\") _this9._closeDropdown(); else if (/^[a-zA-ZÀ-ÿ ]$/.test(e.key)) {\n                            // jump to countries that start with the query string\n                            if (queryTimer) clearTimeout(queryTimer);\n                            query += e.key.toLowerCase();\n                            _this9._searchForCountry(query);\n                            // if the timer hits 1 second, reset the query\n                            queryTimer = setTimeout(function() {\n                                query = \"\";\n                            }, 1e3);\n                        }\n                    };\n                    document.addEventListener(\"keydown\", this._handleKeydownOnDropdown);\n                }\n            }, {\n                key: \"_handleUpDownKey\",\n                value: function _handleUpDownKey(key) {\n                    var next = key === \"ArrowUp\" ? this.highlightedItem.previousElementSibling : this.highlightedItem.nextElementSibling;\n                    if (next) {\n                        // skip the divider\n                        if (next.classList.contains(\"iti__divider\")) {\n                            next = key === \"ArrowUp\" ? next.previousElementSibling : next.nextElementSibling;\n                        }\n                        this._highlightListItem(next, true);\n                    }\n                }\n            }, {\n                key: \"_handleEnterKey\",\n                value: function _handleEnterKey() {\n                    if (this.highlightedItem) this._selectListItem(this.highlightedItem);\n                }\n            }, {\n                key: \"_searchForCountry\",\n                value: function _searchForCountry(query) {\n                    for (var i = 0; i < this.countries.length; i++) {\n                        if (this._startsWith(this.countries[i].name, query)) {\n                            var listItem = this.countryList.querySelector(\"#iti-item-\".concat(this.countries[i].iso2));\n                            // update highlighting and scroll\n                            this._highlightListItem(listItem, false);\n                            this._scrollTo(listItem, true);\n                            break;\n                        }\n                    }\n                }\n            }, {\n                key: \"_startsWith\",\n                value: function _startsWith(a, b) {\n                    return a.substr(0, b.length).toLowerCase() === b;\n                }\n            }, {\n                key: \"_updateValFromNumber\",\n                value: function _updateValFromNumber(originalNumber) {\n                    var number = originalNumber;\n                    if (this.options.formatOnDisplay && window.intlTelInputUtils && this.selectedCountryData) {\n                        var useNational = !this.options.separateDialCode && (this.options.nationalMode || number.charAt(0) !== \"+\");\n                        var _intlTelInputUtils$nu = intlTelInputUtils.numberFormat, NATIONAL = _intlTelInputUtils$nu.NATIONAL, INTERNATIONAL = _intlTelInputUtils$nu.INTERNATIONAL;\n                        var format = useNational ? NATIONAL : INTERNATIONAL;\n                        number = intlTelInputUtils.formatNumber(number, this.selectedCountryData.iso2, format);\n                    }\n                    number = this._beforeSetNumber(number);\n                    this.telInput.value = number;\n                }\n            }, {\n                key: \"_updateFlagFromNumber\",\n                value: function _updateFlagFromNumber(originalNumber) {\n                    // if we're in nationalMode and we already have US/Canada selected, make sure the number starts\n                    // with a +1 so _getDialCode will be able to extract the area code\n                    // update: if we dont yet have selectedCountryData, but we're here (trying to update the flag\n                    // from the number), that means we're initialising the plugin with a number that already has a\n                    // dial code, so fine to ignore this bit\n                    var number = originalNumber;\n                    var selectedDialCode = this.selectedCountryData.dialCode;\n                    var isNanp = selectedDialCode === \"1\";\n                    if (number && this.options.nationalMode && isNanp && number.charAt(0) !== \"+\") {\n                        if (number.charAt(0) !== \"1\") number = \"1\".concat(number);\n                        number = \"+\".concat(number);\n                    }\n                    // update flag if user types area code for another country\n                    if (this.options.separateDialCode && selectedDialCode && number.charAt(0) !== \"+\") {\n                        number = \"+\".concat(selectedDialCode).concat(number);\n                    }\n                    // try and extract valid dial code from input\n                    var dialCode = this._getDialCode(number);\n                    var numeric = this._getNumeric(number);\n                    var countryCode = null;\n                    if (dialCode) {\n                        var countryCodes = this.countryCodes[this._getNumeric(dialCode)];\n                        // check if the right country is already selected. this should be false if the number is\n                        // longer than the matched dial code because in this case we need to make sure that if\n                        // there are multiple country matches, that the first one is selected (note: we could\n                        // just check that here, but it requires the same loop that we already have later)\n                        var alreadySelected = countryCodes.indexOf(this.selectedCountryData.iso2) !== -1 && numeric.length <= dialCode.length - 1;\n                        var isRegionlessNanpNumber = selectedDialCode === \"1\" && this._isRegionlessNanp(numeric);\n                        // only update the flag if:\n                        // A) NOT (we currently have a NANP flag selected, and the number is a regionlessNanp)\n                        // AND\n                        // B) the right country is not already selected\n                        if (!isRegionlessNanpNumber && !alreadySelected) {\n                            // if using onlyCountries option, countryCodes[0] may be empty, so we must find the first\n                            // non-empty index\n                            for (var j = 0; j < countryCodes.length; j++) {\n                                if (countryCodes[j]) {\n                                    countryCode = countryCodes[j];\n                                    break;\n                                }\n                            }\n                        }\n                    } else if (number.charAt(0) === \"+\" && numeric.length) {\n                        // invalid dial code, so empty\n                        // Note: use getNumeric here because the number has not been formatted yet, so could contain\n                        // bad chars\n                        countryCode = \"\";\n                    } else if (!number || number === \"+\") {\n                        // empty, or just a plus, so default\n                        countryCode = this.defaultCountry;\n                    }\n                    if (countryCode !== null) {\n                        return this._setFlag(countryCode);\n                    }\n                    return false;\n                }\n            }, {\n                key: \"_isRegionlessNanp\",\n                value: function _isRegionlessNanp(number) {\n                    var numeric = this._getNumeric(number);\n                    if (numeric.charAt(0) === \"1\") {\n                        var areaCode = numeric.substr(1, 3);\n                        return regionlessNanpNumbers.indexOf(areaCode) !== -1;\n                    }\n                    return false;\n                }\n            }, {\n                key: \"_highlightListItem\",\n                value: function _highlightListItem(listItem, shouldFocus) {\n                    var prevItem = this.highlightedItem;\n                    if (prevItem) prevItem.classList.remove(\"iti__highlight\");\n                    this.highlightedItem = listItem;\n                    this.highlightedItem.classList.add(\"iti__highlight\");\n                    if (shouldFocus) this.highlightedItem.focus();\n                }\n            }, {\n                key: \"_getCountryData\",\n                value: function _getCountryData(countryCode, ignoreOnlyCountriesOption, allowFail) {\n                    var countryList = ignoreOnlyCountriesOption ? allCountries : this.countries;\n                    for (var i = 0; i < countryList.length; i++) {\n                        if (countryList[i].iso2 === countryCode) {\n                            return countryList[i];\n                        }\n                    }\n                    if (allowFail) {\n                        return null;\n                    }\n                    throw new Error(\"No country data for '\".concat(countryCode, \"'\"));\n                }\n            }, {\n                key: \"_setFlag\",\n                value: function _setFlag(countryCode) {\n                    var prevCountry = this.selectedCountryData.iso2 ? this.selectedCountryData : {};\n                    // do this first as it will throw an error and stop if countryCode is invalid\n                    this.selectedCountryData = countryCode ? this._getCountryData(countryCode, false, false) : {};\n                    // update the defaultCountry - we only need the iso2 from now on, so just store that\n                    if (this.selectedCountryData.iso2) {\n                        this.defaultCountry = this.selectedCountryData.iso2;\n                    }\n                    this.selectedFlagInner.setAttribute(\"class\", \"iti__flag iti__\".concat(countryCode));\n                    // update the selected country's title attribute\n                    var title = countryCode ? \"\".concat(this.selectedCountryData.name, \": +\").concat(this.selectedCountryData.dialCode) : \"Unknown\";\n                    this.selectedFlag.setAttribute(\"title\", title);\n                    if (this.options.separateDialCode) {\n                        var dialCode = this.selectedCountryData.dialCode ? \"+\".concat(this.selectedCountryData.dialCode) : \"\";\n                        this.selectedDialCode.innerHTML = dialCode;\n                        // offsetWidth is zero if input is in a hidden container during initialisation\n                        var selectedFlagWidth = this.selectedFlag.offsetWidth || this._getHiddenSelectedFlagWidth();\n                        // add 6px of padding after the grey selected-dial-code box, as this is what we use in the css\n                        this.telInput.style.paddingLeft = \"\".concat(selectedFlagWidth + 6, \"px\");\n                    }\n                    // and the input's placeholder\n                    this._updatePlaceholder();\n                    // update the active list item\n                    if (this.options.allowDropdown) {\n                        var prevItem = this.activeItem;\n                        if (prevItem) {\n                            prevItem.classList.remove(\"iti__active\");\n                            prevItem.setAttribute(\"aria-selected\", \"false\");\n                        }\n                        if (countryCode) {\n                            var nextItem = this.countryList.querySelector(\"#iti-item-\".concat(countryCode));\n                            nextItem.setAttribute(\"aria-selected\", \"true\");\n                            nextItem.classList.add(\"iti__active\");\n                            this.activeItem = nextItem;\n                            this.countryList.setAttribute(\"aria-activedescendant\", nextItem.getAttribute(\"id\"));\n                        }\n                    }\n                    // return if the flag has changed or not\n                    return prevCountry.iso2 !== countryCode;\n                }\n            }, {\n                key: \"_getHiddenSelectedFlagWidth\",\n                value: function _getHiddenSelectedFlagWidth() {\n                    // to get the right styling to apply, all we need is a shallow clone of the container,\n                    // and then to inject a deep clone of the selectedFlag element\n                    var containerClone = this.telInput.parentNode.cloneNode();\n                    containerClone.style.visibility = \"hidden\";\n                    document.body.appendChild(containerClone);\n                    var selectedFlagClone = this.selectedFlag.cloneNode(true);\n                    containerClone.appendChild(selectedFlagClone);\n                    var width = selectedFlagClone.offsetWidth;\n                    containerClone.parentNode.removeChild(containerClone);\n                    return width;\n                }\n            }, {\n                key: \"_updatePlaceholder\",\n                value: function _updatePlaceholder() {\n                    var shouldSetPlaceholder = this.options.autoPlaceholder === \"aggressive\" || !this.hadInitialPlaceholder && this.options.autoPlaceholder === \"polite\";\n                    if (window.intlTelInputUtils && shouldSetPlaceholder) {\n                        var numberType = intlTelInputUtils.numberType[this.options.placeholderNumberType];\n                        var placeholder = this.selectedCountryData.iso2 ? intlTelInputUtils.getExampleNumber(this.selectedCountryData.iso2, this.options.nationalMode, numberType) : \"\";\n                        placeholder = this._beforeSetNumber(placeholder);\n                        if (typeof this.options.customPlaceholder === \"function\") {\n                            placeholder = this.options.customPlaceholder(placeholder, this.selectedCountryData);\n                        }\n                        this.telInput.setAttribute(\"placeholder\", placeholder);\n                    }\n                }\n            }, {\n                key: \"_selectListItem\",\n                value: function _selectListItem(listItem) {\n                    // update selected flag and active list item\n                    var flagChanged = this._setFlag(listItem.getAttribute(\"data-country-code\"));\n                    this._closeDropdown();\n                    this._updateDialCode(listItem.getAttribute(\"data-dial-code\"), true);\n                    // focus the input\n                    this.telInput.focus();\n                    // put cursor at end - this fix is required for FF and IE11 (with nationalMode=false i.e. auto\n                    // inserting dial code), who try to put the cursor at the beginning the first time\n                    var len = this.telInput.value.length;\n                    this.telInput.setSelectionRange(len, len);\n                    if (flagChanged) {\n                        this._triggerCountryChange();\n                    }\n                }\n            }, {\n                key: \"_closeDropdown\",\n                value: function _closeDropdown() {\n                    this.countryList.classList.add(\"iti__hide\");\n                    this.countryList.setAttribute(\"aria-expanded\", \"false\");\n                    // update the arrow\n                    this.dropdownArrow.classList.remove(\"iti__arrow--up\");\n                    // unbind key events\n                    document.removeEventListener(\"keydown\", this._handleKeydownOnDropdown);\n                    document.documentElement.removeEventListener(\"click\", this._handleClickOffToClose);\n                    this.countryList.removeEventListener(\"mouseover\", this._handleMouseoverCountryList);\n                    this.countryList.removeEventListener(\"click\", this._handleClickCountryList);\n                    // remove menu from container\n                    if (this.options.dropdownContainer) {\n                        if (!this.isMobile) window.removeEventListener(\"scroll\", this._handleWindowScroll);\n                        if (this.dropdown.parentNode) this.dropdown.parentNode.removeChild(this.dropdown);\n                    }\n                    this._trigger(\"close:countrydropdown\");\n                }\n            }, {\n                key: \"_scrollTo\",\n                value: function _scrollTo(element, middle) {\n                    var container = this.countryList;\n                    // windowTop from https://stackoverflow.com/a/14384091/217866\n                    var windowTop = window.pageYOffset || document.documentElement.scrollTop;\n                    var containerHeight = container.offsetHeight;\n                    var containerTop = container.getBoundingClientRect().top + windowTop;\n                    var containerBottom = containerTop + containerHeight;\n                    var elementHeight = element.offsetHeight;\n                    var elementTop = element.getBoundingClientRect().top + windowTop;\n                    var elementBottom = elementTop + elementHeight;\n                    var newScrollTop = elementTop - containerTop + container.scrollTop;\n                    var middleOffset = containerHeight / 2 - elementHeight / 2;\n                    if (elementTop < containerTop) {\n                        // scroll up\n                        if (middle) newScrollTop -= middleOffset;\n                        container.scrollTop = newScrollTop;\n                    } else if (elementBottom > containerBottom) {\n                        // scroll down\n                        if (middle) newScrollTop += middleOffset;\n                        var heightDifference = containerHeight - elementHeight;\n                        container.scrollTop = newScrollTop - heightDifference;\n                    }\n                }\n            }, {\n                key: \"_updateDialCode\",\n                value: function _updateDialCode(newDialCodeBare, hasSelectedListItem) {\n                    var inputVal = this.telInput.value;\n                    // save having to pass this every time\n                    var newDialCode = \"+\".concat(newDialCodeBare);\n                    var newNumber;\n                    if (inputVal.charAt(0) === \"+\") {\n                        // there's a plus so we're dealing with a replacement (doesn't matter if nationalMode or not)\n                        var prevDialCode = this._getDialCode(inputVal);\n                        if (prevDialCode) {\n                            // current number contains a valid dial code, so replace it\n                            newNumber = inputVal.replace(prevDialCode, newDialCode);\n                        } else {\n                            // current number contains an invalid dial code, so ditch it\n                            // (no way to determine where the invalid dial code ends and the rest of the number begins)\n                            newNumber = newDialCode;\n                        }\n                    } else if (this.options.nationalMode || this.options.separateDialCode) {\n                        // don't do anything\n                        return;\n                    } else {\n                        // nationalMode is disabled\n                        if (inputVal) {\n                            // there is an existing value with no dial code: prefix the new dial code\n                            newNumber = newDialCode + inputVal;\n                        } else if (hasSelectedListItem || !this.options.autoHideDialCode) {\n                            // no existing value and either they've just selected a list item, or autoHideDialCode is\n                            // disabled: insert new dial code\n                            newNumber = newDialCode;\n                        } else {\n                            return;\n                        }\n                    }\n                    this.telInput.value = newNumber;\n                }\n            }, {\n                key: \"_getDialCode\",\n                value: function _getDialCode(number) {\n                    var dialCode = \"\";\n                    // only interested in international numbers (starting with a plus)\n                    if (number.charAt(0) === \"+\") {\n                        var numericChars = \"\";\n                        // iterate over chars\n                        for (var i = 0; i < number.length; i++) {\n                            var c = number.charAt(i);\n                            // if char is number (https://stackoverflow.com/a/8935649/217866)\n                            if (!isNaN(parseInt(c, 10))) {\n                                numericChars += c;\n                                // if current numericChars make a valid dial code\n                                if (this.countryCodes[numericChars]) {\n                                    // store the actual raw string (useful for matching later)\n                                    dialCode = number.substr(0, i + 1);\n                                }\n                                if (numericChars.length === this.dialCodeMaxLen) {\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                    return dialCode;\n                }\n            }, {\n                key: \"_getFullNumber\",\n                value: function _getFullNumber() {\n                    var val = this.telInput.value.trim();\n                    var dialCode = this.selectedCountryData.dialCode;\n                    var prefix;\n                    var numericVal = this._getNumeric(val);\n                    if (this.options.separateDialCode && val.charAt(0) !== \"+\" && dialCode && numericVal) {\n                        // when using separateDialCode, it is visible so is effectively part of the typed number\n                        prefix = \"+\".concat(dialCode);\n                    } else {\n                        prefix = \"\";\n                    }\n                    return prefix + val;\n                }\n            }, {\n                key: \"_beforeSetNumber\",\n                value: function _beforeSetNumber(originalNumber) {\n                    var number = originalNumber;\n                    if (this.options.separateDialCode) {\n                        var dialCode = this._getDialCode(number);\n                        // if there is a valid dial code\n                        if (dialCode) {\n                            // in case _getDialCode returned an area code as well\n                            dialCode = \"+\".concat(this.selectedCountryData.dialCode);\n                            // a lot of numbers will have a space separating the dial code and the main number, and\n                            // some NANP numbers will have a hyphen e.g. +1 684-733-1234 - in both cases we want to get\n                            // rid of it\n                            // NOTE: don't just trim all non-numerics as may want to preserve an open parenthesis etc\n                            var start = number[dialCode.length] === \" \" || number[dialCode.length] === \"-\" ? dialCode.length + 1 : dialCode.length;\n                            number = number.substr(start);\n                        }\n                    }\n                    return this._cap(number);\n                }\n            }, {\n                key: \"_triggerCountryChange\",\n                value: function _triggerCountryChange() {\n                    this._trigger(\"countrychange\");\n                }\n            }, {\n                key: \"handleAutoCountry\",\n                value: function handleAutoCountry() {\n                    if (this.options.initialCountry === \"auto\") {\n                        // we must set this even if there is an initial val in the input: in case the initial val is\n                        // invalid and they delete it - they should see their auto country\n                        this.defaultCountry = window.intlTelInputGlobals.autoCountry;\n                        // if there's no initial value in the input, then update the flag\n                        if (!this.telInput.value) {\n                            this.setCountry(this.defaultCountry);\n                        }\n                        this.resolveAutoCountryPromise();\n                    }\n                }\n            }, {\n                key: \"handleUtils\",\n                value: function handleUtils() {\n                    // if the request was successful\n                    if (window.intlTelInputUtils) {\n                        // if there's an initial value in the input, then format it\n                        if (this.telInput.value) {\n                            this._updateValFromNumber(this.telInput.value);\n                        }\n                        this._updatePlaceholder();\n                    }\n                    this.resolveUtilsScriptPromise();\n                }\n            }, {\n                key: \"destroy\",\n                value: function destroy() {\n                    var form = this.telInput.form;\n                    if (this.options.allowDropdown) {\n                        // make sure the dropdown is closed (and unbind listeners)\n                        this._closeDropdown();\n                        this.selectedFlag.removeEventListener(\"click\", this._handleClickSelectedFlag);\n                        this.flagsContainer.removeEventListener(\"keydown\", this._handleFlagsContainerKeydown);\n                        // label click hack\n                        var label = this._getClosestLabel();\n                        if (label) label.removeEventListener(\"click\", this._handleLabelClick);\n                    }\n                    // unbind hiddenInput listeners\n                    if (this.hiddenInput && form) form.removeEventListener(\"submit\", this._handleHiddenInputSubmit);\n                    // unbind autoHideDialCode listeners\n                    if (this.options.autoHideDialCode) {\n                        if (form) form.removeEventListener(\"submit\", this._handleSubmitOrBlurEvent);\n                        this.telInput.removeEventListener(\"blur\", this._handleSubmitOrBlurEvent);\n                    }\n                    // unbind key events, and cut/paste events\n                    this.telInput.removeEventListener(\"keyup\", this._handleKeyupEvent);\n                    this.telInput.removeEventListener(\"cut\", this._handleClipboardEvent);\n                    this.telInput.removeEventListener(\"paste\", this._handleClipboardEvent);\n                    // remove attribute of id instance: data-intl-tel-input-id\n                    this.telInput.removeAttribute(\"data-intl-tel-input-id\");\n                    // remove markup (but leave the original input)\n                    var wrapper = this.telInput.parentNode;\n                    wrapper.parentNode.insertBefore(this.telInput, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                    delete window.intlTelInputGlobals.instances[this.id];\n                }\n            }, {\n                key: \"getExtension\",\n                value: function getExtension() {\n                    if (window.intlTelInputUtils) {\n                        return intlTelInputUtils.getExtension(this._getFullNumber(), this.selectedCountryData.iso2);\n                    }\n                    return \"\";\n                }\n            }, {\n                key: \"getNumber\",\n                value: function getNumber(format) {\n                    if (window.intlTelInputUtils) {\n                        var iso2 = this.selectedCountryData.iso2;\n                        return intlTelInputUtils.formatNumber(this._getFullNumber(), iso2, format);\n                    }\n                    return \"\";\n                }\n            }, {\n                key: \"getNumberType\",\n                value: function getNumberType() {\n                    if (window.intlTelInputUtils) {\n                        return intlTelInputUtils.getNumberType(this._getFullNumber(), this.selectedCountryData.iso2);\n                    }\n                    return -99;\n                }\n            }, {\n                key: \"getSelectedCountryData\",\n                value: function getSelectedCountryData() {\n                    return this.selectedCountryData;\n                }\n            }, {\n                key: \"getValidationError\",\n                value: function getValidationError() {\n                    if (window.intlTelInputUtils) {\n                        var iso2 = this.selectedCountryData.iso2;\n                        return intlTelInputUtils.getValidationError(this._getFullNumber(), iso2);\n                    }\n                    return -99;\n                }\n            }, {\n                key: \"isValidNumber\",\n                value: function isValidNumber() {\n                    var val = this._getFullNumber().trim();\n                    var countryCode = this.options.nationalMode ? this.selectedCountryData.iso2 : \"\";\n                    return window.intlTelInputUtils ? intlTelInputUtils.isValidNumber(val, countryCode) : null;\n                }\n            }, {\n                key: \"setCountry\",\n                value: function setCountry(originalCountryCode) {\n                    var countryCode = originalCountryCode.toLowerCase();\n                    // check if already selected\n                    if (!this.selectedFlagInner.classList.contains(\"iti__\".concat(countryCode))) {\n                        this._setFlag(countryCode);\n                        this._updateDialCode(this.selectedCountryData.dialCode, false);\n                        this._triggerCountryChange();\n                    }\n                }\n            }, {\n                key: \"setNumber\",\n                value: function setNumber(number) {\n                    // we must update the flag first, which updates this.selectedCountryData, which is used for\n                    // formatting the number before displaying it\n                    var flagChanged = this._updateFlagFromNumber(number);\n                    this._updateValFromNumber(number);\n                    if (flagChanged) {\n                        this._triggerCountryChange();\n                    }\n                }\n            }, {\n                key: \"setPlaceholderNumberType\",\n                value: function setPlaceholderNumberType(type) {\n                    this.options.placeholderNumberType = type;\n                    this._updatePlaceholder();\n                }\n            } ]);\n            return Iti;\n        }();\n        /********************\n *  STATIC METHODS\n ********************/\n        // get the country data object\n        window.intlTelInputGlobals.getCountryData = function() {\n            return allCountries;\n        };\n        // inject a <script> element to load utils.js\n        var injectScript = function injectScript(path, handleSuccess, handleFailure) {\n            // inject a new script element into the page\n            var script = document.createElement(\"script\");\n            script.onload = function() {\n                forEachInstance(\"handleUtils\");\n                if (handleSuccess) handleSuccess();\n            };\n            script.onerror = function() {\n                forEachInstance(\"rejectUtilsScriptPromise\");\n                if (handleFailure) handleFailure();\n            };\n            script.className = \"iti-load-utils\";\n            script.async = true;\n            script.src = path;\n            document.body.appendChild(script);\n        };\n        // load the utils script\n        window.intlTelInputGlobals.loadUtils = function(path) {\n            // 2 options:\n            // 1) not already started loading (start)\n            // 2) already started loading (do nothing - just wait for the onload callback to fire, which will\n            // trigger handleUtils on all instances, invoking their resolveUtilsScriptPromise functions)\n            if (!window.intlTelInputUtils && !window.intlTelInputGlobals.startedLoadingUtilsScript) {\n                // only do this once\n                window.intlTelInputGlobals.startedLoadingUtilsScript = true;\n                // if we have promises, then return a promise\n                if (typeof Promise !== \"undefined\") {\n                    return new Promise(function(resolve, reject) {\n                        return injectScript(path, resolve, reject);\n                    });\n                }\n                injectScript(path);\n            }\n            return null;\n        };\n        // default options\n        window.intlTelInputGlobals.defaults = defaults;\n        // version\n        window.intlTelInputGlobals.version = \"16.0.2\";\n        // convenience wrapper\n        return function(input, options) {\n            var iti = new Iti(input, options);\n            iti._init();\n            input.setAttribute(\"data-intl-tel-input-id\", iti.id);\n            window.intlTelInputGlobals.instances[iti.id] = iti;\n            return iti;\n        };\n    }();\n});","/**\n * Exposing intl-tel-input as a component\n */\nmodule.exports = require(\"./build/js/intlTelInput\");\n","// Composited file - DO NOT EDIT\n//----------------------------------------------------------------------\n//\n// ECMAScript 5 Polyfills\n//\n//----------------------------------------------------------------------\n\n//----------------------------------------------------------------------\n// ES5 15.2 Object Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.2.3 Properties of the Object Constructor\n//\n\n// ES5 15.2.3.2 Object.getPrototypeOf ( O )\n// From http://ejohn.org/blog/objectgetprototypeof/\n// NOTE: won't work for typical function T() {}; T.prototype = {}; new T; case\n// since the constructor property is destroyed.\nif (!Object.getPrototypeOf) {\n  Object.getPrototypeOf = function (o) {\n    if (o !== Object(o)) { throw TypeError(\"Object.getPrototypeOf called on non-object\"); }\n    return o.__proto__ || o.constructor.prototype || Object.prototype;\n  };\n}\n\n//    // ES5 15.2.3.3 Object.getOwnPropertyDescriptor ( O, P )\n//    if (typeof Object.getOwnPropertyDescriptor !== \"function\") {\n//        Object.getOwnPropertyDescriptor = function (o, name) {\n//            if (o !== Object(o)) { throw TypeError(); }\n//            if (o.hasOwnProperty(name)) {\n//                return {\n//                    value: o[name],\n//                    enumerable: true,\n//                    writable: true,\n//                    configurable: true\n//                };\n//            }\n//        };\n//    }\n\n// ES5 15.2.3.4 Object.getOwnPropertyNames ( O )\nif (typeof Object.getOwnPropertyNames !== \"function\") {\n  Object.getOwnPropertyNames = function (o) {\n    if (o !== Object(o)) { throw TypeError(\"Object.getOwnPropertyNames called on non-object\"); }\n    var props = [], p;\n    for (p in o) {\n      if (Object.prototype.hasOwnProperty.call(o, p)) {\n        props.push(p);\n      }\n    }\n    return props;\n  };\n}\n\n// ES5 15.2.3.5 Object.create ( O [, Properties] )\nif (typeof Object.create !== \"function\") {\n  Object.create = function (prototype, properties) {\n    if (typeof prototype !== \"object\") { throw TypeError(); }\n    function Ctor() {}\n    Ctor.prototype = prototype;\n    var o = new Ctor();\n    if (prototype) { o.constructor = Ctor; }\n    if (properties !== undefined) {\n      if (properties !== Object(properties)) { throw TypeError(); }\n      Object.defineProperties(o, properties);\n    }\n    return o;\n  };\n}\n\n// ES 15.2.3.6 Object.defineProperty ( O, P, Attributes )\n// Partial support for most common case - getters, setters, and values\n(function() {\n  if (!Object.defineProperty ||\n      !(function () { try { Object.defineProperty({}, 'x', {}); return true; } catch (e) { return false; } } ())) {\n    var orig = Object.defineProperty;\n    Object.defineProperty = function (o, prop, desc) {\n      // In IE8 try built-in implementation for defining properties on DOM prototypes.\n      if (orig) { try { return orig(o, prop, desc); } catch (e) {} }\n\n      if (o !== Object(o)) { throw TypeError(\"Object.defineProperty called on non-object\"); }\n      if (Object.prototype.__defineGetter__ && ('get' in desc)) {\n        Object.prototype.__defineGetter__.call(o, prop, desc.get);\n      }\n      if (Object.prototype.__defineSetter__ && ('set' in desc)) {\n        Object.prototype.__defineSetter__.call(o, prop, desc.set);\n      }\n      if ('value' in desc) {\n        o[prop] = desc.value;\n      }\n      return o;\n    };\n  }\n}());\n\n// ES 15.2.3.7 Object.defineProperties ( O, Properties )\nif (typeof Object.defineProperties !== \"function\") {\n  Object.defineProperties = function (o, properties) {\n    if (o !== Object(o)) { throw TypeError(\"Object.defineProperties called on non-object\"); }\n    var name;\n    for (name in properties) {\n      if (Object.prototype.hasOwnProperty.call(properties, name)) {\n        Object.defineProperty(o, name, properties[name]);\n      }\n    }\n    return o;\n  };\n}\n\n\n// ES5 15.2.3.14 Object.keys ( O )\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/keys\nif (!Object.keys) {\n  Object.keys = function (o) {\n    if (o !== Object(o)) { throw TypeError('Object.keys called on non-object'); }\n    var ret = [], p;\n    for (p in o) {\n      if (Object.prototype.hasOwnProperty.call(o, p)) {\n        ret.push(p);\n      }\n    }\n    return ret;\n  };\n}\n\n//----------------------------------------------------------------------\n// ES5 15.3 Function Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.3.4 Properties of the Function Prototype Object\n//\n\n// ES5 15.3.4.5 Function.prototype.bind ( thisArg [, arg1 [, arg2, ... ]] )\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/bind\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function (o) {\n    if (typeof this !== 'function') { throw TypeError(\"Bind must be called on a function\"); }\n\n    var args = Array.prototype.slice.call(arguments, 1),\n        self = this,\n        nop = function() {},\n        bound = function () {\n          return self.apply(this instanceof nop ? this : o,\n                            args.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    if (this.prototype)\n      nop.prototype = this.prototype;\n    bound.prototype = new nop();\n    return bound;\n  };\n}\n\n\n//----------------------------------------------------------------------\n// ES5 15.4 Array Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.4.3 Properties of the Array Constructor\n//\n\n\n// ES5 15.4.3.2 Array.isArray ( arg )\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\nArray.isArray = Array.isArray || function (o) { return Boolean(o && Object.prototype.toString.call(Object(o)) === '[object Array]'); };\n\n\n//\n// ES5 15.4.4 Properties of the Array Prototype Object\n//\n\n// ES5 15.4.4.14 Array.prototype.indexOf ( searchElement [ , fromIndex ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nif (!Array.prototype.indexOf) {\n  Array.prototype.indexOf = function (searchElement /*, fromIndex */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (len === 0) { return -1; }\n\n    var n = 0;\n    if (arguments.length > 0) {\n      n = Number(arguments[1]);\n      if (isNaN(n)) {\n        n = 0;\n      } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n      }\n    }\n\n    if (n >= len) { return -1; }\n\n    var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\n\n    for (; k < len; k++) {\n      if (k in t && t[k] === searchElement) {\n        return k;\n      }\n    }\n    return -1;\n  };\n}\n\n// ES5 15.4.4.15 Array.prototype.lastIndexOf ( searchElement [ , fromIndex ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/lastIndexOf\nif (!Array.prototype.lastIndexOf) {\n  Array.prototype.lastIndexOf = function (searchElement /*, fromIndex*/) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (len === 0) { return -1; }\n\n    var n = len;\n    if (arguments.length > 1) {\n      n = Number(arguments[1]);\n      if (n !== n) {\n        n = 0;\n      } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n      }\n    }\n\n    var k = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);\n\n    for (; k >= 0; k--) {\n      if (k in t && t[k] === searchElement) {\n        return k;\n      }\n    }\n    return -1;\n  };\n}\n\n// ES5 15.4.4.16 Array.prototype.every ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every\nif (!Array.prototype.every) {\n  Array.prototype.every = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== \"function\") { throw TypeError(); }\n\n    var thisp = arguments[1], i;\n    for (i = 0; i < len; i++) {\n      if (i in t && !fun.call(thisp, t[i], i, t)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n}\n\n// ES5 15.4.4.17 Array.prototype.some ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\nif (!Array.prototype.some) {\n  Array.prototype.some = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== \"function\") { throw TypeError(); }\n\n    var thisp = arguments[1], i;\n    for (i = 0; i < len; i++) {\n      if (i in t && fun.call(thisp, t[i], i, t)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n}\n\n// ES5 15.4.4.18 Array.prototype.forEach ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/forEach\nif (!Array.prototype.forEach) {\n  Array.prototype.forEach = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== \"function\") { throw TypeError(); }\n\n    var thisp = arguments[1], i;\n    for (i = 0; i < len; i++) {\n      if (i in t) {\n        fun.call(thisp, t[i], i, t);\n      }\n    }\n  };\n}\n\n\n// ES5 15.4.4.19 Array.prototype.map ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/Map\nif (!Array.prototype.map) {\n  Array.prototype.map = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== \"function\") { throw TypeError(); }\n\n    var res = []; res.length = len;\n    var thisp = arguments[1], i;\n    for (i = 0; i < len; i++) {\n      if (i in t) {\n        res[i] = fun.call(thisp, t[i], i, t);\n      }\n    }\n\n    return res;\n  };\n}\n\n// ES5 15.4.4.20 Array.prototype.filter ( callbackfn [ , thisArg ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/Filter\nif (!Array.prototype.filter) {\n  Array.prototype.filter = function (fun /*, thisp */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== \"function\") { throw TypeError(); }\n\n    var res = [];\n    var thisp = arguments[1], i;\n    for (i = 0; i < len; i++) {\n      if (i in t) {\n        var val = t[i]; // in case fun mutates this\n        if (fun.call(thisp, val, i, t)) {\n          res.push(val);\n        }\n      }\n    }\n\n    return res;\n  };\n}\n\n\n// ES5 15.4.4.21 Array.prototype.reduce ( callbackfn [ , initialValue ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/Reduce\nif (!Array.prototype.reduce) {\n  Array.prototype.reduce = function (fun /*, initialValue */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== \"function\") { throw TypeError(); }\n\n    // no value to return if no initial value and an empty array\n    if (len === 0 && arguments.length === 1) { throw TypeError(); }\n\n    var k = 0;\n    var accumulator;\n    if (arguments.length >= 2) {\n      accumulator = arguments[1];\n    } else {\n      do {\n        if (k in t) {\n          accumulator = t[k++];\n          break;\n        }\n\n        // if array contains no values, no initial value to return\n        if (++k >= len) { throw TypeError(); }\n      }\n      while (true);\n    }\n\n    while (k < len) {\n      if (k in t) {\n        accumulator = fun.call(undefined, accumulator, t[k], k, t);\n      }\n      k++;\n    }\n\n    return accumulator;\n  };\n}\n\n\n// ES5 15.4.4.22 Array.prototype.reduceRight ( callbackfn [, initialValue ] )\n// From https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/ReduceRight\nif (!Array.prototype.reduceRight) {\n  Array.prototype.reduceRight = function (callbackfn /*, initialValue */) {\n    if (this === void 0 || this === null) { throw TypeError(); }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof callbackfn !== \"function\") { throw TypeError(); }\n\n    // no value to return if no initial value, empty array\n    if (len === 0 && arguments.length === 1) { throw TypeError(); }\n\n    var k = len - 1;\n    var accumulator;\n    if (arguments.length >= 2) {\n      accumulator = arguments[1];\n    } else {\n      do {\n        if (k in this) {\n          accumulator = this[k--];\n          break;\n        }\n\n        // if array contains no values, no initial value to return\n        if (--k < 0) { throw TypeError(); }\n      }\n      while (true);\n    }\n\n    while (k >= 0) {\n      if (k in t) {\n        accumulator = callbackfn.call(undefined, accumulator, t[k], k, t);\n      }\n      k--;\n    }\n\n    return accumulator;\n  };\n}\n\n\n//----------------------------------------------------------------------\n// ES5 15.5 String Objects\n//----------------------------------------------------------------------\n\n//\n// ES5 15.5.4 Properties of the String Prototype Object\n//\n\n\n// ES5 15.5.4.20 String.prototype.trim()\nif (!String.prototype.trim) {\n  String.prototype.trim = function () {\n    return String(this).replace(/^\\s+/, '').replace(/\\s+$/, '');\n  };\n}\n\n\n\n//----------------------------------------------------------------------\n// ES5 15.9 Date Objects\n//----------------------------------------------------------------------\n\n\n//\n// ES 15.9.4 Properties of the Date Constructor\n//\n\n// ES5 15.9.4.4 Date.now ( )\n// From https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Date/now\nif (!Date.now) {\n  Date.now = function now() {\n    return Number(new Date());\n  };\n}\n\n\n//\n// ES5 15.9.5 Properties of the Date Prototype Object\n//\n\n// ES5 15.9.4.43 Date.prototype.toISOString ( )\n// Inspired by http://www.json.org/json2.js\nif (!Date.prototype.toISOString) {\n  Date.prototype.toISOString = function () {\n    function pad2(n) { return ('00' + n).slice(-2); }\n    function pad3(n) { return ('000' + n).slice(-3); }\n\n    return this.getUTCFullYear() + '-' +\n      pad2(this.getUTCMonth() + 1) + '-' +\n      pad2(this.getUTCDate()) + 'T' +\n      pad2(this.getUTCHours()) + ':' +\n      pad2(this.getUTCMinutes()) + ':' +\n      pad2(this.getUTCSeconds()) + '.' +\n      pad3(this.getUTCMilliseconds()) + 'Z';\n  };\n}\n//----------------------------------------------------------------------\n//\n// ECMAScript 2015 Polyfills\n//\n//----------------------------------------------------------------------\n\n(function (global) {\n  \"use strict\";\n\n  // Set this to always override native implementations, for testing\n  // the polyfill in browsers with partial/full ES2015 support.\n  var OVERRIDE_NATIVE_FOR_TESTING = false;\n\n  var undefined = (void 0); // Paranoia\n\n  // Helpers\n\n  function strict(o) {\n    return o === global ? undefined : o;\n  }\n\n  function isSymbol(s) {\n    return (typeof s === 'symbol') || ('Symbol' in global && s instanceof global.Symbol);\n  }\n\n  function getPropertyDescriptor(target, name) {\n    var desc = Object.getOwnPropertyDescriptor(target, name);\n    var proto = Object.getPrototypeOf(target);\n    while (!desc && proto) {\n      desc = Object.getOwnPropertyDescriptor(proto, name);\n      proto = Object.getPrototypeOf(proto);\n    }\n    return desc;\n  }\n\n  var enqueue = (function(nativePromise, nativeSetImmediate) {\n    if (nativePromise)\n      return function(job) { nativePromise.resolve().then(function() { job(); }); };\n    if (nativeSetImmediate)\n      return function(job) { nativeSetImmediate(job); };\n    return function(job) { setTimeout(job, 0); };\n  }(global['Promise'], global['setImmediate']));\n\n  function define(o, p, v, override) {\n    if (p in o && !override && !OVERRIDE_NATIVE_FOR_TESTING)\n      return;\n\n    if (typeof v === 'function') {\n      // Sanity check that functions are appropriately named (where possible)\n      console.assert(isSymbol(p) || !('name' in v) || v.name === p || v.name === p + '_', 'Expected function name \"' + p.toString() + '\", was \"' + v.name + '\"');\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: true,\n        enumerable: false,\n        writable: true\n      });\n    } else {\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: false,\n        enumerable: false,\n        writable: false\n      });\n    }\n  }\n\n  function set_internal(o, p, v) {\n    Object.defineProperty(o, p, {\n      value: v,\n      configurable: false,\n      enumerable: false,\n      writable: true\n    });\n  }\n\n  // Snapshot intrinsic functions\n  var $isNaN = global.isNaN,\n      $parseInt = global.parseInt,\n      $parseFloat = global.parseFloat;\n\n  var E = Math.E,\n      LOG10E = Math.LOG10E,\n      LOG2E = Math.LOG2E,\n      abs = Math.abs,\n      ceil = Math.ceil,\n      exp = Math.exp,\n      floor = Math.floor,\n      log = Math.log,\n      max = Math.max,\n      min = Math.min,\n      pow = Math.pow,\n      random = Math.random,\n      sqrt = Math.sqrt;\n\n  var orig_match = String.prototype.match,\n      orig_replace = String.prototype.replace,\n      orig_search = String.prototype.search,\n      orig_split = String.prototype.split;\n\n  // These are used for implementing the polyfills, but not exported.\n\n  // Inspired by https://gist.github.com/1638059\n  /** @constructor */\n  function EphemeronTable() {\n    var secretKey = ObjectCreate(null);\n\n    function conceal(o) {\n      var oValueOf = o.valueOf, secrets = ObjectCreate(null);\n      Object.defineProperty(o, 'valueOf', {\n          value: (function(secretKey) {\n            return function (k) {\n              return (k === secretKey) ? secrets : oValueOf.apply(o, arguments);\n            };\n          }(secretKey)),\n        configurable: true,\n        writeable: true,\n        enumerable: false\n        });\n      return secrets;\n    }\n\n    function reveal(o) {\n      var v = typeof o.valueOf === 'function' && o.valueOf(secretKey);\n      return v === o ? null : v;\n    }\n\n    return {\n      clear: function() {\n        secretKey = ObjectCreate(null);\n      },\n      remove: function(key) {\n        var secrets = reveal(key);\n        if (secrets && HasOwnProperty(secrets, 'value')) {\n          delete secrets.value;\n          return true;\n        }\n        return false;\n      },\n      get: function(key, defaultValue) {\n        var secrets = reveal(key);\n        return (secrets && HasOwnProperty(secrets, 'value')) ? secrets.value : defaultValue;\n      },\n      has: function(key) {\n        var secrets = reveal(key);\n        return Boolean(secrets && HasOwnProperty(secrets, 'value'));\n      },\n      set: function(key, value) {\n        var secrets = reveal(key) || conceal(key);\n        secrets.value = value;\n      }\n    };\n  }\n\n  var empty = Object.create(null);\n\n  //----------------------------------------------------------------------\n  //\n  // ECMAScript 2015\n  // http://www.ecma-international.org/ecma-262/6.0/\n  //\n  //----------------------------------------------------------------------\n\n  // ---------------------------------------\n  // 19.4 Symbol Objects\n  // ---------------------------------------\n\n  // NOTE: Symbols are defined here - out of spec order - since we need the\n  // properties and prototype to be populated for other polyfills.\n\n  // NOTE: Not secure, nor is obj[$$symbol] hidden from Object.keys()\n\n  var symbolForKey;\n  (function() {\n    var secret = Object.create(null);\n    var symbolMap = {};\n    symbolForKey = function(k) {\n      return symbolMap[k];\n    };\n\n    var GlobalSymbolRegistry = [];\n\n    function unique(bits) {\n      return Array(bits + 1).join('x').replace(/x/g, function() {\n        return random() < 0.5 ? '\\u200C' : '\\u200D'; // JWNJ / ZWJ\n      });\n    }\n\n    // 19.4.1 The Symbol Constructor\n    // 19.4.1.1 Symbol ( description=undefined )\n    function Symbol(description) {\n      if (!(this instanceof Symbol)) return new Symbol(description, secret);\n      if (this instanceof Symbol && arguments[1] !== secret) throw TypeError();\n\n      var descString = description === undefined ? undefined : String(description);\n\n      set_internal(this, '[[SymbolData]]', unique(128));\n      set_internal(this, '[[Description]]', descString);\n\n      symbolMap[this] = this;\n      return this;\n    }\n\n    if (!('Symbol' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.Symbol = Symbol;\n\n    // 19.4.2 Properties of the Symbol Constructor\n\n    // 19.4.2.1 Symbol.for (key)\n    define(Symbol, 'for', function for_(key) {\n      var stringKey = String(key);\n      for (var i = 0; i < GlobalSymbolRegistry.length; ++i) {\n        var e = GlobalSymbolRegistry[i];\n        if (SameValue(e['[[key]]'], stringKey)) return e['[[symbol]]'];\n      }\n      var newSymbol = Symbol(key);\n      GlobalSymbolRegistry.push({'[[key]]': stringKey, '[[symbol]]': newSymbol});\n      return newSymbol;\n    });\n\n    // 19.4.2.2 Symbol.hasInstance\n    // 19.4.2.3 Symbol.isConcatSpreadable\n\n    // 19.4.2.4 Symbol.iterator\n    define(global.Symbol, 'iterator', global.Symbol('Symbol.iterator'));\n\n    // 19.4.2.5 Symbol.keyFor (sym)\n    define(Symbol, 'keyFor', function keyFor(sym) {\n      if (!(sym instanceof Symbol)) throw TypeError();\n      for (var i = 0; i < GlobalSymbolRegistry.length; ++i) {\n        var e = GlobalSymbolRegistry[i];\n        if (SameValue(e['[[symbol]]'], sym)) return e['[[key]]'];\n      }\n      return undefined;\n    });\n\n    // 19.4.2.6 Symbol.match\n    define(global.Symbol, 'match', global.Symbol('Symbol.match'));\n\n    // 19.4.2.7 Symbol.prototype\n\n    // 19.4.2.8 Symbol.replace\n    define(global.Symbol, 'replace', global.Symbol('Symbol.replace'));\n\n    // 19.4.2.9 Symbol.search\n    define(global.Symbol, 'search', global.Symbol('Symbol.search'));\n\n    // 19.4.2.10 Symbol.species\n\n    // 19.4.2.11 Symbol.search\n    define(global.Symbol, 'split', global.Symbol('Symbol.split'));\n\n    // 19.4.2.12 Symbol.toPrimitive\n\n    // 19.4.2.13 Symbol.toStringTag\n    define(global.Symbol, 'toStringTag', global.Symbol('Symbol.toStringTag'));\n\n    // 19.4.2.14 Symbol.unscopables\n\n    // 19.4.3 Properties of the Symbol Prototype Object\n    // 19.4.3.1 Symbol.prototype.constructor\n\n    // 19.4.3.2 Symbol.prototype.toString ( )\n    Object.defineProperty(Symbol.prototype, 'toString', {\n      value: function toString() {\n        var s = strict(this);\n        var desc = s['[[Description]]'];\n        return 'Symbol(' + (desc === undefined ? '' : desc) + s['[[SymbolData]]'] + ')';\n      },\n      configurable: true, writeable: true, enumerable: false });\n\n    // 19.4.3.3 Symbol.prototype.valueOf ( )\n    Object.defineProperty(Symbol.prototype, 'valueOf', {\n      value: function valueOf() {\n        // To prevent automatic string conversion:\n        throw TypeError();\n\n        // Spec has approximately the following:\n        //var s = strict(this);\n        //if (Type(s) === 'symbol') return s;\n        //if (Type(s) !== 'object') throw TypeError();\n        //if (!('[[SymbolData]]' in s)) throw TypeError();\n        //return s['[[SymbolData]]'];\n      },\n      configurable: true, writeable: true, enumerable: false });\n\n    // 19.4.3.4 Symbol.prototype [ @@toStringTag ]\n    // (Done later to polyfill partial implementations)\n\n    // 19.4.4 Properties of Symbol Instances\n  }());\n\n  console.assert(typeof global.Symbol() === 'symbol' || symbolForKey(String(global.Symbol('x'))) !== undefined);\n\n  // Defined here so that other prototypes can reference it\n  // 25.1.2 The %IteratorPrototype% Object\n  var $IteratorPrototype$ = {};\n\n  //----------------------------------------\n  // 6 ECMAScript Data Types and Values\n  //----------------------------------------\n\n  // 6.1 ECMAScript Language Types\n\n  // \"Type(x)\" is used as shorthand for \"the type of x\"...\n  function Type(v) {\n    switch (typeof v) {\n    case 'undefined': return 'undefined';\n    case 'boolean': return 'boolean';\n    case 'number': return 'number';\n    case 'string': return 'string';\n    case 'symbol': return 'symbol';\n    default:\n      if (v === null) return 'null';\n      if (v instanceof global.Symbol) return 'symbol';\n      return 'object';\n    }\n  }\n\n  // 6.1.5.1 Well-Known Symbols\n  var $$iterator = global.Symbol.iterator,\n      $$match = global.Symbol.match,\n      $$replace = global.Symbol.replace,\n      $$search = global.Symbol.search,\n      $$split = global.Symbol.split,\n      $$toStringTag = global.Symbol.toStringTag;\n\n  //----------------------------------------\n  // 7 Abstract Operations\n  //----------------------------------------\n\n  //----------------------------------------\n  // 7.1 Type Conversion\n  //----------------------------------------\n\n  // 7.1.1 ToPrimitive ( input [, PreferredType] )\n  // just use valueOf()\n\n  // 7.1.2 ToBoolean ( argument )\n  // just use Boolean()\n\n  // 7.1.3 ToNumber ( argument )\n  // just use Number()\n\n  // 7.1.4 ToInteger ( argument )\n  function ToInteger(n) {\n    n = Number(n);\n    if ($isNaN(n)) return 0;\n    if (n === 0 || n === Infinity || n === -Infinity) return n;\n    return ((n < 0) ? -1 : 1) * floor(abs(n));\n  }\n\n  // 7.1.5 ToInt32 ( argument )\n  function ToInt32(v) { return v >> 0; }\n\n  // 7.1.6 ToUint32 ( argument )\n  function ToUint32(v) { return v >>> 0; }\n\n  // 7.1.7 ToInt16 ( argument )\n  function ToInt16(v) { return (v << 16) >> 16; }\n\n  // 7.1.8 ToUint16 ( argument )\n  function ToUint16(v) { return v & 0xFFFF; }\n\n  // 7.1.9 ToInt8 ( argument )\n  function ToInt8(v) { return (v << 24) >> 24; }\n\n  // 7.1.10 ToUint8 ( argument )\n  function ToUint8(v) { return v & 0xFF; }\n\n  // 7.1.11 ToUint8Clamp ( argument )\n  function ToUint8Clamp(argument) {\n    var number = Number(argument);\n    if ($isNaN(number)) return 0;\n    if (number <= 0) return 0;\n    if (number >= 255) return 255;\n    var f = floor(number);\n    if ((f + 0.5) < number) return f + 1;\n    if (number < (f + 0.5)) return f;\n    if (f % 2) return f + 1;\n    return f;\n  }\n\n  // 7.1.12 ToString ( argument )\n  // just use String()\n\n  // 7.1.13 ToObject ( argument )\n  function ToObject(v) {\n    if (v === null || v === undefined) throw TypeError();\n    return Object(v);\n  }\n\n  // 7.1.14 ToPropertyKey ( argument )\n  function ToPropertyKey(v) {\n    return String(v);\n  }\n\n  // 7.1.15 ToLength ( argument )\n  function ToLength(v) {\n    var len = ToInteger(v);\n    if (len <= 0) return 0;\n    if (len === Infinity) return 0x20000000000000 - 1; // 2^53-1\n    return min(len, 0x20000000000000 - 1); // 2^53-1\n  }\n\n  // 7.1.16 CanonicalNumericIndexString ( argument )\n\n  //----------------------------------------\n  // 7.2 Testing and Comparison Operations\n  //----------------------------------------\n\n  // 7.2.1 RequireObjectCoercible ( argument )\n  // 7.2.2 IsArray ( argument )\n\n  // 7.2.3 IsCallable ( argument )\n  function IsCallable(o) { return typeof o === 'function'; }\n\n  // 7.2.4 IsConstructor ( argument )\n  function IsConstructor(o) {\n    // Hacks for Safari 7 TypedArray XXXConstructor objects\n    if (/Constructor/.test(Object.prototype.toString.call(o))) return true;\n    if (/Function/.test(Object.prototype.toString.call(o))) return true;\n    // TODO: Can this be improved on?\n    return typeof o === 'function';\n  }\n\n  // 7.2.5 IsExtensible (O)\n  // 7.2.6 IsInteger ( argument )\n\n  // 7.2.7 IsPropertyKey ( argument )\n  function IsPropertyKey(argument) {\n    if (Type(argument) === 'string') return true;\n    if (Type(argument) === 'symbol') return true;\n    return false;\n  }\n\n  // 7.2.8 IsRegExp ( argument )\n\n  // 7.2.9 SameValue(x, y)\n  function SameValue(x, y) {\n    if (typeof x !== typeof y) return false;\n    switch (typeof x) {\n    case 'undefined':\n      return true;\n    case 'number':\n      if (x !== x && y !== y) return true;\n      if (x === 0 && y === 0) return 1/x === 1/y;\n      return x === y;\n    case 'boolean':\n    case 'string':\n    case 'object':\n    default:\n      return x === y;\n    }\n  }\n\n  // 7.2.10 SameValueZero(x, y)\n  function SameValueZero(x, y) {\n    if (typeof x !== typeof y) return false;\n    switch (typeof x) {\n    case 'undefined':\n      return true;\n    case 'number':\n      if (x !== x && y !== y) return true;\n      return x === y;\n    case 'boolean':\n    case 'string':\n    case 'object':\n    default:\n      return x === y;\n    }\n  }\n\n  //----------------------------------------\n  // 7.3 Operations on Objects\n  //----------------------------------------\n\n  // 7.3.1 Get (O, P)\n  // - just use o.p or o[p]\n\n  // 7.3.2 GetV (V, P)\n  function GetV(v, p) {\n    var o = ToObject(v);\n    return o[p];\n  }\n\n  // 7.3.3 Set (O, P, V, Throw)\n  // - just use o.p = v or o[p] = v\n\n\n\n\n  // 7.3.9 GetMethod (O, P)\n  function GetMethod(o, p) {\n    var func = GetV(o, p);\n    if (func === undefined || func === null) return undefined;\n    if (!IsCallable(func)) throw TypeError();\n    return func;\n  }\n\n  // 7.3.10 HasProperty (O, P)\n  function HasProperty(o, p) {\n    while (o) {\n      if (Object.prototype.hasOwnProperty.call(o, p)) return true;\n      if (Type(o) !== 'object') return false;\n      var op = Object.getPrototypeOf(o);\n      if (op === o) return false; // IE8 has self-referential prototypes\n      o = op;\n    }\n    return false;\n  }\n\n  // 7.3.11 HasOwnProperty (O, P)\n  function HasOwnProperty(o, p) {\n    return Object.prototype.hasOwnProperty.call(o, p);\n  }\n\n  //----------------------------------------\n  // 7.4 Operations on Iterator Objects\n  //----------------------------------------\n\n  // 7.4.1 GetIterator ( obj, method )\n  function GetIterator(obj, method) {\n    if (arguments.length < 2)\n      method = GetMethod(obj, $$iterator);\n    var iterator = method.call(obj);\n    if (Type(iterator) !== 'object') throw TypeError();\n    return iterator;\n  }\n\n  // 7.4.2 IteratorNext ( iterator, value )\n  function IteratorNext(iterator, value) {\n    if (arguments.length < 2)\n      var result = iterator.next();\n    else\n      result = iterator.next(value);\n    if (Type(result) !== 'object') throw TypeError();\n    return result;\n  }\n\n  // 7.4.3 IteratorComplete ( iterResult )\n  function IteratorComplete(iterResult) {\n    console.assert(Type(iterResult) === 'object');\n    return Boolean(iterResult.done);\n  }\n\n  // 7.4.4 IteratorValue ( iterResult )\n  function IteratorValue(iterResult) {\n    console.assert(Type(iterResult) === 'object');\n    return iterResult.value;\n  }\n\n  // 7.4.5 IteratorStep ( iterator )\n  function IteratorStep( iterator, value ) {\n    var result = IteratorNext(iterator, value);\n    var done = result['done'];\n    if (Boolean(done) === true) return false;\n    return result;\n  }\n\n  // 7.4.6 IteratorClose( iterator, completion )\n  function IteratorClose( iterator, completion ) {\n    console.assert(Type(iterator) === 'object');\n    var _return = GetMethod(iterator, 'return');\n    if (_return === undefined) return completion;\n    try {\n      var innerResult = _return[iterator]();\n    } catch (result) {\n      // TODO: If completion.[[type]] is throw, return completion\n      return result;\n    }\n    if (Type(innerResult) !== 'object') throw TypeError();\n    return completion;\n  }\n\n  // 7.4.7 CreateIterResultObject (value, done)\n  function CreateIterResultObject(value, done) {\n    console.assert(Type(done) === 'boolean');\n    var obj = {};\n    obj[\"value\"] = value;\n    obj[\"done\"] = done;\n    return obj;\n  }\n\n  // 7.4.8 CreateListIterator (list)\n  // 7.4.8.1 ListIterator next( )\n\n  //----------------------------------------\n  // 8 Executable Code and Execution Contexts\n  //----------------------------------------\n\n  //----------------------------------------\n  // 8.4 Jobs and Job Queues\n  //----------------------------------------\n\n  // 8.4.1 EnqueueJob ( queueName, job, arguments)\n  function EnqueueJob(queueName, job, args) {\n    var fn = function() { job.apply(undefined, args); };\n    enqueue(fn);\n  }\n\n  // 8.4.2 NextJob result\n  function NextJob(result) {\n    // no-op\n  }\n\n  //----------------------------------------\n  // 9 Ordinary and Exotic Objects Behaviors\n  //----------------------------------------\n\n  // 9.1.11 [[Enumerate]] ()\n  function Enumerate(obj) {\n    var e = [];\n    if (Object(obj) !== obj) return e;\n    var visited = new Set;\n    while (obj !== null) {\n      Object.getOwnPropertyNames(obj).forEach(function(name) {\n        if (!visited.has(name)) {\n          var desc = Object.getOwnPropertyDescriptor(obj, name);\n          if (desc) {\n            visited.add(name);\n            if (desc.enumerable) e.push(name);\n          }\n        }\n      });\n      obj = Object.getPrototypeOf(obj);\n    }\n    return e[$$iterator]();\n  }\n\n  // 9.1.12 [[OwnPropertyKeys]] ( )\n  function OwnPropertyKeys(o) {\n    return Object.getOwnPropertyNames(o);\n  }\n\n  // 9.1.13 ObjectCreate(proto, internalSlotsList)\n  function ObjectCreate(proto, internalSlotsList) {\n    return Object.create(proto, internalSlotsList);\n  }\n\n  // ---------------------------------------\n  // 19 Fundamental Objects\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 19.1 Object Objects\n  // ---------------------------------------\n\n  // 19.1.1 The Object Constructor\n  // 19.1.1.1 Object ( [ value ] )\n  // 19.1.2 Properties of the Object Constructor\n  // 19.1.2.1 Object.assign ( target, ...sources )\n  define(\n    Object, 'assign',\n    function assign(target, /*...*/sources) {\n      var to = ToObject(target);\n      if (arguments.length < 2) return to;\n\n      var sourcesIndex = 1;\n      while (sourcesIndex < arguments.length) {\n        var nextSource = arguments[sourcesIndex++];\n        if (nextSource === undefined || nextSource === null) {\n          var keys = [];\n        } else {\n          var from = ToObject(nextSource);\n          keys = OwnPropertyKeys(from);\n        }\n        for (var keysIndex = 0; keysIndex < keys.length; ++keysIndex) {\n          var nextKey = keys[keysIndex];\n          var desc = Object.getOwnPropertyDescriptor(from, nextKey);\n          if (desc !== undefined && desc.enumerable) {\n            var propValue = from[nextKey];\n            to[nextKey] = propValue;\n          }\n        }\n      }\n      return to;\n    });\n\n  // 19.1.2.2 Object.create ( O [ , Properties ] )\n  // 19.1.2.3 Object.defineProperties ( O, Properties )\n  // 19.1.2.4 Object.defineProperty ( O, P, Attributes )\n  // 19.1.2.5 Object.freeze ( O )\n  // 19.1.2.6 Object.getOwnPropertyDescriptor ( O, P )\n\n  (function() {\n    var nativeSymbols = (typeof global.Symbol() === 'symbol'),\n        $getOwnPropertyNames = Object.getOwnPropertyNames,\n        $keys = Object.keys,\n        $window_names = (typeof window === 'object' ? $getOwnPropertyNames(window) : []);\n\n    function isStringKey(k) { return !symbolForKey(k); }\n\n    // 19.1.2.7 Object.getOwnPropertyNames ( O )\n    define(\n      Object, 'getOwnPropertyNames',\n      function getOwnPropertyNames(o) {\n        if (Object.prototype.toString.call(o) === '[object Window]') {\n          // Workaround for cross-realm calling by IE itself.\n          // https://github.com/inexorabletash/polyfill/issues/96\n          try {\n            return $getOwnPropertyNames(o).filter(isStringKey);\n          } catch (_) {\n            return $window_names.slice();\n          }\n        }\n        return $getOwnPropertyNames(o).filter(isStringKey);\n      }, !nativeSymbols);\n\n    // 19.1.2.8 Object.getOwnPropertySymbols ( O )\n    define(\n      Object, 'getOwnPropertySymbols',\n      function getOwnPropertySymbols(o) {\n        return $getOwnPropertyNames(o).filter(symbolForKey).map(symbolForKey);\n      }, !nativeSymbols);\n\n    // 19.1.2.14 Object.keys ( O )\n    define(\n      Object, 'keys',\n      function keys(o) {\n        return $keys(o).filter(isStringKey);\n      }, !nativeSymbols);\n  }());\n\n  // 19.1.2.9 Object.getPrototypeOf ( O )\n  // 19.1.2.10 Object.is ( value1, value2 )\n  define(\n    Object, 'is',\n    function is(value1, value2) {\n      return SameValue(value1, value2);\n    });\n\n  // 19.1.2.11 Object.isExtensible ( O )\n  // 19.1.2.12 Object.isFrozen ( O )\n  // 19.1.2.13 Object.isSealed ( O )\n\n  // 19.1.2.14 Object.keys ( O )\n  // see above\n\n  // 19.1.2.15 Object.preventExtensions ( O )\n  // 19.1.2.16 Object.prototype\n  // 19.1.2.17 Object.seal ( O )\n\n  // 19.1.2.18 Object.setPrototypeOf ( O, proto )\n  define(\n    Object, 'setPrototypeOf',\n    function setPrototypeOf(o, proto) {\n      if (Type(o) !== 'object') throw TypeError();\n      if (Type(proto) !== 'object' && Type(proto) !== 'null') throw TypeError();\n      o.__proto__ = proto;\n      return o;\n    }\n  );\n\n  // 19.1.3 Properties of the Object Prototype Object\n  // 19.1.3.1 Object.prototype.constructor\n  // 19.1.3.2 Object.prototype.hasOwnProperty ( V )\n  // 19.1.3.3 Object.prototype.isPrototypeOf ( V )\n  // 19.1.3.4 Object.prototype.propertyIsEnumerable ( V )\n  // 19.1.3.5 Object.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )\n  // 19.1.3.6 Object.prototype.toString ( )\n  var o_p_ts = Object.prototype.toString;\n  define(Object.prototype, 'toString',\n       function() {\n         var o = strict(this);\n         if (o === Object(o) && $$toStringTag in o) {\n           return '[object ' + o[$$toStringTag] + ']';\n         }\n         return o_p_ts.apply(o, arguments);\n       });\n\n  // 19.1.3.7 Object.prototype.valueOf ( )\n  // 19.1.4 Properties of Object Instances\n\n  // ---------------------------------------\n  // 19.2 Function Objects\n  // ---------------------------------------\n\n  // 19.2.1 The Function Constructor\n  // 19.2.1.1 Function ( p1, p2, … , pn, body )\n  // 19.2.2 Properties of the Function Constructor\n  // 19.2.2.1 Function.length\n  // 19.2.2.2 Function.prototype\n  // 19.2.3 Properties of the Function Prototype Object\n  // 19.2.3.1 Function.prototype.apply ( thisArg, argArray )\n  // 19.2.3.2 Function.prototype.bind ( thisArg , ...args)\n  // 19.2.3.3 Function.prototype.call (thisArg , ...args)\n  // 19.2.3.4 Function.prototype.constructor\n  // 19.2.3.5 Function.prototype.toString ( )\n  // 19.2.3.6 Function.prototype[@@hasInstance] ( V )\n  // 19.2.4 Function Instances\n  // 19.2.4.1 length\n  // 19.2.4.2 name\n  // 19.2.4.3 prototype\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 19.3 Boolean Objects\n  // ---------------------------------------\n\n  // 19.3.1 The Boolean Constructor\n  // 19.3.1.1 Boolean ( value )\n  // 19.3.2 Properties of the Boolean Constructor\n  // 19.3.2.1 Boolean.prototype\n  // 19.3.3 Properties of the Boolean Prototype Object\n  // 19.3.3.1 Boolean.prototype.constructor\n  // 19.3.3.2 Boolean.prototype.toString ( )\n  // 19.3.3.3 Boolean.prototype.valueOf ( )\n  // 19.3.4 Properties of Boolean Instances\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 19.4 Symbol Objects\n  // ---------------------------------------\n\n  // Moved earlier in this script, so that other polyfills can depend on them.\n\n  // 19.4.3.4 Symbol.prototype [ @@toStringTag ]\n  define(global.Symbol.prototype, global.Symbol.toStringTag, 'Symbol');\n\n  // ---------------------------------------\n  // 19.5 Error Objects\n  // ---------------------------------------\n\n  // 19.5.1 The Error Constructor\n  // 19.5.1.1 Error ( message )\n  // 19.5.1.2 new Error( ...argumentsList )\n  // 19.5.2 Properties of the Error Constructor\n  // 19.5.2.1 Error.prototype\n  // 19.5.3 Properties of the Error Prototype Object\n  // 19.5.3.1 Error.prototype.constructor\n  // 19.5.3.2 Error.prototype.message\n  // 19.5.3.3 Error.prototype.name\n  // 19.5.3.4 Error.prototype.toString ( )\n  // 19.5.4 Properties of Error Instances\n  // 19.5.5 Native Error Types Used in This Standard\n  // 19.5.5.1 EvalError\n  // 19.5.5.2 RangeError\n  // 19.5.5.3 ReferenceError\n  // 19.5.5.4 SyntaxError\n  // 19.5.5.5 TypeError\n  // 19.5.5.6 URIError\n  // 19.5.6 NativeError Object Structure\n  // 19.5.6.1 NativeError Constructors\n  // 19.5.6.1.1 NativeError ( message )\n  // 19.5.6.1.2 new NativeError ( ...argumentsList )\n  // 19.5.6.2 Properties of the NativeError Constructors\n  // 19.5.6.2.1 NativeError.prototype\n  // 19.5.6.3 Properties of the NativeError Prototype Objects\n  // 19.5.6.4 Properties of NativeError Instances\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 20 Numbers and Dates\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 20.1 Number Objects\n  // ---------------------------------------\n\n  // 20.1.1 The Number Constructor\n  // 20.1.1.1 Number ( [ value ] )\n  // 20.1.1.2 new Number ( ...argumentsList )\n  // 20.1.2 Properties of the Number Constructor\n\n  // 20.1.2.1 Number.EPSILON\n  define(\n    Number, 'EPSILON',\n    (function () {\n      var next, result;\n      for (next = 1; 1 + next !== 1; next = next / 2)\n        result = next;\n      return result;\n    }()));\n\n  // 20.1.2.2 Number.isFinite ( number )\n  define(\n    Number, 'isFinite',\n    function isFinite(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number || number === +Infinity || number === -Infinity) return false;\n      return true;\n    });\n\n  // 20.1.2.3 Number.isInteger ( number )\n  define(\n    Number, 'isInteger',\n    function isInteger(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number || number === +Infinity || number === -Infinity) return false;\n      var integer = ToInteger(number);\n      if (integer !== number) return false;\n      return true;\n    });\n\n  // 20.1.2.4 Number.isNaN ( number )\n  define(\n    Number, 'isNaN',\n    function isNaN(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number) return true;\n      return false;\n    });\n\n  // 20.1.2.5 Number.isSafeInteger ( number )\n  define(\n    Number, 'isSafeInteger',\n    function isSafeInteger(number) {\n      if (Type(number) !== 'number') return false;\n      if (number !== number || number === +Infinity || number === -Infinity) return false;\n      var integer = ToInteger(number);\n      if (integer !== number) return false;\n      if (abs(integer) <= (0x20000000000000 - 1)) // 2^53-1\n        return true;\n      return false;\n    });\n\n  // 20.1.2.6 Number.MAX_SAFE_INTEGER\n  define(\n    Number, 'MAX_SAFE_INTEGER',\n    9007199254740991); // 2^53-1\n\n  // 20.1.2.7 Number.MAX_VALUE\n\n  // 20.1.2.8 Number.MIN_SAFE_INTEGER\n  define(\n    Number, 'MIN_SAFE_INTEGER',\n    -9007199254740991); // -2^53+1\n\n  // 20.1.2.9 Number.MIN_VALUE\n  // 20.1.2.10 Number.NaN\n  // 20.1.2.11 Number.NEGATIVE_INFINITY\n\n  // 20.1.2.12 Number.parseFloat ( string )\n  define(Number, 'parseFloat', $parseFloat);\n\n  // 20.1.2.13 Number.parseInt ( string, radix )\n  define(Number, 'parseInt', $parseInt);\n\n  // 20.1.2.14 Number.POSITIVE_INFINITY\n  // 20.1.2.15 Number.prototype\n\n  // 20.1.3 Properties of the Number Prototype Object\n  // 20.1.3.1 Number.prototype.constructor\n  // 20.1.3.2 Number.prototype.toExponential ( fractionDigits )\n  // 20.1.3.3 Number.prototype.toFixed ( fractionDigits )\n  // 20.1.3.4 Number.prototype.toLocaleString( [ reserved1 [ , reserved2 ] ])\n  // 20.1.3.5 Number.prototype.toPrecision ( precision )\n  // 20.1.3.6 Number.prototype.toString ( [ radix ] )\n  // 20.1.3.7 Number.prototype.valueOf ( )\n  // 20.1.4 Properties of Number Instances\n\n  // ---------------------------------------\n  // 20.2 The Math Object\n  // ---------------------------------------\n\n  // 20.2.1 Value Properties of the Math Object\n  // 20.2.1.1 Math.E\n  // 20.2.1.2 Math.LN10\n  // 20.2.1.3 Math.LN2\n  // 20.2.1.4 Math.LOG10E\n  // 20.2.1.5 Math.LOG2E\n  // 20.2.1.6 Math.PI\n  // 20.2.1.7 Math.SQRT1_2\n  // 20.2.1.8 Math.SQRT2\n\n  // 20.2.1.9 Math [ @@toStringTag ]\n  define(Math, $$toStringTag, 'Math');\n\n  // 20.2.2 Function Properties of the Math Object\n  // 20.2.2.1 Math.abs ( x )\n  // 20.2.2.2 Math.acos ( x )\n\n  // 20.2.2.3 Math.acosh(x)\n  define(\n    Math, 'acosh',\n    function acosh(x) {\n      x = Number(x);\n      return log(x + sqrt(x * x - 1));\n    });\n\n  // 20.2.2.4 Math.asin ( x )\n\n  // 20.2.2.5 Math.asinh( x )\n  define(\n    Math, 'asinh',\n    function asinh(x) {\n      x = Number(x);\n      if (SameValue(x, -0)) {\n        return x;\n      }\n      var s = sqrt(x * x + 1);\n      return (s === -x) ? log(0) : log(x + s);\n    });\n\n  // 20.2.2.6 Math.atan ( x )\n\n  // 20.2.2.7 Math.atanh( x )\n  define(\n    Math, 'atanh',\n    function atanh(x) {\n      x = Number(x);\n      return (x === 0) ? x : log((1 + x) / (1 - x)) / 2;\n    });\n\n  // 20.2.2.8 Math.atan2 ( y, x )\n\n  // 20.2.2.9 Math.cbrt ( x )\n  define(\n    Math, 'cbrt',\n    function cbrt(x) {\n      x = Number(x);\n      if ($isNaN(x/x)) {\n        return x;\n      }\n      var r = pow(abs(x), 1/3);\n      var t = x/r/r;\n      return r + (r * (t-r) / (2*r + t));\n    });\n\n  // 20.2.2.10 Math.ceil ( x )\n\n  // 20.2.2.11 Math.clz32 ( x )\n  define(\n    Math, 'clz32',\n    function clz32(x) {\n      function clz8(x) {\n        return (x & 0xf0) ? (x & 0x80 ? 0 : x & 0x40 ? 1 : x & 0x20 ? 2 : 3) :\n        (x & 0x08 ? 4 : x & 0x04 ? 5 : x & 0x02 ? 6 : x & 0x01 ? 7 : 8);\n      }\n      x = ToUint32(x);\n      return x & 0xff000000 ? clz8(x >> 24) :\n        x & 0xff0000 ? clz8(x >> 16) + 8 :\n        x & 0xff00 ? clz8(x >> 8) + 16 : clz8(x) + 24;\n    });\n\n\n\n  // 20.2.2.12 Math.cos ( x )\n\n  // 20.2.2.13 Math.cosh ( x )\n  define(\n    Math, 'cosh',\n    function cosh(x) {\n      x = Number(x);\n      return (pow(E, x) + pow(E, -x)) / 2;\n    });\n\n  // 20.2.2.14 Math.exp ( x )\n\n  // 20.2.2.15 Math.expm1 ( x )\n  define(\n    Math, 'expm1',\n    function expm1(x) {\n      x = Number(x);\n      // from: http://www.johndcook.com/cpp_log1p.html\n      if (SameValue(x, -0)) {\n        return -0;\n      } else if (abs(x) < 1e-5) {\n        return x + 0.5 * x * x; // two terms of Taylor expansion\n      } else {\n        return exp(x) - 1;\n      }\n    });\n\n  // 20.2.2.16 Math.floor ( x )\n\n  // 20.2.2.17 Math.fround ( x )\n  define(\n    Math, 'fround',\n    function fround(x) {\n      if ($isNaN(x)) {\n        return NaN;\n      }\n      if (1/x === +Infinity || 1/x === -Infinity || x === +Infinity || x === -Infinity) {\n        return x;\n      }\n      return (new Float32Array([x]))[0];\n    });\n\n  // 20.2.2.18 Math.hypot ( value1 [, value2 [ ... ] ] )\n  define(\n    Math, 'hypot',\n    function hypot() {\n      var values = [];\n      var m = 0, sawNaN = false;\n      for (var i = 0; i < arguments.length; ++i) {\n        var n = abs(Number(arguments[i]));\n        if (n === Infinity) return n;\n        if (n !== n) sawNaN = true;\n        if (n > m) m = n;\n        values[i] = n;\n      }\n      if (sawNaN) return NaN;\n      if (m === 0) return +0;\n      var sum = +0;\n      for (i = 0; i < values.length; ++i) {\n        var r = values[i] / m;\n        sum = sum + r * r;\n      }\n      return m * sqrt(sum);\n    });\n\n  // 20.2.2.19 Math.imul ( x, y )\n  define(\n    Math, 'imul',\n    function imul(x, y) {\n      var a = ToUint32(x);\n      var b = ToUint32(y);\n      // (slow but accurate)\n      var ah  = (a >>> 16) & 0xffff;\n      var al = a & 0xffff;\n      var bh  = (b >>> 16) & 0xffff;\n      var bl = b & 0xffff;\n      return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);\n    }, ('imul' in Math && Math.imul(1, 0x80000000) === 0) // Safari 7 bug\n  );\n\n  // 20.2.2.20 Math.log ( x )\n\n  // 20.2.2.21 Math.log1p ( x )\n  define(\n    Math, 'log1p',\n    function log1p(x) {\n      x = Number(x);\n      // from: http://www.johndcook.com/cpp_expm1.html\n      if (x < -1) {\n        return NaN;\n      } else if (SameValue(x, -0)) {\n        return -0;\n      } else if (abs(x) > 1e-4) {\n        return log(1 + x);\n      } else {\n        return (-0.5 * x + 1) * x;\n      }\n    });\n\n  // 20.2.2.22 Math.log10 ( x )\n  define(\n    Math, 'log10',\n    function log10(x) {\n      x = Number(x);\n      return log(x) * LOG10E;\n    });\n\n  // 20.2.2.23 Math.log2 ( x )\n  define(\n    Math, 'log2',\n    function log2(x) {\n      x = Number(x);\n      return log(x) * LOG2E;\n    });\n\n  // 20.2.2.24 Math.max ( value1, value2 , ...values )\n  // 20.2.2.25 Math.min ( value1, value2 , ...values )\n  // 20.2.2.26 Math.pow ( x, y )\n  // 20.2.2.27 Math.random ( )\n  // 20.2.2.28 Math.round ( x )\n\n  // 20.2.2.29 Math.sign(x)\n  define(\n    Math, 'sign',\n    function sign(x) {\n      x = Number(x);\n      return x < 0 ? -1 : x > 0 ? 1 : x;\n    });\n\n  // 20.2.2.30 Math.sin ( x )\n\n  // 20.2.2.31 Math.sinh( x )\n  define(\n    Math, 'sinh',\n    function sinh(x) {\n      x = Number(x);\n      return SameValue(x, -0) ? x : (pow(E, x) - pow(E, -x)) / 2;\n    });\n\n  // 20.2.2.32 Math.sqrt ( x )\n  // 20.2.2.33 Math.tan ( x )\n\n  // 20.2.2.34 Math.tanh ( x )\n  define(\n    Math, 'tanh',\n    function tanh(x) {\n      x = Number(x);\n      var n = pow(E, 2 * x) - 1,\n          d = pow(E, 2 * x) + 1;\n      if (SameValue(x, -0))\n        return x;\n      return (n === d) ? 1 : n / d; // Handle Infinity/Infinity\n    });\n\n  // 20.2.2.35 Math.trunc ( x )\n  define(\n    Math, 'trunc',\n    function trunc(x) {\n      x = Number(x);\n      return $isNaN(x) ? NaN :\n        x < 0 ? ceil(x) : floor(x);\n    });\n\n  // ---------------------------------------\n  // 20.3 Date Objects\n  // ---------------------------------------\n\n  // 20.3.1 Overview of Date Objects and Definitions of Abstract Operations\n  // 20.3.1.1 Time Values and Time Range\n  // 20.3.1.2 Day Number and Time within Day\n  // 20.3.1.3 Year Number\n  // 20.3.1.4 Month Number\n  // 20.3.1.5 Date Number\n  // 20.3.1.6 Week Day\n  // 20.3.1.7 Local Time Zone Adjustment\n  // 20.3.1.8 Daylight Saving Time Adjustment\n  // 20.3.1.9 Local Time\n  // 20.3.1.10 Hours, Minutes, Second, and Milliseconds\n  // 20.3.1.11 MakeTime (hour, min, sec, ms)\n  // 20.3.1.12 MakeDay (year, month, date)\n  // 20.3.1.13 MakeDate (day, time)\n  // 20.3.1.14 TimeClip (time)\n  // 20.3.1.15 Date Time String Format\n  // 20.3.1.15.1 Extended years\n  // 20.3.2 The Date Constructor\n  // 20.3.2.1 Date ( year, month [, date [ , hours [ , minutes [ , seconds [ , ms ] ] ] ] ] )\n  // 20.3.2.2 Date ( value )\n  // 20.3.2.3 Date ( )\n  // 20.3.3 Properties of the Date Constructor\n  // 20.3.3.1 Date.now ( )\n  // 20.3.3.2 Date.parse (string)\n  // 20.3.3.3 Date.prototype\n  // 20.3.3.4 Date.UTC ( year, month [ , date [ , hours [ , minutes [ , seconds [ , ms ] ] ] ] ] )\n  // 20.3.4 Properties of the Date Prototype Object\n  // 20.3.4.1 Date.prototype.constructor\n  // 20.3.4.2 Date.prototype.getDate ( )\n  // 20.3.4.3 Date.prototype.getDay ( )\n  // 20.3.4.4 Date.prototype.getFullYear ( )\n  // 20.3.4.5 Date.prototype.getHours ( )\n  // 20.3.4.6 Date.prototype.getMilliseconds ( )\n  // 20.3.4.7 Date.prototype.getMinutes ( )\n  // 20.3.4.8 Date.prototype.getMonth ( )\n  // 20.3.4.9 Date.prototype.getSeconds ( )\n  // 20.3.4.10 Date.prototype.getTime ( )\n  // 20.3.4.11 Date.prototype.getTimezoneOffset ( )\n  // 20.3.4.12 Date.prototype.getUTCDate ( )\n  // 20.3.4.13 Date.prototype.getUTCDay ( )\n  // 20.3.4.14 Date.prototype.getUTCFullYear ( )\n  // 20.3.4.15 Date.prototype.getUTCHours ( )\n  // 20.3.4.16 Date.prototype.getUTCMilliseconds ( )\n  // 20.3.4.17 Date.prototype.getUTCMinutes ( )\n  // 20.3.4.18 Date.prototype.getUTCMonth ( )\n  // 20.3.4.19 Date.prototype.getUTCSeconds ( )\n  // 20.3.4.20 Date.prototype.setDate ( date )\n  // 20.3.4.21 Date.prototype.setFullYear ( year [ , month [ , date ] ] )\n  // 20.3.4.22 Date.prototype.setHours ( hour [ , min [ , sec [ , ms ] ] ] )\n  // 20.3.4.23 Date.prototype.setMilliseconds ( ms )\n  // 20.3.4.24 Date.prototype.setMinutes ( min [ , sec [ , ms ] ] )\n  // 20.3.4.25 Date.prototype.setMonth ( month [ , date ] )\n  // 20.3.4.26 Date.prototype.setSeconds ( sec [ , ms ] )\n  // 20.3.4.27 Date.prototype.setTime ( time )\n  // 20.3.4.28 Date.prototype.setUTCDate ( date )\n  // 20.3.4.29 Date.prototype.setUTCFullYear ( year [ , month [ , date ] ] )\n  // 20.3.4.30 Date.prototype.setUTCHours ( hour [ , min [ , sec [ , ms ] ] ] )\n  // 20.3.4.31 Date.prototype.setUTCMilliseconds ( ms )\n  // 20.3.4.32 Date.prototype.setUTCMinutes ( min [ , sec [, ms ] ] )\n  // 20.3.4.33 Date.prototype.setUTCMonth ( month [ , date ] )\n  // 20.3.4.34 Date.prototype.setUTCSeconds ( sec [ , ms ] )\n  // 20.3.4.35 Date.prototype.toDateString ( )\n  // 20.3.4.36 Date.prototype.toISOString ( )\n  // 20.3.4.37 Date.prototype.toJSON ( key )\n  // 20.3.4.38 Date.prototype.toLocaleDateString ( [ reserved1 [ , reserved2 ] ] )\n  // 20.3.4.39 Date.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )\n  // 20.3.4.40 Date.prototype.toLocaleTimeString ( [ reserved1 [ , reserved2 ] ] )\n  // 20.3.4.41 Date.prototype.toString ( )\n  // 20.3.4.42 Date.prototype.toTimeString ( )\n  // 20.3.4.43 Date.prototype.toUTCString ( )\n  // 20.3.4.44 Date.prototype.valueOf ( )\n  // 20.3.4.45 Date.prototype [ @@toPrimitive ] ( hint )\n  // 20.3.5 Properties of Date Instances\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 21 Text Processing\n  // ---------------------------------------\n\n  var string_regexp_dispatch = (function() {\n    var faux = {}, secret = Symbol();\n    faux[Symbol.match] = function() { return secret; };\n    return (\"\").match(faux) === secret;\n  }());\n\n  // 21.1 String Objects\n  // 21.1.1 The String Constructor\n  // 21.1.1.1 String ( value )\n  // 21.1.2 Properties of the String Constructor\n  // 21.1.2.1 String.fromCharCode ( ...codeUnits )\n\n  // 21.1.2.2 String.fromCodePoint ( ...codePoints )\n  define(\n    String, 'fromCodePoint',\n    function fromCodePoint(/*...codePoints*/) {\n      var codePoints = arguments,\n          length = codePoints.length,\n          elements = [],\n          nextIndex = 0;\n      while (nextIndex < length) {\n        var next = codePoints[nextIndex];\n        var nextCP = Number(next);\n        if (!SameValue(nextCP, ToInteger(nextCP)) ||\n            nextCP < 0 || nextCP > 0x10FFFF) {\n          throw RangeError('Invalid code point ' + nextCP);\n        }\n        if (nextCP < 0x10000) {\n          elements.push(String.fromCharCode(nextCP));\n        } else {\n          nextCP -= 0x10000;\n          elements.push(String.fromCharCode((nextCP >> 10) + 0xD800));\n          elements.push(String.fromCharCode((nextCP % 0x400) + 0xDC00));\n        }\n        nextIndex += 1;\n      }\n      return elements.join('');\n    });\n\n  // 21.1.2.3 String.prototype\n\n  // 21.1.2.4 String.raw ( template , ...substitutions )\n  define(\n    String, 'raw',\n    function raw(template /*, ...substitutions*/) {\n      var substitutions = [].slice.call(arguments, 1);\n\n      var cooked = Object(template);\n      var rawValue = cooked['raw'];\n      var raw = Object(rawValue);\n      var len = raw['length'];\n      var literalSegments = ToLength(len);\n      if (literalSegments <= 0) return '';\n      var stringElements = [];\n      var nextIndex = 0;\n      while (true) {\n        var next = raw[nextIndex];\n        var nextSeg = String(next);\n        stringElements.push(nextSeg);\n        if (nextIndex + 1 === literalSegments)\n          return stringElements.join('');\n        next = substitutions[nextIndex];\n        var nextSub = String(next);\n        stringElements.push(nextSub);\n        nextIndex = nextIndex + 1;\n      }\n    });\n\n  // See https://githib.com/inexorabletash/uate for a more useful version.\n\n  // 21.1.3 Properties of the String Prototype Object\n  // 21.1.3.1 String.prototype.charAt ( pos )\n  // 21.1.3.2 String.prototype.charCodeAt ( pos )\n\n  // 21.1.3.3 String.prototype.codePointAt ( pos )\n  define(\n    String.prototype, 'codePointAt',\n    function codePointAt(pos) {\n      var o = strict(this);\n      var s = String(o);\n      var position = ToInteger(pos);\n      var size = s.length;\n      if (position < 0 || position >= size) return undefined;\n      var first = s.charCodeAt(position);\n      if (first < 0xD800 || first > 0xDBFF || position + 1 === size) return first;\n      var second = s.charCodeAt(position + 1);\n      if (second < 0xDC00 || second > 0xDFFF) return first;\n      return ((first - 0xD800) * 1024) + (second - 0xDC00) + 0x10000;\n    });\n\n  // 21.1.3.4 String.prototype.concat ( ...args )\n  // 21.1.3.5 String.prototype.constructor\n\n  // 21.1.3.6 String.prototype.endsWith ( searchString [ , endPosition] )\n  define(\n    String.prototype, 'endsWith',\n    function endsWith(searchString) {\n      var endPosition = arguments[1];\n\n      var o = strict(this);\n      var s = String(o);\n      var searchStr = String(searchString);\n      var len = s.length;\n      var pos = (endPosition === undefined) ? len : ToInteger(endPosition);\n      var end = min(max(pos, 0), len);\n      var searchLength = searchStr.length;\n      var start = end - searchLength;\n      if (start < 0) return false;\n      if (s.substring(start, start + searchLength) === searchStr) return true;\n      return false;\n    });\n\n  // 21.1.3.7 String.prototype.includes ( searchString [ , position ] )\n  define(\n    String.prototype, 'includes',\n    function includes(searchString) {\n      var position = arguments[1];\n\n      var o = strict(this);\n      var s = String(o);\n      var searchStr = String(searchString);\n      var pos = ToInteger(position);\n      var len = s.length;\n      var start = min(max(pos, 0), len);\n      return s.indexOf(searchStr, start) !== -1;\n    });\n\n  // 21.1.3.8 String.prototype.indexOf ( searchString [ , position ] )\n  // 21.1.3.9 String.prototype.lastIndexOf ( searchString [ , position ] )\n  // 21.1.3.10 String.prototype.localeCompare ( that [, reserved1 [ , reserved2 ] ] )\n  // 21.1.3.11 String.prototype.match ( regexp )\n  define(\n    String.prototype, 'match',\n    function match(regexp) {\n      var o = strict(this);\n      var s = String(o);\n      if (HasProperty(regexp, $$match)) var rx = regexp;\n      else rx = new RegExp(regexp);\n      return rx[$$match](s);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.12 String.prototype.normalize ( [ form ] )\n\n  // Not practical due to table sizes; if needed, pull in:\n  // https://github.com/walling/unorm/\n\n  // 21.1.3.13 String.prototype.repeat ( count )\n  define(\n    String.prototype, 'repeat',\n    function repeat(count) {\n      var o = strict(this);\n      var s = String(o);\n      var n = ToInteger(count);\n      if (n < 0) throw RangeError();\n      if (n === Infinity) throw RangeError();\n      var t = new Array(n + 1).join(s);\n      return t;\n    });\n\n  // 21.1.3.14 String.prototype.replace (searchValue, replaceValue )\n  define(\n    String.prototype, 'replace',\n    function replace(searchValue, replaceValue) {\n      var o = strict(this);\n      if (HasProperty(searchValue, $$replace))\n        return searchValue[$$replace](o, replaceValue);\n      return orig_replace.call(o, searchValue, replaceValue);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.15 String.prototype.search ( regexp )\n  define(\n    String.prototype, 'search',\n    function search(regexp) {\n      var o = strict(this);\n      var string = String(o);\n      if (HasProperty(regexp, $$search)) var rx = regexp;\n      else rx = new RegExp(regexp);\n      return rx[$$search](string);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.16 String.prototype.slice ( start, end )\n  // 21.1.3.17 String.prototype.split ( separator, limit )\n  define(\n    String.prototype, 'split',\n    function split(separator, limit) {\n      var o = strict(this);\n      if (HasProperty(separator, $$split))\n        return separator[$$split](o, limit);\n      return orig_split.call(o, separator, limit);\n    }, !string_regexp_dispatch);\n\n  // 21.1.3.18 String.prototype.startsWith ( searchString [, position ] )\n  define(\n    String.prototype, 'startsWith',\n    function startsWith(searchString) {\n      var position = arguments[1];\n\n      var o = strict(this);\n      var s = String(o);\n      var searchStr = String(searchString);\n      var pos = ToInteger(position);\n      var len = s.length;\n      var start = min(max(pos, 0), len);\n      var searchLength = searchStr.length;\n      if (searchLength + start > len) return false;\n      if (s.substring(start, start + searchLength) === searchStr) return true;\n      return false;\n    });\n\n  // 21.1.3.19 String.prototype.substring ( start, end )\n  // 21.1.3.20 String.prototype.toLocaleLowerCase ( [ reserved1 [ , reserved2 ] ] )\n  // 21.1.3.21 String.prototype.toLocaleUpperCase ([ reserved1 [ , reserved2 ] ] )\n  // 21.1.3.22 String.prototype.toLowerCase ( )\n  // 21.1.3.23 String.prototype.toString ( )\n  // 21.1.3.24 String.prototype.toUpperCase ( )\n  // 21.1.3.25 String.prototype.trim ( )\n  // 21.1.3.26 String.prototype.valueOf ( )\n\n  // 21.1.3.27 String.prototype [ @@iterator ]( )\n  define(\n    String.prototype, $$iterator,\n    function entries() {\n      return CreateStringIterator(this, 'value');\n    });\n\n  // 21.1.4 Properties of String Instances\n  // 21.1.4.1 length\n\n  // 21.1.5 String Iterator Objects\n  /** @constructor */\n  function StringIterator() {}\n\n  // 21.1.5.1 CreateStringIterator Abstract Operation\n  function CreateStringIterator(string, kind) {\n    var s = String(string);\n    var iterator = new StringIterator;\n    set_internal(iterator, '[[IteratedString]]', s);\n    set_internal(iterator, '[[StringIteratorNextIndex]]', 0);\n    set_internal(iterator, '[[StringIterationKind]]', kind);\n    return iterator;\n  }\n\n  // 21.1.5.2 The %StringIteratorPrototype% Object\n  var $StringIteratorPrototype$ = Object.create($IteratorPrototype$);\n  StringIterator.prototype = $StringIteratorPrototype$;\n\n  // 21.1.5.2.1 %StringIteratorPrototype%.next ( )\n  define(\n    $StringIteratorPrototype$, 'next',\n    function next() {\n      var o = ToObject(this);\n      var s = String(o['[[IteratedString]]']),\n          index = o['[[StringIteratorNextIndex]]'],\n          len = s.length;\n      if (index >= len) {\n        set_internal(o, '[[StringIteratorNextIndex]]', Infinity);\n        return CreateIterResultObject(undefined, true);\n      }\n      var cp = s.codePointAt(index);\n      set_internal(o, '[[StringIteratorNextIndex]]', index + (cp > 0xFFFF ? 2 : 1));\n      return CreateIterResultObject(String.fromCodePoint(cp), false);\n    });\n\n  // 21.1.5.2.2 %StringIteratorPrototype% [ @@toStringTag ]\n  define($StringIteratorPrototype$, $$toStringTag, 'String Iterator');\n\n  // 21.1.5.3 Properties of String Iterator Instances\n\n  // ---------------------------------------\n  // 21.2 RegExp (Regular Expression) Objects\n  // ---------------------------------------\n\n  // 21.2.1 Patterns\n  // 21.2.2 Pattern Semantics\n  // 21.2.2.1 Notation\n  // 21.2.2.2 Pattern\n  // 21.2.2.3 Disjunction\n  // 21.2.2.4 Alternative\n  // 21.2.2.5 Term\n  // 21.2.2.6 Assertion\n  // 21.2.2.7 Quantifier\n  // 21.2.2.8 Atom\n  // 21.2.2.9 AtomEscape\n  // 21.2.2.10 CharacterEscape\n  // 21.2.2.11 DecimalEscape\n  // 21.2.2.12 CharacterClassEscape\n  // 21.2.2.13 CharacterClass\n  // 21.2.2.14 ClassRanges\n  // 21.2.2.15 NonemptyClassRanges\n  // 21.2.2.16 NonemptyClassRangesNoDash\n  // 21.2.2.17 ClassAtom\n  // 21.2.2.18 ClassAtomNoDash\n  // 21.2.2.19 ClassEscape\n  // 21.2.3 The RegExp Constructor\n  // 21.2.3.1 RegExp ( pattern, flags )\n  // 21.2.3.2 new RegExp( ...argumentsList )\n  // 21.2.3.3 Abstract Operations for the RegExp Constructor\n  // 21.2.4 Properties of the RegExp Constructor\n  // 21.2.4.1 RegExp.prototype\n  // 21.2.5 Properties of the RegExp Prototype Object\n  // 21.2.5.1 RegExp.prototype.constructor\n  // 21.2.5.2 RegExp.prototype.exec ( string )\n\n  // 21.2.5.3 get RegExp.prototype.flags\n  if (!('flags' in RegExp.prototype)) {\n    Object.defineProperty(\n      RegExp.prototype, 'flags', {\n        get: function() {\n          var s = String(this);\n          return s.substring(s.lastIndexOf('/') + 1);\n        }\n      });\n  }\n\n  // 21.2.5.4 get RegExp.prototype.global\n  // 21.2.5.5 get RegExp.prototype.ignoreCase\n\n  // 21.2.5.6 RegExp.prototype [ @@match ] ( string )\n  define(RegExp.prototype, $$match, function(string) {\n    var o = strict(this);\n    return orig_match.call(string, o);\n  });\n\n  // 21.2.5.7 get RegExp.prototype.multiline\n\n  // 21.2.5.8 RegExp.prototype [ @@replace ] ( string, replaceValue )\n  define(RegExp.prototype, $$replace, function(string, replaceValue) {\n    var o = strict(this);\n    return orig_replace.call(string, o, replaceValue);\n  });\n\n  // 21.2.5.9 RegExp.prototype [ @@search ] ( string )\n  define(RegExp.prototype, $$search, function(string) {\n    var o = strict(this);\n    return orig_search.call(string, o);\n  });\n\n  // 21.2.5.10 get RegExp.prototype.source\n\n  // 21.2.5.11 RegExp.prototype [ @@split ] ( string, limit )\n  define(RegExp.prototype, $$split, function(string, limit) {\n    var o = strict(this);\n    return orig_split.call(string, o, limit);\n  });\n\n  // 21.2.5.12 get RegExp.prototype.sticky\n  // 21.2.5.13 RegExp.prototype.test( S )\n  // 21.2.5.14 RegExp.prototype.toString ( )\n  // 21.2.5.15 get RegExp.prototype.unicode\n\n  // 21.2.6 Properties of RegExp Instances\n  // 21.2.6.1 lastIndex\n\n  // (No polyfillable changes from ES5)\n\n  // ---------------------------------------\n  // 22 Indexed Collections\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 22.1 Array Objects\n  // ---------------------------------------\n\n  // 22.1.1 The Array Constructor\n  // 22.1.1.1 Array ( )\n  // 22.1.1.2 Array (len)\n  // 22.1.1.3 Array (...items )\n\n  // 22.1.2 Properties of the Array Constructor\n\n  // 22.1.2.1 Array.from ( items [ , mapfn [ , thisArg ] ] )\n  define(\n    Array, 'from',\n    function from(items) {\n      var mapfn = arguments[1];\n      var thisArg = arguments[2];\n\n      var c = strict(this);\n      if (mapfn === undefined) {\n        var mapping = false;\n      } else {\n        if (!IsCallable(mapfn)) throw TypeError();\n        var t = thisArg;\n        mapping = true;\n      }\n      var usingIterator = GetMethod(items, $$iterator);\n      if (usingIterator !== undefined) {\n         if (IsConstructor(c)) {\n          var a = new c();\n        } else {\n          a = new Array(0);\n        }\n        var iterator = GetIterator(items, usingIterator);\n        var k = 0;\n        while (true) {\n          var next = IteratorStep(iterator);\n          if (next === false) {\n            a.length = k;\n            return a;\n          }\n          var nextValue = IteratorValue(next);\n          if (mapping)\n            var mappedValue = mapfn.call(t, nextValue);\n          else\n            mappedValue = nextValue;\n          a[k] = mappedValue;\n          k += 1;\n        }\n      }\n      var arrayLike = ToObject(items);\n      var lenValue = arrayLike.length;\n      var len = ToLength(lenValue);\n      if (IsConstructor(c)) {\n        a = new c(len);\n      } else {\n        a = new Array(len);\n      }\n      k = 0;\n      while (k < len) {\n        var kValue = arrayLike[k];\n        if (mapping)\n          mappedValue = mapfn.call(t, kValue, k);\n        else\n          mappedValue = kValue;\n        a[k] = mappedValue;\n        k += 1;\n      }\n      a.length = len;\n      return a;\n    });\n\n  // 22.1.2.2 Array.isArray ( arg )\n\n  // 22.1.2.3 Array.of ( ...items )\n  define(\n    Array, 'of',\n    function of() {\n      var items = arguments;\n\n      var lenValue = items.length;\n      var len = ToUint32(lenValue);\n      var c = strict(this), a;\n      if (IsConstructor(c)) {\n        a = new c(len);\n        a = ToObject(a);\n      } else {\n        a = new Array(len);\n      }\n      var k = 0;\n      while (k < len) {\n        a[k] = items[k];\n        k += 1;\n      }\n      a.length = len;\n      return a;\n    });\n\n  // 22.1.2.4 Array.prototype\n  // 22.1.2.5 get Array [ @@species ]\n  // 22.1.3 Properties of the Array Prototype Object\n  // 22.1.3.1 Array.prototype.concat ( ...arguments )\n  // 22.1.3.1.1 Runtime Semantics: IsConcatSpreadable ( O )\n  // 22.1.3.2 Array.prototype.constructor\n  // 22.1.3.3 Array.prototype.copyWithin (target, start [ , end ] )\n  define(\n    Array.prototype, 'copyWithin',\n    function copyWithin(target, start/*, end*/) {\n      var end = arguments[2];\n\n      var o = ToObject(this);\n      var lenVal = o.length;\n      var len = ToLength(lenVal);\n      len = max(len, 0);\n      var relativeTarget = ToInteger(target);\n      var to;\n      if (relativeTarget < 0)\n        to = max(len + relativeTarget, 0);\n      else\n        to = min(relativeTarget, len);\n      var relativeStart = ToInteger(start);\n      var from;\n      if (relativeStart < 0)\n        from = max(len + relativeStart, 0);\n      else\n        from = min(relativeStart, len);\n      var relativeEnd;\n      if (end === undefined)\n        relativeEnd = len;\n      else\n        relativeEnd = ToInteger(end);\n      var final;\n      if (relativeEnd < 0)\n        final = max(len + relativeEnd, 0);\n      else\n        final = min(relativeEnd, len);\n      var count = min(final - from, len - to);\n      var direction;\n      if (from < to && to < from + count) {\n        direction = -1;\n        from = from + count - 1;\n        to = to + count - 1;\n      } else {\n        direction = 1;\n      }\n      while (count > 0) {\n        var fromKey = String(from);\n        var toKey = String(to);\n        var fromPresent = HasProperty(o, fromKey);\n        if (fromPresent) {\n          var fromVal = o[fromKey];\n          o[toKey] = fromVal;\n        } else {\n          delete o[toKey];\n        }\n        from = from + direction;\n        to = to + direction;\n        count = count - 1;\n      }\n      return o;\n    });\n\n  // 22.1.3.4 Array.prototype.entries ( )\n  var nativeArrayIteratorMethods =\n        ('entries' in Array.prototype && 'next' in [].entries());\n\n  define(\n    Array.prototype, 'entries',\n    function entries() {\n      return CreateArrayIterator(this, 'key+value');\n    }, !nativeArrayIteratorMethods);\n\n  // 22.1.3.5 Array.prototype.every ( callbackfn [ , thisArg] )\n\n  // 22.1.3.6 Array.prototype.fill (value [ , start [ , end ] ] )\n  define(\n    Array.prototype, 'fill',\n    function fill(value/*, start, end*/) {\n      var start = arguments[1],\n          end = arguments[2];\n\n      var o = ToObject(this);\n      var lenVal = o.length;\n      var len = ToLength(lenVal);\n      len = max(len, 0);\n      var relativeStart = ToInteger(start);\n      var k;\n      if (relativeStart < 0)\n        k = max((len + relativeStart), 0);\n      else\n        k = min(relativeStart, len);\n      var relativeEnd;\n      if (end === undefined)\n        relativeEnd = len;\n      else\n        relativeEnd = ToInteger(end);\n      var final;\n      if (relativeEnd < 0)\n        final = max((len + relativeEnd), 0);\n      else\n        final = min(relativeEnd, len);\n      while (k < final) {\n        var pk = String(k);\n        o[pk] = value;\n        k += 1;\n      }\n      return o;\n    });\n\n  // 22.1.3.7 Array.prototype.filter ( callbackfn [ , thisArg ] )\n\n  // 22.1.3.8 Array.prototype.find ( predicate [ , thisArg ] )\n  define(\n    Array.prototype, 'find',\n    function find(predicate) {\n      var o = ToObject(this);\n      var lenValue = o.length;\n      var len = ToInteger(lenValue);\n      if (!IsCallable(predicate)) throw TypeError();\n      var t = arguments.length > 1 ? arguments[1] : undefined;\n      var k = 0;\n      while (k < len) {\n        var pk = String(k);\n        var kPresent = HasProperty(o, pk);\n        if (kPresent) {\n          var kValue = o[pk];\n          var testResult = predicate.call(t, kValue, k, o);\n          if (Boolean(testResult)) {\n            return kValue;\n          }\n        }\n        ++k;\n      }\n      return undefined;\n    });\n\n  // 22.1.3.9 Array.prototype.findIndex ( predicate [ , thisArg ] )\n  define(\n    Array.prototype, 'findIndex',\n    function findIndex(predicate) {\n      var o = ToObject(this);\n      var lenValue = o.length;\n      var len = ToLength(lenValue);\n      if (!IsCallable(predicate)) throw TypeError();\n      var t = arguments.length > 1 ? arguments[1] : undefined;\n      var k = 0;\n      while (k < len) {\n        var pk = String(k);\n        var kPresent = HasProperty(o, pk);\n        if (kPresent) {\n          var kValue = o[pk];\n          var testResult = predicate.call(t, kValue, k, o);\n          if (Boolean(testResult)) {\n            return k;\n          }\n        }\n        ++k;\n      }\n      return -1;\n    });\n\n  // 22.1.3.10 Array.prototype.forEach ( callbackfn [ , thisArg ] )\n  // 22.1.3.11 Array.prototype.indexOf ( searchElement [ , fromIndex ] )\n  // 22.1.3.12 Array.prototype.join (separator)\n\n  // 22.1.3.13 Array.prototype.keys ( )\n  define(\n    Array.prototype, 'keys',\n    function keys() {\n      return CreateArrayIterator(this, 'key');\n    }, !nativeArrayIteratorMethods);\n\n  // 22.1.3.14 Array.prototype.lastIndexOf ( searchElement [ , fromIndex ] )\n  // 22.1.3.15 Array.prototype.map ( callbackfn [ , thisArg ] )\n  // 22.1.3.16 Array.prototype.pop ( )\n  // 22.1.3.17 Array.prototype.push ( ...items )\n  // 22.1.3.18 Array.prototype.reduce ( callbackfn [ , initialValue ] )\n  // 22.1.3.19 Array.prototype.reduceRight ( callbackfn [ , initialValue ] )\n  // 22.1.3.20 Array.prototype.reverse ( )\n  // 22.1.3.21 Array.prototype.shift ( )\n  // 22.1.3.22 Array.prototype.slice (start, end)\n  // 22.1.3.23 Array.prototype.some ( callbackfn [ , thisArg ] )\n  // 22.1.3.24 Array.prototype.sort (comparefn)\n  // 22.1.3.25 Array.prototype.splice (start, deleteCount , ...items )\n  // 22.1.3.26 Array.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )\n  // 22.1.3.27 Array.prototype.toString ( )\n  // 22.1.3.28 Array.prototype.unshift ( ...items )\n\n  // 22.1.3.29 Array.prototype.values ( )\n  define(\n    Array.prototype, 'values',\n    function values() {\n      return CreateArrayIterator(this, 'value');\n    }, !nativeArrayIteratorMethods);\n\n  // 22.1.3.30 Array.prototype [ @@iterator ] ( )\n  define(\n    Array.prototype, $$iterator,\n    Array.prototype.values\n    );\n\n  // 22.1.3.31 Array.prototype [ @@unscopables ]\n  // 22.1.4 Properties of Array Instances\n  // 22.1.4.1 length\n\n  // 22.1.5 Array Iterator Objects\n  function ArrayIterator() {}\n\n  // 22.1.5.1 CreateArrayIterator Abstract Operation\n  function CreateArrayIterator(array, kind) {\n    var o = ToObject(array);\n    var iterator = new ArrayIterator;\n    set_internal(iterator, '[[IteratedObject]]', o);\n    set_internal(iterator, '[[ArrayIteratorNextIndex]]', 0);\n    set_internal(iterator, '[[ArrayIterationKind]]', kind);\n    return iterator;\n  }\n\n  // 22.1.5.2 The %ArrayIteratorPrototype% Object\n  var $ArrayIteratorPrototype$ = Object.create($IteratorPrototype$);\n  ArrayIterator.prototype = $ArrayIteratorPrototype$;\n\n  // 22.1.5.2.1 %ArrayIteratorPrototype%. next( )\n  define(\n    $ArrayIteratorPrototype$, 'next',\n    function next() {\n      var o = strict(this);\n      if (Type(o) !== 'object') throw TypeError();\n      var a = o['[[IteratedObject]]'],\n          index = o['[[ArrayIteratorNextIndex]]'],\n          itemKind = o['[[ArrayIterationKind]]'],\n          lenValue = a.length,\n          len = ToUint32(lenValue),\n          elementKey,\n          elementValue;\n      if (itemKind.indexOf('sparse') !== -1) {\n        var found = false;\n        while (!found && index < len) {\n          elementKey = String(index);\n          found = HasProperty(a, elementKey);\n          if (!found) {\n            index += 1;\n          }\n        }\n      }\n      if (index >= len) {\n        set_internal(o, '[[ArrayIteratorNextIndex]]', Infinity);\n        return CreateIterResultObject(undefined, true);\n      }\n      elementKey = index;\n      set_internal(o, '[[ArrayIteratorNextIndex]]', index + 1);\n      if (itemKind.indexOf('value') !== -1)\n        elementValue = a[elementKey];\n      if (itemKind.indexOf('key+value') !== -1)\n        return CreateIterResultObject([elementKey, elementValue], false);\n      if (itemKind.indexOf('key') !== -1)\n        return CreateIterResultObject(elementKey, false);\n      if (itemKind === 'value')\n        return CreateIterResultObject(elementValue, false);\n      throw Error('Internal error');\n    });\n\n  // 22.1.5.2.2 %ArrayIteratorPrototype% [ @@toStringTag ]\n  define($ArrayIteratorPrototype$, $$toStringTag, 'Array Iterator');\n\n  // 22.1.5.3 Properties of Array Iterator Instances\n\n\n  // ---------------------------------------\n  // 22.2 TypedArray Objects\n  // ---------------------------------------\n\n  // See typedarray.js for TypedArray polyfill\n\n  ['Int8Array', 'Uint8Array', 'Uint8ClampedArray',\n   'Int16Array', 'Uint16Array',\n   'Int32Array', 'Uint32Array',\n   'Float32Array', 'Float64Array'].forEach(function ($TypedArrayName$) {\n     if (!($TypedArrayName$ in global))\n       return;\n     var $TypedArray$ = global[$TypedArrayName$];\n\n     // 22.2.1 The %TypedArray% Intrinsic Object\n     // 22.2.1.1 %TypedArray% ( length )\n     // 22.2.1.2 %TypedArray% ( typedArray )\n     // 22.2.1.3 %TypedArray% ( object )\n     // 22.2.1.4 %TypedArray% ( buffer [ , byteOffset [ , length ] ] )\n     // 22.2.1.5 %TypedArray% ( all other argument combinations )\n     // 22.2.2 Properties of the %TypedArray% Intrinsic Object\n\n     // 22.2.2.1 %TypedArray%.from ( source [ , mapfn [ , thisArg ] ] )\n     define(\n       $TypedArray$, 'from',\n       function from(source) {\n         var mapfn = arguments[1];\n         var thisArg = arguments[2];\n\n         var c = strict(this);\n         if (!IsConstructor(c)) throw TypeError();\n         if (mapfn === undefined) {\n           var mapping = false;\n         } else {\n           if (IsCallable(mapfn)) throw TypeError();\n           var t = thisArg;\n           mapping = true;\n         }\n         var usingIterator = GetMethod(source, $$iterator);\n         if (usingIterator !== undefined) {\n           var iterator = GetIterator(source, usingIterator);\n           var values = [];\n           var next = true;\n           while (next !== false) {\n             next = IteratorStep(iterator);\n             if (next !== false) {\n               var nextValue = IteratorValue(next);\n               values.push(nextValue);\n             }\n           }\n           var len = values.length;\n           var newObj = new c(len);\n           var k = 0;\n           while (k < len) {\n             var kValue = values.shift();\n             if (mapping) {\n               var mappedValue = mapfn.call(t, kValue);\n             } else {\n               mappedValue = kValue;\n             }\n             newObj[k] = mappedValue;\n             ++k;\n           }\n           console.assert(values.length === 0);\n           return newObj;\n         }\n         var arrayLike = ToObject(source);\n         var lenValue = arrayLike.length;\n         len = ToLength(lenValue);\n         newObj = new c(len);\n         k = 0;\n         while (k < len) {\n           kValue = arrayLike[k];\n           if (mapping) {\n             mappedValue = mapfn.call(t, kValue, k);\n           } else {\n             mappedValue = kValue;\n           }\n           newObj[k] = mappedValue;\n           ++k;\n         }\n         return newObj;\n       });\n\n     // 22.2.2.2 %TypedArray%.of ( ...items )\n     define(\n       $TypedArray$, 'of',\n       function of() {\n         var items = arguments;\n\n         var len = items.length;\n         var c = strict(this);\n         var newObj = new c(len);\n         var k = 0;\n         while (k < len) {\n           newObj[k] = items[k];\n           ++k;\n         }\n         return newObj;\n       });\n\n     // 22.2.2.3 %TypedArray%.prototype\n     // 22.2.2.4 get %TypedArray% [ @@species ]\n     // 22.2.3 Properties of the %TypedArrayPrototype% Object\n     // 22.2.3.1 get %TypedArray%.prototype.buffer\n     // 22.2.3.2 get %TypedArray%.prototype.byteLength\n     // 22.2.3.3 get %TypedArray%.prototype.byteOffset\n     // 22.2.3.4 %TypedArray%.prototype.constructor\n\n     // 22.2.3.5 %TypedArray%.prototype.copyWithin (target, start [, end ] )\n     define($TypedArray$.prototype, 'copyWithin', Array.prototype.copyWithin);\n\n     // 22.2.3.6 %TypedArray%.prototype.entries ( )\n     define($TypedArray$.prototype, 'entries', Array.prototype.entries);\n\n     // 22.2.3.7 %TypedArray%.prototype.every ( callbackfn [ , thisArg ] )\n     define($TypedArray$.prototype, 'every', Array.prototype.every);\n\n     // 22.2.3.8 %TypedArray%.prototype.fill (value [ , start [ , end ] ] )\n     define(\n       $TypedArray$.prototype, 'fill',\n       //Array.prototype.fill // Doesn't work in Safari 7\n       function fill(value/*, start, end*/) {\n         var start = arguments[1],\n             end = arguments[2];\n\n         var o = ToObject(this);\n         var lenVal = o.length;\n         var len = ToLength(lenVal);\n         len = max(len, 0);\n         var relativeStart = ToInteger(start);\n         var k;\n         if (relativeStart < 0) k = max((len + relativeStart), 0);\n         else k = min(relativeStart, len);\n         var relativeEnd;\n         if (end === undefined) relativeEnd = len;\n         else relativeEnd = ToInteger(end);\n         var final;\n         if (relativeEnd < 0) final = max((len + relativeEnd), 0);\n         else final = min(relativeEnd, len);\n         while (k < final) {\n           var pk = String(k);\n           o[pk] = value;\n           k += 1;\n         }\n         return o;\n       });\n\n     // 22.2.3.9 %TypedArray%.prototype.filter ( callbackfn [ , thisArg ] )\n     define(\n       $TypedArray$.prototype, 'filter',\n       function filter(callbackfn) {\n         var thisArg = arguments[1];\n\n         var o = ToObject(this);\n         var lenVal = o.length;\n         var len = ToLength(lenVal);\n         if (!IsCallable(callbackfn)) throw TypeError();\n         var t = thisArg;\n         var c = o.constructor;\n         var kept = [];\n         var k = 0;\n         var captured = 0;\n         while (k < len) {\n           var kValue = o[k];\n           var selected = callbackfn.call(t, kValue, k, o);\n           if (selected) {\n             kept.push(kValue);\n             ++captured;\n           }\n           ++k;\n         }\n         var a = new c(captured);\n         var n = 0;\n         for (var i = 0; i < kept.length; ++i) {\n           var e = kept[i];\n           a[n] = e;\n           ++n;\n         }\n         return a;\n       });\n\n     // 22.2.3.10 %TypedArray%.prototype.find (predicate [ , thisArg ] )\n     define($TypedArray$.prototype, 'find', Array.prototype.find);\n\n     // 22.2.3.11 %TypedArray%.prototype.findIndex ( predicate [ , thisArg ] )\n     define($TypedArray$.prototype, 'findIndex', Array.prototype.findIndex);\n\n     // 22.2.3.12 %TypedArray%.prototype.forEach ( callbackfn [ , thisArg ] )\n     define($TypedArray$.prototype, 'forEach', Array.prototype.forEach);\n\n     // 22.2.3.13 %TypedArray%.prototype.indexOf (searchElement [ , fromIndex ] )\n     define($TypedArray$.prototype, 'indexOf', Array.prototype.indexOf);\n\n     // 22.2.3.14 %TypedArray%.prototype.join ( separator )\n     define($TypedArray$.prototype, 'join', Array.prototype.join);\n\n     // 22.2.3.15 %TypedArray%.prototype.keys ( )\n     define($TypedArray$.prototype, 'keys', Array.prototype.keys);\n\n     // 22.2.3.16 %TypedArray%.prototype.lastIndexOf ( searchElement [ , fromIndex ] )\n     define($TypedArray$.prototype, 'lastIndexOf', Array.prototype.lastIndexOf);\n\n     // 22.2.3.17 get %TypedArray%.prototype.length\n\n     // 22.2.3.18 %TypedArray%.prototype.map ( callbackfn [ , thisArg ] )\n     define(\n       $TypedArray$.prototype, 'map',\n       function map(callbackfn) {\n         var thisArg = arguments[1];\n\n         var o = ToObject(this);\n         var lenValue = o.length;\n         var len = ToLength(lenValue);\n         if (!IsCallable(callbackfn)) throw TypeError();\n         var t = thisArg;\n         var a = undefined;\n         var c = o.constructor;\n         if (IsConstructor(c))\n           a = new c(len);\n         if (a === undefined)\n           a = new Array(len);\n         var k = 0;\n         while (k < len) {\n           var kPresent = HasProperty(o, k);\n           if (kPresent) {\n             var kValue = o[k];\n             var mappedValue = callbackfn.call(t, kValue, k, o);\n             a[k] = mappedValue;\n           }\n           ++k;\n         }\n         return a;\n       });\n\n     // 22.2.3.19 %TypedArray%.prototype.reduce ( callbackfn [, initialValue] )\n     define($TypedArray$.prototype, 'reduce', Array.prototype.reduce);\n\n     // 22.2.3.20 %TypedArray%.prototype.reduceRight ( callbackfn [, initialValue] )\n     define($TypedArray$.prototype, 'reduceRight', Array.prototype.reduceRight);\n\n     // 22.2.3.21 %TypedArray%.prototype.reverse ( )\n     define($TypedArray$.prototype, 'reverse', Array.prototype.reverse);\n\n     // 22.2.3.22 %TypedArray%.prototype.set ( overloaded [ , offset ])\n     // 22.2.3.22.1 %TypedArray%.prototype.set (array [ , offset ] )\n     // 22.2.3.22.2 %TypedArray%.prototype.set(typedArray [, offset ] )\n\n     // 22.2.3.23 %TypedArray%.prototype.slice ( start, end )\n     define(\n       $TypedArray$.prototype, 'slice',\n       function slice(start, end) {\n         var o = ToObject(this);\n         var lenVal = o.length;\n         var len = ToLength(lenVal);\n         var relativeStart = ToInteger(start);\n         var k = (relativeStart < 0) ? max(len + relativeStart, 0) : min(relativeStart, len);\n         var relativeEnd = (end === undefined) ? len : ToInteger(end);\n         var final = (relativeEnd < 0) ? max(len + relativeEnd, 0) : min(relativeEnd, len);\n         var count = final - k;\n         var c = o.constructor;\n         if (IsConstructor(c)) {\n           var a = new c(count);\n         } else {\n           throw TypeError();\n         }\n         var n = 0;\n         while (k < final) {\n           var kValue = o[k];\n           a[n] = kValue;\n           ++k;\n           ++n;\n         }\n         return a;\n       });\n\n     // 22.2.3.24 %TypedArray%.prototype.some ( callbackfn [ , thisArg ] )\n     define($TypedArray$.prototype, 'some', Array.prototype.some);\n\n     // 22.2.3.25 %TypedArray%.prototype.sort ( comparefn )\n     define(\n       $TypedArray$.prototype, 'sort',\n       function sort() {\n         var comparefn = arguments[0];\n\n         function sortCompare(x, y) {\n           console.assert(Type(x) === 'number' && Type(y) === 'number');\n           if (x !== x && y !== y) return +0;\n           if (x !== x) return 1;\n           if (y !== y) return -1;\n           if (comparefn !== undefined) {\n             return comparefn(x, y);\n           }\n           if (x < y) return -1;\n           if (x > y) return 1;\n           return +0;\n         }\n         return Array.prototype.sort.call(this, sortCompare);\n       });\n\n     // 22.2.3.26 %TypedArray%.prototype.subarray( [ begin [ , end ] ] )\n     // 22.2.3.27 %TypedArray%.prototype.toLocaleString ([ reserved1 [ , reserved2 ] ])\n     // 22.2.3.28 %TypedArray%.prototype.toString ( )\n\n     // 22.2.3.29 %TypedArray%.prototype.values ( )\n     define($TypedArray$.prototype, 'values', Array.prototype.values);\n\n     // 22.2.3.30 %TypedArray%.prototype [ @@iterator ] ( )\n     define(\n       $TypedArray$.prototype, $$iterator,\n       $TypedArray$.prototype.values\n     );\n\n     // 22.2.3.31 get %TypedArray%.prototype [ @@toStringTag ]\n     define($TypedArray$.prototype, $$toStringTag, $TypedArrayName$);\n\n     // 22.2.4 The TypedArray Constructors\n     // 22.2.4.1TypedArray( ... argumentsList)\n     // 22.2.5 Properties of the TypedArray Constructors\n     // 22.2.5.1 TypedArray.BYTES_PER_ELEMENT\n     // 22.2.5.2 TypedArray.prototype\n     // 22.2.6 Properties of TypedArray Prototype Objects\n     // 22.2.6.1 TypedArray.prototype.BYTES_PER_ELEMENT\n     // 22.2.6.2 TypedArray.prototype.constructor\n     // 22.2.7 Properties of TypedArray Instances\n   });\n\n  // ---------------------------------------\n  // 23 Keyed Collection\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 23.1 Map Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.1.1 The Map Constructor\n\n    // 23.1.1.1 Map ( [ iterable ] )\n    /** @constructor */\n    function Map(/*iterable*/) {\n      var map = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(map) !== 'object') throw TypeError();\n      if ('[[MapData]]' in map) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = map['set'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(map, '[[MapData]]', { keys: [], values: [] });\n      if (iter === undefined) return map;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return map;\n        var nextItem = IteratorValue(next);\n        if (Type(nextItem) !== 'object') throw TypeError();\n        var k = nextItem[0];\n        var v = nextItem[1];\n        adder.call(map, k, v);\n      }\n\n      return map;\n    }\n\n    if (!('Map' in global) || OVERRIDE_NATIVE_FOR_TESTING ||\n        (function() { try { new global.Map([]); return false; } catch (_) { return true; } }()) ||\n        (function() { try { return !new global.Map().entries().next; } catch (_) { return true; } }()) ||\n        (new global.Map([['a', 1]]).size !== 1))\n      global.Map = Map;\n\n\n    function MapDataIndexOf(mapData, key) {\n      var i;\n      if (key === key) return mapData.keys.indexOf(key);\n      // Slow case for NaN\n      for (i = 0; i < mapData.keys.length; i += 1)\n        if (SameValueZero(mapData.keys[i], key)) return i;\n      return -1;\n    }\n\n    // 23.1.1.2 new Map ( ... argumentsList )\n    // 23.1.2 Properties of the Map Constructor\n    // 23.1.2.1 Map.prototype\n    var $MapPrototype$ = {};\n    Map.prototype = $MapPrototype$;\n\n    // 23.1.2.2 get Map [ @@species ]\n\n    // 23.1.3 Properties of the Map Prototype Object\n    // 23.1.3.1 Map.prototype.clear ()\n    define(\n      Map.prototype, 'clear',\n      function clear() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        entries.keys.length = 0;\n        entries.values.length = 0;\n        return undefined;\n      });\n\n    // 23.1.3.2 Map.prototype.constructor\n\n    // 23.1.3.3 Map.prototype.delete ( key )\n    define(\n      Map.prototype, 'delete',\n      function delete_(key) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        var i = MapDataIndexOf(entries, key);\n        if (i < 0) return false;\n        entries.keys[i] = empty;\n        entries.values[i] = empty;\n        return true;\n      });\n\n    // 23.1.3.4 Map.prototype.entries ( )\n    define(\n      Map.prototype, 'entries',\n      function entries() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'key+value');\n      });\n\n    // 23.1.3.5 Map.prototype.forEach ( callbackfn [ , thisArg ] )\n    define(\n      Map.prototype, 'forEach',\n      function forEach(callbackfn /*, thisArg*/) {\n        var thisArg = arguments[1];\n\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n\n        if (!IsCallable(callbackfn)) {\n          throw TypeError('First argument to forEach is not callable.');\n        }\n        for (var i = 0; i < entries.keys.length; ++i) {\n          if (entries.keys[i] !== empty) {\n            callbackfn.call(thisArg, entries.values[i], entries.keys[i], m);\n          }\n        }\n        return undefined;\n      });\n\n    // 23.1.3.6 Map.prototype.get ( key )\n    define(\n      Map.prototype, 'get',\n      function get(key) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        var i = MapDataIndexOf(entries, key);\n        if (i >= 0) return entries.values[i];\n        return undefined;\n      });\n\n    // 23.1.3.7 Map.prototype.has ( key )\n    define(\n      Map.prototype, 'has',\n      function has(key) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        if (MapDataIndexOf(entries, key) >= 0) return true;\n        return false;\n      });\n\n    // 23.1.3.8 Map.prototype.keys ( )\n    define(\n      Map.prototype, 'keys',\n      function keys() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'key');\n      });\n\n    // 23.1.3.9 Map.prototype.set ( key , value )\n    define(\n      Map.prototype, 'set',\n      function set(key, value) {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        if (!('[[MapData]]' in m)) throw TypeError();\n        if (m['[[MapData]]'] === undefined) throw TypeError();\n        var entries = m['[[MapData]]'];\n        var i = MapDataIndexOf(entries, key);\n        if (i < 0) i = entries.keys.length;\n        if (SameValue(key, -0)) key = 0;\n        entries.keys[i] = key;\n        entries.values[i] = value;\n        return m;\n      });\n\n    // 23.1.3.10 get Map.prototype.size\n    Object.defineProperty(\n      Map.prototype, 'size', {\n        get: function() {\n          var m = strict(this);\n          if (Type(m) !== 'object') throw TypeError();\n          if (!('[[MapData]]' in m)) throw TypeError();\n          if (m['[[MapData]]'] === undefined) throw TypeError();\n          var entries = m['[[MapData]]'];\n          var count = 0;\n          for (var i = 0; i < entries.keys.length; ++i) {\n            if (entries.keys[i] !== empty)\n              count = count + 1;\n          }\n          return count;\n        }\n      });\n\n    // 23.1.3.11 Map.prototype.values ( )\n    define(\n      Map.prototype, 'values',\n      function values() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'value');\n      });\n\n    // 23.1.3.12 Map.prototype [ @@iterator ]( )\n    define(\n      Map.prototype, $$iterator,\n      function() {\n        var m = strict(this);\n        if (Type(m) !== 'object') throw TypeError();\n        return CreateMapIterator(m, 'key+value');\n      });\n\n    // 23.1.3.13 Map.prototype [ @@toStringTag ]\n    define(global.Map.prototype, $$toStringTag, 'Map');\n\n    // 23.1.4 Properties of Map Instances\n    // 23.1.5 Map Iterator Objects\n\n    /** @constructor */\n    function MapIterator() {}\n\n    // 23.1.5.1 CreateMapIterator Abstract Operation\n    function CreateMapIterator(map, kind) {\n      if (Type(map) !== 'object') throw TypeError();\n      if (!('[[MapData]]' in map)) throw TypeError();\n      if (map['[[MapData]]'] === undefined) throw TypeError();\n      var iterator = new MapIterator;\n      set_internal(iterator, '[[Map]]', map);\n      set_internal(iterator, '[[MapNextIndex]]', 0);\n      set_internal(iterator, '[[MapIterationKind]]', kind);\n      return iterator;\n    }\n\n    // 23.1.5.2 The %MapIteratorPrototype% Object\n    var $MapIteratorPrototype$ = Object.create($IteratorPrototype$);\n    MapIterator.prototype = $MapIteratorPrototype$;\n\n    // 23.1.5.2.1 %MapIteratorPrototype%.next ( )\n    define(\n      $MapIteratorPrototype$, 'next',\n      function next() {\n        var o = strict(this);\n        if (Type(o) !== 'object') throw TypeError();\n        var m = o['[[Map]]'],\n            index = o['[[MapNextIndex]]'],\n            itemKind = o['[[MapIterationKind]]'],\n            entries = m['[[MapData]]'];\n        while (index < entries.keys.length) {\n          var e = {key: entries.keys[index], value: entries.values[index]};\n          index = index += 1;\n          set_internal(o, '[[MapNextIndex]]', index);\n          if (e.key !== empty) {\n            if (itemKind === 'key') {\n              return CreateIterResultObject(e.key, false);\n            } else if (itemKind === 'value') {\n              return CreateIterResultObject(e.value, false);\n            } else {\n              return CreateIterResultObject([e.key, e.value], false);\n            }\n          }\n        }\n        return CreateIterResultObject(undefined, true);\n      });\n\n    // 23.1.5.2.2 %MapIteratorPrototype% [ @@toStringTag ]\n    define($MapIteratorPrototype$, $$toStringTag, 'Map Iterator');\n\n    // 23.1.5.3 Properties of Map Iterator Instances\n  }());\n\n  // ---------------------------------------\n  // 23.2 Set Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.2.1 The Set Constructor\n    // 23.2.1.1 Set ( [ iterable ] )\n\n    /** @constructor */\n    function Set(/*iterable*/) {\n      var set = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(set) !== 'object') throw TypeError();\n      if ('[[SetData]]' in set) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = set['add'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(set, '[[SetData]]', []);\n      if (iter === undefined) return set;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return set;\n        var nextValue = IteratorValue(next);\n        adder.call(set, nextValue);\n      }\n\n      return set;\n    }\n\n    if (!('Set' in global) || OVERRIDE_NATIVE_FOR_TESTING ||\n        (function() { try { return !new global.Set().entries().next; } catch (_) { return true; } }()) ||\n        (new global.Set([1]).size !== 1))\n      global.Set = Set;\n\n    function SetDataIndexOf(setData, key) {\n      var i;\n      if (key === key)\n        return setData.indexOf(key);\n      // Slow case for NaN\n      for (i = 0; i < setData.length; i += 1)\n        if (SameValueZero(setData[i], key)) return i;\n      return -1;\n    }\n\n    // 23.2.1.2 new Set ( ...argumentsList )\n    // 23.2.2 Properties of the Set Constructor\n\n    // 23.2.2.1 Set.prototype\n    var $SetPrototype$ =  {};\n    Set.prototype = $SetPrototype$;\n\n    // 23.2.2.2 get Set [ @@species ]\n    // 23.2.3 Properties of the Set Prototype Object\n\n    // 23.2.3.1 Set.prototype.add (value )\n    define(\n      Set.prototype, 'add',\n      function add(value) {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        if (SameValue(value, -0)) value = 0;\n        var entries = s['[[SetData]]'];\n        var i = SetDataIndexOf(entries, value);\n        if (i < 0) i = s['[[SetData]]'].length;\n        s['[[SetData]]'][i] = value;\n\n        return s;\n      });\n\n    // 23.2.3.2 Set.prototype.clear ()\n    define(\n      Set.prototype, 'clear',\n      function clear() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n        entries.length = 0;\n        return undefined;\n      });\n\n    // 23.2.3.3 Set.prototype.constructor\n    // 23.2.3.4 Set.prototype.delete ( value )\n    define(\n      Set.prototype, 'delete',\n      function delete_(value) {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n        var i = SetDataIndexOf(entries, value);\n        if (i < 0) return false;\n        entries[i] = empty;\n        return true;\n      });\n\n    // 23.2.3.5 Set.prototype.entries ( )\n    define(\n      Set.prototype, 'entries',\n      function entries() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        return CreateSetIterator(s, 'key+value');\n      });\n\n    // 23.2.3.6 Set.prototype.forEach ( callbackfn [ , thisArg ] )\n    define(\n      Set.prototype, 'forEach',\n      function forEach(callbackfn/*, thisArg*/) {\n        var thisArg = arguments[1];\n\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n\n        if (!IsCallable(callbackfn)) {\n          throw TypeError('First argument to forEach is not callable.');\n        }\n        for (var i = 0; i < entries.length; ++i) {\n          if (entries[i] !== empty) {\n            callbackfn.call(thisArg, entries[i], entries[i], s);\n          }\n        }\n      });\n\n    // 23.2.3.7 Set.prototype.has ( value )\n    define(\n      Set.prototype, 'has',\n      function has(key) {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        if (!('[[SetData]]' in s)) throw TypeError();\n        if (s['[[SetData]]'] === undefined) throw TypeError();\n        var entries = s['[[SetData]]'];\n        return SetDataIndexOf(entries, key) !== -1;\n      });\n\n    // 23.2.3.8 Set.prototype.keys ( )\n    // See Set.prototype.values\n\n    // 23.2.3.9 get Set.prototype.size\n    Object.defineProperty(\n      Set.prototype, 'size', {\n        get: function() {\n          var s = strict(this);\n          if (Type(s) !== 'object') throw TypeError();\n          if (!('[[SetData]]' in s)) throw TypeError();\n          if (s['[[SetData]]'] === undefined) throw TypeError();\n          var entries = s['[[SetData]]'];\n          var count = 0;\n          for (var i = 0; i < entries.length; ++i) {\n            if (entries[i] !== empty)\n              count = count + 1;\n          }\n          return count;\n        }\n      });\n\n    // 23.2.3.10 Set.prototype.values ( )\n    define(\n      Set.prototype, 'values',\n      function values() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        return CreateSetIterator(s, 'value');\n      });\n    // NOTE: function name is still 'values':\n    Set.prototype.keys = Set.prototype.values;\n\n    // 23.2.3.11 Set.prototype [@@iterator ] ( )\n    define(\n      Set.prototype, $$iterator,\n      function() {\n        var s = strict(this);\n        if (Type(s) !== 'object') throw TypeError();\n        return CreateSetIterator(s);\n      });\n\n    // 23.2.3.12 Set.prototype [ @@toStringTag ]\n    define(global.Set.prototype, $$toStringTag, 'Set');\n\n    // 23.2.4 Properties of Set Instances\n    // 23.2.5 Set Iterator Objects\n    /** @constructor */\n    function SetIterator() {}\n\n    // 23.2.5.1 CreateSetIterator Abstract Operation\n    function CreateSetIterator(set, kind) {\n      if (Type(set) !== 'object') throw TypeError();\n      if (!('[[SetData]]' in set)) throw TypeError();\n      if (set['[[SetData]]'] === undefined) throw TypeError();\n      var iterator = new SetIterator;\n      set_internal(iterator, '[[IteratedSet]]', set);\n      set_internal(iterator, '[[SetNextIndex]]', 0);\n      set_internal(iterator, '[[SetIterationKind]]', kind);\n      return iterator;\n    }\n\n    // 23.2.5.2 The %SetIteratorPrototype% Object\n    var $SetIteratorPrototype$ = Object.create($IteratorPrototype$);\n    SetIterator.prototype = $SetIteratorPrototype$;\n\n    // 23.2.5.2.1 %SetIteratorPrototype%.next( )\n    define(\n      $SetIteratorPrototype$, 'next',\n      function next() {\n        var o = strict(this);\n        if (Type(o) !== 'object') throw TypeError();\n        var s = o['[[IteratedSet]]'],\n            index = o['[[SetNextIndex]]'],\n            itemKind = o['[[SetIterationKind]]'],\n            entries = s['[[SetData]]'];\n        while (index < entries.length) {\n          var e = entries[index];\n          index = index += 1;\n          set_internal(o, '[[SetNextIndex]]', index);\n          if (e !== empty) {\n            if (itemKind === 'key+value')\n              return CreateIterResultObject([e, e], false);\n            return CreateIterResultObject(e, false);\n          }\n        }\n        return CreateIterResultObject(undefined, true);\n      });\n\n    // 23.2.5.2.2 %SetIteratorPrototype% [ @@toStringTag ]\n    define($SetIteratorPrototype$, $$toStringTag, 'Set Iterator');\n\n    // 23.2.5.3 Properties of Set Iterator Instances\n\n  }());\n\n  // ---------------------------------------\n  // 23.3 WeakMap Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.3.1 The WeakMap Constructor\n    // 23.3.1.1 WeakMap ( [ iterable ] )\n    /** @constructor */\n    function WeakMap(/*iterable*/) {\n      var map = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(map) !== 'object') throw TypeError();\n      if ('[[WeakMapData]]' in map) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = map['set'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(map, '[[WeakMapData]]', new EphemeronTable);\n      if (iter === undefined) return map;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return map;\n        var nextValue = IteratorValue(next);\n        if (Type(nextValue) !== 'object') throw TypeError();\n        var k = nextValue[0];\n        var v = nextValue[1];\n        adder.call(map, k, v);\n      }\n\n      return map;\n    }\n\n    if (!('WeakMap' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.WeakMap = WeakMap;\n\n    // 23.3.2 Properties of the WeakMap Constructor\n    // 23.3.2.1 WeakMap.prototype\n    var $WeakMapPrototype$ = {};\n    WeakMap.prototype = $WeakMapPrototype$;\n\n\n\n   // 23.3.2.2 WeakMap[ @@create ] ( )\n    // 23.3.3 Properties of the WeakMap Prototype Object\n\n    // 23.3.3.1 WeakMap.prototype.constructor\n\n    // 23.3.3.2 WeakMap.prototype.delete ( key )\n    define(\n      WeakMap.prototype, 'delete',\n      function delete_(key) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return M['[[WeakMapData]]'].remove(key);\n      });\n\n    // 23.3.3.3 WeakMap.prototype.get ( key )\n    define(\n      WeakMap.prototype, 'get',\n      function get(key, defaultValue) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return M['[[WeakMapData]]'].get(key, defaultValue);\n      });\n\n    // 23.3.3.4 WeakMap.prototype.has ( key )\n    define(\n      WeakMap.prototype, 'has',\n      function has(key) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return M['[[WeakMapData]]'].has(key);\n      });\n\n    // 23.3.3.5 WeakMap.prototype.set ( key , value )\n    define(\n      WeakMap.prototype, 'set',\n      function set(key, value) {\n        var M = strict(this);\n        if (Type(M) !== 'object') throw TypeError();\n        if (M['[[WeakMapData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        M['[[WeakMapData]]'].set(key, value);\n        return M;\n      });\n\n    // 23.3.3.6 WeakMap.prototype [ @@toStringTag ]\n    define(global.WeakMap.prototype, $$toStringTag, 'WeakMap');\n\n    // 23.3.4 Properties of WeakMap Instances\n\n    // Polyfills for incomplete native implementations:\n    (function() {\n      var wm = new global.WeakMap();\n      var orig = global.WeakMap.prototype.set;\n      define(global.WeakMap.prototype, 'set', function set() {\n        orig.apply(this, arguments);\n        return this;\n      }, wm.set({}, 0) !== wm);\n    }());\n  }());\n\n  // ---------------------------------------\n  // 23.4 WeakSet Objects\n  // ---------------------------------------\n\n  (function() {\n    // 23.4.1 The WeakSet Constructor\n    // 23.4.1.1 WeakSet ( [ iterable ] )\n    /** @constructor */\n    function WeakSet(/*iterable*/) {\n      var set = strict(this);\n      var iterable = arguments[0];\n\n      if (Type(set) !== 'object') throw TypeError();\n      if ('[[WeakSetData]]' in set) throw TypeError();\n\n      if (iterable !== undefined) {\n        var adder = set['add'];\n        if (!IsCallable(adder)) throw TypeError();\n        var iter = GetIterator(ToObject(iterable));\n      }\n      set_internal(set, '[[WeakSetData]]', new EphemeronTable);\n      if (iter === undefined) return set;\n      while (true) {\n        var next = IteratorStep(iter);\n        if (next === false)\n          return set;\n        var nextValue = IteratorValue(next);\n        adder.call(set, nextValue);\n      }\n\n      return set;\n    }\n\n    if (!('WeakSet' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.WeakSet = WeakSet;\n\n    // 23.4.2 Properties of the WeakSet Constructor\n    // 23.4.2.1 WeakSet.prototype\n    var $WeakSetPrototype$ = {};\n    WeakSet.prototype = $WeakSetPrototype$;\n\n    // 23.4.3 Properties of the WeakSet Prototype Object\n    // 23.4.3.1 WeakSet.prototype.add (value )\n    define(\n      WeakSet.prototype, 'add',\n      function add(value) {\n        var S = strict(this);\n        if (Type(S) !== 'object') throw TypeError();\n        if (S['[[WeakSetData]]'] === undefined) throw TypeError();\n        if (Type(value) !== 'object') throw TypeError('Expected object');\n        S['[[WeakSetData]]'].set(value, true);\n        return S;\n      });\n\n    // 23.4.3.2 WeakSet.prototype.constructor\n    // 23.4.3.3 WeakSet.prototype.delete ( value )\n    define(\n      WeakSet.prototype, 'delete',\n      function delete_(value) {\n        var S = strict(this);\n        if (Type(S) !== 'object') throw TypeError();\n        if (S['[[WeakSetData]]'] === undefined) throw TypeError();\n        if (Type(value) !== 'object') throw TypeError('Expected object');\n        return S['[[WeakSetData]]'].remove(value);\n      });\n\n    // 23.4.3.4 WeakSet.prototype.has ( value )\n    define(\n      WeakSet.prototype, 'has',\n      function has(key) {\n        var S = strict(this);\n        if (Type(S) !== 'object') throw TypeError();\n        if (S['[[WeakSetData]]'] === undefined) throw TypeError();\n        if (Type(key) !== 'object') throw TypeError('Expected object');\n        return S['[[WeakSetData]]'].has(key);\n      });\n\n    // 23.4.3.5 WeakSet.prototype [ @@toStringTag ]\n    define(global.WeakSet.prototype, $$toStringTag, 'WeakSet');\n\n    // 23.4.4 Properties of WeakSet Instances\n\n    // Polyfills for incomplete native implementations:\n    (function() {\n      var ws = new global.WeakSet();\n      var orig = global.WeakSet.prototype.add;\n      define(global.WeakSet.prototype, 'add', function add() {\n        orig.apply(this, arguments);\n        return this;\n      }, ws.add({}) !== ws);\n    }());\n  }());\n\n  // ---------------------------------------\n  // 24 Structured Data\n  // ---------------------------------------\n\n  // ---------------------------------------\n  // 24.1 ArrayBuffer Objects\n  // ---------------------------------------\n\n  // See typedarray.js for TypedArray polyfill\n\n  (function() {\n    if (!('ArrayBuffer' in global))\n      return;\n\n    // 24.1.1 Abstract Operations For ArrayBuffer Objects\n    // 24.1.1.1 AllocateArrayBuffer( constructor, byteLength )\n    // 24.1.1.2 IsDetachedBuffer( arrayBuffer )\n    // 24.1.1.3 DetachArrayBuffer( arrayBuffer )\n    // 24.1.1.4 CloneArrayBuffer( srcBuffer, srcByteOffset [, cloneConstructor] )\n    // 24.1.1.5 GetValueFromBuffer ( arrayBuffer, byteIndex, type, isLittleEndian )\n    // 24.1.1.6 SetValueInBuffer ( arrayBuffer, byteIndex, type, value, isLittleEndian )\n    // 24.1.2 The ArrayBuffer Constructor\n    // 24.1.2.1 ArrayBuffer( length )\n    // 24.1.3 Properties of the ArrayBuffer Constructor\n\n    // 24.1.3.1 ArrayBuffer.isView ( arg )\n    define(\n      ArrayBuffer, 'isView',\n      function isView(arg) {\n        if (Type(arg) !== 'object') return false;\n        if ('buffer' in arg && arg.buffer instanceof ArrayBuffer) return true;\n        return false;\n      });\n\n    // 24.1.3.2 ArrayBuffer.prototype\n    // 24.1.3.3 get ArrayBuffer [ @@species ]\n    // 24.1.4 Properties of the ArrayBuffer Prototype Object\n    // 24.1.4.1 get ArrayBuffer.prototype.byteLength\n    // 24.1.4.2 ArrayBuffer.prototype.constructor\n    // 24.1.4.3 ArrayBuffer.prototype.slice ( start , end)\n\n    // 24.1.4.4 ArrayBuffer.prototype [ @@toStringTag ]\n    define(ArrayBuffer.prototype, $$toStringTag, 'ArrayBuffer');\n\n    // 24.1.5 Properties of the ArrayBuffer Instances\n  }());\n\n  // ---------------------------------------\n  // 24.2 DataView Objects\n  // ---------------------------------------\n\n  // See typedarray.js for TypedArray polyfill\n\n  (function() {\n    if (!('DataView' in global))\n      return;\n\n    // 24.2.1 Abstract Operations For DataView Objects\n    // 24.2.1.1 GetViewValue(view, requestIndex, isLittleEndian, type)\n    // 24.2.1.2 SetViewValue(view, requestIndex, isLittleEndian, type, value)\n    // 24.2.2 The DataView Constructor\n    // 24.2.2.1 DataView (buffer [ , byteOffset [ , byteLength ] ] )\n    // 24.2.3 Properties of the DataView Constructor\n    // 24.2.3.1 DataView.prototype\n    // 24.2.4 Properties of the DataView Prototype Object\n    // 24.2.4.1 get DataView.prototype.buffer\n    // 24.2.4.2 get DataView.prototype.byteLength\n    // 24.2.4.3 get DataView.prototype.byteOffset\n    // 24.2.4.4 DataView.prototype.constructor\n    // 24.2.4.5 DataView.prototype.getFloat32 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.6 DataView.prototype.getFloat64 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.7 DataView.prototype.getInt8 ( byteOffset )\n    // 24.2.4.8 DataView.prototype.getInt16 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.9 DataView.prototype.getInt32 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.10 DataView.prototype.getUint8 ( byteOffset )\n    // 24.2.4.11 DataView.prototype.getUint16 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.12 DataView.prototype.getUint32 ( byteOffset [ , littleEndian ] )\n    // 24.2.4.13 DataView.prototype.setFloat32 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.14 DataView.prototype.setFloat64 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.15 DataView.prototype.setInt8 ( byteOffset, value )\n    // 24.2.4.16 DataView.prototype.setInt16 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.17 DataView.prototype.setInt32 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.18 DataView.prototype.setUint8 ( byteOffset, value )\n    // 24.2.4.19 DataView.prototype.setUint16 ( byteOffset, value [ , littleEndian ] )\n    // 24.2.4.20 DataView.prototype.setUint32 ( byteOffset, value [ , littleEndian ] )\n\n    // 24.2.4.21 DataView.prototype[ @@toStringTag ]\n    define(DataView.prototype, $$toStringTag, 'DataView');\n\n    // 24.2.5 Properties of DataView Instances\n  }());\n\n  // ---------------------------------------\n  // 24.3 The JSON Object\n  // ---------------------------------------\n\n  // 24.3.1 JSON.parse ( text [ , reviver ] )\n  // 24.3.2 JSON.stringify ( value [ , replacer [ , space ] ] )\n  // 24.3.3 JSON [ @@toStringTag ]\n  define(JSON, $$toStringTag, 'JSON');\n\n  // ---------------------------------------\n  // 25.1 Iteration\n  // ---------------------------------------\n\n  // 25.1.1 Common Iteration Interfaces\n  // 25.1.1.1 The Iterable Interface\n  // 25.1.1.2 The Iterator Interface\n  // 25.1.1.3 The IteratorResult Interface\n\n  // 25.1.2 The %IteratorPrototype% Object\n  // Defined earlier, so other prototypes can reference it.\n  // 25.1.2.1 %IteratorPrototype% [ @@iterator ] ( )\n  define($IteratorPrototype$, $$iterator, function() {\n    return this;\n  });\n\n\n  // ---------------------------------------\n  // 25.4 Promise Objects\n  // ---------------------------------------\n\n  (function() {\n    // 25.4 Promise Objects\n\n    // 25.4.1 Promise Abstract Operations\n\n    // 25.4.1.1 PromiseCapability Records\n    // 25.4.1.1.1 IfAbruptRejectPromise ( value, capability )\n\n    function IfAbruptRejectPromise(value, capability) {\n      var rejectResult = capability['[[Reject]]'].call(undefined, value);\n      return capability['[[Promise]]'];\n    }\n\n    // 25.4.1.2 PromiseReaction Records\n\n    // 25.4.1.3 CreateResolvingFunctions ( promise )\n\n    function CreateResolvingFunctions(promise) {\n      var alreadyResolved = {'[[value]]': false};\n      var resolve = PromiseResolveFunction();\n      set_internal(resolve, '[[Promise]]',  promise);\n      set_internal(resolve, '[[AlreadyResolved]]', alreadyResolved);\n      var reject = PromiseRejectFunction();\n      set_internal(reject, '[[Promise]]', promise);\n      set_internal(reject, '[[AlreadyResolved]]', alreadyResolved);\n      return { '[[Resolve]]': resolve, '[[Reject]]': reject};\n    }\n\n    // 25.4.1.3.1 Promise Reject Functions\n\n    function PromiseRejectFunction() {\n      var F = function(reason) {\n        console.assert(Type(F['[[Promise]]']) === 'object');\n        var promise = F['[[Promise]]'];\n        var alreadyResolved = F['[[AlreadyResolved]]'];\n        if (alreadyResolved['[[value]]']) return undefined;\n        set_internal(alreadyResolved, '[[value]]', true);\n        return RejectPromise(promise, reason);\n      };\n      return F;\n    }\n\n    // 25.4.1.3.2 Promise Resolve Functions\n\n    function PromiseResolveFunction() {\n      var F = function(resolution) {\n        console.assert(Type(F['[[Promise]]']) === 'object');\n        var promise = F['[[Promise]]'];\n        var alreadyResolved = F['[[AlreadyResolved]]'];\n        if (alreadyResolved['[[value]]']) return undefined;\n        set_internal(alreadyResolved, '[[value]]', true);\n\n        if (SameValue(resolution, promise))  {\n          var selfResolutionError = TypeError();\n          return RejectPromise(promise, selfResolutionError);\n        }\n        if (Type(resolution) !== 'object')\n          return FulfillPromise(promise, resolution);\n        try {\n          var then = resolution['then'];\n        } catch(then) {\n          return RejectPromise(promise, then);\n        }\n        if (!IsCallable(then))\n          return FulfillPromise(promise, resolution);\n        EnqueueJob('PromiseJobs', PromiseResolveThenableJob, [promise, resolution, then]);\n        return undefined;\n      };\n      return F;\n    }\n\n    // 25.4.1.4 FulfillPromise ( promise, value )\n\n    function FulfillPromise(promise, value) {\n      console.assert(promise['[[PromiseState]]'] === 'pending');\n      var reactions = promise['[[PromiseFulfillReactions]]'];\n      set_internal(promise, '[[PromiseResult]]', value);\n      set_internal(promise, '[[PromiseFulfillReactions]]', undefined);\n      set_internal(promise, '[[PromiseRejectReactions]]', undefined);\n      set_internal(promise, '[[PromiseState]]', 'fulfilled');\n      return TriggerPromiseReactions(reactions, value);\n    }\n\n    // 25.4.1.5 NewPromiseCapability ( C )\n\n    function NewPromiseCapability(c) {\n      // To keep Promise hermetic, this doesn't look much like the spec.\n      return CreatePromiseCapabilityRecord(undefined, c);\n    }\n\n    // 25.4.1.5.1 CreatePromiseCapabilityRecord ( promise, constructor )\n\n    function CreatePromiseCapabilityRecord(promise, constructor) {\n      // To keep Promise hermetic, this doesn't look much like the spec.\n      console.assert(IsConstructor(constructor));\n      var promiseCapability = {};\n      set_internal(promiseCapability, '[[Promise]]', promise);\n      set_internal(promiseCapability, '[[Resolve]]', undefined);\n      set_internal(promiseCapability, '[[Reject]]', undefined);\n      var executor = GetCapabilitiesExecutor();\n      set_internal(executor, '[[Capability]]', promiseCapability);\n\n      // NOTE: Differs from spec; object is constructed here\n      var constructorResult = promise = new constructor(executor);\n      set_internal(promiseCapability, '[[Promise]]', promise);\n\n      if (!IsCallable(promiseCapability['[[Resolve]]'])) throw TypeError();\n      if (!IsCallable(promiseCapability['[[Reject]]'])) throw TypeError();\n      if (Type(constructorResult) === 'object' && !SameValue(promise, constructorResult)) throw TypeError();\n      return promiseCapability;\n    }\n\n    // 25.4.1.5.2 GetCapabilitiesExecutor Functions\n\n    function GetCapabilitiesExecutor() {\n      var F = function(resolve, reject) {\n        console.assert(F['[[Capability]]']);\n        var promiseCapability = F['[[Capability]]'];\n        if (promiseCapability['[[Resolve]]'] !== undefined) throw TypeError();\n        if (promiseCapability['[[Reject]]'] !== undefined) throw TypeError();\n        set_internal(promiseCapability, '[[Resolve]]', resolve);\n        set_internal(promiseCapability, '[[Reject]]', reject);\n        return undefined;\n      };\n      return F;\n    }\n\n    // 25.4.1.6 IsPromise ( x )\n\n    function IsPromise(x) {\n      if (Type(x) !== 'object') return false;\n      if (!('[[PromiseState]]' in x)) return false;\n      if (x['[[PromiseState]]'] === undefined) return false;\n      return true;\n    }\n\n    // 25.4.1.7 RejectPromise ( promise, reason )\n\n    function RejectPromise(promise, reason) {\n      console.assert(promise['[[PromiseState]]'] === 'pending');\n      var reactions = promise['[[PromiseRejectReactions]]'];\n      set_internal(promise, '[[PromiseResult]]', reason);\n      set_internal(promise, '[[PromiseFulfillReactions]]', undefined);\n      set_internal(promise, '[[PromiseRejectReactions]]', undefined);\n      set_internal(promise, '[[PromiseState]]', 'rejected');\n      return TriggerPromiseReactions(reactions, reason);\n    }\n\n    // 25.4.1.8 TriggerPromiseReactions ( reactions, argument )\n\n    function TriggerPromiseReactions(reactions, argument) {\n      for (var i = 0, len = reactions.length; i < len; ++i)\n        EnqueueJob('PromiseJobs', PromiseReactionJob, [reactions[i], argument]);\n      return undefined;\n    }\n\n    // 25.4.2 Promise Jobs\n\n    // 25.4.2.1 PromiseReactionJob ( reaction, argument )\n\n    function PromiseReactionJob(reaction, argument) {\n      var promiseCapability = reaction['[[Capabilities]]'];\n      var handler = reaction['[[Handler]]'];\n      var handlerResult, status;\n      try {\n        if (handler === 'Identity') handlerResult = argument;\n        else if (handler === 'Thrower') throw argument;\n        else handlerResult = handler.call(undefined, argument);\n      } catch (handlerResult) {\n        status = promiseCapability['[[Reject]]'].call(undefined, handlerResult);\n        NextJob(status); return;\n      }\n      status = promiseCapability['[[Resolve]]'].call(undefined, handlerResult);\n      NextJob(status);\n    }\n\n    // 25.4.2.2 PromiseResolveThenableJob ( promiseToResolve, thenable, then)\n\n    function PromiseResolveThenableJob(promiseToResolve, thenable, then) {\n      // SPEC BUG: promise vs. promiseToResolve\n      var resolvingFunctions = CreateResolvingFunctions(promiseToResolve);\n      try {\n        var thenCallResult = then.call(thenable, resolvingFunctions['[[Resolve]]'],\n                                       resolvingFunctions['[[Reject]]']);\n      } catch (thenCallResult) {\n        var status = resolvingFunctions['[[Reject]]'].call(undefined, thenCallResult);\n        NextJob(status); return;\n      }\n      NextJob(thenCallResult);\n    }\n\n    // 25.4.3 The Promise Constructor\n\n    // 25.4.3.1 Promise ( executor )\n\n    function Promise(executor) {\n      var config = { configurable: false, enumerable: false, writable: true, value: undefined };\n      Object.defineProperty(this, '[[PromiseState]]', config);\n      Object.defineProperty(this, '[[PromiseConstructor]]', config);\n      Object.defineProperty(this, '[[PromiseResult]]', config);\n      Object.defineProperty(this, '[[PromiseFulfillReactions]]', config);\n      Object.defineProperty(this, '[[PromiseRejectReactions]]', config);\n\n      var promise = this;\n      if (Type(promise) !== 'object') throw new TypeError();\n      if (!('[[PromiseState]]' in promise)) throw TypeError();\n      if (promise['[[PromiseState]]'] !== undefined) throw TypeError();\n      if (!IsCallable(executor)) throw TypeError();\n\n      set_internal(promise, '[[PromiseConstructor]]', Promise);\n\n      return InitializePromise(promise, executor);\n    }\n\n    // 25.4.3.1.1 InitializePromise ( promise, executor )\n\n    function InitializePromise(promise, executor) {\n      console.assert('[[PromiseState]]' in promise);\n      console.assert(IsCallable(executor));\n      set_internal(promise, '[[PromiseState]]', 'pending');\n      set_internal(promise, '[[PromiseFulfillReactions]]', []);\n      set_internal(promise, '[[PromiseRejectReactions]]', []);\n      var resolvingFunctions = CreateResolvingFunctions(promise);\n      try {\n        var completion = executor.call(undefined, resolvingFunctions['[[Resolve]]'],\n                                       resolvingFunctions['[[Reject]]']);\n      } catch (completion) {\n        var status = resolvingFunctions['[[Reject]]'].call(undefined, completion);\n      }\n      return promise;\n    }\n\n    // 25.4.4 Properties of the Promise Constructor\n    // 25.4.4.1 Promise.all ( iterable )\n\n    define(Promise, 'all', function all(iterable) {\n      var c = strict(this);\n      var promiseCapability = NewPromiseCapability(c);\n      try {\n        var iterator = GetIterator(iterable);\n      } catch (value) {\n        promiseCapability['[[Reject]]'].call(undefined, value);\n        return promiseCapability['[[Promise]]'];\n      }\n      var values = [];\n      var remainingElementsCount = { value: 1 };\n      var index = 0;\n      while (true) {\n        try {\n          var next = IteratorStep(iterator);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        if (!next) {\n          remainingElementsCount.value -= 1;\n          if (remainingElementsCount.value === 0) {\n            var resolveResult = promiseCapability['[[Resolve]]'].apply(undefined, values);\n\n\n          }\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          var nextValue = IteratorValue(next);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          var nextPromise = c.resolve(nextValue);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        var resolveElement = PromiseAllResolveElementFunction();\n        set_internal(resolveElement, '[[AlreadyCalled]]', { value: false });\n        set_internal(resolveElement, '[[Index]]', index);\n        set_internal(resolveElement, '[[Values]]', values);\n        set_internal(resolveElement, '[[Capabilities]]', promiseCapability);\n        set_internal(resolveElement, '[[RemainingElements]]', remainingElementsCount);\n        remainingElementsCount.value += 1;\n        try {\n          var result = nextPromise.then(resolveElement, promiseCapability['[[Reject]]']);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        index += 1;\n      }\n    });\n\n    // 25.4.4.1.1 Promise.all Resolve Element Functions\n\n    function PromiseAllResolveElementFunction() {\n      var F = function(x) {\n        var alreadyCalled = F['[[AlreadyCalled]]'];\n        if (alreadyCalled.value) return undefined;\n        alreadyCalled.value = true;\n        var index = F['[[Index]]'];\n        var values = F['[[Values]]'];\n        var promiseCapability = F['[[Capabilities]]'];\n        var remainingElementsCount = F['[[RemainingElements]]'];\n        try {\n          values[index] = x;\n        } catch (result) {\n          promiseCapability['[[Reject]]'].call(undefined, result);\n          return promiseCapability['[[Promise]]'];\n        }\n        remainingElementsCount.value -= 1;\n        if (remainingElementsCount.value === 0)\n          return promiseCapability['[[Resolve]]'].call(undefined, values);\n        return undefined;\n      };\n      return F;\n    }\n\n    // 25.4.4.2 Promise.prototype\n\n    Promise.prototype = {};\n\n    // 25.4.4.3 Promise.race ( iterable )\n\n    define(Promise, 'race', function race(iterable) {\n      var c = strict(this);\n      var promiseCapability = NewPromiseCapability(c);\n      try {\n        var iterator = GetIterator(iterable);\n      } catch (value) {\n        promiseCapability['[[Reject]]'].call(undefined, value);\n        return promiseCapability['[[Promise]]'];\n      }\n      while (true) {\n        try {\n          var next = IteratorStep(iterator);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        if (!next) return promiseCapability['[[Promise]]'];\n        try {\n          var nextValue = IteratorValue(next);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          var nextPromise = c.resolve(nextValue);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n        try {\n          nextPromise.then(promiseCapability['[[Resolve]]'], promiseCapability['[[Reject]]']);\n        } catch (value) {\n          promiseCapability['[[Reject]]'].call(undefined, value);\n          return promiseCapability['[[Promise]]'];\n        }\n      }\n    });\n\n    // 25.4.4.4 Promise.reject ( r )\n\n    define(Promise, 'reject', function reject(r) {\n      var c = strict(this);\n      var promiseCapability = NewPromiseCapability(c);\n      var rejectResult = promiseCapability['[[Reject]]'].call(undefined, r);\n      return promiseCapability['[[Promise]]'];\n    });\n\n    // 25.4.4.5 Promise.resolve ( x )\n\n    define(Promise, 'resolve', function resolve(x) {\n      var c = strict(this);\n      if (IsPromise(x)) {\n        var constructor = x['[[PromiseConstructor]]'];\n        if (SameValue(constructor, c)) return x;\n      }\n      var promiseCapability = NewPromiseCapability(c);\n      var resolveResult = promiseCapability['[[Resolve]]'].call(undefined, x);\n      return promiseCapability['[[Promise]]'];\n    });\n\n    // 25.4.4.6 Promise [ @@create ] ( )\n    // 25.4.4.6.1 AllocatePromise ( constructor )\n    // 25.4.5 Properties of the Promise Prototype Object\n    // 25.4.5.1 Promise.prototype.catch ( onRejected )\n\n    define(Promise.prototype, 'catch', function catch_(onRejected) {\n      var promise = this;\n      return promise.then(undefined, onRejected);\n    });\n\n    // 25.4.5.2 Promise.prototype.constructor\n\n    Promise.prototype.constructor = Promise;\n\n    // 25.4.5.3 Promise.prototype.then ( onFulfilled , onRejected )\n\n    define(Promise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var promise = this;\n      if (!IsPromise(promise)) throw TypeError();\n      if (!IsCallable(onFulfilled)) onFulfilled = 'Identity';\n      if (!IsCallable(onRejected)) onRejected = 'Thrower';\n      var c = promise.constructor;\n      var promiseCapability = NewPromiseCapability(c);\n      var fulfillReaction = { '[[Capabilities]]': promiseCapability,\n                              '[[Handler]]': onFulfilled };\n      var rejectReaction = { '[[Capabilities]]': promiseCapability,\n                             '[[Handler]]': onRejected };\n      if (promise['[[PromiseState]]'] === 'pending') {\n        promise['[[PromiseFulfillReactions]]'].push(fulfillReaction);\n        promise['[[PromiseRejectReactions]]'].push(rejectReaction);\n      } else if (promise['[[PromiseState]]'] === 'fulfilled') {\n        var value = promise['[[PromiseResult]]'];\n        EnqueueJob('PromiseJobs', PromiseReactionJob, [fulfillReaction, value]);\n      } else if (promise['[[PromiseState]]'] === 'rejected') {\n        var reason = promise['[[PromiseResult]]'];\n        EnqueueJob('PromiseJobs', PromiseReactionJob, [rejectReaction, reason]);\n      }\n      return promiseCapability['[[Promise]]'];\n    });\n\n    // 25.4.6 Properties of Promise Instances\n\n    if (!('Promise' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.Promise = Promise;\n\n    // Patch early Promise.cast vs. Promise.resolve implementations\n    if ('cast' in global.Promise) global.Promise.resolve = global.Promise.cast;\n  }());\n\n  // 25.4.5.1 Promise.prototype [ @@toStringTag ]\n  define(Promise.prototype, $$toStringTag, 'Promise');\n\n  // ---------------------------------------\n  // 26 Reflection\n  // ---------------------------------------\n\n  (function() {\n    // 26.1 The Reflect Object\n    if (!('Reflect' in global) || OVERRIDE_NATIVE_FOR_TESTING)\n      global.Reflect = {};\n\n    // 26.1.1 Reflect.apply ( target, thisArgument, argumentsList )\n    define(\n      Reflect, 'apply',\n      function apply(target, thisArgument, argumentsList) {\n        if (!IsCallable(target)) throw TypeError();\n        return Function.prototype.apply.call(target, thisArgument, argumentsList);\n      });\n\n    // 26.1.2 Reflect.construct ( target, argumentsList [, newTarget] )\n    define(\n      Reflect, 'construct',\n      function construct(target, argumentsList) {\n        return __cons(target, argumentsList);\n      });\n\n    // 26.1.3 Reflect.defineProperty ( target, propertyKey, attributes )\n    define(\n      Reflect, 'defineProperty',\n      function defineProperty(target, propertyKey, attributes) {\n        try {\n          Object.defineProperty(target, propertyKey, attributes);\n          return true;\n        } catch (_) {\n          return false;\n        }\n      });\n\n    // 26.1.4 Reflect.deleteProperty ( target, propertyKey )\n    define(\n      Reflect, 'deleteProperty',\n      function deleteProperty(target,name) {\n        try {\n          delete target[name];\n          return !HasOwnProperty(target, name);\n        } catch (_) {\n          return false;\n        }\n      });\n\n    // 26.1.5 Reflect.enumerate ( target )\n    define(\n      Reflect, 'enumerate',\n      function enumerate(target) {\n        target = ToObject(target);\n        var iterator = Enumerate(target);\n        return iterator;\n      });\n\n    // 26.1.6 Reflect.get ( target, propertyKey [ , receiver ])\n    define(\n      Reflect, 'get',\n      function get(target, name, receiver) {\n        target = ToObject(target);\n        name = String(name);\n        receiver = (receiver === undefined) ? target : ToObject(receiver);\n        var desc = getPropertyDescriptor(target, name);\n        if (desc && 'get' in desc)\n          return Function.prototype.call.call(desc['get'], receiver);\n        return target[name];\n      });\n\n    // 26.1.7 Reflect.getOwnPropertyDescriptor ( target, propertyKey )\n    define(\n      Reflect, 'getOwnPropertyDescriptor',\n      Object.getOwnPropertyDescriptor);\n\n    // 26.1.8 Reflect.getPrototypeOf ( target )\n    define(\n      Reflect, 'getPrototypeOf',\n      Object.getPrototypeOf);\n\n    // 26.1.9 Reflect.has ( target, propertyKey )\n    define(\n      Reflect, 'has',\n      function has(target,name) {\n        return String(name) in ToObject(target);\n      });\n\n    // 26.1.10 Reflect.isExtensible (target)\n    define(\n      Reflect, 'isExtensible',\n      Object.isExtensible);\n\n    // 26.1.11 Reflect.ownKeys ( target )\n    define(\n      Reflect, 'ownKeys',\n      function ownKeys(target) {\n        var obj = ToObject(target);\n        return Object.getOwnPropertyNames(obj);\n      });\n\n    // 26.1.12 Reflect.preventExtensions ( target )\n    define(\n      Reflect, 'preventExtensions',\n      function preventExtensions(target) {\n        try { Object.preventExtensions(target); return true; } catch (_) { return false; }\n      });\n\n    // 26.1.13 Reflect.set ( target, propertyKey, V [ , receiver ] )\n    define(\n      Reflect, 'set',\n      function set(target, name, value, receiver) {\n        target = ToObject(target);\n        name = String(name);\n        receiver = (receiver === undefined) ? target : ToObject(receiver);\n        var desc = getPropertyDescriptor(target, name);\n        try {\n          if (desc && 'set' in desc)\n            Function.prototype.call.call(desc['set'], receiver, value);\n          else\n            target[name] = value;\n          return true;\n        } catch (_) {\n          return false;\n        }\n      });\n\n    // 26.1.14 Reflect.setPrototypeOf ( target, proto )\n    define(\n      Reflect, 'setPrototypeOf',\n      function setPrototypeOf(target, proto) {\n        try {\n          target.__proto__ = proto;\n          return Reflect.getPrototypeOf(target) === proto;\n        } catch(_) {\n          return false;\n        }\n      });\n\n  }());\n\n  // ---------------------------------------\n  // 26.2 Proxy Objects\n  // ---------------------------------------\n\n  // Not polyfillable.\n\n}(self));\n\n// This helper is defined outside the main scope so that the use of\n// 'eval' does not taint the scope for minifiers.\nfunction __cons(t, a) {\n  return eval('new t(' + a.map(function(_, i) { return 'a[' + i + ']'; }).join(',') + ')');\n}\n//----------------------------------------------------------------------\n//\n// ECMAScript 2016 Polyfills\n//\n//----------------------------------------------------------------------\n\n(function (global) {\n  \"use strict\";\n  var undefined = (void 0); // Paranoia\n\n  // Helpers\n\n  function isSymbol(s) {\n    return (typeof s === 'symbol') || ('Symbol' in global && s instanceof global.Symbol);\n  }\n\n  function define(o, p, v, override) {\n    if (p in o && !override)\n      return;\n\n    if (typeof v === 'function') {\n      // Sanity check that functions are appropriately named (where possible)\n      console.assert(isSymbol(p) || !('name' in v) || v.name === p || v.name === p + '_', 'Expected function name \"' + p.toString() + '\", was \"' + v.name + '\"');\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: true,\n        enumerable: false,\n        writable: true\n      });\n    } else {\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: false,\n        enumerable: false,\n        writable: false\n      });\n    }\n  }\n\n\n  // Snapshot intrinsic functions\n  var $isNaN = global.isNaN;\n\n  var abs = Math.abs,\n      floor = Math.floor,\n      max = Math.max,\n      min = Math.min;\n\n  //----------------------------------------\n  // 7 Abstract Operations\n  //----------------------------------------\n\n  // 7.1.4\n  function ToInteger(n) {\n    n = Number(n);\n    if ($isNaN(n)) return 0;\n    if (n === 0 || n === Infinity || n === -Infinity) return n;\n    return ((n < 0) ? -1 : 1) * floor(abs(n));\n  }\n\n  // 7.1.13 ToObject\n  function ToObject(v) {\n    if (v === null || v === undefined) throw TypeError();\n    return Object(v);\n  }\n\n  // 7.1.15 ToLength ( argument )\n  function ToLength(v) {\n    var len = ToInteger(v);\n    if (len <= 0) {\n      return 0;\n    }\n    return min(len, 0x20000000000000 - 1); // 2^53-1\n  }\n\n  //----------------------------------------\n  // 7.2 Testing and Comparison Operations\n  //----------------------------------------\n\n  // 7.2.10 SameValueZero(x, y)\n  function SameValueZero(x, y) {\n    if (typeof x !== typeof y) return false;\n    switch (typeof x) {\n    case 'undefined':\n      return true;\n    case 'number':\n      if (x !== x && y !== y) return true;\n      return x === y;\n    case 'boolean':\n    case 'string':\n    case 'object':\n    default:\n      return x === y;\n    }\n  }\n\n  //----------------------------------------------------------------------\n  //\n  // ECMAScript 2016\n  //\n  //----------------------------------------------------------------------\n\n  // https://github.com/tc39/Array.prototype.includes/\n  define(\n    Array.prototype, 'includes',\n    function includes(target) {\n      var fromIndex = arguments[1];\n\n      var o = ToObject(this);\n      var len = ToLength(o[\"length\"]);\n      if (len === 0) return false;\n      var n = ToInteger(fromIndex);\n      if (n >= 0) {\n        var k = n;\n      } else {\n        k = len + n;\n        if (k < 0) k = 0;\n      }\n      while (k < len) {\n        var elementK = o[k];\n        if (SameValueZero(o[k], target))\n          return true;\n        k += 1;\n      }\n      return false;\n    });\n\n}(this));\n//----------------------------------------------------------------------\n//\n// ECMAScript 2017 Polyfills\n//\n//----------------------------------------------------------------------\n\n(function (global) {\n  'use strict';\n  var undefined = (void 0); // Paranoia\n\n  // Helpers\n\n  function isSymbol(s) {\n    return (typeof s === 'symbol') || ('Symbol' in global && s instanceof global.Symbol);\n  }\n\n  function define(o, p, v, override) {\n    if (p in o && !override)\n      return;\n\n    if (typeof v === 'function') {\n      // Sanity check that functions are appropriately named (where possible)\n      console.assert(isSymbol(p) || !('name' in v) || v.name === p || v.name === p + '_', 'Expected function name \"' + p.toString() + '\", was \"' + v.name + '\"');\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: true,\n        enumerable: false,\n        writable: true\n      });\n    } else {\n      Object.defineProperty(o, p, {\n        value: v,\n        configurable: false,\n        enumerable: false,\n        writable: false\n      });\n    }\n  }\n\n  // Snapshot intrinsic functions\n  var $isNaN = global.isNaN;\n\n  var abs = Math.abs,\n      floor = Math.floor,\n      min = Math.min;\n\n  //----------------------------------------\n  // 7 Abstract Operations\n  //----------------------------------------\n\n  // 7.1.4\n  function ToInteger(n) {\n    n = Number(n);\n    if ($isNaN(n)) return 0;\n    if (n === 0 || n === Infinity || n === -Infinity) return n;\n    return ((n < 0) ? -1 : 1) * floor(abs(n));\n  }\n\n  // 7.1.13 ToObject\n  function ToObject(v) {\n    if (v === null || v === undefined) throw TypeError();\n    return Object(v);\n  }\n\n  // 7.1.15 ToLength ( argument )\n  function ToLength(v) {\n    var len = ToInteger(v);\n    if (len <= 0) {\n      return 0;\n    }\n    return min(len, 0x20000000000000 - 1); // 2^53-1\n  }\n\n  //----------------------------------------\n  // 7.3 Operations on Objects\n  //----------------------------------------\n\n  // 7.3.4\n  function CreateDataProperty(O, P, V) {\n    Object.defineProperty(O, P, {\n      value: V,\n      writable: true,\n      enumerable: true,\n      configurable: true\n    });\n  }\n\n  // 7.3.21\n  function EnumerableOwnProperties(o, kind) {\n    var ownKeys = Object.keys(o);\n    var properties = [];\n    ownKeys.forEach(function(key) {\n      var desc = Object.getOwnPropertyDescriptor(o, key);\n      if (desc && desc.enumerable) {\n        if (kind === 'key') properties.push(key);\n        else {\n          var value = o[key];\n          if (kind === 'value') properties.push(value);\n          else properties.push([key, value]);\n        }\n      }\n    });\n    return properties;\n  }\n\n\n  //----------------------------------------------------------------------\n  // 19 Fundamental Objects\n  //----------------------------------------------------------------------\n\n  // 19.1 Object Objects\n  // 19.1.2 Properties of the Object Constructor\n\n  // 19.1.2.5 Object.entries\n  define(\n    Object, 'entries',\n    function entries(o) {\n      var obj = ToObject(o);\n      return EnumerableOwnProperties(obj, 'key+value');\n    });\n\n  // 19.1.2.8 Object.getOwnPropertyDescriptors ( O )\n  define(\n    Object, 'getOwnPropertyDescriptors',\n    function getOwnPropertyDescriptors(o) {\n      var obj = ToObject(o);\n      // ReturnIfAbrupt(obj)\n      var keys = Object.getOwnPropertyNames(obj);\n      // ReturnIfAbrupt(keys)\n      var descriptors = {};\n      for (var i = 0; i < keys.length; ++i) {\n        var nextKey = keys[i];\n        var descriptor = Object.getOwnPropertyDescriptor(obj, nextKey);\n        // ReturnIfAbrupt(desc)\n        // ReturnIfAbrupt(descriptor)\n        CreateDataProperty(descriptors, nextKey, descriptor);\n      }\n      return descriptors;\n    });\n\n  // 19.1.2.21 Object.values\n  define(\n    Object, 'values',\n    function values(o) {\n      var obj = ToObject(o);\n      return EnumerableOwnProperties(obj, 'value');\n    });\n\n\n\n  //----------------------------------------------------------------------\n  // 21 Text Processing\n  //----------------------------------------------------------------------\n\n  // 21.1 String Objects\n  // 21.1.3 Properties of the String Prototype Object\n\n  // 21.1.3.13 String.prototype.padEnd( maxLength [ , fillString ] )\n  define(\n    String.prototype, 'padEnd',\n    function padEnd(maxLength) {\n      var fillString = arguments[1];\n\n      var o = this;\n      // ReturnIfAbrupt(o)\n      var s = String(this);\n      // ReturnIfAbrupt(s)\n      var stringLength = s.length;\n      if (fillString === undefined) var fillStr = '';\n      else fillStr = String(fillString);\n      // ReturnIfAbrupt(fillStr)\n      if (fillStr === '') fillStr = ' ';\n      var intMaxLength = ToLength(maxLength);\n      // ReturnIfAbrupt(intMaxLength)\n      if (intMaxLength <= stringLength) return s;\n      var fillLen = intMaxLength - stringLength;\n      var stringFiller = '';\n      while (stringFiller.length < fillLen)\n        stringFiller = stringFiller + fillStr;\n      return s + stringFiller.substring(0, fillLen);\n    });\n\n  // 21.1.3.14 String.prototype.padStart( maxLength [ , fillString ] )\n  define(\n    String.prototype, 'padStart',\n    function padStart(maxLength) {\n      var fillString = arguments[1];\n\n      var o = this;\n      // ReturnIfAbrupt(o)\n      var s = String(this);\n      // ReturnIfAbrupt(s)\n      var stringLength = s.length;\n      if (fillString === undefined) var fillStr = '';\n      else fillStr = String(fillString);\n      // ReturnIfAbrupt(fillStr)\n      if (fillStr === '') fillStr = ' ';\n      var intMaxLength = ToLength(maxLength);\n      // ReturnIfAbrupt(intMaxLength)\n      if (intMaxLength <= stringLength) return s;\n      var fillLen = intMaxLength - stringLength;\n      var stringFiller = '';\n      while (stringFiller.length < fillLen)\n        stringFiller = stringFiller + fillStr;\n      return stringFiller.substring(0, fillLen) + s;\n    });\n\n}(this));\n(function(global) {\n  'use strict';\n\n  if (!('window' in global && 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // HTML\n  // https://html.spec.whatwg.org\n  //\n  //----------------------------------------------------------------------\n\n  // document.head attribute\n  // Needed for: IE8-\n  if (!('head' in document))\n    document.head = document.getElementsByTagName('head')[0];\n\n  // Ensure correct parsing of newish elements (\"shiv\")\n  // Needed for: IE8-\n  [\n    'abbr', 'article', 'aside', 'audio', 'bdi', 'canvas', 'data', 'datalist',\n    'details', 'dialog', 'figcaption', 'figure', 'footer', 'header', 'hgroup',\n    'main', 'mark', 'meter', 'nav', 'output', 'picture', 'progress', 'section',\n    'summary', 'template', 'time', 'video'].forEach(function(tag) {\n     document.createElement(tag);\n   });\n\n  // HTMLElement.dataset\n  // Needed for: IE10-\n  if (!('dataset' in document.createElement('span')) &&\n      'Element' in global && Element.prototype && Object.defineProperty) {\n    Object.defineProperty(Element.prototype, 'dataset', { get: function() {\n      var result = Object.create(null);\n      for (var i = 0; i < this.attributes.length; ++i) {\n        var attr = this.attributes[i];\n        if (attr.specified && attr.name.substring(0, 5) === 'data-') {\n          (function(element, name) {\n            var prop = name.replace(/-([a-z])/g, function(m, p) {\n              return p.toUpperCase();\n            });\n            result[prop] = element.getAttribute('data-' + name); // Read-only, for IE8-\n            Object.defineProperty(result, prop, {\n              get: function() {\n                return element.getAttribute('data-' + name);\n              },\n              set: function(value) {\n                element.setAttribute('data-' + name, value);\n              }});\n          }(this, attr.name.substring(5)));\n        }\n      }\n      return result;\n    }});\n  }\n\n  // Base64 utility methods\n  // Needed for: IE9-\n  (function() {\n    if ('atob' in global && 'btoa' in global)\n      return;\n\n    var B64_ALPHABET = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    function atob(input) {\n      input = String(input);\n      var position = 0,\n          output = [],\n          buffer = 0, bits = 0, n;\n\n      input = input.replace(/\\s/g, '');\n      if ((input.length % 4) === 0) { input = input.replace(/=+$/, ''); }\n      if ((input.length % 4) === 1) { throw Error(\"InvalidCharacterError\"); }\n      if (/[^+/0-9A-Za-z]/.test(input)) { throw Error(\"InvalidCharacterError\"); }\n\n      while (position < input.length) {\n        n = B64_ALPHABET.indexOf(input.charAt(position));\n        buffer = (buffer << 6) | n;\n        bits += 6;\n\n        if (bits === 24) {\n          output.push(String.fromCharCode((buffer >> 16) & 0xFF));\n          output.push(String.fromCharCode((buffer >>  8) & 0xFF));\n          output.push(String.fromCharCode(buffer & 0xFF));\n          bits = 0;\n          buffer = 0;\n        }\n        position += 1;\n      }\n\n      if (bits === 12) {\n        buffer = buffer >> 4;\n        output.push(String.fromCharCode(buffer & 0xFF));\n      } else if (bits === 18) {\n        buffer = buffer >> 2;\n        output.push(String.fromCharCode((buffer >> 8) & 0xFF));\n        output.push(String.fromCharCode(buffer & 0xFF));\n      }\n\n      return output.join('');\n    };\n\n    function btoa(input) {\n      input = String(input);\n      var position = 0,\n          out = [],\n          o1, o2, o3,\n          e1, e2, e3, e4;\n\n      if (/[^\\x00-\\xFF]/.test(input)) { throw Error(\"InvalidCharacterError\"); }\n\n      while (position < input.length) {\n        o1 = input.charCodeAt(position++);\n        o2 = input.charCodeAt(position++);\n        o3 = input.charCodeAt(position++);\n\n        // 111111 112222 222233 333333\n        e1 = o1 >> 2;\n        e2 = ((o1 & 0x3) << 4) | (o2 >> 4);\n        e3 = ((o2 & 0xf) << 2) | (o3 >> 6);\n        e4 = o3 & 0x3f;\n\n        if (position === input.length + 2) {\n          e3 = 64;\n          e4 = 64;\n        }\n        else if (position === input.length + 1) {\n          e4 = 64;\n        }\n\n        out.push(B64_ALPHABET.charAt(e1),\n                 B64_ALPHABET.charAt(e2),\n                 B64_ALPHABET.charAt(e3),\n                 B64_ALPHABET.charAt(e4));\n      }\n\n      return out.join('');\n    };\n\n    global.atob = atob;\n    global.btoa = btoa;\n  }());\n\n  // requestAnimationFrame - needed for IE9-\n  (function() {\n    if ('requestAnimationFrame' in global)\n      return;\n\n    var TARGET_FPS = 60,\n        requests = Object.create(null),\n        raf_handle = 0,\n        timeout_handle = -1;\n\n    function isVisible(element) {\n      return element.offsetWidth > 0 && element.offsetHeight > 0;\n    }\n\n    function onFrameTimer() {\n      var cur_requests = requests;\n      requests = Object.create(null);\n      timeout_handle = -1;\n      Object.keys(cur_requests).forEach(function(id) {\n        var request = cur_requests[id];\n        if (!request.element || isVisible(request.element))\n          request.callback(Date.now());\n      });\n    }\n\n    function requestAnimationFrame(callback, element) {\n      var cb_handle = ++raf_handle;\n      requests[cb_handle] = {callback: callback, element: element};\n      if (timeout_handle === -1)\n        timeout_handle = global.setTimeout(onFrameTimer, 1000 / TARGET_FPS);\n      return cb_handle;\n    }\n\n    function cancelAnimationFrame(handle) {\n      delete requests[handle];\n      if (Object.keys(requests).length === 0) {\n        global.clearTimeout(timeout_handle);\n        timeout_handle = -1;\n      }\n    }\n\n    global.requestAnimationFrame = requestAnimationFrame;\n    global.cancelAnimationFrame = cancelAnimationFrame;\n  }());\n\n}(self));\n(function(global) {\n  'use strict';\n  if (!('window' in global && 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // DOM\n  // https://dom.spec.whatwg.org/\n  //\n  //----------------------------------------------------------------------\n\n  // Document.querySelectorAll method\n  // http://ajaxian.com/archives/creating-a-queryselector-for-ie-that-runs-at-native-speed\n  // Needed for: IE7-\n  if (!document.querySelectorAll) {\n    document.querySelectorAll = function(selectors) {\n      var style = document.createElement('style'), elements = [], element;\n      document.documentElement.firstChild.appendChild(style);\n      document._qsa = [];\n\n      style.styleSheet.cssText = selectors + '{x-qsa:expression(document._qsa && document._qsa.push(this))}';\n      window.scrollBy(0, 0);\n      style.parentNode.removeChild(style);\n\n      while (document._qsa.length) {\n        element = document._qsa.shift();\n        element.style.removeAttribute('x-qsa');\n        elements.push(element);\n      }\n      document._qsa = null;\n      return elements;\n    };\n  }\n\n  // Document.querySelector method\n  // Needed for: IE7-\n  if (!document.querySelector) {\n    document.querySelector = function(selectors) {\n      var elements = document.querySelectorAll(selectors);\n      return (elements.length) ? elements[0] : null;\n    };\n  }\n\n  // Document.getElementsByClassName method\n  // Needed for: IE8-\n  if (!document.getElementsByClassName) {\n    document.getElementsByClassName = function(classNames) {\n      classNames = String(classNames).replace(/^|\\s+/g, '.');\n      return document.querySelectorAll(classNames);\n    };\n  }\n\n  // Node interface constants\n  // Needed for: IE8-\n  global.Node = global.Node || function() { throw TypeError(\"Illegal constructor\"); };\n  [\n    ['ELEMENT_NODE', 1],\n    ['ATTRIBUTE_NODE', 2],\n    ['TEXT_NODE', 3],\n    ['CDATA_SECTION_NODE', 4],\n    ['ENTITY_REFERENCE_NODE', 5],\n    ['ENTITY_NODE', 6],\n    ['PROCESSING_INSTRUCTION_NODE', 7],\n    ['COMMENT_NODE', 8],\n    ['DOCUMENT_NODE', 9],\n    ['DOCUMENT_TYPE_NODE', 10],\n    ['DOCUMENT_FRAGMENT_NODE', 11],\n    ['NOTATION_NODE', 12]\n  ].forEach(function(p) { if (!(p[0] in global.Node)) global.Node[p[0]] = p[1]; });\n\n  // DOMException constants\n  // Needed for: IE8-\n  global.DOMException = global.DOMException || function() { throw TypeError(\"Illegal constructor\"); };\n  [\n    ['INDEX_SIZE_ERR', 1],\n    ['DOMSTRING_SIZE_ERR', 2],\n    ['HIERARCHY_REQUEST_ERR', 3],\n    ['WRONG_DOCUMENT_ERR', 4],\n    ['INVALID_CHARACTER_ERR', 5],\n    ['NO_DATA_ALLOWED_ERR', 6],\n    ['NO_MODIFICATION_ALLOWED_ERR', 7],\n    ['NOT_FOUND_ERR', 8],\n    ['NOT_SUPPORTED_ERR', 9],\n    ['INUSE_ATTRIBUTE_ERR', 10],\n    ['INVALID_STATE_ERR', 11],\n    ['SYNTAX_ERR', 12],\n    ['INVALID_MODIFICATION_ERR', 13],\n    ['NAMESPACE_ERR', 14],\n    ['INVALID_ACCESS_ERR', 15]\n  ].forEach(function(p) { if (!(p[0] in global.DOMException)) global.DOMException[p[0]] = p[1]; });\n\n  // Event and EventTargets interfaces\n  // Needed for: IE8\n  (function(){\n    if (!('Element' in global) || Element.prototype.addEventListener || !Object.defineProperty)\n      return;\n\n    // interface Event\n\n    // PhaseType (const unsigned short)\n    Event.CAPTURING_PHASE = 1;\n    Event.AT_TARGET       = 2;\n    Event.BUBBLING_PHASE  = 3;\n\n    Object.defineProperties(Event.prototype, {\n      CAPTURING_PHASE: { get: function() { return 1; } },\n      AT_TARGET:       { get: function() { return 2; } },\n      BUBBLING_PHASE:   { get: function() { return 3; } },\n      target: {\n        get: function() {\n          return this.srcElement;\n        }},\n      currentTarget: {\n        get: function() {\n          return this._currentTarget;\n        }},\n      eventPhase: {\n        get: function() {\n          return (this.srcElement === this.currentTarget) ? Event.AT_TARGET : Event.BUBBLING_PHASE;\n        }},\n      bubbles: {\n        get: function() {\n          switch (this.type) {\n            // Mouse\n          case 'click':\n          case 'dblclick':\n          case 'mousedown':\n          case 'mouseup':\n          case 'mouseover':\n          case 'mousemove':\n          case 'mouseout':\n          case 'mousewheel':\n            // Keyboard\n          case 'keydown':\n          case 'keypress':\n          case 'keyup':\n            // Frame/Object\n          case 'resize':\n          case 'scroll':\n            // Form\n          case 'select':\n          case 'change':\n          case 'submit':\n          case 'reset':\n            return true;\n          }\n          return false;\n        }},\n      cancelable: {\n        get: function() {\n          switch (this.type) {\n            // Mouse\n          case 'click':\n          case 'dblclick':\n          case 'mousedown':\n          case 'mouseup':\n          case 'mouseover':\n          case 'mouseout':\n          case 'mousewheel':\n            // Keyboard\n          case 'keydown':\n          case 'keypress':\n          case 'keyup':\n            // Form\n          case 'submit':\n            return true;\n          }\n          return false;\n        }},\n      timeStamp: {\n        get: function() {\n          return this._timeStamp;\n        }},\n      stopPropagation: {\n        value: function() {\n          this.cancelBubble = true;\n        }},\n      preventDefault: {\n        value: function() {\n          this.returnValue = false;\n        }},\n      defaultPrevented: {\n        get: function() {\n          return this.returnValue === false;\n        }}\n    });\n\n    // interface EventTarget\n\n    function addEventListener(type, listener, useCapture) {\n      if (typeof listener !== 'function') return;\n      if (type === 'DOMContentLoaded') type = 'load';\n      var target = this;\n      var f = function(e) {\n        e._timeStamp = Date.now();\n        e._currentTarget = target;\n        listener.call(this, e);\n        e._currentTarget = null;\n      };\n      this['_' + type + listener] = f;\n      this.attachEvent('on' + type, f);\n    }\n\n    function removeEventListener(type, listener, useCapture) {\n      if (typeof listener !== 'function') return;\n      if (type === 'DOMContentLoaded') type = 'load';\n      var f = this['_' + type + listener];\n      if (f) {\n        this.detachEvent('on' + type, f);\n        this['_' + type + listener] = null;\n      }\n    }\n\n    [Window, HTMLDocument, Element].forEach(function(o) {\n      o.prototype.addEventListener = addEventListener;\n      o.prototype.removeEventListener = removeEventListener;\n    });\n  }());\n\n  // CustomEvent\n  // https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n  // Needed for: IE\n  (function () {\n    if ('CustomEvent' in global && typeof global.CustomEvent === \"function\")\n      return;\n    function CustomEvent ( event, params ) {\n      params = params || { bubbles: false, cancelable: false, detail: undefined };\n      var evt = document.createEvent( 'CustomEvent' );\n      evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n      return evt;\n    }\n    CustomEvent.prototype = global.Event.prototype;\n    global.CustomEvent = CustomEvent;\n  })();\n\n  // Shim for DOM Events for IE7-\n  // http://www.quirksmode.org/blog/archives/2005/10/_and_the_winner_1.html\n  // Use addEvent(object, event, handler) instead of object.addEventListener(event, handler)\n  window.addEvent = function(obj, type, fn) {\n    if (obj.addEventListener) {\n      obj.addEventListener(type, fn, false);\n    } else if (obj.attachEvent) {\n      obj[\"e\" + type + fn] = fn;\n      obj[type + fn] = function() {\n        var e = window.event;\n        e.currentTarget = obj;\n        e.preventDefault = function() { e.returnValue = false; };\n        e.stopPropagation = function() { e.cancelBubble = true; };\n        e.target = e.srcElement;\n        e.timeStamp = Date.now();\n        obj[\"e\" + type + fn].call(this, e);\n      };\n      obj.attachEvent(\"on\" + type, obj[type + fn]);\n    }\n  };\n\n  window.removeEvent = function(obj, type, fn) {\n    if (obj.removeEventListener) {\n      obj.removeEventListener(type, fn, false);\n    } else if (obj.detachEvent) {\n      obj.detachEvent(\"on\" + type, obj[type + fn]);\n      obj[type + fn] = null;\n      obj[\"e\" + type + fn] = null;\n    }\n  };\n\n  // DOMTokenList interface and Element.classList / Element.relList\n  // Needed for: IE9-\n  // Use getClassList(elem) instead of elem.classList() if IE7- support is needed\n  // Use getRelList(elem) instead of elem.relList() if IE7- support is needed\n  (function() {\n    function DOMTokenListShim(o, p) {\n      function split(s) { return s.length ? s.split(/\\s+/g) : []; }\n\n      // NOTE: This does not exactly match the spec.\n      function removeTokenFromString(token, string) {\n        var tokens = split(string),\n            index = tokens.indexOf(token);\n        if (index !== -1) {\n          tokens.splice(index, 1);\n        }\n        return tokens.join(' ');\n      }\n\n      Object.defineProperties(\n        this,\n        {\n          length: {\n            get: function() { return split(o[p]).length; }\n          },\n\n          item: {\n            value: function(idx) {\n              var tokens = split(o[p]);\n              return 0 <= idx && idx < tokens.length ? tokens[idx] : null;\n            }\n          },\n\n          contains: {\n            value: function(token) {\n              token = String(token);\n              if (token.length === 0) { throw SyntaxError(); }\n              if (/\\s/.test(token)) { throw Error(\"InvalidCharacterError\"); }\n              var tokens = split(o[p]);\n\n              return tokens.indexOf(token) !== -1;\n            }\n          },\n\n          add: {\n            value: function(/*tokens...*/) {\n              var tokens = Array.prototype.slice.call(arguments).map(String);\n              if (tokens.some(function(token) { return token.length === 0; })) {\n                throw SyntaxError();\n              }\n              if (tokens.some(function(token) { return (/\\s/).test(token); })) {\n                throw Error(\"InvalidCharacterError\");\n              }\n\n              try {\n                var underlying_string = o[p];\n                var token_list = split(underlying_string);\n                tokens = tokens.filter(function(token) { return token_list.indexOf(token) === -1; });\n                if (tokens.length === 0) {\n                  return;\n                }\n                if (underlying_string.length !== 0 && !(/\\s$/).test(underlying_string)) {\n                  underlying_string += ' ';\n                }\n                underlying_string += tokens.join(' ');\n                o[p] = underlying_string;\n              } finally {\n                var length = split(o[p]).length;\n                if (this.length !== length) { this.length = length; }\n              }\n            }\n          },\n\n          remove: {\n            value: function(/*tokens...*/) {\n              var tokens = Array.prototype.slice.call(arguments).map(String);\n              if (tokens.some(function(token) { return token.length === 0; })) {\n                throw SyntaxError();\n              }\n              if (tokens.some(function(token) { return (/\\s/).test(token); })) {\n                throw Error(\"InvalidCharacterError\");\n              }\n\n              try {\n                var underlying_string = o[p];\n                tokens.forEach(function(token) {\n                  underlying_string = removeTokenFromString(token, underlying_string);\n                });\n                o[p] = underlying_string;\n              } finally {\n                var length = split(o[p]).length;\n                if (this.length !== length) { this.length = length; }\n              }\n            }\n          },\n\n          toggle: {\n            value: function(token/*, force*/) {\n              var force = arguments[1];\n              try {\n                token = String(token);\n                if (token.length === 0) { throw SyntaxError(); }\n                if (/\\s/.test(token)) { throw Error(\"InvalidCharacterError\"); }\n                var tokens = split(o[p]),\n                    index = tokens.indexOf(token);\n\n                if (index !== -1 && (!force || force === (void 0))) {\n                  o[p] = removeTokenFromString(token, o[p]);\n                  return false;\n                }\n                if (index !== -1 && force) {\n                  return true;\n                }\n                var underlying_string = o[p];\n                if (underlying_string.length !== 0 && !/\\s$/.test(underlying_string)) {\n                  underlying_string += ' ';\n                }\n                underlying_string += token;\n                o[p] = underlying_string;\n                return true;\n              } finally {\n                var length = split(o[p]).length;\n                if (this.length !== length) { this.length = length; }\n              }\n            }\n          },\n\n          toString: {\n            value: function() {\n              return o[p];\n            }\n          }\n        });\n      if (!('length' in this)) {\n        // In case getters are not supported\n        this.length = split(o[p]).length;\n      } else {\n        // If they are, shim in index getters (up to 100)\n        for (var i = 0; i < 100; ++i) {\n          Object.defineProperty(this, String(i), {\n            get: (function(n) { return function() { return this.item(n); }; }(i))\n          });\n        }\n      }\n    }\n\n    function addToElementPrototype(p, f) {\n      if ('Element' in global && Element.prototype && Object.defineProperty) {\n        Object.defineProperty(Element.prototype, p, { get: f });\n      }\n    }\n\n    // HTML - https://html.spec.whatwg.org\n    // Element.classList\n    if ('classList' in document.createElement('span')) {\n      window.getClassList = function(elem) { return elem.classList; };\n    } else {\n      window.getClassList = function(elem) { return new DOMTokenListShim(elem, 'className'); };\n      addToElementPrototype('classList', function() { return new DOMTokenListShim(this, 'className'); } );\n    }\n\n    // HTML - https://html.spec.whatwg.org\n    // HTMLAnchorElement.relList\n    // HTMLLinkElement.relList\n    if ('relList' in document.createElement('link')) {\n      window.getRelList = function(elem) { return elem.relList; };\n    } else {\n      window.getRelList = function(elem) { return new DOMTokenListShim(elem, 'rel'); };\n      addToElementPrototype('relList', function() { return new DOMTokenListShim(this, 'rel'); } );\n    }\n\n    // Add second argument to native DOMTokenList.toggle() if necessary\n    (function() {\n      if (!('DOMTokenList' in global)) return;\n      var e = document.createElement('span');\n      if (!('classList' in e)) return;\n      e.classList.toggle('x', false);\n      if (!e.classList.contains('x')) return;\n      global.DOMTokenList.prototype.toggle = function toggle(token/*, force*/) {\n        var force = arguments[1];\n        if (force === undefined) {\n          var add = !this.contains(token);\n          this[add ? 'add' : 'remove'](token);\n          return add;\n        }\n        force = !!force;\n        this[force ? 'add' : 'remove'](token);\n        return force;\n      };\n    }());\n\n\n    // DOM - Interface NonDocumentTypeChildNode\n    // Interface NonDocumentTypeChildNode\n    // previousElementSibling / nextElementSibling - for IE8\n\n    if (!('previousElementSibling' in document.documentElement)) {\n      addToElementPrototype('previousElementSibling', function() {\n        var n = this.previousSibling;\n        while (n && n.nodeType !== Node.ELEMENT_NODE)\n          n = n.previousSibling;\n        return n;\n      });\n    }\n\n    if (!('nextElementSibling' in document.documentElement)) {\n      addToElementPrototype('nextElementSibling', function() {\n        var n = this.nextSibling;\n        while (n && n.nodeType !== Node.ELEMENT_NODE)\n          n = n.nextSibling;\n        return n;\n      });\n    }\n  }());\n\n  // Element.matches\n  // https://developer.mozilla.org/en/docs/Web/API/Element/matches\n  // Needed for: IE, Firefox 3.6, early Webkit and Opera 15.0\n  // Use msMatchesSelector(selector) for IE\n  // Use oMatchesSelector(selector) for Opera 15.0\n  // Use mozMatchesSelector(selector) for Firefox 3.6\n  // Use webkitMatchesSelector(selector) for early Webkit\n  // Use polyfill if no matches() support, but querySelectorAll() support\n  if ('Element' in global && !Element.prototype.matches) {\n    if (Element.prototype.msMatchesSelector) {\n      Element.prototype.matches = Element.prototype.msMatchesSelector;\n    } else if (Element.prototype.oMatchesSelector) {\n      Element.prototype.matches = Element.prototype.oMatchesSelector;\n    } else if (Element.prototype.mozMatchesSelector) {\n      Element.prototype.matches = Element.prototype.mozMatchesSelector;\n    } else if (Element.prototype.webkitMatchesSelector) {\n      Element.prototype.matches = Element.prototype.webkitMatchesSelector;\n    } else if (document.querySelectorAll) {\n      Element.prototype.matches = function matches(selector) {\n        var matches = (this.document || this.ownerDocument).querySelectorAll(selector),\n            i = matches.length;\n        while (--i >= 0 && matches.item(i) !== this) {}\n        return i > -1;\n      };\n    }\n  }\n\n  // Element.closest\n  // https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n  if (window.Element && !Element.prototype.closest) {\n    Element.prototype.closest = function(s) {\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n          i,\n          el = this;\n      do {\n        i = matches.length;\n        while (--i >= 0 && matches.item(i) !== el) {};\n      } while ((i < 0) && (el = el.parentElement)); \n      return el;\n    };\n  }\n\n  function mixin(o, ps) {\n    if (!o) return;\n    Object.keys(ps).forEach(function(p) {\n      if ((p in o) || (p in o.prototype)) return;\n      try {\n        Object.defineProperty(\n          o.prototype,\n          p,\n          Object.getOwnPropertyDescriptor(ps, p)\n        );\n      } catch (ex) {\n        // Throws in IE8; just copy it\n        o[p] = ps[p];\n      }\n    });\n  }\n\n  // Mixin ParentNode\n  // https://dom.spec.whatwg.org/#interface-parentnode\n\n  function convertNodesIntoANode(nodes) {\n    var node = null;\n    nodes = nodes.map(function(node) {\n      return !(node instanceof Node) ? document.createTextNode(node) : node;\n    });\n    if (nodes.length === 1) {\n      node = nodes[0];\n    } else {\n      node = document.createDocumentFragment();\n      nodes.forEach(function(n) { node.appendChild(n); });\n    }\n    return node;\n  }\n\n  var ParentNode = {\n    prepend: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      nodes = convertNodesIntoANode(nodes);\n      this.insertBefore(nodes, this.firstChild);\n    },\n    append: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      nodes = convertNodesIntoANode(nodes);\n      this.appendChild(nodes);\n    }\n  };\n\n  mixin(global.Document || global.HTMLDocument, ParentNode); // HTMLDocument for IE8\n  mixin(global.DocumentFragment, ParentNode);\n  mixin(global.Element, ParentNode);\n\n  // Mixin ChildNode\n  // https://dom.spec.whatwg.org/#interface-childnode\n\n  var ChildNode = {\n    before: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      var parent = this.parentNode;\n      if (!parent) return;\n      var viablePreviousSibling = this.previousSibling;\n      while (nodes.indexOf(viablePreviousSibling) !== -1)\n        viablePreviousSibling = viablePreviousSibling.previousSibling;\n      var node = convertNodesIntoANode(nodes);\n      parent.insertBefore(node, viablePreviousSibling ?\n                          viablePreviousSibling.nextSibling : parent.firstChild);\n    },\n    after: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      var parent = this.parentNode;\n      if (!parent) return;\n      var viableNextSibling = this.nextSibling;\n      while (nodes.indexOf(viableNextSibling) !== -1)\n        viableNextSibling = viableNextSibling.nextSibling;\n      var node = convertNodesIntoANode(nodes);\n      parent.insertBefore(node, viableNextSibling);\n    },\n    replaceWith: function(/*...nodes*/) {\n      var nodes = [].slice.call(arguments);\n      var parent = this.parentNode;\n      if (!parent) return;\n      var viableNextSibling = this.nextSibling;\n      while (nodes.indexOf(viableNextSibling) !== -1)\n        viableNextSibling = viableNextSibling.nextSibling;\n      var node = convertNodesIntoANode(nodes);\n\n      if (this.parentNode === parent)\n        parent.replaceChild(node, this);\n      else\n        parent.insertBefore(node, viableNextSibling);\n    },\n    remove: function() {\n      if (!this.parentNode) return;\n      this.parentNode.removeChild(this);\n    }\n  };\n\n  mixin(global.DocumentType, ChildNode);\n  mixin(global.Element, ChildNode);\n  mixin(global.CharacterData, ChildNode);\n\n}(self));\n(function(global) {\n  'use strict';\n\n  if (!('window' in global && 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // XMLHttpRequest\n  // https://xhr.spec.whatwg.org\n  //\n  //----------------------------------------------------------------------\n\n  // XMLHttpRequest interface\n  // Needed for: IE7-\n  global.XMLHttpRequest = global.XMLHttpRequest || function() {\n    try { return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\"); } catch (_) { }\n    try { return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\"); } catch (_) { }\n    try { return new ActiveXObject(\"Msxml2.XMLHTTP\"); } catch (_) { }\n    throw Error(\"This browser does not support XMLHttpRequest.\");\n  };\n\n  // XMLHttpRequest interface constants\n  // Needed for IE8-\n  [\n    ['UNSENT', 0],\n    ['OPENED', 1],\n    ['HEADERS_RECEIVED', 2],\n    ['LOADING', 3],\n    ['DONE', 4],\n  ].forEach(function(p) { if (!(p[0] in global.XMLHttpRequest)) global.XMLHttpRequest[p[0]] = p[1]; });\n\n  // FormData interface\n  // Needed for: IE9-\n  (function() {\n    if ('FormData' in global)\n      return;\n\n    function FormData(form) {\n      this._data = [];\n      if (!form) return;\n      for (var i = 0; i < form.elements.length; ++i) {\n        var element = form.elements[i];\n        if (element.name !== '')\n          this.append(element.name, element.value);\n      }\n    }\n\n    FormData.prototype = {\n      append: function(name, value /*, filename */) {\n        if ('Blob' in global && value instanceof global.Blob)\n          throw TypeError(\"Blob not supported\");\n        name = String(name);\n        this._data.push([name, value]);\n      },\n\n      toString: function() {\n        return this._data.map(function(pair) {\n          return encodeURIComponent(pair[0]) + '=' + encodeURIComponent(pair[1]);\n        }).join('&');\n      }\n    };\n\n    global.FormData = FormData;\n    var send = global.XMLHttpRequest.prototype.send;\n    global.XMLHttpRequest.prototype.send = function(body) {\n      if (body instanceof FormData) {\n        this.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        arguments[0] = body.toString();\n      }\n      return send.apply(this, arguments);\n    };\n  }());\n\n}(self));\n(function(global) {\n  'use strict';\n\n  if (!('window' in global && 'document' in global))\n    return;\n\n  //----------------------------------------------------------------------\n  //\n  // CSSOM View Module\n  // https://dev.w3.org/csswg/cssom-view/\n  //\n  //----------------------------------------------------------------------\n\n  // Fix for IE8-'s Element.getBoundingClientRect()\n  if ('TextRectangle' in global && !('width' in global.TextRectangle.prototype)) {\n    Object.defineProperties(global.TextRectangle.prototype, {\n      width: { get: function() { return this.right - this.left; } },\n      height: { get: function() { return this.bottom - this.top; } }\n    });\n  }\n}(self));\n// URL Polyfill\n// Draft specification: https://url.spec.whatwg.org\n\n// Notes:\n// - Primarily useful for parsing URLs and modifying query parameters\n// - Should work in IE8+ and everything more modern, with es5.js polyfills\n\n(function (global) {\n  'use strict';\n\n  function isSequence(o) {\n    if (!o) return false;\n    if ('Symbol' in global && 'iterator' in global.Symbol &&\n        typeof o[Symbol.iterator] === 'function') return true;\n    if (Array.isArray(o)) return true;\n    return false;\n  }\n\n  function toArray(iter) {\n    return ('from' in Array) ? Array.from(iter) : Array.prototype.slice.call(iter);\n  }\n\n  (function() {\n\n    // Browsers may have:\n    // * No global URL object\n    // * URL with static methods only - may have a dummy constructor\n    // * URL with members except searchParams\n    // * Full URL API support\n    var origURL = global.URL;\n    var nativeURL;\n    try {\n      if (origURL) {\n        nativeURL = new global.URL('http://example.com');\n        if ('searchParams' in nativeURL)\n          return;\n        if (!('href' in nativeURL))\n          nativeURL = undefined;\n      }\n    } catch (_) {}\n\n    // NOTE: Doesn't do the encoding/decoding dance\n    function urlencoded_serialize(pairs) {\n      var output = '', first = true;\n      pairs.forEach(function (pair) {\n        var name = encodeURIComponent(pair.name);\n        var value = encodeURIComponent(pair.value);\n        if (!first) output += '&';\n        output += name + '=' + value;\n        first = false;\n      });\n      return output.replace(/%20/g, '+');\n    }\n\n    // NOTE: Doesn't do the encoding/decoding dance\n    function urlencoded_parse(input, isindex) {\n      var sequences = input.split('&');\n      if (isindex && sequences[0].indexOf('=') === -1)\n        sequences[0] = '=' + sequences[0];\n      var pairs = [];\n      sequences.forEach(function (bytes) {\n        if (bytes.length === 0) return;\n        var index = bytes.indexOf('=');\n        if (index !== -1) {\n          var name = bytes.substring(0, index);\n          var value = bytes.substring(index + 1);\n        } else {\n          name = bytes;\n          value = '';\n        }\n        name = name.replace(/\\+/g, ' ');\n        value = value.replace(/\\+/g, ' ');\n        pairs.push({ name: name, value: value });\n      });\n      var output = [];\n      pairs.forEach(function (pair) {\n        output.push({\n          name: decodeURIComponent(pair.name),\n          value: decodeURIComponent(pair.value)\n        });\n      });\n      return output;\n    }\n\n    function URLUtils(url) {\n      if (nativeURL)\n        return new origURL(url);\n      var anchor = document.createElement('a');\n      anchor.href = url;\n      return anchor;\n    }\n\n    function URLSearchParams(init) {\n      var $this = this;\n      this._list = [];\n\n      if (init === undefined || init === null) {\n        // no-op\n      } else if (init instanceof URLSearchParams) {\n        // In ES6 init would be a sequence, but special case for ES5.\n        this._list = urlencoded_parse(String(init));\n      } else if (typeof init === 'object' && isSequence(init)) {\n        toArray(init).forEach(function(e) {\n          if (!isSequence(e)) throw TypeError();\n          var nv = toArray(e);\n          if (nv.length !== 2) throw TypeError();\n          $this._list.push({name: String(nv[0]), value: String(nv[1])});\n        });\n      } else if (typeof init === 'object' && init) {\n        Object.keys(init).forEach(function(key) {\n          $this._list.push({name: String(key), value: String(init[key])});\n        });\n      } else {\n        init = String(init);\n        if (init.substring(0, 1) === '?')\n          init = init.substring(1);\n        this._list = urlencoded_parse(init);\n      }\n\n      this._url_object = null;\n      this._setList = function (list) { if (!updating) $this._list = list; };\n\n      var updating = false;\n      this._update_steps = function() {\n        if (updating) return;\n        updating = true;\n\n        if (!$this._url_object) return;\n\n        // Partial workaround for IE issue with 'about:'\n        if ($this._url_object.protocol === 'about:' &&\n            $this._url_object.pathname.indexOf('?') !== -1) {\n          $this._url_object.pathname = $this._url_object.pathname.split('?')[0];\n        }\n\n        $this._url_object.search = urlencoded_serialize($this._list);\n\n        updating = false;\n      };\n    }\n\n\n    Object.defineProperties(URLSearchParams.prototype, {\n      append: {\n        value: function (name, value) {\n          this._list.push({ name: name, value: value });\n          this._update_steps();\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      'delete': {\n        value: function (name) {\n          for (var i = 0; i < this._list.length;) {\n            if (this._list[i].name === name)\n              this._list.splice(i, 1);\n            else\n              ++i;\n          }\n          this._update_steps();\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      get: {\n        value: function (name) {\n          for (var i = 0; i < this._list.length; ++i) {\n            if (this._list[i].name === name)\n              return this._list[i].value;\n          }\n          return null;\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      getAll: {\n        value: function (name) {\n          var result = [];\n          for (var i = 0; i < this._list.length; ++i) {\n            if (this._list[i].name === name)\n              result.push(this._list[i].value);\n          }\n          return result;\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      has: {\n        value: function (name) {\n          for (var i = 0; i < this._list.length; ++i) {\n            if (this._list[i].name === name)\n              return true;\n          }\n          return false;\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      set: {\n        value: function (name, value) {\n          var found = false;\n          for (var i = 0; i < this._list.length;) {\n            if (this._list[i].name === name) {\n              if (!found) {\n                this._list[i].value = value;\n                found = true;\n                ++i;\n              } else {\n                this._list.splice(i, 1);\n              }\n            } else {\n              ++i;\n            }\n          }\n\n          if (!found)\n            this._list.push({ name: name, value: value });\n\n          this._update_steps();\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      entries: {\n        value: function() { return new Iterator(this._list, 'key+value'); },\n        writable: true, enumerable: true, configurable: true\n      },\n\n      keys: {\n        value: function() { return new Iterator(this._list, 'key'); },\n        writable: true, enumerable: true, configurable: true\n      },\n\n      values: {\n        value: function() { return new Iterator(this._list, 'value'); },\n        writable: true, enumerable: true, configurable: true\n      },\n\n      forEach: {\n        value: function(callback) {\n          var thisArg = (arguments.length > 1) ? arguments[1] : undefined;\n          this._list.forEach(function(pair, index) {\n            callback.call(thisArg, pair.value, pair.name);\n          });\n\n        }, writable: true, enumerable: true, configurable: true\n      },\n\n      toString: {\n        value: function () {\n          return urlencoded_serialize(this._list);\n        }, writable: true, enumerable: false, configurable: true\n      }\n    });\n\n    function Iterator(source, kind) {\n      var index = 0;\n      this['next'] = function() {\n        if (index >= source.length)\n          return {done: true, value: undefined};\n        var pair = source[index++];\n        return {done: false, value:\n                kind === 'key' ? pair.name :\n                kind === 'value' ? pair.value :\n                [pair.name, pair.value]};\n      };\n    }\n\n    if ('Symbol' in global && 'iterator' in global.Symbol) {\n      Object.defineProperty(URLSearchParams.prototype, global.Symbol.iterator, {\n        value: URLSearchParams.prototype.entries,\n        writable: true, enumerable: true, configurable: true});\n      Object.defineProperty(Iterator.prototype, global.Symbol.iterator, {\n        value: function() { return this; },\n        writable: true, enumerable: true, configurable: true});\n    }\n\n    function URL(url, base) {\n      if (!(this instanceof global.URL))\n        throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator.\");\n\n      if (base) {\n        url = (function () {\n          if (nativeURL) return new origURL(url, base).href;\n          var iframe;\n          try {\n            var doc;\n            // Use another document/base tag/anchor for relative URL resolution, if possible\n            if (Object.prototype.toString.call(window.operamini) === \"[object OperaMini]\") {\n              iframe = document.createElement('iframe');\n              iframe.style.display = 'none';\n              document.documentElement.appendChild(iframe);\n              doc = iframe.contentWindow.document;\n            } else if (document.implementation && document.implementation.createHTMLDocument) {\n              doc = document.implementation.createHTMLDocument('');\n            } else if (document.implementation && document.implementation.createDocument) {\n              doc = document.implementation.createDocument('http://www.w3.org/1999/xhtml', 'html', null);\n              doc.documentElement.appendChild(doc.createElement('head'));\n              doc.documentElement.appendChild(doc.createElement('body'));\n            } else if (window.ActiveXObject) {\n              doc = new window.ActiveXObject('htmlfile');\n              doc.write('<head><\\/head><body><\\/body>');\n              doc.close();\n            }\n\n            if (!doc) throw Error('base not supported');\n\n            var baseTag = doc.createElement('base');\n            baseTag.href = base;\n            doc.getElementsByTagName('head')[0].appendChild(baseTag);\n            var anchor = doc.createElement('a');\n            anchor.href = url;\n            return anchor.href;\n          } finally {\n            if (iframe)\n              iframe.parentNode.removeChild(iframe);\n          }\n        }());\n      }\n\n      // An inner object implementing URLUtils (either a native URL\n      // object or an HTMLAnchorElement instance) is used to perform the\n      // URL algorithms. With full ES5 getter/setter support, return a\n      // regular object For IE8's limited getter/setter support, a\n      // different HTMLAnchorElement is returned with properties\n      // overridden\n\n      var instance = URLUtils(url || '');\n\n      // Detect for ES5 getter/setter support\n      // (an Object.defineProperties polyfill that doesn't support getters/setters may throw)\n      var ES5_GET_SET = (function() {\n        if (!('defineProperties' in Object)) return false;\n        try {\n          var obj = {};\n          Object.defineProperties(obj, { prop: { 'get': function () { return true; } } });\n          return obj.prop;\n        } catch (_) {\n          return false;\n        }\n      })();\n\n      var self = ES5_GET_SET ? this : document.createElement('a');\n\n\n\n      var query_object = new URLSearchParams(\n        instance.search ? instance.search.substring(1) : null);\n      query_object._url_object = self;\n\n      Object.defineProperties(self, {\n        href: {\n          get: function () { return instance.href; },\n          set: function (v) { instance.href = v; tidy_instance(); update_steps(); },\n          enumerable: true, configurable: true\n        },\n        origin: {\n          get: function () {\n            if ('origin' in instance) return instance.origin;\n            return this.protocol + '//' + this.host;\n          },\n          enumerable: true, configurable: true\n        },\n        protocol: {\n          get: function () { return instance.protocol; },\n          set: function (v) { instance.protocol = v; },\n          enumerable: true, configurable: true\n        },\n        username: {\n          get: function () { return instance.username; },\n          set: function (v) { instance.username = v; },\n          enumerable: true, configurable: true\n        },\n        password: {\n          get: function () { return instance.password; },\n          set: function (v) { instance.password = v; },\n          enumerable: true, configurable: true\n        },\n        host: {\n          get: function () {\n            // IE returns default port in |host|\n            var re = {'http:': /:80$/, 'https:': /:443$/, 'ftp:': /:21$/}[instance.protocol];\n            return re ? instance.host.replace(re, '') : instance.host;\n          },\n          set: function (v) { instance.host = v; },\n          enumerable: true, configurable: true\n        },\n        hostname: {\n          get: function () { return instance.hostname; },\n          set: function (v) { instance.hostname = v; },\n          enumerable: true, configurable: true\n        },\n        port: {\n          get: function () { return instance.port; },\n          set: function (v) { instance.port = v; },\n          enumerable: true, configurable: true\n        },\n        pathname: {\n          get: function () {\n            // IE does not include leading '/' in |pathname|\n            if (instance.pathname.charAt(0) !== '/') return '/' + instance.pathname;\n            return instance.pathname;\n          },\n          set: function (v) { instance.pathname = v; },\n          enumerable: true, configurable: true\n        },\n        search: {\n          get: function () { return instance.search; },\n          set: function (v) {\n            if (instance.search === v) return;\n            instance.search = v; tidy_instance(); update_steps();\n          },\n          enumerable: true, configurable: true\n        },\n        searchParams: {\n          get: function () { return query_object; },\n          enumerable: true, configurable: true\n        },\n        hash: {\n          get: function () { return instance.hash; },\n          set: function (v) { instance.hash = v; tidy_instance(); },\n          enumerable: true, configurable: true\n        },\n        toString: {\n          value: function() { return instance.toString(); },\n          enumerable: false, configurable: true\n        },\n        valueOf: {\n          value: function() { return instance.valueOf(); },\n          enumerable: false, configurable: true\n        }\n      });\n\n      function tidy_instance() {\n        var href = instance.href.replace(/#$|\\?$|\\?(?=#)/g, '');\n        if (instance.href !== href)\n          instance.href = href;\n      }\n\n      function update_steps() {\n        query_object._setList(instance.search ? urlencoded_parse(instance.search.substring(1)) : []);\n        query_object._update_steps();\n      };\n\n      return self;\n    }\n\n    if (origURL) {\n      for (var i in origURL) {\n        if (origURL.hasOwnProperty(i) && typeof origURL[i] === 'function')\n          URL[i] = origURL[i];\n      }\n    }\n\n    global.URL = URL;\n    global.URLSearchParams = URLSearchParams;\n  }());\n\n  // Patch native URLSearchParams constructor to handle sequences/records\n  // if necessary.\n  (function() {\n    if (new global.URLSearchParams([['a', 1]]).get('a') === '1' &&\n        new global.URLSearchParams({a: 1}).get('a') === '1')\n      return;\n    var orig = global.URLSearchParams;\n    global.URLSearchParams = function(init) {\n      if (init && typeof init === 'object' && isSequence(init)) {\n        var o = new orig();\n        toArray(init).forEach(function(e) {\n          if (!isSequence(e)) throw TypeError();\n          var nv = toArray(e);\n          if (nv.length !== 2) throw TypeError();\n          o.append(nv[0], nv[1]);\n        });\n        return o;\n      } else if (init && typeof init === 'object') {\n        o = new orig();\n        Object.keys(init).forEach(function(key) {\n          o.set(key, init[key]);\n        });\n        return o;\n      } else {\n        return new orig(init);\n      }\n    };\n  }());\n\n}(self));\n// Work-In-Progress 'prollyfill' for Fetch API\n// Standard: https://fetch.spec.whatwg.org/#fetch-api\n//\n// As usual, the intent is to produce a forward-compatible\n// subset so that code can be written using future standard\n// functionality; not every case is considered or supported.\n\n// Requires ES2015: Promise, Symbol.iterator (or polyfill)\n// Requires: URL (or polyfill)\n\n// Example:\n//   fetch('README.md')\n//     .then(function(response) { return response.text(); })\n//     .then(function(text) { alert(text); });\n\n(function(global) {\n  'use strict';\n\n  // Web IDL concepts\n\n  // https://heycam.github.io/webidl/#idl-ByteString\n  function ByteString(value) {\n    value = String(value);\n    if (value.match(/[^\\x00-\\xFF]/)) throw TypeError('Not a valid ByteString');\n    return value;\n  }\n\n  // https://heycam.github.io/webidl/#idl-USVString\n  function USVString(value) {\n    value = String(value);\n    return value.replace(\n        /([\\u0000-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDFFF])/g,\n      function (c) {\n        if (/^[\\uD800-\\uDFFF]$/.test(c)) return '\\uFFFD';\n        return c;\n      });\n  }\n\n  function ushort(x) { return x & 0xFFFF; }\n\n  // 2 Terminology\n\n  function byteLowerCase(s) {\n    return String(s).replace(/[A-Z]/g, function(c) { return c.toLowerCase(); });\n  }\n\n  function byteUpperCase(s) {\n    return String(s).replace(/[a-z]/g, function(c) { return c.toUpperCase(); });\n  }\n\n  function byteCaseInsensitiveMatch(a, b) {\n    return byteLowerCase(a) === byteLowerCase(b);\n  }\n\n  // 2.1 HTTP\n\n  // 2.1.1 Methods\n\n  function isForbiddenMethod(m) {\n    m = byteUpperCase(m);\n    return m === 'CONNECT' || m === 'TRACE' || m === 'TRACK';\n  }\n\n  function normalizeMethod(m) {\n    var u = byteUpperCase(m);\n    if (u === 'DELETE' || u === 'GET' || u === 'HEAD' || u === 'OPTIONS' ||\n        u === 'POST' || u === 'PUT') return u;\n    return m;\n  }\n\n  function isName(s) {\n    return /^[!#$%&'*+\\-.09A-Z^_`a-z|~]+$/.test(s);\n  }\n  function isValue(s) {\n    // TODO: Implement me\n    return true;\n  }\n  function isForbiddenHeaderName(n) {\n    n = String(n).toLowerCase();\n    var forbidden = {\n      'accept-charset': true,\n      'accept-encoding': true,\n      'access-control-request-headers': true,\n      'access-control-request-method': true,\n      'connection': true,\n      'content-length': true,\n      'cookie': true,\n      'cookie2': true,\n      'date': true,\n      'dnt': true,\n      'expect': true,\n      'host': true,\n      'keep-alive': true,\n      'origin': true,\n      'referer': true,\n      'te': true,\n      'trailer': true,\n      'transfer-encoding': true,\n      'upgrade': true,\n      'user-agent': true,\n      'via': true\n    };\n    return forbidden[n] || n.substring(0, 6) === 'proxy-' || n.substring(0, 4) === 'sec-';\n  }\n\n  function isForbiddenResponseHeaderName(n) {\n    n = String(n).toLowerCase();\n    var forbidden = {\n      'set-cookie': true,\n      'set-cookie2': true\n    };\n    return forbidden[n];\n  }\n\n  function isSimpleHeader(name, value) {\n    name = String(name).toLowerCase();\n    return name === 'accept' || name === 'accept-language' || name === 'content-language' ||\n      (name === 'content-type' &&\n       ['application/x-www-form-encoded', 'multipart/form-data', 'text/plain'].indexOf(value) !== -1);\n  }\n\n  //\n  // 5.1 Headers class\n  //\n\n  // typedef (Headers or sequence<sequence<ByteString>> or OpenEndedDictionary<ByteString>) HeadersInit;\n\n  // Constructor(optional HeadersInit init)\n  function Headers(init) {\n    this._guard = 'none';\n    this._headerList = [];\n    if (init) fill(this, init);\n  }\n\n  function fill(headers, init) {\n    if (init instanceof Headers) {\n      init._headerList.forEach(function(header) {\n        headers.append(header[0], header[1]);\n      });\n    } else if (Array.isArray(init)) {\n      init.forEach(function(header) {\n        if (!Array.isArray(header) || header.length !== 2) throw TypeError();\n        headers.append(header[0], header[1]);\n      });\n    } else {\n      init = Object(init);\n      Object.keys(init).forEach(function(key) {\n        headers.append(key, init[key]);\n      });\n    }\n  }\n\n  // interface Headers\n  Headers.prototype = {\n    // void append(ByteString name, ByteString value);\n    append: function append(name, value) {\n      name = ByteString(name);\n      if (!isName(name) || !isValue(value)) throw TypeError();\n      if (this._guard === 'immutable') throw TypeError();\n      else if (this._guard === 'request' && isForbiddenHeaderName(name)) return;\n      else if (this._guard === 'request-no-CORS' && !isSimpleHeader(name, value)) return;\n      else if (this._guard === 'response' && isForbiddenResponseHeaderName(name)) return;\n\n      name = name.toLowerCase();\n      this._headerList.push([name, value]);\n    },\n\n    // void delete(ByteString name);\n    'delete': function delete_(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      if (this._guard === 'immutable') throw TypeError();\n      else if (this._guard === 'request' && isForbiddenHeaderName(name)) return;\n      else if (this._guard === 'request-no-CORS' && !isSimpleHeader(name, 'invalid')) return;\n      else if (this._guard === 'response' && isForbiddenResponseHeaderName(name)) return;\n\n      name = name.toLowerCase();\n      var index = 0;\n      while (index < this._headerList.length) {\n        if (this._headerList[index][0] === name)\n          this._headerList.splice(index, 1);\n        else\n          ++index;\n      }\n    },\n\n    // ByteString? get(ByteString name);\n    get: function get(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      name = name.toLowerCase();\n      for (var index = 0; index < this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name)\n          return this._headerList[index][1];\n      }\n      return null;\n    },\n\n    // sequence<ByteString> getAll(ByteString name);\n    getAll: function getAll(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      name = name.toLowerCase();\n      var sequence = [];\n      for (var index = 0; index < this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name)\n          sequence.push(this._headerList[index][1]);\n      }\n      return sequence;\n    },\n\n    // boolean has(ByteString name);\n    has: function has(name) {\n      name = ByteString(name);\n      if (!isName(name)) throw TypeError();\n      name = name.toLowerCase();\n      for (var index = 0; index < this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name)\n          return true;\n      }\n      return false;\n    },\n\n    // void set(ByteString name, ByteString value);\n    set: function set(name, value) {\n      name = ByteString(name);\n      if (!isName(name) || !isValue(value)) throw TypeError();\n      if (this._guard === 'immutable') throw TypeError();\n      else if (this._guard === 'request' && isForbiddenHeaderName(name)) return;\n      else if (this._guard === 'request-no-CORS' && !isSimpleHeader(name, value)) return;\n      else if (this._guard === 'response' && isForbiddenResponseHeaderName(name)) return;\n\n      name = name.toLowerCase();\n      for (var index = 0; index < this._headerList.length; ++index) {\n        if (this._headerList[index][0] === name) {\n          this._headerList[index++][1] = value;\n          while (index < this._headerList.length) {\n            if (this._headerList[index][0] === name)\n              this._headerList.splice(index, 1);\n            else\n              ++index;\n          }\n          return;\n        }\n      }\n      this._headerList.push([name, value]);\n    }\n  };\n  Headers.prototype[Symbol.iterator] = function() {\n    return new HeadersIterator(this);\n  };\n\n  function HeadersIterator(headers) {\n    this._headers = headers;\n    this._index = 0;\n  }\n  HeadersIterator.prototype = {};\n  HeadersIterator.prototype.next = function() {\n    if (this._index >= this._headers._headerList.length)\n      return { value: undefined, done: true };\n    return { value: this._headers._headerList[this._index++], done: false };\n  };\n  HeadersIterator.prototype[Symbol.iterator] = function() { return this; };\n\n\n  //\n  // 5.2 Body mixin\n  //\n\n  function Body(_stream) {\n    // TODO: Handle initialization from other types\n    this._stream = _stream;\n    this.bodyUsed = false;\n  }\n\n  // interface FetchBodyStream\n  Body.prototype = {\n    // Promise<ArrayBuffer> arrayBuffer();\n    arrayBuffer: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      if (this._stream instanceof ArrayBuffer) return Promise.resolve(this._stream);\n      var value = this._stream;\n      return new Promise(function(resolve, reject) {\n        var octets = unescape(encodeURIComponent(value)).split('').map(function(c) {\n          return c.charCodeAt(0);\n        });\n        resolve(new Uint8Array(octets).buffer);\n      });\n    },\n    // Promise<Blob> blob();\n    blob: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      if (this._stream instanceof Blob) return Promise.resolve(this._stream);\n      return Promise.resolve(new Blob([this._stream]));\n    },\n    // Promise<FormData> formData();\n    formData: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      if (this._stream instanceof FormData) return Promise.resolve(this._stream);\n      return Promise.reject(Error('Not yet implemented'));\n    },\n    // Promise<JSON> json();\n    json: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      var that = this;\n      return new Promise(function(resolve, reject) {\n        resolve(JSON.parse(that._stream));\n      });\n    },\n    // Promise<USVString> text();\n    text: function() {\n      if (this.bodyUsed) return Promise.reject(TypeError());\n      this.bodyUsed = true;\n      return Promise.resolve(String(this._stream));\n    }\n  };\n\n  //\n  // 5.3 Request class\n  //\n\n  // typedef (Request or USVString) RequestInfo;\n\n  // Constructor(RequestInfo input, optional RequestInit init)\n  function Request(input, init) {\n    if (arguments.length < 1) throw TypeError('Not enough arguments');\n\n    Body.call(this, null);\n\n    // readonly attribute ByteString method;\n    this.method = 'GET';\n\n    // readonly attribute USVString url;\n    this.url = '';\n\n    // readonly attribute Headers headers;\n    this.headers = new Headers();\n    this.headers._guard = 'request';\n\n    // readonly attribute DOMString referrer;\n    this.referrer = null; // TODO: Implement.\n\n    // readonly attribute RequestMode mode;\n    this.mode = null; // TODO: Implement.\n\n    // readonly attribute RequestCredentials credentials;\n    this.credentials = 'omit';\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) throw TypeError();\n      input.bodyUsed = true;\n      this.method = input.method;\n      this.url = input.url;\n      this.headers = new Headers(input.headers);\n      this.headers._guard = input.headers._guard;\n      this.credentials = input.credentials;\n      this._stream = input._stream;\n    } else {\n      input = USVString(input);\n      this.url = String(new URL(input, self.location));\n    }\n\n    init = Object(init);\n\n    if ('method' in init) {\n      var method = ByteString(init.method);\n      if (isForbiddenMethod(method)) throw TypeError();\n      this.method = normalizeMethod(method);\n    }\n\n    if ('headers' in init) {\n      this.headers = new Headers();\n      fill(this.headers, init.headers);\n    }\n\n    if ('body' in init)\n      this._stream = init.body;\n\n    if ('credentials' in init &&\n        (['omit', 'same-origin', 'include'].indexOf(init.credentials) !== -1))\n      this.credentials = init.credentials;\n  }\n\n  // interface Request\n  Request.prototype = Body.prototype;\n\n  //\n  // 5.4 Response class\n  //\n\n  // Constructor(optional FetchBodyInit body, optional ResponseInit init)\n  function Response(body, init) {\n    if (arguments.length < 1)\n      body = '';\n\n    this.headers = new Headers();\n    this.headers._guard = 'response';\n\n    // Internal\n    if (body instanceof XMLHttpRequest && '_url' in body) {\n      var xhr = body;\n      this.type = 'basic'; // TODO: ResponseType\n      this.url = USVString(xhr._url);\n      this.status = xhr.status;\n      this.ok = 200 <= this.status && this.status <= 299;\n      this.statusText = xhr.statusText;\n      xhr.getAllResponseHeaders()\n        .split(/\\r?\\n/)\n        .filter(function(header) { return header.length; })\n        .forEach(function(header) {\n          var i = header.indexOf(':');\n          this.headers.append(header.substring(0, i), header.substring(i + 2));\n        }, this);\n      Body.call(this, xhr.responseText);\n      return;\n    }\n\n    Body.call(this, body);\n\n    init = Object(init) || {};\n\n    // readonly attribute USVString url;\n    this.url = '';\n\n    // readonly attribute unsigned short status;\n    var status = 'status' in init ? ushort(init.status) : 200;\n    if (status < 200 || status > 599) throw RangeError();\n    this.status = status;\n\n    // readonly attribute boolean ok;\n    this.ok = 200 <= this.status && this.status <= 299;\n\n    // readonly attribute ByteString statusText;\n    var statusText = 'statusText' in init ? String(init.statusText) : 'OK';\n    if (/[^\\x00-\\xFF]/.test(statusText)) throw TypeError();\n    this.statusText = statusText;\n\n    // readonly attribute Headers headers;\n    if ('headers' in init) fill(this.headers, init);\n\n    // TODO: Implement these\n    // readonly attribute ResponseType type;\n    this.type = 'basic'; // TODO: ResponseType\n  }\n\n  // interface Response\n  Response.prototype = Body.prototype;\n\n  Response.redirect = function() {\n    // TODO: Implement?\n    throw Error('Not supported');\n  };\n\n  //\n  // 5.5 Structured cloning of Headers, FetchBodyStream, Request, Response\n  //\n\n  //\n  // 5.6 Fetch method\n  //\n\n  // Promise<Response> fetch(RequestInfo input, optional RequestInit init);\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var r = new Request(input, init);\n\n      var xhr = new XMLHttpRequest(), async = true;\n      xhr._url = r.url;\n\n      try { xhr.open(r.method, r.url, async); } catch (e) { throw TypeError(e.message); }\n\n      for (var iter = r.headers[Symbol.iterator](), step = iter.next();\n           !step.done; step = iter.next())\n        xhr.setRequestHeader(step.value[0], step.value[1]);\n\n      if (r.credentials === 'include')\n        xhr.withCredentials = true;\n\n      xhr.onreadystatechange = function() {\n        if (xhr.readyState !== XMLHttpRequest.DONE) return;\n        if (xhr.status === 0)\n          reject(new TypeError('Network error'));\n        else\n          resolve(new Response(xhr));\n      };\n\n      xhr.send(r._stream);\n    });\n  }\n\n  // Exported\n  if (!('fetch' in global)) {\n    global.Headers = Headers;\n    global.Request = Request;\n    global.Response = Response;\n    global.fetch = fetch;\n  }\n\n}(self));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};","import ArrayUtil from './framework/Utilities/ArrayUtil';\r\nimport { CustomInputElement } from './framework/CustomInputElement';\r\nimport MakeRequest from './framework/Utilities/MakeRequest';\r\nimport { FileFieldElement } from './elements/FileField/FileFieldElement';\r\n\r\nexport class CustomForm {\r\n    action: string;\r\n    method: string;\r\n    _nativeInputs: HTMLInputElement[];\r\n\r\n    public onsubmit: ((this: CustomForm, promise: Promise<any>) => any) | null;\r\n\r\n    constructor(private form: HTMLFormElement) {\r\n        this.action = form.action || '';\r\n        this.method = form.method || 'get';\r\n        this.attachForm();\r\n        this.binGroupsToDependency();\r\n    }\r\n\r\n    get inputs(): CustomInputElement[] {\r\n        return ArrayUtil.FromNodeList(this.form.querySelectorAll('.group-container:not([hidden]) [custom-input]:not([hidden])'));\r\n    }\r\n    get nativeInputs(): HTMLInputElement[] {\r\n        this._nativeInputs =\r\n            this._nativeInputs ||\r\n            ArrayUtil.FromNodeList(this.form.querySelectorAll('input'));\r\n        return this._nativeInputs;\r\n    }\r\n\r\n    get hasFiles(): boolean {\r\n        return this.inputs.some(input => input instanceof FileFieldElement);\r\n    }\r\n\r\n    attachForm() {\r\n        this.form.onsubmit = event => {\r\n            event.preventDefault();\r\n            let valid = this.validate();\r\n            if (valid) {\r\n                if (this.onsubmit) {\r\n                    this.onsubmit(this.submit());\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    validate(): boolean {\r\n        this.inputs.forEach(input => (<CustomInputElement>input).validate());\r\n        return this.inputs.every(input => (<CustomInputElement>input).valid);\r\n    }\r\n\r\n    submit(): Promise<any> {\r\n        let formData = {};\r\n        const headers: any = {};\r\n        this.inputs.map(i => (formData[i.name] = i.value));\r\n        formData = this.extractData();\r\n        return new MakeRequest(this.action, this.method, headers).send(\r\n            formData,\r\n        );\r\n    }\r\n    private extractData(): FormData {\r\n        const formData: FormData = new FormData();\r\n        for (const input of this.inputs) {\r\n            if (input instanceof FileFieldElement) {\r\n                for (let index = 0; index < input.value.length; index++) {\r\n                    const file = input.value[index];\r\n                    formData.append(input.name, file, file.name);\r\n                }\r\n            } else {\r\n                formData.append(`Values[${input.name}]`, input.value);\r\n            }\r\n        }\r\n        for (const input of this.nativeInputs) {\r\n            if (input.name) {\r\n                formData.append(input.name, input.value);\r\n            }\r\n        }\r\n        return formData;\r\n    }\r\n\r\n    private binGroupsToDependency() {\r\n        let groupContainers = this.form.querySelectorAll('div.group-container:not([data-depends-on=\"\"])',\r\n        );\r\n        groupContainers.forEach((element: HTMLElement) => {\r\n            let dependentField = element.getAttribute('data-depends-on');\r\n            let dependentValue = element.getAttribute('data-dependent-value');\r\n            let customElement: CustomInputElement = document.forms[0].querySelector(`[name=\"${dependentField}\"]`) as CustomInputElement;\r\n            element.setAttribute(\"hidden\", \"\");\r\n            customElement.onChange.on(event => {\r\n                if (event.value === dependentValue || event.value.includes(dependentValue)) {\r\n                    element.removeAttribute(\"hidden\");\r\n                } else {\r\n                    element.setAttribute(\"hidden\", \"\");\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\n\r\n@CustomElement({\r\n    selector: 'address-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n\t\t\t\t<input id='address' type=\"text\" placeholder='Address' required/>\r\n\t\t\t\t<input id='city' type=\"text\" placeholder='City'/>\r\n\t\t\t\t<input id='zip' type=\"number\" placeholder='Zip'/>\r\n\t\t\t</div>`,\r\n    style: `.wrapper{\r\n                display:flex;\r\n            }\r\n            input{\r\n                box-sizing: border-box;\r\n                border: none;\r\n                background-color: #f1f4ff;\r\n                margin: 2px;\r\n                resize: none;\r\n                width:33%;\r\n            }\r\n           `,\r\n    templatePath: './html.html',\r\n    useShadow: true,\r\n})\r\nexport class AddressElement extends CustomInputElement {\r\n    address: HTMLInputElement;\r\n    city: HTMLInputElement;\r\n    zip: HTMLInputElement;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): string {\r\n        let address = this.address.value || '';\r\n        let city = this.city.value ? `,${this.city.value}` : '';\r\n        let zip = this.zip.value ? `,${this.zip.value}` : '';\r\n        return `${address}${city}${zip}`;\r\n    }\r\n\r\n    set value(value: string) {\r\n        const values = value.split(',');\r\n        this.address.value = values[0];\r\n        this.city.value = values[1];\r\n        this.zip.value = values[2];\r\n    }\r\n\r\n    get valid(): boolean {\r\n        return (\r\n            this.address.validity.valid &&\r\n            this.city.validity.valid &&\r\n            this.zip.validity.valid\r\n        );\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.address = super.getChildInput('#address');\r\n        this.city = super.getChildInput('#city');\r\n        this.zip = super.getChildInput('#zip');\r\n        this.address.addEventListener('change', this.change.bind(this));\r\n        this.city.addEventListener('change', this.change.bind(this));\r\n        this.zip.addEventListener('change', this.change.bind(this));\r\n    }\r\n\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\nimport BankAccountValidator from '../../framework/Validation/Validators/BankAccount';\r\nimport BankAccountRegistrationNumberValidator from '../../framework/Validation/Validators/BankAccountRegistrationNumber';\r\n\r\n@CustomElement({\r\n    selector: 'bank-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n\t\t\t\t<input type=\"text\" id='account-field' placeholder='Bank Account'/>\r\n\t\t\t\t<input type=\"text\" id='reg-number-field' placeholder='Bank Account Registration Number'/>\r\n\t\t\t</div>`,\r\n    style: `\r\n    :host{\r\n            width:100%;\r\n    }\r\n    .wrapper{\r\n            display:flex;\r\n    }\r\n    input{\r\n            box-sizing: border-box;\r\n            width: 100% !important;\r\n            border: none;\r\n            background-color: #f1f4ff;\r\n            margin: 2px;\r\n            resize: none;\r\n    }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class BankFieldElement extends CustomInputElement {\r\n    account: HTMLInputElement;\r\n    regNumber: HTMLInputElement;\r\n    bankAccountValidator: BankAccountValidator = new BankAccountValidator();\r\n    regNumberValidator: BankAccountRegistrationNumberValidator = new BankAccountRegistrationNumberValidator();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): string {\r\n        let account = this.account.value || '';\r\n        let regNumber = this.regNumber.value ? `,${this.regNumber.value}` : '';\r\n        return `${account}${regNumber}`;\r\n    }\r\n\r\n    set value(value: string) {\r\n        const values = value.split(',');\r\n        this.account.value = values[0];\r\n        this.regNumber.value = values[1];\r\n    }\r\n\r\n    get valid(): boolean {\r\n        return (\r\n            this.bankAccountValidator.isSatisfiedBy(\r\n                this.account.value,\r\n                !this.required,\r\n            ) &&\r\n            this.regNumberValidator.isSatisfiedBy(\r\n                this.regNumber.value,\r\n                !this.required,\r\n            )\r\n        );\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.account = super.getChildInput('#account-field');\r\n        this.regNumber = super.getChildInput('#reg-number-field');\r\n        this.account.addEventListener('change', this.change.bind(this));\r\n        this.regNumber.addEventListener('change', this.change.bind(this));\r\n        if (this.required) {\r\n            this.account.setAttribute('required', '');\r\n            this.regNumber.setAttribute('required', '');\r\n        }\r\n    }\r\n\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\nimport CprValidator from '../../framework/Validation/Validators/CPR';\r\n\r\n@CustomElement({\r\n    selector: 'cpr-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n\t\t\t\t<input type=\"text\" id='cpr-field' placeholder='DDMMYY-SSSS'/>\r\n\t\t\t</div>`,\r\n    style: `\r\n    :host{\r\n            width:100%;\r\n    }\r\n    .wrapper{\r\n            display:flex;\r\n    }\r\n    input{\r\n            box-sizing: border-box;\r\n            width: 100% !important;\r\n            border: none;\r\n            background-color: #f1f4ff;\r\n            margin: 2px;\r\n            resize: none;\r\n    }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class CPRElement extends CustomInputElement {\r\n    text: HTMLInputElement;\r\n    validator: CprValidator = new CprValidator();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): string {\r\n        return `${this.text.value}`;\r\n    }\r\n\r\n    set value(value: string) {\r\n        this.text.value = value;\r\n    }\r\n\r\n    get valid(): boolean {\r\n        return this.validator.isSatisfiedBy(this.value, !this.required);\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.text = super.getChildInput('#cpr-field');\r\n        this.text.addEventListener('change', this.change.bind(this));\r\n        if (this.required) {\r\n            this.text.setAttribute('required', '');\r\n        }\r\n    }\r\n\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\nimport CprValidator from '../../framework/Validation/Validators/CPR';\r\nimport CvrValidator from '../../framework/Validation/Validators/CVR';\r\n\r\n@CustomElement({\r\n    selector: 'cvr-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n\t\t\t\t<input type=\"text\" id='cvr-field' placeholder='DDMMYY-SSSS'/>\r\n\t\t\t</div>`,\r\n    style: `\r\n    :host{\r\n            width:100%;\r\n    }\r\n    .wrapper{\r\n            display:flex;\r\n    }\r\n    input{\r\n            box-sizing: border-box;\r\n            width: 100% !important;\r\n            border: none;\r\n            background-color: #f1f4ff;\r\n            margin: 2px;\r\n            resize: none;\r\n    }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class CVRElement extends CustomInputElement {\r\n    text: HTMLInputElement;\r\n    validator: CvrValidator = new CvrValidator();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): string {\r\n        return `${this.text.value}`;\r\n    }\r\n\r\n    set value(value: string) {\r\n        this.text.value = value;\r\n    }\r\n\r\n    get valid(): boolean {\r\n        return this.validator.isSatisfiedBy(this.value, !this.required);\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.text = super.getChildInput('#cvr-field');\r\n        this.text.addEventListener('change', this.change.bind(this));\r\n        if (this.required) {\r\n            this.text.setAttribute('required', '');\r\n        }\r\n    }\r\n\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\nimport { StringUtil } from '../../framework/Utilities/StringUtil';\r\n\r\n@CustomElement({\r\n    selector: 'checkbox-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n               \r\n\t\t\t</div>`,\r\n    style: `\r\n            :host{\r\n                width:100%;\r\n            }\r\n            .wrapper{\r\n                display:flex;\r\n                justify-content: center;\r\n                flex-wrap:wrap;\r\n            }\r\n            .checkbox {\r\n                width: auto;\r\n                margin: auto 3px;\r\n                display: flex;\r\n                flex-grow: 0.1;\r\n                justify-content: space-around;\r\n            }\r\n            input{\r\n                box-sizing: border-box;\r\n                width: auto !important;\r\n                border: none;\r\n                background-color: #f1f4ff;\r\n                margin: 2px;\r\n                resize: none;\r\n            }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class CheckBoxElement extends CustomInputElement {\r\n    checkbox: HTMLInputElement[];\r\n    checkboxTemplate = `\r\n    <div class='checkbox'>\r\n        <label for=\"{2}\">{1}</label>\r\n        <input type='checkbox' name='{0}' value=\"{1}\" id=\"{2}\"/>\r\n    </div>`;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): string[] {\r\n        return this.checkbox.filter(c => c.checked).map(c => c.value);\r\n    }\r\n\r\n    set value(values: string[]) {\r\n        // this.checkbox.value = value;\r\n    }\r\n\r\n    get valid(): boolean {\r\n        if (this.required) {\r\n            return this.value.length > 0;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.addCheckBoxes();\r\n        this.checkbox = super.getChildInputs(`[name=${this.name}]`);\r\n        this.checkbox.forEach(c =>\r\n            c.addEventListener('change', this.change.bind(this)),\r\n        );\r\n    }\r\n\r\n    private addCheckBoxes() {\r\n        const wrapper = super.getChildElement('.wrapper');\r\n        this.options.forEach((element, index) => {\r\n            wrapper.insertAdjacentHTML(\r\n                'beforeend',\r\n                StringUtil.StringFormat(\r\n                    this.checkboxTemplate,\r\n                    this.name,\r\n                    element,\r\n                    `${this.name}-${index}`,\r\n                ),\r\n            );\r\n        });\r\n    }\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\n\r\n@CustomElement({\r\n    selector: 'regex-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n\t\t\t\t<input type=\"text\" id='regex-field'/>\r\n\t\t\t</div>`,\r\n    style: `\r\n    :host{\r\n            width:100%;\r\n    }\r\n    .wrapper{\r\n            display:flex;\r\n    }\r\n    input{\r\n            box-sizing: border-box;\r\n            width: 100% !important;\r\n            border: none;\r\n            background-color: #f1f4ff;\r\n            margin: 2px;\r\n            resize: none;\r\n    }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class CustomRegularExpressionElement extends CustomInputElement {\r\n    text: HTMLInputElement;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): string {\r\n        return `${this.text.value}`;\r\n    }\r\n\r\n    set value(value: string) {\r\n        this.text.value = value;\r\n    }\r\n\r\n    get valid(): boolean {\r\n        return this.text.validity.valid;\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.text = super.getChildInput('#regex-field');\r\n        this.text.addEventListener('change', this.change.bind(this));\r\n        if (this.required) {\r\n            this.text.setAttribute('required', '');\r\n        }\r\n        if (this.customValue) {\r\n            this.text.setAttribute('pattern', this.customValue);\r\n        }\r\n    }\r\n\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\n\r\n@CustomElement({\r\n    selector: 'date-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n\t\t\t\t<input type=\"date\" id='date-field'/>\r\n\t\t\t</div>`,\r\n    style: `\r\n    :host{\r\n            width:100%;\r\n    }\r\n    .wrapper{\r\n            display:flex;\r\n    }\r\n    input{\r\n            box-sizing: border-box;\r\n            width: 100% !important;\r\n            border: none;\r\n            background-color: #f1f4ff;\r\n            margin: 2px;\r\n            resize: none;\r\n    }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class DateFieldElement extends CustomInputElement {\r\n    date: HTMLInputElement;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): string {\r\n        return this.date.value;\r\n    }\r\n\r\n    set value(value: string) {\r\n        this.date.value = value;\r\n    }\r\n\r\n    get valid(): boolean {\r\n        return this.date.validity.valid;\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.date = super.getChildInput('#date-field');\r\n        this.date.addEventListener('change', this.change.bind(this));\r\n        if (this.required) {\r\n            this.date.setAttribute('required', '');\r\n        }\r\n        if (this.max) {\r\n            this.date.setAttribute('max', this.max);\r\n        }\r\n        if (this.min) {\r\n            this.date.setAttribute('min', this.min);\r\n        }\r\n    }\r\n\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\nimport { StringUtil } from '../../framework/Utilities/StringUtil';\r\n\r\n@CustomElement({\r\n    selector: 'drop-down-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n               <select id='select-list'>\r\n               </select>\r\n\t\t\t</div>`,\r\n    style: `\r\n            :host{\r\n                width:100%;\r\n            }\r\n            .wrapper{\r\n                display:flex;\r\n                justify-content: center;\r\n            }\r\n            .radio-button {\r\n                width: auto;\r\n                margin: auto 3px;\r\n                display: flex;\r\n                flex-grow: 0.1;\r\n                justify-content: space-around;\r\n            }\r\n            select{\r\n                box-sizing: border-box;\r\n                width: 100% !important;\r\n                border: none;\r\n                background-color: #f1f4ff;\r\n                margin: 2px;\r\n                resize: none;\r\n            }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class DropDownListElement extends CustomInputElement {\r\n    select: HTMLInputElement;\r\n    optionTemplate = `\r\n    <option value='{0}'>\r\n       {1}\r\n    </option>`;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): string {\r\n        return `${this.select.value}`;\r\n    }\r\n\r\n    set value(value: string) {\r\n        this.select.value = value;\r\n    }\r\n\r\n    get valid(): boolean {\r\n        return this.select.validity.valid;\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.select = super.getChildInput(`#select-list`);\r\n        this.addOptions();\r\n        if (this.required) {\r\n            this.select.setAttribute('required', '');\r\n        }\r\n        if (this.multi) {\r\n            this.select.setAttribute('multiple', '');\r\n        }\r\n        this.select.addEventListener('change', this.change.bind(this));\r\n    }\r\n\r\n    private addOptions() {\r\n        this.options.forEach((element, index) => {\r\n            this.select.insertAdjacentHTML(\r\n                'beforeend',\r\n                StringUtil.StringFormat(this.optionTemplate, element, element),\r\n            );\r\n        });\r\n    }\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import { AddressElement } from './Address/AddressElement';\r\nimport { TextFieldElement } from './TextField/TextFieldElement';\r\nimport { EmailFieldElement } from './EmailField/EmailFieldElement';\r\nimport { CheckBoxElement } from './CheckBoxElement/CheckBoxElement';\r\nimport { RadioButtonGroupElement } from './RadioButtonGroup/RadioButtonGroupElement';\r\nimport { TextAreaElement } from './TextAreaElement/TextAreaElement';\r\nimport { DropDownListElement } from './DropDownList/DropDownListElement';\r\nimport { FileFieldElement } from './FileField/FileFieldElement';\r\nimport { NumericFieldElement } from './NumericField/NumericFieldElement';\r\nimport { CustomRegularExpressionElement } from './CustomRegularExpression/CustomRegularExpressionElement';\r\nimport { DateFieldElement } from './DateField/DateFieldElement';\r\nimport { IntPhoneFieldElement } from './InternationaPhoneNumber/InternationaPhoneNumberElement';\r\nimport { CPRElement } from './CPRElement/CPRElement';\r\nimport { CVRElement } from './CVRElement/CVRElement';\r\nimport { IdentificationElement } from './IdentificationElement/IdentificationElement';\r\nimport { BankFieldElement } from './BankField/BankFieldElement';\r\n\r\nexport {\r\n    AddressElement,\r\n    TextFieldElement,\r\n    EmailFieldElement,\r\n    CheckBoxElement,\r\n    RadioButtonGroupElement,\r\n    TextAreaElement,\r\n    DropDownListElement,\r\n    FileFieldElement,\r\n    NumericFieldElement,\r\n    CustomRegularExpressionElement,\r\n    DateFieldElement,\r\n    IntPhoneFieldElement,\r\n    CPRElement,\r\n    CVRElement,\r\n    IdentificationElement,\r\n    BankFieldElement,\r\n};\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\n\r\n@CustomElement({\r\n    selector: 'email-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n\t\t\t\t<input type=\"text\" id='email-field'/>\r\n\t\t\t</div>`,\r\n    style: `\r\n    :host{\r\n            width:100%;\r\n    }\r\n    .wrapper{\r\n            display:flex;\r\n    }\r\n    input{\r\n            box-sizing: border-box;\r\n            width: 100% !important;\r\n            border: none;\r\n            background-color: #f1f4ff;\r\n            margin: 2px;\r\n            resize: none;\r\n    }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class EmailFieldElement extends CustomInputElement {\r\n    mailRegex: RegExp = new RegExp(\r\n        /^([a-zA-Z0-9ÆØÅæøå_.+-])+\\@(([a-zA-Z0-9ÆØÅæøå-])+\\.)+([a-zA-Z0-9ÆØÅæøå]{2,4})+$/,\r\n    );\r\n\r\n    email: HTMLInputElement;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): string {\r\n        return `${this.email.value}`;\r\n    }\r\n\r\n    set value(value: string) {\r\n        this.email.value = value;\r\n    }\r\n\r\n    get valid(): boolean {\r\n        const patternValid = !this.value || this.mailRegex.test(this.value);\r\n        return this.email.validity.valid && patternValid;\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        this.initChildInputs();\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.email = super.getChildInput('#email-field');\r\n        this.email.addEventListener('change', this.change.bind(this));\r\n        if (this.required) {\r\n            this.email.setAttribute('required', '');\r\n        }\r\n    }\r\n\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\n\r\n@CustomElement({\r\n    selector: 'file-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n\t\t\t\t<input type=\"file\" id='file-field' accept=\"image/*,application/pdf\"/>\r\n\t\t\t</div>`,\r\n    style: `\r\n    :host{\r\n            width:100%;\r\n    }\r\n    .wrapper{\r\n            display:flex;\r\n    }\r\n    input{\r\n            box-sizing: border-box;\r\n            width: 100% !important;\r\n            border: none;\r\n            background-color: #f1f4ff;\r\n            margin: 2px;\r\n            resize: none;\r\n    }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class FileFieldElement extends CustomInputElement {\r\n    file: HTMLInputElement;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): FileList {\r\n        return this.file.files;\r\n    }\r\n\r\n    set value(files: FileList) {\r\n        this.file.files = files;\r\n    }\r\n\r\n    get valid(): boolean {\r\n        return this.file.validity.valid;\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        this.initChildInputs();\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.file = super.getChildInput('#file-field');\r\n        this.file.addEventListener('change', this.change.bind(this));\r\n        if (this.required) {\r\n            this.file.setAttribute('required', '');\r\n        }\r\n        if (this.multi) {\r\n            this.file.setAttribute('multiple', '');\r\n        }\r\n    }\r\n\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\nimport CprValidator from '../../framework/Validation/Validators/CPR';\r\nimport IValidator from '../../framework/Validation/IValidator.interface';\r\nimport CvrValidator from '../../framework/Validation/Validators/CVR';\r\nimport BankIdSwedenValidator from '../../framework/Validation/Validators/BankIdSweden';\r\nimport BankIdNorwayValidator from '../../framework/Validation/Validators/BankIdNorway';\r\n\r\n@CustomElement({\r\n    selector: 'id-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n                <select id='id-type'>\r\n                    <option value='cvr'>Danish CVR</option>\r\n                    <option value='cpr'>Danish CPR</option>\r\n                    <option value='swe'>Sweden Bank Id</option>\r\n                    <option value='nor'>Norway Bank Id</option>\r\n                </select>\r\n\t\t\t\t<input type=\"text\" id='id-field' placeholder=''/>\r\n\t\t\t</div>`,\r\n    style: `\r\n    :host{\r\n            width:100%;\r\n    }\r\n    .wrapper{\r\n            display:flex;\r\n    }\r\n    input, select{\r\n            box-sizing: border-box;\r\n            border: none;\r\n            background-color: #f1f4ff;\r\n            margin: 2px;\r\n            resize: none;\r\n    }\r\n    input{\r\n            width: 75% !important;\r\n    }\r\n    select{\r\n            width: 25% !important;\r\n    }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class IdentificationElement extends CustomInputElement {\r\n    typeSelector: HTMLInputElement;\r\n    text: HTMLInputElement;\r\n\r\n    type: string;\r\n    validators: { [index: string]: IValidator } = {\r\n        cpr: new CprValidator(),\r\n        cvr: new CvrValidator(),\r\n        swe: new BankIdSwedenValidator(),\r\n        nor: new BankIdNorwayValidator(),\r\n    };\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): string {\r\n        return `${this.text.value}`;\r\n    }\r\n\r\n    set value(value: string) {\r\n        this.text.value = value;\r\n    }\r\n\r\n    get valid(): boolean {\r\n        return this.validators[this.type].isSatisfiedBy(\r\n            this.value,\r\n            !this.required,\r\n        );\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.text = super.getChildInput('#id-field');\r\n        this.typeSelector = super.getChildInput('#id-type');\r\n        this.text.addEventListener('change', this.change.bind(this));\r\n        this.typeSelector.addEventListener('change', this.change.bind(this));\r\n        if (this.required) {\r\n            this.text.setAttribute('required', '');\r\n        }\r\n        this.type = this.typeSelector.value;\r\n    }\r\n\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.type = this.typeSelector.value;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\nimport MakeRequest from '../../framework/Utilities/MakeRequest';\r\nimport * as intlTelInput from 'intl-tel-input';\r\nimport { Plugin } from 'intl-tel-input';\r\n\r\n@CustomElement({\r\n    selector: 'int-phone-element',\r\n    template: `\r\n            <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.0/css/intlTelInput.css\" >\r\n\t\t\t<div class=\"wrapper\">\r\n\t\t\t\t<input type=\"tel\" id=\"phone-field\"  />\r\n\t\t\t</div>`,\r\n    style: `\r\n    :host{\r\n            width:100%;\r\n    }\r\n    .wrapper{\r\n            display:flex;\r\n    }\r\n    .iti {\r\n        width: 100% !important;\r\n    }\r\n    input{\r\n            box-sizing: border-box;\r\n            width: 100% !important;\r\n            border: none;\r\n            background-color: #f1f4ff;\r\n            margin: 2px;\r\n            resize: none;\r\n    }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class IntPhoneFieldElement extends CustomInputElement {\r\n    phone: HTMLInputElement;\r\n    fullPhone: HTMLInputElement;\r\n    intlTelInput: Plugin;\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): string {\r\n        return this.intlTelInput.getNumber();\r\n    }\r\n\r\n    set value(value: string) {\r\n        this.phone.value = value;\r\n    }\r\n\r\n    get valid(): boolean {\r\n        const patternValid =\r\n            !this.intlTelInput.getNumber() || this.intlTelInput.isValidNumber();\r\n        return patternValid && this.phone.validity.valid;\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        this.setIntlTelInput();\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.phone.addEventListener('change', this.change.bind(this));\r\n        if (this.required) {\r\n            this.phone.setAttribute('required', '');\r\n        }\r\n    }\r\n    setIntlTelInput() {\r\n        this.phone = super.getChildInput('#phone-field');\r\n        this.intlTelInput = intlTelInput(this.phone, {\r\n            geoIpLookup: (success, failure) => {\r\n                return new MakeRequest(\r\n                    'https://ipinfo.io/json?token=8226138217a68a',\r\n                    'get',\r\n                    { 'content-type': 'application/json' },\r\n                )\r\n                    .send()\r\n                    .then((request: any) => {\r\n                        const res = JSON.parse(request);\r\n                        return success(res.country);\r\n                    })\r\n                    .catch(err => {\r\n                        return success('DK');\r\n                    });\r\n            },\r\n            hiddenInput: 'fullphone',\r\n            initialCountry: 'auto',\r\n            nationalMode: true,\r\n            utilsScript:\r\n                'https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/15.0.1/js/utils.js',\r\n        } as any);\r\n        this.intlTelInput.promise.then(e => {\r\n            setTimeout(() => {\r\n                this.fullPhone = super.getChildInput('[name=\"fullphone\"]');\r\n            }, 1000);\r\n        });\r\n    }\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\n\r\n@CustomElement({\r\n    selector: 'numeric-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n\t\t\t\t<input type=\"number\" id='numeric-field'/>\r\n\t\t\t</div>`,\r\n    style: `\r\n    :host{\r\n            width:100%;\r\n    }\r\n    .wrapper{\r\n            display:flex;\r\n    }\r\n    input{\r\n            box-sizing: border-box;\r\n            width: 100% !important;\r\n            border: none;\r\n            background-color: #f1f4ff;\r\n            margin: 2px;\r\n            resize: none;\r\n    }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class NumericFieldElement extends CustomInputElement {\r\n    number: HTMLInputElement;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): any {\r\n        if (isNaN(this.number.valueAsNumber)) {\r\n            return '';\r\n        }\r\n        return this.number.valueAsNumber;\r\n    }\r\n\r\n    set value(value: any) {\r\n        this.number.valueAsNumber = value;\r\n    }\r\n\r\n    get valid(): boolean {\r\n        return this.number.validity.valid;\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.number = super.getChildInput('#numeric-field');\r\n        this.number.addEventListener('change', this.change.bind(this));\r\n        if (this.required) {\r\n            this.number.setAttribute('required', '');\r\n        }\r\n        if (this.max) {\r\n            this.number.setAttribute('max', this.max);\r\n        }\r\n        if (this.min) {\r\n            this.number.setAttribute('min', this.min);\r\n        }\r\n        if (this.step) {\r\n            this.number.setAttribute('step', this.step);\r\n        }\r\n    }\r\n\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\nimport { StringUtil } from '../../framework/Utilities/StringUtil';\r\n\r\n@CustomElement({\r\n    selector: 'radio-group-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n               \r\n\t\t\t</div>`,\r\n    style: `\r\n            :host{\r\n                width:100%;\r\n            }\r\n            .wrapper{\r\n                display:flex;\r\n                justify-content: center;\r\n            }\r\n            .radio-button {\r\n                width: auto;\r\n                margin: auto 3px;\r\n                display: flex;\r\n                flex-grow: 0.1;\r\n                justify-content: space-around;\r\n            }\r\n            input{\r\n                box-sizing: border-box;\r\n                width: auto !important;\r\n                border: none;\r\n                background-color: #f1f4ff;\r\n                margin: 2px;\r\n                resize: none;\r\n            }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class RadioButtonGroupElement extends CustomInputElement {\r\n    radioButton: HTMLInputElement[];\r\n    radioButtonTemplate = `\r\n    <div class='radio-button'>\r\n        <label for=\"{2}\">{1}</label>\r\n        <input type='radio' name='{0}' value=\"{1}\" id=\"{2}\" {3}/>\r\n    </div>`;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): string {\r\n        return this.radioButton.filter(c => c.checked).map(c => c.value)[0];\r\n    }\r\n\r\n    set value(value: string) {\r\n        let matchedRadio = this.radioButton.filter(c => c.value === value)[0];\r\n        if (matchedRadio) {\r\n            matchedRadio.setAttribute('checked', '');\r\n        }\r\n    }\r\n\r\n    get valid(): boolean {\r\n        if (this.required) {\r\n            return this.radioButton.filter(c => c.checked).length > 0;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.addRadioButtons();\r\n        this.radioButton = super.getChildInputs(`[name=${this.name}]`);\r\n        this.radioButton.forEach(radio =>\r\n            radio.addEventListener('change', this.change.bind(this)),\r\n        );\r\n    }\r\n\r\n    private addRadioButtons() {\r\n        const wrapper = super.getChildElement('.wrapper');\r\n        this.options.forEach((element, index) => {\r\n            wrapper.insertAdjacentHTML(\r\n                'beforeend',\r\n                StringUtil.StringFormat(\r\n                    this.radioButtonTemplate,\r\n                    this.name,\r\n                    element,\r\n                    `${this.name}-${index}`,\r\n                    `${this.required ? 'required' : ''}`,\r\n                ),\r\n            );\r\n        });\r\n    }\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\n\r\n@CustomElement({\r\n    selector: 'text-area-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n\t\t\t\t<textarea rows=5 id='text-area-field'></textarea>\r\n\t\t\t</div>`,\r\n    style: `\r\n    :host{\r\n            width:100%;\r\n    }\r\n    .wrapper{\r\n            display:flex;\r\n    }\r\n    textarea{\r\n            box-sizing: border-box;\r\n            width: 100% !important;\r\n            border: none;\r\n            background-color: #f1f4ff;\r\n            margin: 2px;\r\n            resize: none;\r\n    }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class TextAreaElement extends CustomInputElement {\r\n    text: HTMLInputElement;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): string {\r\n        return `${this.text.value}`;\r\n    }\r\n\r\n    set value(value: string) {\r\n        this.text.value = value;\r\n    }\r\n\r\n    get valid(): boolean {\r\n        return this.text.validity.valid;\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.text = super.getChildInput('#text-area-field');\r\n        this.text.addEventListener('change', this.change.bind(this));\r\n        if (this.required) {\r\n            this.text.setAttribute('required', '');\r\n        }\r\n    }\r\n\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","import CustomElement from '../../framework/custom-element.decorator';\r\nimport { CustomInputElement } from '../../framework/CustomInputElement';\r\nimport { CustomElementEventArgs } from '../../framework/CustomEvents';\r\n\r\n@CustomElement({\r\n    selector: 'text-element',\r\n    template: `\r\n\t\t\t<div class=\"wrapper\">\r\n\t\t\t\t<input type=\"text\" id='text-field'/>\r\n\t\t\t</div>`,\r\n    style: `\r\n    :host{\r\n            width:100%;\r\n    }\r\n    .wrapper{\r\n            display:flex;\r\n    }\r\n    input{\r\n            box-sizing: border-box;\r\n            width: 100% !important;\r\n            border: none;\r\n            background-color: #f1f4ff;\r\n            margin: 2px;\r\n            resize: none;\r\n    }\r\n           `,\r\n    useShadow: true,\r\n})\r\nexport class TextFieldElement extends CustomInputElement {\r\n    text: HTMLInputElement;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get value(): string {\r\n        return `${this.text.value}`;\r\n    }\r\n\r\n    set value(value: string) {\r\n        this.text.value = value;\r\n    }\r\n\r\n    get valid(): boolean {\r\n        return this.text.validity.valid;\r\n    }\r\n\r\n    connectedCallback(): void {\r\n        super.connectedCallback();\r\n    }\r\n\r\n    initChildInputs() {\r\n        this.text = super.getChildInput('#text-field');\r\n        this.text.addEventListener('change', this.change.bind(this));\r\n        if (this.required) {\r\n            this.text.setAttribute('required', '');\r\n        }\r\n    }\r\n\r\n    // events\r\n    public change($event): void {\r\n        this.touched = true;\r\n        this.onChange.emit(new CustomElementEventArgs(this.value, 'change'));\r\n    }\r\n\r\n    public validate(): void {\r\n        this.valid;\r\n        this.onValidate.emit(\r\n            new CustomElementEventArgs(this.value, 'validate'),\r\n        );\r\n    }\r\n}\r\n","export interface Listener<T> {\r\n    (event: T): any;\r\n}\r\n\r\nexport interface Disposable {\r\n    dispose();\r\n}\r\n\r\nexport class CustomElementEventArgs {\r\n    constructor(public value: any, public eventName: string) {}\r\n}\r\n/** passes through events as they happen. You will not get events from before you start listening */\r\nexport class CustomElementEvent<T> {\r\n    private listeners: Listener<T>[] = [];\r\n    private listenersOncer: Listener<T>[] = [];\r\n\r\n    on = (listener: Listener<T>): Disposable => {\r\n        this.listeners.push(listener);\r\n        return {\r\n            dispose: () => this.off(listener),\r\n        };\r\n    };\r\n\r\n    once = (listener: Listener<T>): void => {\r\n        this.listenersOncer.push(listener);\r\n    };\r\n\r\n    off = (listener: Listener<T>) => {\r\n        var callbackIndex = this.listeners.indexOf(listener);\r\n        if (callbackIndex > -1) this.listeners.splice(callbackIndex, 1);\r\n    };\r\n\r\n    emit = (event: T) => {\r\n        /** Update any general listeners */\r\n        this.listeners.forEach(listener => listener(event));\r\n\r\n        /** Clear the `once` queue */\r\n        if (this.listenersOncer.length > 0) {\r\n            this.listenersOncer.forEach(listener => listener(event));\r\n            this.listenersOncer = [];\r\n        }\r\n    };\r\n\r\n    pipe = (te: CustomElementEvent<T>): Disposable => {\r\n        return this.on(e => te.emit(e));\r\n    };\r\n}\r\n","import { CustomElementEvent, CustomElementEventArgs } from \"./CustomEvents\";\r\nimport DomUtil from \"./Utilities/DomUtil\";\r\nimport ArrayUtil from \"./Utilities/ArrayUtil\";\r\n\r\nclass IDictionary<TValue> {\r\n    [index: string]: TValue;\r\n}\r\nexport abstract class CustomInputElement extends HTMLElement {\r\n    private dependentOnList = new IDictionary<boolean>();\r\n    private visibilityState = true;\r\n\r\n    protected touched = false;\r\n    protected domUtil: DomUtil;\r\n\r\n    protected hasValueDependency: any;\r\n    protected noValueDependency: any;\r\n    protected dependencies: any[];\r\n\r\n    public onChange = new CustomElementEvent<CustomElementEventArgs>();\r\n    public onValidate = new CustomElementEvent<CustomElementEventArgs>();\r\n    public onVisibilityChanged = new CustomElementEvent<CustomElementEventArgs>();\r\n\r\n    public name: string;\r\n    public options: any[];\r\n    public required: boolean;\r\n    public customValue: string;\r\n    public allDependenciesMustBeMet: boolean = false;\r\n    public multi: boolean = false;\r\n    public max: any;\r\n    public min: any;\r\n    public step: any;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    abstract get value(): any;\r\n    abstract set value(value);\r\n    abstract get valid(): boolean;\r\n\r\n    abstract initChildInputs(): void;\r\n    abstract validate(): void;\r\n    abstract change($event): void;\r\n\r\n    connectedCallback(): void {\r\n        this.init();\r\n        this.setAttributes();\r\n    }\r\n\r\n    init(): void {\r\n        this.style.width = \"100%\";\r\n        this.domUtil = new DomUtil(this);\r\n        this.parseData();\r\n        this.initChildInputs();\r\n        this.bindEvents();\r\n        this.setAttributes();\r\n\r\n        window.addEventListener(\"load\", () => {\r\n            this.bindDependencies();\r\n        });\r\n    }\r\n\r\n    private parseData(): void {\r\n        try {\r\n            let data = JSON.parse(this.children[0].innerHTML);\r\n            this.removeChild(this.children[0]);\r\n            this.options = data.options;\r\n            this.hasValueDependency = data.hasValueDependency;\r\n            this.noValueDependency = data.noValueDependency;\r\n            this.dependencies = data.dependencies;\r\n            this.required = data.required;\r\n            this.name = data.name;\r\n            this.allDependenciesMustBeMet = data.allDependenciesMustBeMet;\r\n            this.multi = data.multi;\r\n            this.max = data.max;\r\n            this.min = data.min;\r\n            this.step = data.step;\r\n            this.customValue = data.value;\r\n        } catch (ex) {\r\n            console.error(ex);\r\n        }\r\n    }\r\n\r\n    private bindEvents(): void {\r\n        this.onValidate.on(e => {\r\n            if (this.valid) {\r\n                if(this.closest('.custom-validation-target')){\r\n                    this.closest('.custom-validation-target').classList.remove(\"invalid\");\r\n                    this.closest('.custom-validation-target').classList.add(\"valid\");\r\n                }\r\n            } else {\r\n                if(this.closest('.custom-validation-target')){\r\n                    this.closest('.custom-validation-target').classList.add(\"invalid\");\r\n                    this.closest('.custom-validation-target').classList.remove(\"valid\");\r\n                }\r\n                this.domUtil.focus();\r\n            }\r\n        });\r\n        this.onChange.on(e => {\r\n            if (this.touched) {\r\n                this.validate();\r\n            }\r\n        });\r\n    }\r\n\r\n    private setAttributes(): void {\r\n        this.setAttribute(\"custom-input\", \"\");\r\n        this.setAttribute(\"name\", this.name);\r\n    }\r\n\r\n    private bindDependencies(): void {\r\n        if (this.hasValueDependency && this.hasValueDependency.items.length) {\r\n            for (const fieldName of this.hasValueDependency.items) {\r\n                this.bindDependency(fieldName, \"has\");\r\n            }\r\n        }\r\n\r\n        if (this.noValueDependency && this.noValueDependency.items.length) {\r\n            for (const fieldName of this.noValueDependency.items) {\r\n                this.bindDependency(fieldName, \"no\");\r\n            }\r\n        }\r\n\r\n        if (this.dependencies && this.dependencies.length) {\r\n            for (const index in this.dependencies) {\r\n                if (this.dependencies.hasOwnProperty(index)) {\r\n                    const dependency = this.dependencies[index];\r\n                    for (const fieldName of dependency.items) {\r\n                        this.bindDependency(\r\n                            fieldName,\r\n                            \"custom\",\r\n                            dependency.value,\r\n                            dependency.criteria,\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private bindDependency(elementName: string, type: string, value?: string, criteria?: string, ): void {\r\n        let element = document.querySelector(`[name=\"${elementName}\"]`) as CustomInputElement;\r\n\r\n        if (element instanceof CustomInputElement) {\r\n            if (this.dependentOnList.hasOwnProperty(element.name)) {\r\n                return;\r\n            }\r\n            let isVisibleByDefault = type === \"no\";\r\n            element.RegisterDependentOn(this.name, isVisibleByDefault);\r\n            this.onChange.on(e => {\r\n                let IsConditionMatched = false;\r\n                if (type === \"has\") {\r\n                    IsConditionMatched = !!e.value;\r\n                }\r\n                if (type === \"no\") {\r\n                    IsConditionMatched = !e.value;\r\n                }\r\n                if (type === \"custom\") {\r\n                    if (criteria === \"Exact\") {\r\n                        IsConditionMatched = e.value == value;\r\n                    } else if (criteria === \"LessThan\") {\r\n                        IsConditionMatched = e.value < value;\r\n                    } else if (criteria === \"MoreThan\") {\r\n                        IsConditionMatched = e.value > value;\r\n                    }\r\n                }\r\n                element.DependentOnStateChanged(this.name, IsConditionMatched);\r\n            });\r\n            this.onVisibilityChanged.on(e => {\r\n                if (this.visibilityState) {\r\n                    this.onChange.emit(\r\n                        new CustomElementEventArgs(this.value, \"change\"),\r\n                    );\r\n                } else {\r\n                    element.DependentOnStateChanged(this.name, false);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private setVisibility() {\r\n        if (this.allDependenciesMustBeMet) {\r\n            this.visibilityState = Object.values(this.dependentOnList).every(state => state);\r\n        } else {\r\n            this.visibilityState = Object.values(this.dependentOnList).some(state => state);\r\n        }\r\n\r\n        if (this.visibilityState) {\r\n            this.show();\r\n        } else {\r\n            this.hide();\r\n        }\r\n        this.onVisibilityChanged.emit(new CustomElementEventArgs(this.value, \"VisibilityChanged\"));\r\n    }\r\n\r\n    private hide() {\r\n        this.setAttribute(\"hidden\", \"\");\r\n        if(this.closest('.custom-validation-target')){\r\n            this.closest('.custom-validation-target').setAttribute(\"hidden\", \"\");\r\n        }\r\n    }\r\n\r\n    private show() {\r\n        this.removeAttribute(\"hidden\");\r\n        if(this.closest('.custom-validation-target')){\r\n            this.closest('.custom-validation-target').removeAttribute(\"hidden\");\r\n        }\r\n    }\r\n\r\n    protected getChildInput(selector: string): HTMLInputElement {\r\n        let element: any = this;\r\n        if (this.shadowRoot) {\r\n            element = this.shadowRoot;\r\n        }\r\n        return element.querySelector(selector) as HTMLInputElement;\r\n    }\r\n\r\n    protected getChildInputs(selector: string): HTMLInputElement[] {\r\n        let element: any = this;\r\n        if (this.shadowRoot) {\r\n            element = this.shadowRoot;\r\n        }\r\n        return ArrayUtil.FromNodeList(\r\n            element.querySelectorAll(selector),\r\n        ) as HTMLInputElement[];\r\n    }\r\n\r\n    protected getChildElement(selector: string): HTMLElement {\r\n        let element: any = this;\r\n        if (this.shadowRoot) {\r\n            element = this.shadowRoot;\r\n        }\r\n        return element.querySelector(selector) as HTMLElement;\r\n    }\r\n\r\n    public RegisterDependentOn(name: string, initialValue: boolean = false) {\r\n        this.dependentOnList[name] = initialValue;\r\n        this.setVisibility();\r\n    }\r\n\r\n    public DependentOnStateChanged(name: string, state: boolean) {\r\n        if (this.dependentOnList.hasOwnProperty(name)) {\r\n            this.dependentOnList[name] = state;\r\n        }\r\n        this.setVisibility();\r\n    }\r\n}\r\n","export default class ArrayUtil {\r\n\tpublic static FromNodeList<T extends Node>(list: NodeListOf<T>): T[] {\r\n\t\treturn Array.prototype.concat.apply([], list as any);\r\n\t}\r\n\r\n}\r\n","﻿import { ViewportUtil } from './ViewportUtil';\r\n\r\nexport default class DomUtil {\r\n    private viewPortUtil: ViewportUtil;\r\n    public element: Element;\r\n    constructor(element: Element) {\r\n        this.element = element;\r\n        this.viewPortUtil = new ViewportUtil(this.element as HTMLElement);\r\n    }\r\n\r\n    public getDataAttr(attr: string, defaultvalue?: string): any {\r\n        if (!this.element) {\r\n            return null;\r\n        }\r\n        const value = this.element.getAttribute(`data-${attr}`);\r\n\r\n        return value !== undefined ? value : defaultvalue;\r\n    }\r\n\r\n    public setDataAttr(attr: string, value: string): any {\r\n        if (!this.element) {\r\n            return null;\r\n        }\r\n        return this.element.setAttribute(`data-${attr}`, value);\r\n    }\r\n\r\n    public getAttr(attr: string, defaultvalue?: string): any {\r\n        if (!this.element) {\r\n            return null;\r\n        }\r\n        const value = this.element.getAttribute(attr);\r\n        return value !== undefined ? value : defaultvalue;\r\n    }\r\n\r\n    public setAttr(attr: string, value: string): void {\r\n        if (!this.element) {\r\n            return null;\r\n        }\r\n        this.element.setAttribute(attr, value);\r\n    }\r\n\r\n    public removeAttr(attr: string): void {\r\n        if (!this.element) {\r\n            return null;\r\n        }\r\n        this.element.removeAttribute(attr);\r\n    }\r\n\r\n    public removeDataAttr(attr: string): void {\r\n        if (!this.element) {\r\n            return null;\r\n        }\r\n        this.element.removeAttribute(`data-${attr}`);\r\n    }\r\n\r\n    public hasAttr(attr: string): boolean {\r\n        if (!this.element) {\r\n            return null;\r\n        }\r\n        return this.element.hasAttribute(attr);\r\n    }\r\n\r\n    public shake(): void {\r\n        this.appendClass('shake');\r\n        setTimeout(() => {\r\n            this.removeClass('shake');\r\n            (this.element as HTMLInputElement).readOnly = false;\r\n        }, 600);\r\n    }\r\n\r\n    public error(): void {\r\n        this.appendClass('error');\r\n        setTimeout(() => {\r\n            this.removeClass('error');\r\n            (this.element as HTMLInputElement).readOnly = false;\r\n        }, 5000);\r\n    }\r\n\r\n    public focus(): void {\r\n        if (!this.viewPortUtil.IsVisible()) {\r\n            this.element.scrollIntoView();\r\n        }\r\n    }\r\n\r\n    public removeClass(classname): void {\r\n        this.element.classList.remove(classname);\r\n    }\r\n\r\n    public appendClass(classname): void {\r\n        this.element.classList.add(classname);\r\n    }\r\n\r\n    public deleteElement(): void {\r\n        if (!this.element) {\r\n            return null;\r\n        }\r\n        this.element.remove();\r\n    }\r\n\r\n    public setChildElementByAttrName(name: string, value: string): void {\r\n        const firstLetter = name.replace(/^\\w/, c => c.toUpperCase());\r\n        const SubElement = this.element.querySelector(\r\n            `[name=\"${firstLetter}\"]`,\r\n        ) as HTMLInputElement;\r\n        if (SubElement) {\r\n            SubElement.value = value;\r\n        }\r\n    }\r\n\r\n    public hasClass(className: string): boolean {\r\n        return this.element.classList.contains(className);\r\n    }\r\n\r\n    public getStyle(ruleName: string) {\r\n        return getComputedStyle(this.element)[ruleName];\r\n    }\r\n}\r\n","export default class MakeRequest {\r\n    method: string;\r\n    url: string;\r\n    headers: any;\r\n\r\n    constructor(url: string, method: string = 'get', headers: any = {}) {\r\n        this.method = method;\r\n        this.url = url;\r\n        this.headers = headers;\r\n    }\r\n\r\n    private setHeaders(httpRequest: XMLHttpRequest) {\r\n        for (const header in this.headers) {\r\n            httpRequest.setRequestHeader(header, this.headers[header]);\r\n        }\r\n    }\r\n\r\n    send(data: any = null) {\r\n        return new Promise((resolve, reject) => {\r\n            const xmlHttpRequest = new XMLHttpRequest();\r\n            xmlHttpRequest.open(this.method, this.url);\r\n            this.setHeaders(xmlHttpRequest);\r\n            xmlHttpRequest.onload = () => {\r\n                if (\r\n                    xmlHttpRequest.status >= 200 &&\r\n                    xmlHttpRequest.status < 300\r\n                ) {\r\n                    resolve(xmlHttpRequest.response);\r\n                } else {\r\n                    reject({\r\n                        status: xmlHttpRequest.status,\r\n                        statusText: xmlHttpRequest.statusText,\r\n                        body: xmlHttpRequest.response,\r\n                    });\r\n                }\r\n            };\r\n            xmlHttpRequest.onerror = () => {\r\n                reject({\r\n                    status: xmlHttpRequest.status,\r\n                    statusText: xmlHttpRequest.statusText,\r\n                    body: xmlHttpRequest.response,\r\n                });\r\n            };\r\n            xmlHttpRequest.send(data);\r\n        });\r\n    }\r\n}\r\n","export class StringUtil {\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    public static StringFormat(str: string, ...args: string[]) {\r\n        return str.replace(/{(\\d+)}/g, (match, index) => args[index] || '')\r\n    }\r\n}","export class ViewportUtil {\r\n    private element?: HTMLElement;\r\n    constructor(element: HTMLElement = null) {\r\n        this.element = element;\r\n    }\r\n\r\n    public IsVisible(): boolean {\r\n        const bounds = this.element.getBoundingClientRect();\r\n        return (\r\n            ((bounds.top > 0 && bounds.top < innerHeight) ||\r\n                (bounds.bottom > 0 && bounds.bottom < innerHeight)) &&\r\n            ((bounds.left > 0 && bounds.left < innerWidth) ||\r\n                (bounds.right > 0 && bounds.right < innerWidth))\r\n        );\r\n    }\r\n\r\n    public IsPartiallyVisible() {\r\n        const bounds = this.element.getBoundingClientRect();\r\n        return (\r\n            bounds.top >= 0 ||\r\n            bounds.left >= 0 ||\r\n            bounds.bottom <= innerHeight ||\r\n            bounds.right <= innerWidth\r\n        );\r\n    }\r\n\r\n    public IsOffsetVisible(offset: number = 300) {\r\n        const bounds = this.element.getBoundingClientRect();\r\n        // tslint:disable-next-line: max-line-length\r\n        return (\r\n            bounds.top + offset >= 0 ||\r\n            bounds.left + offset >= 0 ||\r\n            bounds.bottom - offset <= innerHeight ||\r\n            bounds.right - offset <= innerWidth\r\n        );\r\n    }\r\n\r\n    public WindowTop(offset: number = 0) {\r\n        const YOffset =\r\n            window.pageYOffset ||\r\n            document.documentElement.scrollTop ||\r\n            document.body.scrollTop ||\r\n            0;\r\n        return offset <= YOffset;\r\n    }\r\n}\r\n","import IValidation from '../IValidator.interface';\r\n\r\nexport default class BankAccountValidator implements IValidation {\r\n    isSatisfiedBy(input: string, allowEmpty: boolean = true): boolean {\r\n        return true;\r\n    }\r\n}\r\n","import IValidation from '../IValidator.interface';\r\n\r\nexport default class BankAccountRegistrationNumberValidator\r\n    implements IValidation {\r\n    isSatisfiedBy(input: string, allowEmpty: boolean = true): boolean {\r\n        return true;\r\n    }\r\n}\r\n","import IValidation from '../IValidator.interface';\r\n\r\nexport default class BankIdNorwayValidator implements IValidation {\r\n    isSatisfiedBy(input: string, allowEmpty: boolean = true): boolean {\r\n        return this.checkNoPersonnummer(input, allowEmpty);\r\n    }\r\n\r\n    private checkNoPersonnummer(\r\n        input: string,\r\n        allowEmpty: boolean = true,\r\n    ): boolean {\r\n        if (!input) {\r\n            return allowEmpty;\r\n        }\r\n        const personnummer: string = input.replace(' ', '').replace('-', '');\r\n        const regex: RegExp = new RegExp(\r\n            /^(0[1-9]|1[0-9]|2[0-9]|3[0-1])(0[1-9]|1[0-2])(\\d{2})(\\d{5})$/,\r\n        );\r\n        return regex.test(personnummer);\r\n    }\r\n}\r\n","import IValidation from '../IValidator.interface';\r\n\r\nexport default class BankIdSwedenValidator implements IValidation {\r\n    isSatisfiedBy(input: string, allowEmpty: boolean = true): boolean {\r\n        return this.checkSePersonnummer(input, allowEmpty);\r\n    }\r\n\r\n    private checkSePersonnummer(\r\n        input: string,\r\n        allowEmpty: boolean = true,\r\n    ): boolean {\r\n        if (!input) {\r\n            return allowEmpty;\r\n        }\r\n        const personnummer: string = input.replace(' ', '').replace('-', '');\r\n        const regex: RegExp = new RegExp(\r\n            /^(19\\d{2}|20\\d{2})(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])(\\d{4})$/,\r\n        );\r\n        return regex.test(personnummer);\r\n    }\r\n}\r\n","import IValidation from '../IValidator.interface';\r\n\r\nexport default class CprValidator implements IValidation {\r\n    isSatisfiedBy(input: string, allowEmpty: boolean = true): boolean {\r\n        return this.checkCpr(input, allowEmpty);\r\n    }\r\n    private modulus11Multiply(value: number, index: number): number {\r\n        const control: number[] = [4, 3, 2, 7, 6, 5, 4, 3, 2, 1];\r\n        return control[index] * value;\r\n    }\r\n\r\n    private modulus11Exceptions(input: string): boolean {\r\n        const exceptionDates: Date[] = [\r\n            1960,\r\n            1964,\r\n            1965,\r\n            1966,\r\n            1969,\r\n            1970,\r\n            1980,\r\n            1982,\r\n            1984,\r\n            1985,\r\n            1986,\r\n            1987,\r\n            1988,\r\n            1989,\r\n            1990,\r\n        ].map(x => new Date(x, 0, 1)); // months are 0-indexed\r\n\r\n        const cprDate: Date = this.getCprDate(input);\r\n\r\n        return exceptionDates.some(x => x.getDate() === cprDate.getDate());\r\n    }\r\n\r\n    private checkCprDate(input: string): boolean {\r\n        let year: number = +input.substr(4, 2) + 2000;\r\n        year -= year > new Date().getFullYear() ? 100 : 0; // is 20xx or 19xx\r\n        const month: number = +input.substr(2, 2) - 1;\r\n        const day: number = +input.substr(0, 2);\r\n        const date: Date = new Date(year, month, day);\r\n        return (\r\n            date.getFullYear() === year &&\r\n            date.getMonth() === month &&\r\n            date.getDate() === day\r\n        );\r\n    }\r\n\r\n    private getCprDate(input: string): Date {\r\n        let year: number = +input.substr(4, 2) + 2000;\r\n        year -= year > new Date().getFullYear() ? 100 : 0; // is 20xx or 19xx\r\n        const month: number = +input.substr(2, 2) - 1;\r\n        const day: number = +input.substr(0, 2);\r\n        return new Date(year, month, day);\r\n    }\r\n\r\n    private checkCpr(input: string, allowEmpty: boolean = true): boolean {\r\n        if (!input) {\r\n            return allowEmpty;\r\n        }\r\n        const cprnr: string = input.replace(' ', '').replace('-', '');\r\n        if (!cprnr.match(/^\\d{10}$/)) {\r\n            return false;\r\n        }\r\n        if (!this.checkCprDate(cprnr)) {\r\n            return false;\r\n        }\r\n        if (this.modulus11Exceptions(cprnr)) {\r\n            return true;\r\n        }\r\n\r\n        let output: number = 0;\r\n        for (let i: number = 0; i < 10; i++) {\r\n            output += this.modulus11Multiply(\r\n                parseInt(cprnr.substr(i, 1), 10),\r\n                i,\r\n            );\r\n        }\r\n\r\n        return output % 11 === 0; // hvis output går op i 11, er det et gyldigt cpr.\r\n    }\r\n}\r\n","import IValidation from '../IValidator.interface';\r\n\r\nexport default class CvrValidator implements IValidation {\r\n    isSatisfiedBy(input: string, allowEmpty: boolean = true): boolean {\r\n        return this.checkCvr(input, allowEmpty);\r\n    }\r\n\r\n    private checkCvr(input: string, allowEmpty: boolean = true): boolean {\r\n        if (!allowEmpty && !input) return false;\r\n        const cvrnr: string = input.replace(' ', '').replace('-', '');\r\n        if (!cvrnr) {\r\n            return allowEmpty;\r\n        }\r\n        if (!/^\\d{8}$/.test(cvrnr)) {\r\n            return false;\r\n        }\r\n\r\n        // cvr numre kan åbenbart også modulus11 testes.\r\n        let total: number = 0;\r\n\r\n        [2, 7, 6, 5, 4, 3, 2, 1].forEach((elm, index) => {\r\n            total += parseInt(cvrnr[index], 10) * elm;\r\n        });\r\n\r\n        return total % 11 === 0;\r\n    }\r\n}\r\n","class elementConfig {\r\n    selector: string;\r\n    template: string;\r\n    style: string;\r\n    useShadow: boolean;\r\n    templatePath?: string;\r\n}\r\n\r\nconst validateSelector = (selector: string) => {\r\n    if (selector.indexOf('-') <= 0) {\r\n        throw new Error('You need at least 1 dash in the custom element name!');\r\n    }\r\n};\r\n\r\nconst CustomElement = (config: elementConfig) => {\r\n    return (cls: any) => {\r\n        validateSelector(config.selector);\r\n        let templateElement = document.createElement('template');\r\n        if (!config.template) {\r\n            throw new Error('You need to pass a template for the element');\r\n        }\r\n        templateElement.innerHTML = `<style>${config.style}</style> ${\r\n            config.template\r\n        }`;\r\n        let connectedCallback =\r\n            cls.prototype.connectedCallback || function() {};\r\n        cls.prototype.connectedCallback = function() {\r\n            let clone = document.importNode(templateElement.content, true);\r\n            if (config.useShadow) {\r\n                this.attachShadow({ mode: 'open' }).appendChild(clone);\r\n            } else {\r\n                this.appendChild(clone);\r\n            }\r\n            connectedCallback.call(this);\r\n        };\r\n        window.customElements.define(config.selector, cls);\r\n    };\r\n};\r\n\r\nexport default CustomElement;\r\n","import 'js-polyfills';\r\nimport '@webcomponents/webcomponentsjs/webcomponents-bundle';\r\nimport '@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js';\r\nimport '@webcomponents/webcomponentsjs/webcomponents-loader.js';\r\n\r\n// form\r\nimport { CustomForm } from './custom-form';\r\nimport { CustomInputElement } from './framework/CustomInputElement';\r\n\r\n// elements\r\nimport * as elements from './elements/Elements';\r\n\r\nexport { CustomForm, elements, CustomInputElement };\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZW1vL2luZGV4LnRzIiwibm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3dlYmNvbXBvbmVudHNqcy9jdXN0b20tZWxlbWVudHMtZXM1LWFkYXB0ZXIuanMiLCJub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzL3dlYmNvbXBvbmVudHMtYnVuZGxlLmpzIiwibm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3dlYmNvbXBvbmVudHNqcy93ZWJjb21wb25lbnRzLWxvYWRlci5qcyIsIm5vZGVfbW9kdWxlcy9pbnRsLXRlbC1pbnB1dC9idWlsZC9qcy9pbnRsVGVsSW5wdXQuanMiLCJub2RlX21vZHVsZXMvaW50bC10ZWwtaW5wdXQvaW5kZXguanMiLCJub2RlX21vZHVsZXMvanMtcG9seWZpbGxzL3BvbHlmaWxsLmpzIiwibm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzIiwic3JjL2N1c3RvbS1mb3JtLnRzIiwic3JjL2VsZW1lbnRzL0FkZHJlc3MvQWRkcmVzc0VsZW1lbnQudHMiLCJzcmMvZWxlbWVudHMvQmFua0ZpZWxkL0JhbmtGaWVsZEVsZW1lbnQudHMiLCJzcmMvZWxlbWVudHMvQ1BSRWxlbWVudC9DUFJFbGVtZW50LnRzIiwic3JjL2VsZW1lbnRzL0NWUkVsZW1lbnQvQ1ZSRWxlbWVudC50cyIsInNyYy9lbGVtZW50cy9DaGVja0JveEVsZW1lbnQvQ2hlY2tCb3hFbGVtZW50LnRzIiwic3JjL2VsZW1lbnRzL0N1c3RvbVJlZ3VsYXJFeHByZXNzaW9uL0N1c3RvbVJlZ3VsYXJFeHByZXNzaW9uRWxlbWVudC50cyIsInNyYy9lbGVtZW50cy9EYXRlRmllbGQvRGF0ZUZpZWxkRWxlbWVudC50cyIsInNyYy9lbGVtZW50cy9Ecm9wRG93bkxpc3QvRHJvcERvd25MaXN0RWxlbWVudC50cyIsInNyYy9lbGVtZW50cy9FbGVtZW50cy50cyIsInNyYy9lbGVtZW50cy9FbWFpbEZpZWxkL0VtYWlsRmllbGRFbGVtZW50LnRzIiwic3JjL2VsZW1lbnRzL0ZpbGVGaWVsZC9GaWxlRmllbGRFbGVtZW50LnRzIiwic3JjL2VsZW1lbnRzL0lkZW50aWZpY2F0aW9uRWxlbWVudC9JZGVudGlmaWNhdGlvbkVsZW1lbnQudHMiLCJzcmMvZWxlbWVudHMvSW50ZXJuYXRpb25hUGhvbmVOdW1iZXIvSW50ZXJuYXRpb25hUGhvbmVOdW1iZXJFbGVtZW50LnRzIiwic3JjL2VsZW1lbnRzL051bWVyaWNGaWVsZC9OdW1lcmljRmllbGRFbGVtZW50LnRzIiwic3JjL2VsZW1lbnRzL1JhZGlvQnV0dG9uR3JvdXAvUmFkaW9CdXR0b25Hcm91cEVsZW1lbnQudHMiLCJzcmMvZWxlbWVudHMvVGV4dEFyZWFFbGVtZW50L1RleHRBcmVhRWxlbWVudC50cyIsInNyYy9lbGVtZW50cy9UZXh0RmllbGQvVGV4dEZpZWxkRWxlbWVudC50cyIsInNyYy9mcmFtZXdvcmsvQ3VzdG9tRXZlbnRzLnRzIiwic3JjL2ZyYW1ld29yay9DdXN0b21JbnB1dEVsZW1lbnQudHMiLCJzcmMvZnJhbWV3b3JrL1V0aWxpdGllcy9BcnJheVV0aWwudHMiLCJzcmMvZnJhbWV3b3JrL1V0aWxpdGllcy9Eb21VdGlsLnRzIiwic3JjL2ZyYW1ld29yay9VdGlsaXRpZXMvTWFrZVJlcXVlc3QudHMiLCJzcmMvZnJhbWV3b3JrL1V0aWxpdGllcy9TdHJpbmdVdGlsLnRzIiwic3JjL2ZyYW1ld29yay9VdGlsaXRpZXMvVmlld3BvcnRVdGlsLnRzIiwic3JjL2ZyYW1ld29yay9WYWxpZGF0aW9uL1ZhbGlkYXRvcnMvQmFua0FjY291bnQudHMiLCJzcmMvZnJhbWV3b3JrL1ZhbGlkYXRpb24vVmFsaWRhdG9ycy9CYW5rQWNjb3VudFJlZ2lzdHJhdGlvbk51bWJlci50cyIsInNyYy9mcmFtZXdvcmsvVmFsaWRhdGlvbi9WYWxpZGF0b3JzL0JhbmtJZE5vcndheS50cyIsInNyYy9mcmFtZXdvcmsvVmFsaWRhdGlvbi9WYWxpZGF0b3JzL0JhbmtJZFN3ZWRlbi50cyIsInNyYy9mcmFtZXdvcmsvVmFsaWRhdGlvbi9WYWxpZGF0b3JzL0NQUi50cyIsInNyYy9mcmFtZXdvcmsvVmFsaWRhdGlvbi9WYWxpZGF0b3JzL0NWUi50cyIsInNyYy9mcmFtZXdvcmsvY3VzdG9tLWVsZW1lbnQuZGVjb3JhdG9yLnRzIiwic3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSx3Q0FBc0Q7QUFFdEQsUUFBUSxDQUFDLGtCQUFrQixHQUFHO0lBQzFCLElBQUksUUFBUSxDQUFDLFVBQVUsS0FBSyxVQUFVLEVBQUU7UUFDcEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxrQkFBVSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsUUFBUSxHQUFHLFVBQUEsT0FBTztZQUNuQixPQUFPLENBQUMsSUFBSSxDQUFDLFVBQUEsUUFBUSxJQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ2pDLENBQUMsQ0FBQztLQUNMO0FBQ0wsQ0FBQyxDQUFDOztBQ1RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUMvUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN3lDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNzFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN4TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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c0I7QUFIakQsV0FBVztBQUNYLDhDQUFnRDtBQUUzQiw0QkFBUSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCB7IEN1c3RvbUZvcm0sIGVsZW1lbnRzIH0gZnJvbSAnLi8uLi9zcmMvaW5kZXgnO1xyXG5cclxuZG9jdW1lbnQub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcclxuICAgICAgICBsZXQgZm9ybSA9IG5ldyBDdXN0b21Gb3JtKGRvY3VtZW50LmZvcm1zWzBdKTtcclxuICAgICAgICBmb3JtLm9uc3VibWl0ID0gcHJvbWlzZSA9PiB7XHJcbiAgICAgICAgICAgIHByb21pc2UudGhlbihyZXNwb25zZSA9PiB7fSk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufTtcclxuIiwiLyoqXG5AbGljZW5zZSBAbm9jb21waWxlXG5Db3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIChmdW5jdGlvbigpe2lmKHZvaWQgMD09PXdpbmRvdy5SZWZsZWN0fHx2b2lkIDA9PT13aW5kb3cuY3VzdG9tRWxlbWVudHN8fHdpbmRvdy5jdXN0b21FbGVtZW50cy5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrKXJldHVybjtjb25zdCBhPUhUTUxFbGVtZW50O3dpbmRvdy5IVE1MRWxlbWVudD1mdW5jdGlvbiBIVE1MRWxlbWVudCgpe3JldHVybiBSZWZsZWN0LmNvbnN0cnVjdChhLFtdLHRoaXMuY29uc3RydWN0b3IpfSxIVE1MRWxlbWVudC5wcm90b3R5cGU9YS5wcm90b3R5cGUsSFRNTEVsZW1lbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPUhUTUxFbGVtZW50LE9iamVjdC5zZXRQcm90b3R5cGVPZihIVE1MRWxlbWVudCxhKTt9KSgpO1xuXG59KCkpO1xuIiwiLyoqXG5AbGljZW5zZSBAbm9jb21waWxlXG5Db3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuKGZ1bmN0aW9uKCl7LypcblxuIENvcHlyaWdodCAoYykgMjAxNiBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbid1c2Ugc3RyaWN0Jzt2YXIgcix0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdz09PXRoaXM/dGhpczpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsJiZudWxsIT1nbG9iYWw/Z2xvYmFsOnRoaXMsY2E9XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnRpZXM/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGEsYixjKXthIT1BcnJheS5wcm90b3R5cGUmJmEhPU9iamVjdC5wcm90b3R5cGUmJihhW2JdPWMudmFsdWUpfTtmdW5jdGlvbiBkYSgpe2RhPWZ1bmN0aW9uKCl7fTt0LlN5bWJvbHx8KHQuU3ltYm9sPWVhKX12YXIgZWE9ZnVuY3Rpb24oKXt2YXIgYT0wO3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm5cImpzY29tcF9zeW1ib2xfXCIrKGJ8fFwiXCIpK2ErK319KCk7XG5mdW5jdGlvbiBmYSgpe2RhKCk7dmFyIGE9dC5TeW1ib2wuaXRlcmF0b3I7YXx8KGE9dC5TeW1ib2wuaXRlcmF0b3I9dC5TeW1ib2woXCJpdGVyYXRvclwiKSk7XCJmdW5jdGlvblwiIT10eXBlb2YgQXJyYXkucHJvdG90eXBlW2FdJiZjYShBcnJheS5wcm90b3R5cGUsYSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGhhKHRoaXMpfX0pO2ZhPWZ1bmN0aW9uKCl7fX1mdW5jdGlvbiBoYShhKXt2YXIgYj0wO3JldHVybiBpYShmdW5jdGlvbigpe3JldHVybiBiPGEubGVuZ3RoP3tkb25lOiExLHZhbHVlOmFbYisrXX06e2RvbmU6ITB9fSl9ZnVuY3Rpb24gaWEoYSl7ZmEoKTthPXtuZXh0OmF9O2FbdC5TeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3JldHVybiBhfWZ1bmN0aW9uIGphKGEpe2ZhKCk7dmFyIGI9YVtTeW1ib2wuaXRlcmF0b3JdO3JldHVybiBiP2IuY2FsbChhKTpoYShhKX1cbmZ1bmN0aW9uIGthKGEpe2Zvcih2YXIgYixjPVtdOyEoYj1hLm5leHQoKSkuZG9uZTspYy5wdXNoKGIudmFsdWUpO3JldHVybiBjfXZhciBsYTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3Quc2V0UHJvdG90eXBlT2YpbGE9T2JqZWN0LnNldFByb3RvdHlwZU9mO2Vsc2V7dmFyIG1hO2E6e3ZhciBuYT17R2E6ITB9LG9hPXt9O3RyeXtvYS5fX3Byb3RvX189bmE7bWE9b2EuR2E7YnJlYWsgYX1jYXRjaChhKXt9bWE9ITF9bGE9bWE/ZnVuY3Rpb24oYSxiKXthLl9fcHJvdG9fXz1iO2lmKGEuX19wcm90b19fIT09Yil0aHJvdyBuZXcgVHlwZUVycm9yKGErXCIgaXMgbm90IGV4dGVuc2libGVcIik7cmV0dXJuIGF9Om51bGx9dmFyIHBhPWxhO2Z1bmN0aW9uIHFhKCl7dGhpcy5mPSExO3RoaXMuYj1udWxsO3RoaXMuYWE9dm9pZCAwO3RoaXMuYT0xO3RoaXMuRj0wO3RoaXMuYz1udWxsfVxuZnVuY3Rpb24gcmEoYSl7aWYoYS5mKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2EuZj0hMH1xYS5wcm90b3R5cGUudT1mdW5jdGlvbihhKXt0aGlzLmFhPWF9O2Z1bmN0aW9uIHNhKGEsYil7YS5jPXtKYTpiLE5hOiEwfTthLmE9YS5GfXFhLnByb3RvdHlwZS5yZXR1cm49ZnVuY3Rpb24oYSl7dGhpcy5jPXtyZXR1cm46YX07dGhpcy5hPXRoaXMuRn07ZnVuY3Rpb24gdGEoYSxiKXthLmE9MztyZXR1cm57dmFsdWU6Yn19ZnVuY3Rpb24gdWEoYSl7dGhpcy5hPW5ldyBxYTt0aGlzLmI9YX1mdW5jdGlvbiB2YShhLGIpe3JhKGEuYSk7dmFyIGM9YS5hLmI7aWYoYylyZXR1cm4gd2EoYSxcInJldHVyblwiaW4gYz9jW1wicmV0dXJuXCJdOmZ1bmN0aW9uKGEpe3JldHVybnt2YWx1ZTphLGRvbmU6ITB9fSxiLGEuYS5yZXR1cm4pO2EuYS5yZXR1cm4oYik7cmV0dXJuIHhhKGEpfVxuZnVuY3Rpb24gd2EoYSxiLGMsZCl7dHJ5e3ZhciBlPWIuY2FsbChhLmEuYixjKTtpZighKGUgaW5zdGFuY2VvZiBPYmplY3QpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJdGVyYXRvciByZXN1bHQgXCIrZStcIiBpcyBub3QgYW4gb2JqZWN0XCIpO2lmKCFlLmRvbmUpcmV0dXJuIGEuYS5mPSExLGU7dmFyIGY9ZS52YWx1ZX1jYXRjaChnKXtyZXR1cm4gYS5hLmI9bnVsbCxzYShhLmEsZykseGEoYSl9YS5hLmI9bnVsbDtkLmNhbGwoYS5hLGYpO3JldHVybiB4YShhKX1mdW5jdGlvbiB4YShhKXtmb3IoO2EuYS5hOyl0cnl7dmFyIGI9YS5iKGEuYSk7aWYoYilyZXR1cm4gYS5hLmY9ITEse3ZhbHVlOmIudmFsdWUsZG9uZTohMX19Y2F0Y2goYyl7YS5hLmFhPXZvaWQgMCxzYShhLmEsYyl9YS5hLmY9ITE7aWYoYS5hLmMpe2I9YS5hLmM7YS5hLmM9bnVsbDtpZihiLk5hKXRocm93IGIuSmE7cmV0dXJue3ZhbHVlOmIucmV0dXJuLGRvbmU6ITB9fXJldHVybnt2YWx1ZTp2b2lkIDAsZG9uZTohMH19XG5mdW5jdGlvbiB5YShhKXt0aGlzLm5leHQ9ZnVuY3Rpb24oYil7cmEoYS5hKTthLmEuYj9iPXdhKGEsYS5hLmIubmV4dCxiLGEuYS51KTooYS5hLnUoYiksYj14YShhKSk7cmV0dXJuIGJ9O3RoaXMudGhyb3c9ZnVuY3Rpb24oYil7cmEoYS5hKTthLmEuYj9iPXdhKGEsYS5hLmJbXCJ0aHJvd1wiXSxiLGEuYS51KTooc2EoYS5hLGIpLGI9eGEoYSkpO3JldHVybiBifTt0aGlzLnJldHVybj1mdW5jdGlvbihiKXtyZXR1cm4gdmEoYSxiKX07ZmEoKTt0aGlzW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319ZnVuY3Rpb24gQmEoYSxiKXtiPW5ldyB5YShuZXcgdWEoYikpO3BhJiZwYShiLGEucHJvdG90eXBlKTtyZXR1cm4gYn1cbihmdW5jdGlvbigpe2lmKCFmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7YS5pbml0RXZlbnQoXCJmb29cIiwhMCwhMCk7YS5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBhLmRlZmF1bHRQcmV2ZW50ZWR9KCkpe3ZhciBhPUV2ZW50LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdDtFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbGFibGUmJihhLmNhbGwodGhpcyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJkZWZhdWx0UHJldmVudGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiEwfSxjb25maWd1cmFibGU6ITB9KSl9fXZhciBiPS9UcmlkZW50Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO2lmKCF3aW5kb3cuRXZlbnR8fGImJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiB3aW5kb3cuRXZlbnQpe3ZhciBjPXdpbmRvdy5FdmVudDt3aW5kb3cuRXZlbnQ9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7XG5jLmluaXRFdmVudChhLCEhYi5idWJibGVzLCEhYi5jYW5jZWxhYmxlKTtyZXR1cm4gY307aWYoYyl7Zm9yKHZhciBkIGluIGMpd2luZG93LkV2ZW50W2RdPWNbZF07d2luZG93LkV2ZW50LnByb3RvdHlwZT1jLnByb3RvdHlwZX19aWYoIXdpbmRvdy5DdXN0b21FdmVudHx8YiYmXCJmdW5jdGlvblwiIT09dHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCl3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7Yy5pbml0Q3VzdG9tRXZlbnQoYSwhIWIuYnViYmxlcywhIWIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LHdpbmRvdy5DdXN0b21FdmVudC5wcm90b3R5cGU9d2luZG93LkV2ZW50LnByb3RvdHlwZTtpZighd2luZG93Lk1vdXNlRXZlbnR8fGImJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiB3aW5kb3cuTW91c2VFdmVudCl7Yj13aW5kb3cuTW91c2VFdmVudDt3aW5kb3cuTW91c2VFdmVudD1cbmZ1bmN0aW9uKGEsYil7Yj1ifHx7fTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRcIik7Yy5pbml0TW91c2VFdmVudChhLCEhYi5idWJibGVzLCEhYi5jYW5jZWxhYmxlLGIudmlld3x8d2luZG93LGIuZGV0YWlsLGIuc2NyZWVuWCxiLnNjcmVlblksYi5jbGllbnRYLGIuY2xpZW50WSxiLmN0cmxLZXksYi5hbHRLZXksYi5zaGlmdEtleSxiLm1ldGFLZXksYi5idXR0b24sYi5yZWxhdGVkVGFyZ2V0KTtyZXR1cm4gY307aWYoYilmb3IoZCBpbiBiKXdpbmRvdy5Nb3VzZUV2ZW50W2RdPWJbZF07d2luZG93Lk1vdXNlRXZlbnQucHJvdG90eXBlPWIucHJvdG90eXBlfUFycmF5LmZyb218fChBcnJheS5mcm9tPWZ1bmN0aW9uKGEpe3JldHVybltdLnNsaWNlLmNhbGwoYSl9KTtPYmplY3QuYXNzaWdufHwoT2JqZWN0LmFzc2lnbj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxkPTAsZTtkPGMubGVuZ3RoO2QrKylpZihlPWNbZF0pZm9yKHZhciBmPVxuYSxuPWUscT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhuKSxJPTA7STxxLmxlbmd0aDtJKyspZT1xW0ldLGZbZV09bltlXTtyZXR1cm4gYX0pfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fWZ1bmN0aW9uIGIoYSxiKXtpZighYS5jaGlsZE5vZGVzLmxlbmd0aClyZXR1cm5bXTtzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSBOb2RlLkRPQ1VNRU5UX05PREU6cmV0dXJuIFEuY2FsbChhLGIpO2Nhc2UgTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFOnJldHVybiBFYi5jYWxsKGEsYik7ZGVmYXVsdDpyZXR1cm4geC5jYWxsKGEsYil9fXZhciBjPVwidW5kZWZpbmVkXCI9PT10eXBlb2YgSFRNTFRlbXBsYXRlRWxlbWVudCxkPSEoZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLmNsb25lTm9kZSgpaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KSxlPSExOy9UcmlkZW50Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiZmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtpZihhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudClmb3IodmFyIGQ7ZD1hLmZpcnN0Q2hpbGQ7KWMuY2FsbCh0aGlzLGQsYik7ZWxzZSBjLmNhbGwodGhpcyxcbmEsYik7cmV0dXJuIGF9ZT0hMDt2YXIgYj1Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGU7Tm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlPWZ1bmN0aW9uKGEpe2E9Yi5jYWxsKHRoaXMsYSk7dGhpcyBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQmJihhLl9fcHJvdG9fXz1Eb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSk7cmV0dXJuIGF9O0RvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGw9SFRNTEVsZW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGw7RG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3Rvcj1IVE1MRWxlbWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvcjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhEb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSx7bm9kZVR5cGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREV9LGNvbmZpZ3VyYWJsZTohMH0sbG9jYWxOYW1lOntnZXQ6ZnVuY3Rpb24oKXt9LFxuY29uZmlndXJhYmxlOiEwfSxub2RlTmFtZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCIjZG9jdW1lbnQtZnJhZ21lbnRcIn0sY29uZmlndXJhYmxlOiEwfX0pO3ZhciBjPU5vZGUucHJvdG90eXBlLmluc2VydEJlZm9yZTtOb2RlLnByb3RvdHlwZS5pbnNlcnRCZWZvcmU9YTt2YXIgZD1Ob2RlLnByb3RvdHlwZS5hcHBlbmRDaGlsZDtOb2RlLnByb3RvdHlwZS5hcHBlbmRDaGlsZD1mdW5jdGlvbihiKXtiIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudD9hLmNhbGwodGhpcyxiLG51bGwpOmQuY2FsbCh0aGlzLGIpO3JldHVybiBifTt2YXIgZj1Ob2RlLnByb3RvdHlwZS5yZW1vdmVDaGlsZCxnPU5vZGUucHJvdG90eXBlLnJlcGxhY2VDaGlsZDtOb2RlLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQ9ZnVuY3Rpb24oYixjKXtiIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudD8oYS5jYWxsKHRoaXMsYixjKSxmLmNhbGwodGhpcyxjKSk6Zy5jYWxsKHRoaXMsYixjKTtyZXR1cm4gY307RG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQ9XG5mdW5jdGlvbigpe3ZhciBhPXRoaXMuY3JlYXRlRWxlbWVudChcImRmXCIpO2EuX19wcm90b19fPURvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlO3JldHVybiBhfTt2YXIgaD1Eb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZTtEb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZT1mdW5jdGlvbihhLGIpe2I9aC5jYWxsKHRoaXMsYSxifHwhMSk7YSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQmJihiLl9fcHJvdG9fXz1Eb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSk7cmV0dXJuIGJ9fSgpO3ZhciBmPU5vZGUucHJvdG90eXBlLmNsb25lTm9kZSxnPURvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50LGg9RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGUsaz1Ob2RlLnByb3RvdHlwZS5yZW1vdmVDaGlsZCxsPU5vZGUucHJvdG90eXBlLmFwcGVuZENoaWxkLG49Tm9kZS5wcm90b3R5cGUucmVwbGFjZUNoaWxkLHE9RE9NUGFyc2VyLnByb3RvdHlwZS5wYXJzZUZyb21TdHJpbmcsXG5JPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iod2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZSxcImlubmVySFRNTFwiKXx8e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlubmVySFRNTH0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuaW5uZXJIVE1MPWF9fSx2PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iod2luZG93Lk5vZGUucHJvdG90eXBlLFwiY2hpbGROb2Rlc1wiKXx8e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkTm9kZXN9fSx4PUVsZW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGwsUT1Eb2N1bWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCxFYj1Eb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsLEZiPWZ1bmN0aW9uKCl7aWYoIWMpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKSxiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtiLmNvbnRlbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG5hLmNvbnRlbnQuYXBwZW5kQ2hpbGQoYik7YT1hLmNsb25lTm9kZSghMCk7cmV0dXJuIDA9PT1hLmNvbnRlbnQuY2hpbGROb2Rlcy5sZW5ndGh8fDA9PT1hLmNvbnRlbnQuZmlyc3RDaGlsZC5jb250ZW50LmNoaWxkTm9kZXMubGVuZ3RofHxkfX0oKTtpZihjKXt2YXIgVD1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJ0ZW1wbGF0ZVwiKSxKYT0hMCxwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtwLnRleHRDb250ZW50PVwidGVtcGxhdGV7ZGlzcGxheTpub25lO31cIjt2YXIgemE9ZG9jdW1lbnQuaGVhZDt6YS5pbnNlcnRCZWZvcmUocCx6YS5maXJzdEVsZW1lbnRDaGlsZCk7YS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShIVE1MRWxlbWVudC5wcm90b3R5cGUpO3ZhciBhYT0hZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5oYXNPd25Qcm9wZXJ0eShcImlubmVySFRNTFwiKTthLlM9ZnVuY3Rpb24oYil7aWYoIWIuY29udGVudCYmYi5uYW1lc3BhY2VVUkk9PT1cbmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5uYW1lc3BhY2VVUkkpe2IuY29udGVudD1ULmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3IodmFyIGM7Yz1iLmZpcnN0Q2hpbGQ7KWwuY2FsbChiLmNvbnRlbnQsYyk7aWYoYWEpYi5fX3Byb3RvX189YS5wcm90b3R5cGU7ZWxzZSBpZihiLmNsb25lTm9kZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5iKHRoaXMsYil9LEphKXRyeXttKGIpLHkoYil9Y2F0Y2godmgpe0phPSExfWEuYShiLmNvbnRlbnQpfX07dmFyIFg9e29wdGlvbjpbXCJzZWxlY3RcIl0sdGhlYWQ6W1widGFibGVcIl0sY29sOltcImNvbGdyb3VwXCIsXCJ0YWJsZVwiXSx0cjpbXCJ0Ym9keVwiLFwidGFibGVcIl0sdGg6W1widHJcIixcInRib2R5XCIsXCJ0YWJsZVwiXSx0ZDpbXCJ0clwiLFwidGJvZHlcIixcInRhYmxlXCJdfSxtPWZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLFwiaW5uZXJIVE1MXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBiYSh0aGlzKX0sc2V0OmZ1bmN0aW9uKGIpe3ZhciBjPVhbKC88KFthLXpdW14vXFwwPlxceDIwXFx0XFxyXFxuXFxmXSspL2kuZXhlYyhiKXx8XG5bXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKV07aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyliPVwiPFwiK2NbZF0rXCI+XCIrYitcIjwvXCIrY1tkXStcIj5cIjtULmJvZHkuaW5uZXJIVE1MPWI7Zm9yKGEuYShUKTt0aGlzLmNvbnRlbnQuZmlyc3RDaGlsZDspay5jYWxsKHRoaXMuY29udGVudCx0aGlzLmNvbnRlbnQuZmlyc3RDaGlsZCk7Yj1ULmJvZHk7aWYoYylmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKWI9Yi5sYXN0Q2hpbGQ7Zm9yKDtiLmZpcnN0Q2hpbGQ7KWwuY2FsbCh0aGlzLmNvbnRlbnQsYi5maXJzdENoaWxkKX0sY29uZmlndXJhYmxlOiEwfSl9LHk9ZnVuY3Rpb24oYSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJvdXRlckhUTUxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCI8dGVtcGxhdGU+XCIrdGhpcy5pbm5lckhUTUwrXCI8L3RlbXBsYXRlPlwifSxzZXQ6ZnVuY3Rpb24oYSl7aWYodGhpcy5wYXJlbnROb2RlKXtULmJvZHkuaW5uZXJIVE1MPWE7Zm9yKGE9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtULmJvZHkuZmlyc3RDaGlsZDspbC5jYWxsKGEsXG5ULmJvZHkuZmlyc3RDaGlsZCk7bi5jYWxsKHRoaXMucGFyZW50Tm9kZSxhLHRoaXMpfWVsc2UgdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gc2V0IHRoZSAnb3V0ZXJIVE1MJyBwcm9wZXJ0eSBvbiAnRWxlbWVudCc6IFRoaXMgZWxlbWVudCBoYXMgbm8gcGFyZW50IG5vZGUuXCIpO30sY29uZmlndXJhYmxlOiEwfSl9O20oYS5wcm90b3R5cGUpO3koYS5wcm90b3R5cGUpO2EuYT1mdW5jdGlvbihjKXtjPWIoYyxcInRlbXBsYXRlXCIpO2Zvcih2YXIgZD0wLGU9Yy5sZW5ndGgsZjtkPGUmJihmPWNbZF0pO2QrKylhLlMoZil9O2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsZnVuY3Rpb24oKXthLmEoZG9jdW1lbnQpfSk7RG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYj1nLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcInRlbXBsYXRlXCI9PT1iLmxvY2FsTmFtZSYmYS5TKGIpO3JldHVybiBifTtET01QYXJzZXIucHJvdG90eXBlLnBhcnNlRnJvbVN0cmluZz1cbmZ1bmN0aW9uKCl7dmFyIGI9cS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5hKGIpO3JldHVybiBifTtPYmplY3QuZGVmaW5lUHJvcGVydHkoSFRNTEVsZW1lbnQucHJvdG90eXBlLFwiaW5uZXJIVE1MXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBiYSh0aGlzKX0sc2V0OmZ1bmN0aW9uKGIpe0kuc2V0LmNhbGwodGhpcyxiKTthLmEodGhpcyl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSk7dmFyIFk9L1smXFx1MDBBMFwiXS9nLEdiPS9bJlxcdTAwQTA8Pl0vZyxLYT1mdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSBcIiZcIjpyZXR1cm5cIiZhbXA7XCI7Y2FzZSBcIjxcIjpyZXR1cm5cIiZsdDtcIjtjYXNlIFwiPlwiOnJldHVyblwiJmd0O1wiO2Nhc2UgJ1wiJzpyZXR1cm5cIiZxdW90O1wiO2Nhc2UgXCJcXHUwMGEwXCI6cmV0dXJuXCImbmJzcDtcIn19O3A9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXt9LGM9MDtjPGEubGVuZ3RoO2MrKyliW2FbY11dPSEwO3JldHVybiBifTt2YXIgQWE9cChcImFyZWEgYmFzZSBiciBjb2wgY29tbWFuZCBlbWJlZCBociBpbWcgaW5wdXQga2V5Z2VuIGxpbmsgbWV0YSBwYXJhbSBzb3VyY2UgdHJhY2sgd2JyXCIuc3BsaXQoXCIgXCIpKSxcbkxhPXAoXCJzdHlsZSBzY3JpcHQgeG1wIGlmcmFtZSBub2VtYmVkIG5vZnJhbWVzIHBsYWludGV4dCBub3NjcmlwdFwiLnNwbGl0KFwiIFwiKSksYmE9ZnVuY3Rpb24oYSxiKXtcInRlbXBsYXRlXCI9PT1hLmxvY2FsTmFtZSYmKGE9YS5jb250ZW50KTtmb3IodmFyIGM9XCJcIixkPWI/YihhKTp2LmdldC5jYWxsKGEpLGU9MCxmPWQubGVuZ3RoLGc7ZTxmJiYoZz1kW2VdKTtlKyspe2E6e3ZhciBoPWc7dmFyIGs9YTt2YXIgbD1iO3N3aXRjaChoLm5vZGVUeXBlKXtjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOmZvcih2YXIgbj1oLmxvY2FsTmFtZSxtPVwiPFwiK24scT1oLmF0dHJpYnV0ZXMseD0wO2s9cVt4XTt4KyspbSs9XCIgXCIray5uYW1lKyc9XCInK2sudmFsdWUucmVwbGFjZShZLEthKSsnXCInO20rPVwiPlwiO2g9QWFbbl0/bTptK2JhKGgsbCkrXCI8L1wiK24rXCI+XCI7YnJlYWsgYTtjYXNlIE5vZGUuVEVYVF9OT0RFOmg9aC5kYXRhO2g9ayYmTGFbay5sb2NhbE5hbWVdP2g6aC5yZXBsYWNlKEdiLEthKTticmVhayBhO1xuY2FzZSBOb2RlLkNPTU1FTlRfTk9ERTpoPVwiXFx4M2MhLS1cIitoLmRhdGErXCItLVxceDNlXCI7YnJlYWsgYTtkZWZhdWx0OnRocm93IHdpbmRvdy5jb25zb2xlLmVycm9yKGgpLEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpO319Yys9aH1yZXR1cm4gY319aWYoY3x8RmIpe2EuYj1mdW5jdGlvbihhLGIpe3ZhciBjPWYuY2FsbChhLCExKTt0aGlzLlMmJnRoaXMuUyhjKTtiJiYobC5jYWxsKGMuY29udGVudCxmLmNhbGwoYS5jb250ZW50LCEwKSksTWEoYy5jb250ZW50LGEuY29udGVudCkpO3JldHVybiBjfTt2YXIgTWE9ZnVuY3Rpb24oYyxkKXtpZihkLnF1ZXJ5U2VsZWN0b3JBbGwmJihkPWIoZCxcInRlbXBsYXRlXCIpLDAhPT1kLmxlbmd0aCkpe2M9YihjLFwidGVtcGxhdGVcIik7Zm9yKHZhciBlPTAsZj1jLmxlbmd0aCxnLGg7ZTxmO2UrKyloPWRbZV0sZz1jW2VdLGEmJmEuUyYmYS5TKGgpLG4uY2FsbChnLnBhcmVudE5vZGUsc2YuY2FsbChoLCEwKSxnKX19LHNmPU5vZGUucHJvdG90eXBlLmNsb25lTm9kZT1cbmZ1bmN0aW9uKGIpe2lmKCFlJiZkJiZ0aGlzIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudClpZihiKXZhciBjPXRmLmNhbGwodGhpcy5vd25lckRvY3VtZW50LHRoaXMsITApO2Vsc2UgcmV0dXJuIHRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7ZWxzZSB0aGlzLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJlwidGVtcGxhdGVcIj09PXRoaXMubG9jYWxOYW1lJiZ0aGlzLm5hbWVzcGFjZVVSST09ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSST9jPWEuYih0aGlzLGIpOmM9Zi5jYWxsKHRoaXMsYik7YiYmTWEoYyx0aGlzKTtyZXR1cm4gY30sdGY9RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGU9ZnVuY3Rpb24oYyxkKXtkPWR8fCExO2lmKFwidGVtcGxhdGVcIj09PWMubG9jYWxOYW1lKXJldHVybiBhLmIoYyxkKTt2YXIgZT1oLmNhbGwodGhpcyxjLGQpO2lmKGQpe01hKGUsYyk7Yz1iKGUsJ3NjcmlwdDpub3QoW3R5cGVdKSxzY3JpcHRbdHlwZT1cImFwcGxpY2F0aW9uL2phdmFzY3JpcHRcIl0sc2NyaXB0W3R5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIl0nKTtcbmZvcih2YXIgZixrPTA7azxjLmxlbmd0aDtrKyspe2Y9Y1trXTtkPWcuY2FsbChkb2N1bWVudCxcInNjcmlwdFwiKTtkLnRleHRDb250ZW50PWYudGV4dENvbnRlbnQ7Zm9yKHZhciBsPWYuYXR0cmlidXRlcyxtPTAscTttPGwubGVuZ3RoO20rKylxPWxbbV0sZC5zZXRBdHRyaWJ1dGUocS5uYW1lLHEudmFsdWUpO24uY2FsbChmLnBhcmVudE5vZGUsZCxmKX19cmV0dXJuIGV9fWMmJih3aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudD1hKX0pKCk7dmFyIENhPXNldFRpbWVvdXQ7ZnVuY3Rpb24gRGEoKXt9ZnVuY3Rpb24gRWEoYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXthLmFwcGx5KGIsYXJndW1lbnRzKX19ZnVuY3Rpb24gdShhKXtpZighKHRoaXMgaW5zdGFuY2VvZiB1KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3XCIpO2lmKFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBhKXRocm93IG5ldyBUeXBlRXJyb3IoXCJub3QgYSBmdW5jdGlvblwiKTt0aGlzLkk9MDt0aGlzLm9hPSExO3RoaXMudz12b2lkIDA7dGhpcy5VPVtdO0ZhKGEsdGhpcyl9XG5mdW5jdGlvbiBHYShhLGIpe2Zvcig7Mz09PWEuSTspYT1hLnc7MD09PWEuST9hLlUucHVzaChiKTooYS5vYT0hMCxIYShmdW5jdGlvbigpe3ZhciBjPTE9PT1hLkk/Yi5QYTpiLlFhO2lmKG51bGw9PT1jKSgxPT09YS5JP0lhOk5hKShiLm1hLGEudyk7ZWxzZXt0cnl7dmFyIGQ9YyhhLncpfWNhdGNoKGUpe05hKGIubWEsZSk7cmV0dXJufUlhKGIubWEsZCl9fSkpfWZ1bmN0aW9uIElhKGEsYil7dHJ5e2lmKGI9PT1hKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLlwiKTtpZihiJiYoXCJvYmplY3RcIj09PXR5cGVvZiBifHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgYikpe3ZhciBjPWIudGhlbjtpZihiIGluc3RhbmNlb2YgdSl7YS5JPTM7YS53PWI7T2EoYSk7cmV0dXJufWlmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBjKXtGYShFYShjLGIpLGEpO3JldHVybn19YS5JPTE7YS53PWI7T2EoYSl9Y2F0Y2goZCl7TmEoYSxkKX19XG5mdW5jdGlvbiBOYShhLGIpe2EuST0yO2Eudz1iO09hKGEpfWZ1bmN0aW9uIE9hKGEpezI9PT1hLkkmJjA9PT1hLlUubGVuZ3RoJiZIYShmdW5jdGlvbigpe2Eub2F8fFwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSYmY29uc29sZSYmY29uc29sZS53YXJuKFwiUG9zc2libGUgVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uOlwiLGEudyl9KTtmb3IodmFyIGI9MCxjPWEuVS5sZW5ndGg7YjxjO2IrKylHYShhLGEuVVtiXSk7YS5VPW51bGx9ZnVuY3Rpb24gUGEoYSxiLGMpe3RoaXMuUGE9XCJmdW5jdGlvblwiPT09dHlwZW9mIGE/YTpudWxsO3RoaXMuUWE9XCJmdW5jdGlvblwiPT09dHlwZW9mIGI/YjpudWxsO3RoaXMubWE9Y31mdW5jdGlvbiBGYShhLGIpe3ZhciBjPSExO3RyeXthKGZ1bmN0aW9uKGEpe2N8fChjPSEwLElhKGIsYSkpfSxmdW5jdGlvbihhKXtjfHwoYz0hMCxOYShiLGEpKX0pfWNhdGNoKGQpe2N8fChjPSEwLE5hKGIsZCkpfX1cbnUucHJvdG90eXBlW1wiY2F0Y2hcIl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGEpfTt1LnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IHRoaXMuY29uc3RydWN0b3IoRGEpO0dhKHRoaXMsbmV3IFBhKGEsYixjKSk7cmV0dXJuIGN9O3UucHJvdG90eXBlW1wiZmluYWxseVwiXT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oYyl7cmV0dXJuIGIucmVzb2x2ZShhKCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gY30pfSxmdW5jdGlvbihjKXtyZXR1cm4gYi5yZXNvbHZlKGEoKSkudGhlbihmdW5jdGlvbigpe3JldHVybiBiLnJlamVjdChjKX0pfSl9O1xuZnVuY3Rpb24gUWEoYSl7cmV0dXJuIG5ldyB1KGZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChhLGcpe3RyeXtpZihnJiYoXCJvYmplY3RcIj09PXR5cGVvZiBnfHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZykpe3ZhciBoPWcudGhlbjtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgaCl7aC5jYWxsKGcsZnVuY3Rpb24oYil7ZChhLGIpfSxjKTtyZXR1cm59fWVbYV09ZzswPT09LS1mJiZiKGUpfWNhdGNoKG4pe2Mobil9fWlmKCFhfHxcInVuZGVmaW5lZFwiPT09dHlwZW9mIGEubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm9taXNlLmFsbCBhY2NlcHRzIGFuIGFycmF5XCIpO3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEpO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gYihbXSk7Zm9yKHZhciBmPWUubGVuZ3RoLGc9MDtnPGUubGVuZ3RoO2crKylkKGcsZVtnXSl9KX1cbmZ1bmN0aW9uIFJhKGEpe3JldHVybiBhJiZcIm9iamVjdFwiPT09dHlwZW9mIGEmJmEuY29uc3RydWN0b3I9PT11P2E6bmV3IHUoZnVuY3Rpb24oYil7YihhKX0pfWZ1bmN0aW9uIFNhKGEpe3JldHVybiBuZXcgdShmdW5jdGlvbihiLGMpe2MoYSl9KX1mdW5jdGlvbiBUYShhKXtyZXR1cm4gbmV3IHUoZnVuY3Rpb24oYixjKXtmb3IodmFyIGQ9MCxlPWEubGVuZ3RoO2Q8ZTtkKyspYVtkXS50aGVuKGIsYyl9KX12YXIgSGE9XCJmdW5jdGlvblwiPT09dHlwZW9mIHNldEltbWVkaWF0ZSYmZnVuY3Rpb24oYSl7c2V0SW1tZWRpYXRlKGEpfXx8ZnVuY3Rpb24oYSl7Q2EoYSwwKX07LypcblxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmlmKCF3aW5kb3cuUHJvbWlzZSl7d2luZG93LlByb21pc2U9dTt1LnByb3RvdHlwZS50aGVuPXUucHJvdG90eXBlLnRoZW47dS5hbGw9UWE7dS5yYWNlPVRhO3UucmVzb2x2ZT1SYTt1LnJlamVjdD1TYTt2YXIgVWE9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksVmE9W107KG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPVZhLmxlbmd0aCxiPTA7YjxhO2IrKylWYVtiXSgpO1ZhLnNwbGljZSgwLGEpfSkpLm9ic2VydmUoVWEse2NoYXJhY3RlckRhdGE6ITB9KTtIYT1mdW5jdGlvbihhKXtWYS5wdXNoKGEpO1VhLnRleHRDb250ZW50PTA8VWEudGV4dENvbnRlbnQubGVuZ3RoP1wiXCI6XCJhXCJ9fTsvKlxuIENvcHlyaWdodCAoQykgMjAxNSBieSBXZWJSZWZsZWN0aW9uXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cblxuKi9cbihmdW5jdGlvbihhLGIpe2lmKCEoYiBpbiBhKSl7dmFyIGM9dHlwZW9mIGdsb2JhbD09PXR5cGVvZiBjP3dpbmRvdzpnbG9iYWwsZD0wLGU9XCJcIitNYXRoLnJhbmRvbSgpLGY9XCJfX1xcdTAwMDFzeW1ib2xAQFwiK2UsZz1hLmdldE93blByb3BlcnR5TmFtZXMsaD1hLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixrPWEuY3JlYXRlLGw9YS5rZXlzLG49YS5mcmVlemV8fGEscT1hLmRlZmluZVByb3BlcnR5LEk9YS5kZWZpbmVQcm9wZXJ0aWVzLHY9aChhLFwiZ2V0T3duUHJvcGVydHlOYW1lc1wiKSx4PWEucHJvdG90eXBlLFE9eC5oYXNPd25Qcm9wZXJ0eSxFYj14LnByb3BlcnR5SXNFbnVtZXJhYmxlLEZiPXgudG9TdHJpbmcsVD1mdW5jdGlvbihhLGIsYyl7US5jYWxsKGEsZil8fHEoYSxmLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMSx3cml0YWJsZTohMSx2YWx1ZTp7fX0pO2FbZl1bXCJAQFwiK2JdPWN9LEphPWZ1bmN0aW9uKGEsYil7dmFyIGM9ayhhKTtnKGIpLmZvckVhY2goZnVuY3Rpb24oYSl7WC5jYWxsKGIsXG5hKSYmQWEoYyxhLGJbYV0pfSk7cmV0dXJuIGN9LHA9ZnVuY3Rpb24oKXt9LHphPWZ1bmN0aW9uKGEpe3JldHVybiBhIT1mJiYhUS5jYWxsKFksYSl9LGFhPWZ1bmN0aW9uKGEpe3JldHVybiBhIT1mJiZRLmNhbGwoWSxhKX0sWD1mdW5jdGlvbihhKXt2YXIgYj1cIlwiK2E7cmV0dXJuIGFhKGIpP1EuY2FsbCh0aGlzLGIpJiZ0aGlzW2ZdW1wiQEBcIitiXTpFYi5jYWxsKHRoaXMsYSl9LG09ZnVuY3Rpb24oYil7cSh4LGIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLGdldDpwLHNldDpmdW5jdGlvbihhKXtiYSh0aGlzLGIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmF9KTtUKHRoaXMsYiwhMCl9fSk7cmV0dXJuIG4oWVtiXT1xKGEoYiksXCJjb25zdHJ1Y3RvclwiLEdiKSl9LHk9ZnVuY3Rpb24oYSl7aWYodGhpcyYmdGhpcyE9PWMpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKTtyZXR1cm4gbShcIl9fXFx1MDAwMXN5bWJvbDpcIi5jb25jYXQoYXx8XG5cIlwiLGUsKytkKSl9LFk9ayhudWxsKSxHYj17dmFsdWU6eX0sS2E9ZnVuY3Rpb24oYSl7cmV0dXJuIFlbYV19LEFhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1cIlwiK2I7aWYoYWEoZCkpe2I9YmE7aWYoYy5lbnVtZXJhYmxlKXt2YXIgZT1rKGMpO2UuZW51bWVyYWJsZT0hMX1lbHNlIGU9YztiKGEsZCxlKTtUKGEsZCwhIWMuZW51bWVyYWJsZSl9ZWxzZSBxKGEsYixjKTtyZXR1cm4gYX0sTGE9ZnVuY3Rpb24oYSl7cmV0dXJuIGcoYSkuZmlsdGVyKGFhKS5tYXAoS2EpfTt2LnZhbHVlPUFhO3EoYSxcImRlZmluZVByb3BlcnR5XCIsdik7di52YWx1ZT1MYTtxKGEsYix2KTt2LnZhbHVlPWZ1bmN0aW9uKGEpe3JldHVybiBnKGEpLmZpbHRlcih6YSl9O3EoYSxcImdldE93blByb3BlcnR5TmFtZXNcIix2KTt2LnZhbHVlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TGEoYik7Yy5sZW5ndGg/bChiKS5jb25jYXQoYykuZm9yRWFjaChmdW5jdGlvbihjKXtYLmNhbGwoYixjKSYmQWEoYSxjLGJbY10pfSk6SShhLFxuYik7cmV0dXJuIGF9O3EoYSxcImRlZmluZVByb3BlcnRpZXNcIix2KTt2LnZhbHVlPVg7cSh4LFwicHJvcGVydHlJc0VudW1lcmFibGVcIix2KTt2LnZhbHVlPXk7cShjLFwiU3ltYm9sXCIsdik7di52YWx1ZT1mdW5jdGlvbihhKXthPVwiX19cXHUwMDAxc3ltYm9sOlwiLmNvbmNhdChcIl9fXFx1MDAwMXN5bWJvbDpcIixhLGUpO3JldHVybiBhIGluIHg/WVthXTptKGEpfTtxKHksXCJmb3JcIix2KTt2LnZhbHVlPWZ1bmN0aW9uKGEpe2lmKHphKGEpKXRocm93IG5ldyBUeXBlRXJyb3IoYStcIiBpcyBub3QgYSBzeW1ib2xcIik7cmV0dXJuIFEuY2FsbChZLGEpP2Euc2xpY2UoMjAsLWUubGVuZ3RoKTp2b2lkIDB9O3EoeSxcImtleUZvclwiLHYpO3YudmFsdWU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1oKGEsYik7YyYmYWEoYikmJihjLmVudW1lcmFibGU9WC5jYWxsKGEsYikpO3JldHVybiBjfTtxKGEsXCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIix2KTt2LnZhbHVlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP1xuayhhKTpKYShhLGIpfTtxKGEsXCJjcmVhdGVcIix2KTt2LnZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE9RmIuY2FsbCh0aGlzKTtyZXR1cm5cIltvYmplY3QgU3RyaW5nXVwiPT09YSYmYWEodGhpcyk/XCJbb2JqZWN0IFN5bWJvbF1cIjphfTtxKHgsXCJ0b1N0cmluZ1wiLHYpO3RyeXt2YXIgYmE9ayhxKHt9LFwiX19cXHUwMDAxc3ltYm9sOlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcSh0aGlzLFwiX19cXHUwMDAxc3ltYm9sOlwiLHt2YWx1ZTohMX0pW1wiX19cXHUwMDAxc3ltYm9sOlwiXX19KSlbXCJfX1xcdTAwMDFzeW1ib2w6XCJdfHxxfWNhdGNoKE1hKXtiYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9aCh4LGIpO2RlbGV0ZSB4W2JdO3EoYSxiLGMpO3EoeCxiLGQpfX19fSkoT2JqZWN0LFwiZ2V0T3duUHJvcGVydHlTeW1ib2xzXCIpO1xuKGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGVmaW5lUHJvcGVydHksYz1hLnByb3RvdHlwZSxkPWMudG9TdHJpbmcsZTtcIml0ZXJhdG9yIG1hdGNoIHJlcGxhY2Ugc2VhcmNoIHNwbGl0IGhhc0luc3RhbmNlIGlzQ29uY2F0U3ByZWFkYWJsZSB1bnNjb3BhYmxlcyBzcGVjaWVzIHRvUHJpbWl0aXZlIHRvU3RyaW5nVGFnXCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oZil7aWYoIShmIGluIFN5bWJvbCkpc3dpdGNoKGIoU3ltYm9sLGYse3ZhbHVlOlN5bWJvbChmKX0pLGYpe2Nhc2UgXCJ0b1N0cmluZ1RhZ1wiOmU9YS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYyxcInRvU3RyaW5nXCIpLGUudmFsdWU9ZnVuY3Rpb24oKXt2YXIgYT1kLmNhbGwodGhpcyksYj10aGlzW1N5bWJvbC50b1N0cmluZ1RhZ107cmV0dXJuXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBiP2E6XCJbb2JqZWN0IFwiK2IrXCJdXCJ9LGIoYyxcInRvU3RyaW5nXCIsZSl9fSl9KShPYmplY3QsU3ltYm9sKTtcbihmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe3JldHVybiB0aGlzfWJbYV18fChiW2FdPWZ1bmN0aW9uKCl7dmFyIGI9MCxjPXRoaXMsZz17bmV4dDpmdW5jdGlvbigpe3ZhciBhPWMubGVuZ3RoPD1iO3JldHVybiBhP3tkb25lOmF9Ontkb25lOmEsdmFsdWU6Y1tiKytdfX19O2dbYV09ZDtyZXR1cm4gZ30pO2NbYV18fChjW2FdPWZ1bmN0aW9uKCl7dmFyIGI9U3RyaW5nLmZyb21Db2RlUG9pbnQsYz10aGlzLGc9MCxoPWMubGVuZ3RoLGs9e25leHQ6ZnVuY3Rpb24oKXt2YXIgYT1oPD1nLGQ9YT9cIlwiOmIoYy5jb2RlUG9pbnRBdChnKSk7Zys9ZC5sZW5ndGg7cmV0dXJuIGE/e2RvbmU6YX06e2RvbmU6YSx2YWx1ZTpkfX19O2tbYV09ZDtyZXR1cm4ga30pfSkoU3ltYm9sLml0ZXJhdG9yLEFycmF5LnByb3RvdHlwZSxTdHJpbmcucHJvdG90eXBlKTsvKlxuXG5Db3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xudmFyIFdhPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzP1wiW29iamVjdCBVbmRlZmluZWRdXCI6bnVsbD09PXRoaXM/XCJbb2JqZWN0IE51bGxdXCI6V2EuY2FsbCh0aGlzKX07T2JqZWN0LmtleXM9ZnVuY3Rpb24oYSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEpLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4oYj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYikpJiZiLmVudW1lcmFibGV9KX07dmFyIFhhPXdpbmRvdy5TeW1ib2wuaXRlcmF0b3I7XG5TdHJpbmcucHJvdG90eXBlW1hhXSYmU3RyaW5nLnByb3RvdHlwZS5jb2RlUG9pbnRBdHx8KFN0cmluZy5wcm90b3R5cGVbWGFdPWZ1bmN0aW9uIFlhKCl7dmFyIGIsYz10aGlzO3JldHVybiBCYShZYSxmdW5jdGlvbihkKXsxPT1kLmEmJihiPTApO2lmKDMhPWQuYSlyZXR1cm4gYjxjLmxlbmd0aD9kPXRhKGQsY1tiXSk6KGQuYT0wLGQ9dm9pZCAwKSxkO2IrKztkLmE9Mn0pfSk7U2V0LnByb3RvdHlwZVtYYV18fChTZXQucHJvdG90eXBlW1hhXT1mdW5jdGlvbiBaYSgpe3ZhciBiLGM9dGhpcyxkO3JldHVybiBCYShaYSxmdW5jdGlvbihlKXsxPT1lLmEmJihiPVtdLGMuZm9yRWFjaChmdW5jdGlvbihjKXtiLnB1c2goYyl9KSxkPTApO2lmKDMhPWUuYSlyZXR1cm4gZDxiLmxlbmd0aD9lPXRhKGUsYltkXSk6KGUuYT0wLGU9dm9pZCAwKSxlO2QrKztlLmE9Mn0pfSk7XG5NYXAucHJvdG90eXBlW1hhXXx8KE1hcC5wcm90b3R5cGVbWGFdPWZ1bmN0aW9uICRhKCl7dmFyIGIsYz10aGlzLGQ7cmV0dXJuIEJhKCRhLGZ1bmN0aW9uKGUpezE9PWUuYSYmKGI9W10sYy5mb3JFYWNoKGZ1bmN0aW9uKGMsZCl7Yi5wdXNoKFtkLGNdKX0pLGQ9MCk7aWYoMyE9ZS5hKXJldHVybiBkPGIubGVuZ3RoP2U9dGEoZSxiW2RdKTooZS5hPTAsZT12b2lkIDApLGU7ZCsrO2UuYT0yfSl9KTsvKlxuXG4gQ29weXJpZ2h0IChjKSAyMDE0IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xud2luZG93LldlYkNvbXBvbmVudHM9d2luZG93LldlYkNvbXBvbmVudHN8fHtmbGFnczp7fX07dmFyIGFiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtzcmMqPVwid2ViY29tcG9uZW50cy1idW5kbGVcIl0nKSxiYj0vd2MtKC4rKS8sdz17fTtpZighdy5ub09wdHMpe2xvY2F0aW9uLnNlYXJjaC5zbGljZSgxKS5zcGxpdChcIiZcIikuZm9yRWFjaChmdW5jdGlvbihhKXthPWEuc3BsaXQoXCI9XCIpO3ZhciBiO2FbMF0mJihiPWFbMF0ubWF0Y2goYmIpKSYmKHdbYlsxXV09YVsxXXx8ITApfSk7aWYoYWIpZm9yKHZhciBjYj0wLGRiPXZvaWQgMDtkYj1hYi5hdHRyaWJ1dGVzW2NiXTtjYisrKVwic3JjXCIhPT1kYi5uYW1lJiYod1tkYi5uYW1lXT1kYi52YWx1ZXx8ITApO2lmKHcubG9nJiZ3LmxvZy5zcGxpdCl7dmFyIGViPXcubG9nLnNwbGl0KFwiLFwiKTt3LmxvZz17fTtlYi5mb3JFYWNoKGZ1bmN0aW9uKGEpe3cubG9nW2FdPSEwfSl9ZWxzZSB3LmxvZz17fX1cbndpbmRvdy5XZWJDb21wb25lbnRzLmZsYWdzPXc7dmFyIGZiPXcuc2hhZHlkb207ZmImJih3aW5kb3cuU2hhZHlET009d2luZG93LlNoYWR5RE9NfHx7fSx3aW5kb3cuU2hhZHlET00uZm9yY2U9ZmIpO3ZhciBnYj13LnJlZ2lzdGVyfHx3LmNlO2diJiZ3aW5kb3cuY3VzdG9tRWxlbWVudHMmJih3aW5kb3cuY3VzdG9tRWxlbWVudHMuZm9yY2VQb2x5ZmlsbD1nYik7LypcblxuQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmZ1bmN0aW9uIGhiKCl7fWhiLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57fX07ZnVuY3Rpb24geihhKXthLl9fc2hhZHl8fChhLl9fc2hhZHk9bmV3IGhiKTtyZXR1cm4gYS5fX3NoYWR5fWZ1bmN0aW9uIEEoYSl7cmV0dXJuIGEmJmEuX19zaGFkeX07dmFyIEI9d2luZG93LlNoYWR5RE9NfHx7fTtCLkxhPSEoIUVsZW1lbnQucHJvdG90eXBlLmF0dGFjaFNoYWRvd3x8IU5vZGUucHJvdG90eXBlLmdldFJvb3ROb2RlKTt2YXIgaWI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihOb2RlLnByb3RvdHlwZSxcImZpcnN0Q2hpbGRcIik7Qi5EPSEhKGliJiZpYi5jb25maWd1cmFibGUmJmliLmdldCk7Qi5rYT1CLmZvcmNlfHwhQi5MYTtCLk09Qi5ub1BhdGNofHwhMTtCLnRhPUIucHJlZmVyUGVyZm9ybWFuY2U7dmFyIGpiPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goXCJUcmlkZW50XCIpO0IueWE9amI7ZnVuY3Rpb24ga2IoYSl7cmV0dXJuKGE9QShhKSkmJnZvaWQgMCE9PWEuZmlyc3RDaGlsZH1mdW5jdGlvbiBDKGEpe3JldHVyblwiU2hhZHlSb290XCI9PT1hLkRhfWZ1bmN0aW9uIGxiKGEpe3JldHVybihhPShhPUEoYSkpJiZhLnJvb3QpJiZtYihhKX1cbnZhciBuYj1FbGVtZW50LnByb3RvdHlwZSxvYj1uYi5tYXRjaGVzfHxuYi5tYXRjaGVzU2VsZWN0b3J8fG5iLm1vek1hdGNoZXNTZWxlY3Rvcnx8bmIubXNNYXRjaGVzU2VsZWN0b3J8fG5iLm9NYXRjaGVzU2VsZWN0b3J8fG5iLndlYmtpdE1hdGNoZXNTZWxlY3RvcixwYj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxxYj0wLHJiPVtdOyhuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpe2Zvcig7cmIubGVuZ3RoOyl0cnl7cmIuc2hpZnQoKSgpfWNhdGNoKGEpe3Rocm93IHBiLnRleHRDb250ZW50PXFiKyssYTt9fSkpLm9ic2VydmUocGIse2NoYXJhY3RlckRhdGE6ITB9KTtmdW5jdGlvbiBzYihhKXtyYi5wdXNoKGEpO3BiLnRleHRDb250ZW50PXFiKyt9dmFyIHRiPSEhZG9jdW1lbnQuY29udGFpbnM7ZnVuY3Rpb24gdWIoYSxiKXtmb3IoO2I7KXtpZihiPT1hKXJldHVybiEwO2I9Yi5fX3NoYWR5X3BhcmVudE5vZGV9cmV0dXJuITF9XG5mdW5jdGlvbiB2YihhKXtmb3IodmFyIGI9YS5sZW5ndGgtMTswPD1iO2ItLSl7dmFyIGM9YVtiXSxkPWMuZ2V0QXR0cmlidXRlKFwiaWRcIil8fGMuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtkJiZcImxlbmd0aFwiIT09ZCYmaXNOYU4oZCkmJihhW2RdPWMpfWEuaXRlbT1mdW5jdGlvbihiKXtyZXR1cm4gYVtiXX07YS5uYW1lZEl0ZW09ZnVuY3Rpb24oYil7aWYoXCJsZW5ndGhcIiE9PWImJmlzTmFOKGIpJiZhW2JdKXJldHVybiBhW2JdO2Zvcih2YXIgYz1qYShhKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSlpZihkPWQudmFsdWUsKGQuZ2V0QXR0cmlidXRlKFwiaWRcIil8fGQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSk9PWIpcmV0dXJuIGQ7cmV0dXJuIG51bGx9O3JldHVybiBhfWZ1bmN0aW9uIHdiKGEpe3ZhciBiPVtdO2ZvcihhPWEuX19zaGFkeV9uYXRpdmVfZmlyc3RDaGlsZDthO2E9YS5fX3NoYWR5X25hdGl2ZV9uZXh0U2libGluZyliLnB1c2goYSk7cmV0dXJuIGJ9XG5mdW5jdGlvbiB4YihhKXt2YXIgYj1bXTtmb3IoYT1hLl9fc2hhZHlfZmlyc3RDaGlsZDthO2E9YS5fX3NoYWR5X25leHRTaWJsaW5nKWIucHVzaChhKTtyZXR1cm4gYn1mdW5jdGlvbiBEKGEsYixjLGQpe2M9dm9pZCAwPT09Yz9cIlwiOmM7Zm9yKHZhciBlIGluIGIpe3ZhciBmPWJbZV07aWYoIShkJiYwPD1kLmluZGV4T2YoZSkpKXtmLmNvbmZpZ3VyYWJsZT0hMDt2YXIgZz1jK2U7aWYoZi52YWx1ZSlhW2ddPWYudmFsdWU7ZWxzZSB0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsZyxmKX1jYXRjaChoKXt9fX19ZnVuY3Rpb24gRShhKXt2YXIgYj17fTtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe2JbY109T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGMpfSk7cmV0dXJuIGJ9O3ZhciB5Yj1bXSx6YjtmdW5jdGlvbiBBYihhKXt6Ynx8KHpiPSEwLHNiKEJiKSk7eWIucHVzaChhKX1mdW5jdGlvbiBCYigpe3piPSExO2Zvcih2YXIgYT0hIXliLmxlbmd0aDt5Yi5sZW5ndGg7KXliLnNoaWZ0KCkoKTtyZXR1cm4gYX1CYi5saXN0PXliO2Z1bmN0aW9uIENiKCl7dGhpcy5hPSExO3RoaXMuYWRkZWROb2Rlcz1bXTt0aGlzLnJlbW92ZWROb2Rlcz1bXTt0aGlzLiQ9bmV3IFNldH1mdW5jdGlvbiBEYihhKXthLmF8fChhLmE9ITAsc2IoZnVuY3Rpb24oKXthLmZsdXNoKCl9KSl9Q2IucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXt0aGlzLmE9ITE7dmFyIGE9dGhpcy50YWtlUmVjb3JkcygpO2EubGVuZ3RoJiZ0aGlzLiQuZm9yRWFjaChmdW5jdGlvbihiKXtiKGEpfSl9fTtDYi5wcm90b3R5cGUudGFrZVJlY29yZHM9ZnVuY3Rpb24oKXtpZih0aGlzLmFkZGVkTm9kZXMubGVuZ3RofHx0aGlzLnJlbW92ZWROb2Rlcy5sZW5ndGgpe3ZhciBhPVt7YWRkZWROb2Rlczp0aGlzLmFkZGVkTm9kZXMscmVtb3ZlZE5vZGVzOnRoaXMucmVtb3ZlZE5vZGVzfV07dGhpcy5hZGRlZE5vZGVzPVtdO3RoaXMucmVtb3ZlZE5vZGVzPVtdO3JldHVybiBhfXJldHVybltdfTtcbmZ1bmN0aW9uIEhiKGEsYil7dmFyIGM9eihhKTtjLlZ8fChjLlY9bmV3IENiKTtjLlYuJC5hZGQoYik7dmFyIGQ9Yy5WO3JldHVybntDYTpiLFA6ZCxFYTphLHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7cmV0dXJuIGQudGFrZVJlY29yZHMoKX19fWZ1bmN0aW9uIEliKGEpe3ZhciBiPWEmJmEuUDtiJiYoYi4kLmRlbGV0ZShhLkNhKSxiLiQuc2l6ZXx8KHooYS5FYSkuVj1udWxsKSl9XG5mdW5jdGlvbiBKYihhLGIpe3ZhciBjPWIuZ2V0Um9vdE5vZGUoKTtyZXR1cm4gYS5tYXAoZnVuY3Rpb24oYSl7dmFyIGI9Yz09PWEudGFyZ2V0LmdldFJvb3ROb2RlKCk7aWYoYiYmYS5hZGRlZE5vZGVzKXtpZihiPUFycmF5LmZyb20oYS5hZGRlZE5vZGVzKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGM9PT1hLmdldFJvb3ROb2RlKCl9KSxiLmxlbmd0aClyZXR1cm4gYT1PYmplY3QuY3JlYXRlKGEpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiYWRkZWROb2Rlc1wiLHt2YWx1ZTpiLGNvbmZpZ3VyYWJsZTohMH0pLGF9ZWxzZSBpZihiKXJldHVybiBhfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhfSl9O3ZhciBLYj0vWyZcXHUwMEEwXCJdL2csTGI9L1smXFx1MDBBMDw+XS9nO2Z1bmN0aW9uIE1iKGEpe3N3aXRjaChhKXtjYXNlIFwiJlwiOnJldHVyblwiJmFtcDtcIjtjYXNlIFwiPFwiOnJldHVyblwiJmx0O1wiO2Nhc2UgXCI+XCI6cmV0dXJuXCImZ3Q7XCI7Y2FzZSAnXCInOnJldHVyblwiJnF1b3Q7XCI7Y2FzZSBcIlxcdTAwYTBcIjpyZXR1cm5cIiZuYnNwO1wifX1mdW5jdGlvbiBOYihhKXtmb3IodmFyIGI9e30sYz0wO2M8YS5sZW5ndGg7YysrKWJbYVtjXV09ITA7cmV0dXJuIGJ9dmFyIE9iPU5iKFwiYXJlYSBiYXNlIGJyIGNvbCBjb21tYW5kIGVtYmVkIGhyIGltZyBpbnB1dCBrZXlnZW4gbGluayBtZXRhIHBhcmFtIHNvdXJjZSB0cmFjayB3YnJcIi5zcGxpdChcIiBcIikpLFBiPU5iKFwic3R5bGUgc2NyaXB0IHhtcCBpZnJhbWUgbm9lbWJlZCBub2ZyYW1lcyBwbGFpbnRleHQgbm9zY3JpcHRcIi5zcGxpdChcIiBcIikpO1xuZnVuY3Rpb24gUWIoYSxiKXtcInRlbXBsYXRlXCI9PT1hLmxvY2FsTmFtZSYmKGE9YS5jb250ZW50KTtmb3IodmFyIGM9XCJcIixkPWI/YihhKTphLmNoaWxkTm9kZXMsZT0wLGY9ZC5sZW5ndGgsZz12b2lkIDA7ZTxmJiYoZz1kW2VdKTtlKyspe2E6e3ZhciBoPWc7dmFyIGs9YSxsPWI7c3dpdGNoKGgubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6az1oLmxvY2FsTmFtZTtmb3IodmFyIG49XCI8XCIrayxxPWguYXR0cmlidXRlcyxJPTAsdjt2PXFbSV07SSsrKW4rPVwiIFwiK3YubmFtZSsnPVwiJyt2LnZhbHVlLnJlcGxhY2UoS2IsTWIpKydcIic7bis9XCI+XCI7aD1PYltrXT9uOm4rUWIoaCxsKStcIjwvXCIraytcIj5cIjticmVhayBhO2Nhc2UgTm9kZS5URVhUX05PREU6aD1oLmRhdGE7aD1rJiZQYltrLmxvY2FsTmFtZV0/aDpoLnJlcGxhY2UoTGIsTWIpO2JyZWFrIGE7Y2FzZSBOb2RlLkNPTU1FTlRfTk9ERTpoPVwiXFx4M2MhLS1cIitoLmRhdGErXCItLVxceDNlXCI7YnJlYWsgYTtkZWZhdWx0OnRocm93IHdpbmRvdy5jb25zb2xlLmVycm9yKGgpLFxuRXJyb3IoXCJub3QgaW1wbGVtZW50ZWRcIik7fX1jKz1ofXJldHVybiBjfTt2YXIgUmI9Qi5ELFNiPXtxdWVyeVNlbGVjdG9yOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9fc2hhZHlfbmF0aXZlX3F1ZXJ5U2VsZWN0b3IoYSl9LHF1ZXJ5U2VsZWN0b3JBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX19zaGFkeV9uYXRpdmVfcXVlcnlTZWxlY3RvckFsbChhKX19LFRiPXt9O2Z1bmN0aW9uIFViKGEpe1RiW2FdPWZ1bmN0aW9uKGIpe3JldHVybiBiW1wiX19zaGFkeV9uYXRpdmVfXCIrYV19fWZ1bmN0aW9uIFZiKGEsYil7RChhLGIsXCJfX3NoYWR5X25hdGl2ZV9cIik7Zm9yKHZhciBjIGluIGIpVWIoYyl9ZnVuY3Rpb24gRihhLGIpe2I9dm9pZCAwPT09Yj9bXTpiO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdLGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGQpO2UmJihPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcIl9fc2hhZHlfbmF0aXZlX1wiK2QsZSksZS52YWx1ZT9TYltkXXx8KFNiW2RdPWUudmFsdWUpOlViKGQpKX19XG52YXIgRz1kb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGRvY3VtZW50LE5vZGVGaWx0ZXIuU0hPV19BTEwsbnVsbCwhMSksSD1kb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGRvY3VtZW50LE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULG51bGwsITEpLFdiPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcImluZXJ0XCIpO2Z1bmN0aW9uIFhiKGEpe2Zvcih2YXIgYjtiPWEuX19zaGFkeV9uYXRpdmVfZmlyc3RDaGlsZDspYS5fX3NoYWR5X25hdGl2ZV9yZW1vdmVDaGlsZChiKX12YXIgWWI9W1wiZmlyc3RFbGVtZW50Q2hpbGRcIixcImxhc3RFbGVtZW50Q2hpbGRcIixcImNoaWxkcmVuXCIsXCJjaGlsZEVsZW1lbnRDb3VudFwiXSxaYj1bXCJxdWVyeVNlbGVjdG9yXCIsXCJxdWVyeVNlbGVjdG9yQWxsXCJdO1xuZnVuY3Rpb24gJGIoKXt2YXIgYT1bXCJkaXNwYXRjaEV2ZW50XCIsXCJhZGRFdmVudExpc3RlbmVyXCIsXCJyZW1vdmVFdmVudExpc3RlbmVyXCJdO3dpbmRvdy5FdmVudFRhcmdldD9GKHdpbmRvdy5FdmVudFRhcmdldC5wcm90b3R5cGUsYSk6KEYoTm9kZS5wcm90b3R5cGUsYSksRihXaW5kb3cucHJvdG90eXBlLGEpKTtSYj9GKE5vZGUucHJvdG90eXBlLFwicGFyZW50Tm9kZSBmaXJzdENoaWxkIGxhc3RDaGlsZCBwcmV2aW91c1NpYmxpbmcgbmV4dFNpYmxpbmcgY2hpbGROb2RlcyBwYXJlbnRFbGVtZW50IHRleHRDb250ZW50XCIuc3BsaXQoXCIgXCIpKTpWYihOb2RlLnByb3RvdHlwZSx7cGFyZW50Tm9kZTp7Z2V0OmZ1bmN0aW9uKCl7Ry5jdXJyZW50Tm9kZT10aGlzO3JldHVybiBHLnBhcmVudE5vZGUoKX19LGZpcnN0Q2hpbGQ6e2dldDpmdW5jdGlvbigpe0cuY3VycmVudE5vZGU9dGhpcztyZXR1cm4gRy5maXJzdENoaWxkKCl9fSxsYXN0Q2hpbGQ6e2dldDpmdW5jdGlvbigpe0cuY3VycmVudE5vZGU9XG50aGlzO3JldHVybiBHLmxhc3RDaGlsZCgpfX0scHJldmlvdXNTaWJsaW5nOntnZXQ6ZnVuY3Rpb24oKXtHLmN1cnJlbnROb2RlPXRoaXM7cmV0dXJuIEcucHJldmlvdXNTaWJsaW5nKCl9fSxuZXh0U2libGluZzp7Z2V0OmZ1bmN0aW9uKCl7Ry5jdXJyZW50Tm9kZT10aGlzO3JldHVybiBHLm5leHRTaWJsaW5nKCl9fSxjaGlsZE5vZGVzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgYT1bXTtHLmN1cnJlbnROb2RlPXRoaXM7Zm9yKHZhciBjPUcuZmlyc3RDaGlsZCgpO2M7KWEucHVzaChjKSxjPUcubmV4dFNpYmxpbmcoKTtyZXR1cm4gYX19LHBhcmVudEVsZW1lbnQ6e2dldDpmdW5jdGlvbigpe0guY3VycmVudE5vZGU9dGhpcztyZXR1cm4gSC5wYXJlbnROb2RlKCl9fSx0ZXh0Q29udGVudDp7Z2V0OmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Y2FzZSBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREU6Zm9yKHZhciBhPWRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIodGhpcyxcbk5vZGVGaWx0ZXIuU0hPV19URVhULG51bGwsITEpLGM9XCJcIixkO2Q9YS5uZXh0Tm9kZSgpOyljKz1kLm5vZGVWYWx1ZTtyZXR1cm4gYztkZWZhdWx0OnJldHVybiB0aGlzLm5vZGVWYWx1ZX19LHNldDpmdW5jdGlvbihhKXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIGF8fG51bGw9PT1hKWE9XCJcIjtzd2l0Y2godGhpcy5ub2RlVHlwZSl7Y2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpjYXNlIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERTpYYih0aGlzKTsoMDxhLmxlbmd0aHx8dGhpcy5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKSYmdGhpcy5fX3NoYWR5X25hdGl2ZV9pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSksdm9pZCAwKTticmVhaztkZWZhdWx0OnRoaXMubm9kZVZhbHVlPWF9fX19KTtGKE5vZGUucHJvdG90eXBlLFwiYXBwZW5kQ2hpbGQgaW5zZXJ0QmVmb3JlIHJlbW92ZUNoaWxkIHJlcGxhY2VDaGlsZCBjbG9uZU5vZGUgY29udGFpbnNcIi5zcGxpdChcIiBcIikpO1xuRihIVE1MRWxlbWVudC5wcm90b3R5cGUsW1wicGFyZW50RWxlbWVudFwiLFwiY29udGFpbnNcIl0pO2E9e2ZpcnN0RWxlbWVudENoaWxkOntnZXQ6ZnVuY3Rpb24oKXtILmN1cnJlbnROb2RlPXRoaXM7cmV0dXJuIEguZmlyc3RDaGlsZCgpfX0sbGFzdEVsZW1lbnRDaGlsZDp7Z2V0OmZ1bmN0aW9uKCl7SC5jdXJyZW50Tm9kZT10aGlzO3JldHVybiBILmxhc3RDaGlsZCgpfX0sY2hpbGRyZW46e2dldDpmdW5jdGlvbigpe3ZhciBhPVtdO0guY3VycmVudE5vZGU9dGhpcztmb3IodmFyIGM9SC5maXJzdENoaWxkKCk7YzspYS5wdXNoKGMpLGM9SC5uZXh0U2libGluZygpO3JldHVybiB2YihhKX19LGNoaWxkRWxlbWVudENvdW50OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZHJlbj90aGlzLmNoaWxkcmVuLmxlbmd0aDowfX19O1JiPyhGKEVsZW1lbnQucHJvdG90eXBlLFliKSxGKEVsZW1lbnQucHJvdG90eXBlLFtcInByZXZpb3VzRWxlbWVudFNpYmxpbmdcIixcIm5leHRFbGVtZW50U2libGluZ1wiLFxuXCJpbm5lckhUTUxcIixcImNsYXNzTmFtZVwiXSksRihIVE1MRWxlbWVudC5wcm90b3R5cGUsW1wiY2hpbGRyZW5cIixcImlubmVySFRNTFwiLFwiY2xhc3NOYW1lXCJdKSk6KFZiKEVsZW1lbnQucHJvdG90eXBlLGEpLFZiKEVsZW1lbnQucHJvdG90eXBlLHtwcmV2aW91c0VsZW1lbnRTaWJsaW5nOntnZXQ6ZnVuY3Rpb24oKXtILmN1cnJlbnROb2RlPXRoaXM7cmV0dXJuIEgucHJldmlvdXNTaWJsaW5nKCl9fSxuZXh0RWxlbWVudFNpYmxpbmc6e2dldDpmdW5jdGlvbigpe0guY3VycmVudE5vZGU9dGhpcztyZXR1cm4gSC5uZXh0U2libGluZygpfX0saW5uZXJIVE1MOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUWIodGhpcyx3Yil9LHNldDpmdW5jdGlvbihhKXt2YXIgYj1cInRlbXBsYXRlXCI9PT10aGlzLmxvY2FsTmFtZT90aGlzLmNvbnRlbnQ6dGhpcztYYihiKTt2YXIgZD10aGlzLmxvY2FsTmFtZXx8XCJkaXZcIjtkPXRoaXMubmFtZXNwYWNlVVJJJiZ0aGlzLm5hbWVzcGFjZVVSSSE9PVdiLm5hbWVzcGFjZVVSST9cbldiLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZVVSSSxkKTpXYi5jcmVhdGVFbGVtZW50KGQpO2QuaW5uZXJIVE1MPWE7Zm9yKGE9XCJ0ZW1wbGF0ZVwiPT09dGhpcy5sb2NhbE5hbWU/ZC5jb250ZW50OmQ7ZD1hLl9fc2hhZHlfbmF0aXZlX2ZpcnN0Q2hpbGQ7KWIuX19zaGFkeV9uYXRpdmVfaW5zZXJ0QmVmb3JlKGQsdm9pZCAwKX19LGNsYXNzTmFtZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCJ9LHNldDpmdW5jdGlvbihhKXt0aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsYSl9fX0pKTtGKEVsZW1lbnQucHJvdG90eXBlLFwic2V0QXR0cmlidXRlIGdldEF0dHJpYnV0ZSBoYXNBdHRyaWJ1dGUgcmVtb3ZlQXR0cmlidXRlIGZvY3VzIGJsdXJcIi5zcGxpdChcIiBcIikpO0YoRWxlbWVudC5wcm90b3R5cGUsWmIpO0YoSFRNTEVsZW1lbnQucHJvdG90eXBlLFtcImZvY3VzXCIsXCJibHVyXCJdKTt3aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudCYmXG5GKHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSxbXCJpbm5lckhUTUxcIl0pO1JiP0YoRG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUsWWIpOlZiKERvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLGEpO0YoRG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUsWmIpO1JiPyhGKERvY3VtZW50LnByb3RvdHlwZSxZYiksRihEb2N1bWVudC5wcm90b3R5cGUsW1wiYWN0aXZlRWxlbWVudFwiXSkpOlZiKERvY3VtZW50LnByb3RvdHlwZSxhKTtGKERvY3VtZW50LnByb3RvdHlwZSxbXCJpbXBvcnROb2RlXCIsXCJnZXRFbGVtZW50QnlJZFwiXSk7RihEb2N1bWVudC5wcm90b3R5cGUsWmIpfTt2YXIgYWM9RSh7Z2V0IGNoaWxkTm9kZXMoKXtyZXR1cm4gdGhpcy5fX3NoYWR5X2NoaWxkTm9kZXN9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIHRoaXMuX19zaGFkeV9maXJzdENoaWxkfSxnZXQgbGFzdENoaWxkKCl7cmV0dXJuIHRoaXMuX19zaGFkeV9sYXN0Q2hpbGR9LGdldCBjaGlsZEVsZW1lbnRDb3VudCgpe3JldHVybiB0aGlzLl9fc2hhZHlfY2hpbGRFbGVtZW50Q291bnR9LGdldCBjaGlsZHJlbigpe3JldHVybiB0aGlzLl9fc2hhZHlfY2hpbGRyZW59LGdldCBmaXJzdEVsZW1lbnRDaGlsZCgpe3JldHVybiB0aGlzLl9fc2hhZHlfZmlyc3RFbGVtZW50Q2hpbGR9LGdldCBsYXN0RWxlbWVudENoaWxkKCl7cmV0dXJuIHRoaXMuX19zaGFkeV9sYXN0RWxlbWVudENoaWxkfSxnZXQgc2hhZG93Um9vdCgpe3JldHVybiB0aGlzLl9fc2hhZHlfc2hhZG93Um9vdH19KSxiYz1FKHtnZXQgdGV4dENvbnRlbnQoKXtyZXR1cm4gdGhpcy5fX3NoYWR5X3RleHRDb250ZW50fSxzZXQgdGV4dENvbnRlbnQoYSl7dGhpcy5fX3NoYWR5X3RleHRDb250ZW50PVxuYX0sZ2V0IGlubmVySFRNTCgpe3JldHVybiB0aGlzLl9fc2hhZHlfaW5uZXJIVE1MfSxzZXQgaW5uZXJIVE1MKGEpe3JldHVybiB0aGlzLl9fc2hhZHlfaW5uZXJIVE1MPWF9fSksY2M9RSh7Z2V0IHBhcmVudEVsZW1lbnQoKXtyZXR1cm4gdGhpcy5fX3NoYWR5X3BhcmVudEVsZW1lbnR9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIHRoaXMuX19zaGFkeV9wYXJlbnROb2RlfSxnZXQgbmV4dFNpYmxpbmcoKXtyZXR1cm4gdGhpcy5fX3NoYWR5X25leHRTaWJsaW5nfSxnZXQgcHJldmlvdXNTaWJsaW5nKCl7cmV0dXJuIHRoaXMuX19zaGFkeV9wcmV2aW91c1NpYmxpbmd9LGdldCBuZXh0RWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gdGhpcy5fX3NoYWR5X25leHRFbGVtZW50U2libGluZ30sZ2V0IHByZXZpb3VzRWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gdGhpcy5fX3NoYWR5X3ByZXZpb3VzRWxlbWVudFNpYmxpbmd9LGdldCBjbGFzc05hbWUoKXtyZXR1cm4gdGhpcy5fX3NoYWR5X2NsYXNzTmFtZX0sXG5zZXQgY2xhc3NOYW1lKGEpe3JldHVybiB0aGlzLl9fc2hhZHlfY2xhc3NOYW1lPWF9fSksZGM7Zm9yKGRjIGluIGFjKWFjW2RjXS5lbnVtZXJhYmxlPSExO2Zvcih2YXIgZWMgaW4gYmMpYmNbZWNdLmVudW1lcmFibGU9ITE7Zm9yKHZhciBmYyBpbiBjYyljY1tmY10uZW51bWVyYWJsZT0hMTt2YXIgZ2M9Qi5EfHxCLk0saGM9Z2M/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKGEpe3ZhciBiPXooYSk7Yi5BYXx8KGIuQWE9ITAsRChhLGNjKSl9LGljPWdjP2Z1bmN0aW9uKCl7fTpmdW5jdGlvbihhKXt2YXIgYj16KGEpO2IuemF8fChiLnphPSEwLEQoYSxhYyksd2luZG93LmN1c3RvbUVsZW1lbnRzJiYhQi5NfHxEKGEsYmMpKX07dmFyIGpjPVwiX19ldmVudFdyYXBwZXJzXCIrRGF0ZS5ub3coKSxrYz1mdW5jdGlvbigpe3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRXZlbnQucHJvdG90eXBlLFwiY29tcG9zZWRcIik7cmV0dXJuIGE/ZnVuY3Rpb24oYil7cmV0dXJuIGEuZ2V0LmNhbGwoYil9Om51bGx9KCksbGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fXZhciBiPSExLGM9e2dldCBjYXB0dXJlKCl7Yj0hMH19O3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLGEsYyk7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsYSxjKTtyZXR1cm4gYn0oKTtmdW5jdGlvbiBtYyhhKXtpZihhJiZcIm9iamVjdFwiPT09dHlwZW9mIGEpe3ZhciBiPSEhYS5jYXB0dXJlO3ZhciBjPSEhYS5vbmNlO3ZhciBkPSEhYS5wYXNzaXZlO3ZhciBlPWEuT31lbHNlIGI9ISFhLGQ9Yz0hMTtyZXR1cm57dWE6ZSxjYXB0dXJlOmIsb25jZTpjLHBhc3NpdmU6ZCxzYTpsYz9hOmJ9fVxudmFyIG5jPXtibHVyOiEwLGZvY3VzOiEwLGZvY3VzaW46ITAsZm9jdXNvdXQ6ITAsY2xpY2s6ITAsZGJsY2xpY2s6ITAsbW91c2Vkb3duOiEwLG1vdXNlZW50ZXI6ITAsbW91c2VsZWF2ZTohMCxtb3VzZW1vdmU6ITAsbW91c2VvdXQ6ITAsbW91c2VvdmVyOiEwLG1vdXNldXA6ITAsd2hlZWw6ITAsYmVmb3JlaW5wdXQ6ITAsaW5wdXQ6ITAsa2V5ZG93bjohMCxrZXl1cDohMCxjb21wb3NpdGlvbnN0YXJ0OiEwLGNvbXBvc2l0aW9udXBkYXRlOiEwLGNvbXBvc2l0aW9uZW5kOiEwLHRvdWNoc3RhcnQ6ITAsdG91Y2hlbmQ6ITAsdG91Y2htb3ZlOiEwLHRvdWNoY2FuY2VsOiEwLHBvaW50ZXJvdmVyOiEwLHBvaW50ZXJlbnRlcjohMCxwb2ludGVyZG93bjohMCxwb2ludGVybW92ZTohMCxwb2ludGVydXA6ITAscG9pbnRlcmNhbmNlbDohMCxwb2ludGVyb3V0OiEwLHBvaW50ZXJsZWF2ZTohMCxnb3Rwb2ludGVyY2FwdHVyZTohMCxsb3N0cG9pbnRlcmNhcHR1cmU6ITAsZHJhZ3N0YXJ0OiEwLFxuZHJhZzohMCxkcmFnZW50ZXI6ITAsZHJhZ2xlYXZlOiEwLGRyYWdvdmVyOiEwLGRyb3A6ITAsZHJhZ2VuZDohMCxET01BY3RpdmF0ZTohMCxET01Gb2N1c0luOiEwLERPTUZvY3VzT3V0OiEwLGtleXByZXNzOiEwfSxvYz17RE9NQXR0ck1vZGlmaWVkOiEwLERPTUF0dHJpYnV0ZU5hbWVDaGFuZ2VkOiEwLERPTUNoYXJhY3RlckRhdGFNb2RpZmllZDohMCxET01FbGVtZW50TmFtZUNoYW5nZWQ6ITAsRE9NTm9kZUluc2VydGVkOiEwLERPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudDohMCxET01Ob2RlUmVtb3ZlZDohMCxET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudDohMCxET01TdWJ0cmVlTW9kaWZpZWQ6ITB9O2Z1bmN0aW9uIHBjKGEpe3JldHVybiBhIGluc3RhbmNlb2YgTm9kZT9hLl9fc2hhZHlfZ2V0Um9vdE5vZGUoKTphfVxuZnVuY3Rpb24gcWMoYSxiKXt2YXIgYz1bXSxkPWE7Zm9yKGE9cGMoYSk7ZDspYy5wdXNoKGQpLGQuX19zaGFkeV9hc3NpZ25lZFNsb3Q/ZD1kLl9fc2hhZHlfYXNzaWduZWRTbG90OmQubm9kZVR5cGU9PT1Ob2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUmJmQuaG9zdCYmKGJ8fGQhPT1hKT9kPWQuaG9zdDpkPWQuX19zaGFkeV9wYXJlbnROb2RlO2NbYy5sZW5ndGgtMV09PT1kb2N1bWVudCYmYy5wdXNoKHdpbmRvdyk7cmV0dXJuIGN9ZnVuY3Rpb24gcmMoYSl7YS5fX2NvbXBvc2VkUGF0aHx8KGEuX19jb21wb3NlZFBhdGg9cWMoYS50YXJnZXQsITApKTtyZXR1cm4gYS5fX2NvbXBvc2VkUGF0aH1mdW5jdGlvbiBzYyhhLGIpe2lmKCFDKXJldHVybiBhO2E9cWMoYSwhMCk7Zm9yKHZhciBjPTAsZCxlPXZvaWQgMCxmLGc9dm9pZCAwO2M8Yi5sZW5ndGg7YysrKWlmKGQ9YltjXSxmPXBjKGQpLGYhPT1lJiYoZz1hLmluZGV4T2YoZiksZT1mKSwhQyhmKXx8LTE8ZylyZXR1cm4gZH1cbmZ1bmN0aW9uIHRjKGEpe2Z1bmN0aW9uIGIoYixkKXtiPW5ldyBhKGIsZCk7Yi5fX2NvbXBvc2VkPWQmJiEhZC5jb21wb3NlZDtyZXR1cm4gYn1iLl9fcHJvdG9fXz1hO2IucHJvdG90eXBlPWEucHJvdG90eXBlO3JldHVybiBifXZhciB1Yz17Zm9jdXM6ITAsYmx1cjohMH07ZnVuY3Rpb24gdmMoYSl7cmV0dXJuIGEuX190YXJnZXQhPT1hLnRhcmdldHx8YS5fX3JlbGF0ZWRUYXJnZXQhPT1hLnJlbGF0ZWRUYXJnZXR9ZnVuY3Rpb24gd2MoYSxiLGMpe2lmKGM9Yi5fX2hhbmRsZXJzJiZiLl9faGFuZGxlcnNbYS50eXBlXSYmYi5fX2hhbmRsZXJzW2EudHlwZV1bY10pZm9yKHZhciBkPTAsZTsoZT1jW2RdKSYmKCF2YyhhKXx8YS50YXJnZXQhPT1hLnJlbGF0ZWRUYXJnZXQpJiYoZS5jYWxsKGIsYSksIWEuX19pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQpO2QrKyk7fVxuZnVuY3Rpb24geGMoYSl7dmFyIGI9YS5jb21wb3NlZFBhdGgoKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcImN1cnJlbnRUYXJnZXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGR9LGNvbmZpZ3VyYWJsZTohMH0pO2Zvcih2YXIgYz1iLmxlbmd0aC0xOzA8PWM7Yy0tKXt2YXIgZD1iW2NdO3djKGEsZCxcImNhcHR1cmVcIik7aWYoYS5nYSlyZXR1cm59T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJldmVudFBoYXNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFdmVudC5BVF9UQVJHRVR9fSk7dmFyIGU7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKyl7ZD1iW2NdO3ZhciBmPUEoZCk7Zj1mJiZmLnJvb3Q7aWYoMD09PWN8fGYmJmY9PT1lKWlmKHdjKGEsZCxcImJ1YmJsZVwiKSxkIT09d2luZG93JiYoZT1kLl9fc2hhZHlfZ2V0Um9vdE5vZGUoKSksYS5nYSlicmVha319XG5mdW5jdGlvbiB5YyhhLGIsYyxkLGUsZil7Zm9yKHZhciBnPTA7ZzxhLmxlbmd0aDtnKyspe3ZhciBoPWFbZ10saz1oLnR5cGUsbD1oLmNhcHR1cmUsbj1oLm9uY2UscT1oLnBhc3NpdmU7aWYoYj09PWgubm9kZSYmYz09PWsmJmQ9PT1sJiZlPT09biYmZj09PXEpcmV0dXJuIGd9cmV0dXJuLTF9XG5mdW5jdGlvbiB6YyhhLGIsYyl7dmFyIGQ9bWMoYyksZT1kLmNhcHR1cmUsZj1kLm9uY2UsZz1kLnBhc3NpdmUsaD1kLnVhO2Q9ZC5zYTtpZihiKXt2YXIgaz10eXBlb2YgYjtpZihcImZ1bmN0aW9uXCI9PT1rfHxcIm9iamVjdFwiPT09aylpZihcIm9iamVjdFwiIT09a3x8Yi5oYW5kbGVFdmVudCYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGIuaGFuZGxlRXZlbnQpe2lmKG9jW2FdKXJldHVybiB0aGlzLl9fc2hhZHlfbmF0aXZlX2FkZEV2ZW50TGlzdGVuZXIoYSxiLGQpO3ZhciBsPWh8fHRoaXM7aWYoaD1iW2pjXSl7aWYoLTE8eWMoaCxsLGEsZSxmLGcpKXJldHVybn1lbHNlIGJbamNdPVtdO2g9ZnVuY3Rpb24oZCl7ZiYmdGhpcy5fX3NoYWR5X3JlbW92ZUV2ZW50TGlzdGVuZXIoYSxiLGMpO2QuX190YXJnZXR8fEFjKGQpO2lmKGwhPT10aGlzKXt2YXIgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGQsXCJjdXJyZW50VGFyZ2V0XCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLFwiY3VycmVudFRhcmdldFwiLFxue2dldDpmdW5jdGlvbigpe3JldHVybiBsfSxjb25maWd1cmFibGU6ITB9KX1kLl9fcHJldmlvdXNDdXJyZW50VGFyZ2V0PWQuY3VycmVudFRhcmdldDtpZighQyhsKSYmXCJzbG90XCIhPT1sLmxvY2FsTmFtZXx8LTEhPWQuY29tcG9zZWRQYXRoKCkuaW5kZXhPZihsKSlpZihkLmNvbXBvc2VkfHwtMTxkLmNvbXBvc2VkUGF0aCgpLmluZGV4T2YobCkpaWYodmMoZCkmJmQudGFyZ2V0PT09ZC5yZWxhdGVkVGFyZ2V0KWQuZXZlbnRQaGFzZT09PUV2ZW50LkJVQkJMSU5HX1BIQVNFJiZkLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO2Vsc2UgaWYoZC5ldmVudFBoYXNlPT09RXZlbnQuQ0FQVFVSSU5HX1BIQVNFfHxkLmJ1YmJsZXN8fGQudGFyZ2V0PT09bHx8bCBpbnN0YW5jZW9mIFdpbmRvdyl7dmFyIGc9XCJmdW5jdGlvblwiPT09az9iLmNhbGwobCxkKTpiLmhhbmRsZUV2ZW50JiZiLmhhbmRsZUV2ZW50KGQpO2whPT10aGlzJiYoZT8oT2JqZWN0LmRlZmluZVByb3BlcnR5KGQsXCJjdXJyZW50VGFyZ2V0XCIsXG5lKSxlPW51bGwpOmRlbGV0ZSBkLmN1cnJlbnRUYXJnZXQpO3JldHVybiBnfX07YltqY10ucHVzaCh7bm9kZTpsLHR5cGU6YSxjYXB0dXJlOmUsb25jZTpmLHBhc3NpdmU6ZyxhYjpofSk7dWNbYV0/KHRoaXMuX19oYW5kbGVycz10aGlzLl9faGFuZGxlcnN8fHt9LHRoaXMuX19oYW5kbGVyc1thXT10aGlzLl9faGFuZGxlcnNbYV18fHtjYXB0dXJlOltdLGJ1YmJsZTpbXX0sdGhpcy5fX2hhbmRsZXJzW2FdW2U/XCJjYXB0dXJlXCI6XCJidWJibGVcIl0ucHVzaChoKSk6dGhpcy5fX3NoYWR5X25hdGl2ZV9hZGRFdmVudExpc3RlbmVyKGEsaCxkKX19fVxuZnVuY3Rpb24gQmMoYSxiLGMpe2lmKGIpe3ZhciBkPW1jKGMpO2M9ZC5jYXB0dXJlO3ZhciBlPWQub25jZSxmPWQucGFzc2l2ZSxnPWQudWE7ZD1kLnNhO2lmKG9jW2FdKXJldHVybiB0aGlzLl9fc2hhZHlfbmF0aXZlX3JlbW92ZUV2ZW50TGlzdGVuZXIoYSxiLGQpO3ZhciBoPWd8fHRoaXM7Zz12b2lkIDA7dmFyIGs9bnVsbDt0cnl7az1iW2pjXX1jYXRjaChsKXt9ayYmKGU9eWMoayxoLGEsYyxlLGYpLC0xPGUmJihnPWsuc3BsaWNlKGUsMSlbMF0uYWIsay5sZW5ndGh8fChiW2pjXT12b2lkIDApKSk7dGhpcy5fX3NoYWR5X25hdGl2ZV9yZW1vdmVFdmVudExpc3RlbmVyKGEsZ3x8YixkKTtnJiZ1Y1thXSYmdGhpcy5fX2hhbmRsZXJzJiZ0aGlzLl9faGFuZGxlcnNbYV0mJihhPXRoaXMuX19oYW5kbGVyc1thXVtjP1wiY2FwdHVyZVwiOlwiYnViYmxlXCJdLGI9YS5pbmRleE9mKGcpLC0xPGImJmEuc3BsaWNlKGIsMSkpfX1cbmZ1bmN0aW9uIENjKCl7Zm9yKHZhciBhIGluIHVjKXdpbmRvdy5fX3NoYWR5X25hdGl2ZV9hZGRFdmVudExpc3RlbmVyKGEsZnVuY3Rpb24oYSl7YS5fX3RhcmdldHx8KEFjKGEpLHhjKGEpKX0sITApfVxudmFyIERjPUUoe2dldCBjb21wb3NlZCgpe3ZvaWQgMD09PXRoaXMuX19jb21wb3NlZCYmKGtjP3RoaXMuX19jb21wb3NlZD1cImZvY3VzaW5cIj09PXRoaXMudHlwZXx8XCJmb2N1c291dFwiPT09dGhpcy50eXBlfHxrYyh0aGlzKTohMSE9PXRoaXMuaXNUcnVzdGVkJiYodGhpcy5fX2NvbXBvc2VkPW5jW3RoaXMudHlwZV0pKTtyZXR1cm4gdGhpcy5fX2NvbXBvc2VkfHwhMX0sY29tcG9zZWRQYXRoOmZ1bmN0aW9uKCl7dGhpcy5fX2NvbXBvc2VkUGF0aHx8KHRoaXMuX19jb21wb3NlZFBhdGg9cWModGhpcy5fX3RhcmdldCx0aGlzLmNvbXBvc2VkKSk7cmV0dXJuIHRoaXMuX19jb21wb3NlZFBhdGh9LGdldCB0YXJnZXQoKXtyZXR1cm4gc2ModGhpcy5jdXJyZW50VGFyZ2V0fHx0aGlzLl9fcHJldmlvdXNDdXJyZW50VGFyZ2V0LHRoaXMuY29tcG9zZWRQYXRoKCkpfSxnZXQgcmVsYXRlZFRhcmdldCgpe2lmKCF0aGlzLl9fcmVsYXRlZFRhcmdldClyZXR1cm4gbnVsbDt0aGlzLl9fcmVsYXRlZFRhcmdldENvbXBvc2VkUGF0aHx8XG4odGhpcy5fX3JlbGF0ZWRUYXJnZXRDb21wb3NlZFBhdGg9cWModGhpcy5fX3JlbGF0ZWRUYXJnZXQsITApKTtyZXR1cm4gc2ModGhpcy5jdXJyZW50VGFyZ2V0fHx0aGlzLl9fcHJldmlvdXNDdXJyZW50VGFyZ2V0LHRoaXMuX19yZWxhdGVkVGFyZ2V0Q29tcG9zZWRQYXRoKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7RXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbi5jYWxsKHRoaXMpO3RoaXMuZ2E9ITB9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe0V2ZW50LnByb3RvdHlwZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24uY2FsbCh0aGlzKTt0aGlzLmdhPXRoaXMuX19pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ITB9fSk7XG5mdW5jdGlvbiBBYyhhKXthLl9fdGFyZ2V0PWEudGFyZ2V0O2EuX19yZWxhdGVkVGFyZ2V0PWEucmVsYXRlZFRhcmdldDtpZihCLkQpe3ZhciBiPU9iamVjdC5nZXRQcm90b3R5cGVPZihhKTtpZighT2JqZWN0Lmhhc093blByb3BlcnR5KGIsXCJfX3NoYWR5X3BhdGNoZWRQcm90b1wiKSl7dmFyIGM9T2JqZWN0LmNyZWF0ZShiKTtjLl9fc2hhZHlfc291cmNlUHJvdG89YjtEKGMsRGMpO2IuX19zaGFkeV9wYXRjaGVkUHJvdG89Y31hLl9fcHJvdG9fXz1iLl9fc2hhZHlfcGF0Y2hlZFByb3RvfWVsc2UgRChhLERjKX12YXIgRWM9dGMoRXZlbnQpLEZjPXRjKEN1c3RvbUV2ZW50KSxHYz10YyhNb3VzZUV2ZW50KTtcbmZ1bmN0aW9uIEhjKCl7aWYoIWtjJiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEV2ZW50LnByb3RvdHlwZSxcImlzVHJ1c3RlZFwiKSl7dmFyIGE9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgTW91c2VFdmVudChcImNsaWNrXCIse2J1YmJsZXM6ITAsY2FuY2VsYWJsZTohMCxjb21wb3NlZDohMH0pO3RoaXMuX19zaGFkeV9kaXNwYXRjaEV2ZW50KGEpfTtFbGVtZW50LnByb3RvdHlwZS5jbGljaz9FbGVtZW50LnByb3RvdHlwZS5jbGljaz1hOkhUTUxFbGVtZW50LnByb3RvdHlwZS5jbGljayYmKEhUTUxFbGVtZW50LnByb3RvdHlwZS5jbGljaz1hKX19dmFyIEljPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKERvY3VtZW50LnByb3RvdHlwZSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVyblwib25cIj09PWEuc3Vic3RyaW5nKDAsMil9KTtmdW5jdGlvbiBKYyhhLGIpe3JldHVybntpbmRleDphLFc6W10sWjpifX1cbmZ1bmN0aW9uIEtjKGEsYixjLGQpe3ZhciBlPTAsZj0wLGc9MCxoPTAsaz1NYXRoLm1pbihiLWUsZC1mKTtpZigwPT1lJiYwPT1mKWE6e2ZvcihnPTA7ZzxrO2crKylpZihhW2ddIT09Y1tnXSlicmVhayBhO2c9a31pZihiPT1hLmxlbmd0aCYmZD09Yy5sZW5ndGgpe2g9YS5sZW5ndGg7Zm9yKHZhciBsPWMubGVuZ3RoLG49MDtuPGstZyYmTGMoYVstLWhdLGNbLS1sXSk7KW4rKztoPW59ZSs9ZztmKz1nO2ItPWg7ZC09aDtpZigwPT1iLWUmJjA9PWQtZilyZXR1cm5bXTtpZihlPT1iKXtmb3IoYj1KYyhlLDApO2Y8ZDspYi5XLnB1c2goY1tmKytdKTtyZXR1cm5bYl19aWYoZj09ZClyZXR1cm5bSmMoZSxiLWUpXTtrPWU7Zz1mO2Q9ZC1nKzE7aD1iLWsrMTtiPUFycmF5KGQpO2ZvcihsPTA7bDxkO2wrKyliW2xdPUFycmF5KGgpLGJbbF1bMF09bDtmb3IobD0wO2w8aDtsKyspYlswXVtsXT1sO2ZvcihsPTE7bDxkO2wrKylmb3Iobj0xO248aDtuKyspaWYoYVtrK24tMV09PT1jW2crbC0xXSliW2xdW25dPVxuYltsLTFdW24tMV07ZWxzZXt2YXIgcT1iW2wtMV1bbl0rMSxJPWJbbF1bbi0xXSsxO2JbbF1bbl09cTxJP3E6SX1rPWIubGVuZ3RoLTE7Zz1iWzBdLmxlbmd0aC0xO2Q9YltrXVtnXTtmb3IoYT1bXTswPGt8fDA8ZzspMD09az8oYS5wdXNoKDIpLGctLSk6MD09Zz8oYS5wdXNoKDMpLGstLSk6KGg9YltrLTFdW2ctMV0sbD1iW2stMV1bZ10sbj1iW2tdW2ctMV0scT1sPG4/bDxoP2w6aDpuPGg/bjpoLHE9PWg/KGg9PWQ/YS5wdXNoKDApOihhLnB1c2goMSksZD1oKSxrLS0sZy0tKTpxPT1sPyhhLnB1c2goMyksay0tLGQ9bCk6KGEucHVzaCgyKSxnLS0sZD1uKSk7YS5yZXZlcnNlKCk7Yj12b2lkIDA7az1bXTtmb3IoZz0wO2c8YS5sZW5ndGg7ZysrKXN3aXRjaChhW2ddKXtjYXNlIDA6YiYmKGsucHVzaChiKSxiPXZvaWQgMCk7ZSsrO2YrKzticmVhaztjYXNlIDE6Ynx8KGI9SmMoZSwwKSk7Yi5aKys7ZSsrO2IuVy5wdXNoKGNbZl0pO2YrKzticmVhaztjYXNlIDI6Ynx8KGI9SmMoZSwwKSk7XG5iLlorKztlKys7YnJlYWs7Y2FzZSAzOmJ8fChiPUpjKGUsMCkpLGIuVy5wdXNoKGNbZl0pLGYrK31iJiZrLnB1c2goYik7cmV0dXJuIGt9ZnVuY3Rpb24gTGMoYSxiKXtyZXR1cm4gYT09PWJ9O2Z1bmN0aW9uIE1jKGEsYixjLGQpe2hjKGEpO2Q9ZHx8bnVsbDt2YXIgZT16KGEpLGY9ZD96KGQpOm51bGw7ZS5wcmV2aW91c1NpYmxpbmc9ZD9mLnByZXZpb3VzU2libGluZzpiLl9fc2hhZHlfbGFzdENoaWxkO2lmKGY9QShlLnByZXZpb3VzU2libGluZykpZi5uZXh0U2libGluZz1hO2lmKGY9QShlLm5leHRTaWJsaW5nPWQpKWYucHJldmlvdXNTaWJsaW5nPWE7ZS5wYXJlbnROb2RlPWI7ZD9kPT09Yy5maXJzdENoaWxkJiYoYy5maXJzdENoaWxkPWEpOihjLmxhc3RDaGlsZD1hLGMuZmlyc3RDaGlsZHx8KGMuZmlyc3RDaGlsZD1hKSk7Yy5jaGlsZE5vZGVzPW51bGx9XG5mdW5jdGlvbiBOYyhhLGIsYyl7aWMoYik7dmFyIGQ9eihiKTt2b2lkIDAhPT1kLmZpcnN0Q2hpbGQmJihkLmNoaWxkTm9kZXM9bnVsbCk7aWYoYS5ub2RlVHlwZT09PU5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSlmb3IoYT1hLl9fc2hhZHlfbmF0aXZlX2ZpcnN0Q2hpbGQ7YTthPWEuX19zaGFkeV9uYXRpdmVfbmV4dFNpYmxpbmcpTWMoYSxiLGQsYyk7ZWxzZSBNYyhhLGIsZCxjKX1cbmZ1bmN0aW9uIE9jKGEsYil7dmFyIGM9eihhKTtiPXooYik7YT09PWIuZmlyc3RDaGlsZCYmKGIuZmlyc3RDaGlsZD1jLm5leHRTaWJsaW5nKTthPT09Yi5sYXN0Q2hpbGQmJihiLmxhc3RDaGlsZD1jLnByZXZpb3VzU2libGluZyk7YT1jLnByZXZpb3VzU2libGluZzt2YXIgZD1jLm5leHRTaWJsaW5nO2EmJih6KGEpLm5leHRTaWJsaW5nPWQpO2QmJih6KGQpLnByZXZpb3VzU2libGluZz1hKTtjLnBhcmVudE5vZGU9Yy5wcmV2aW91c1NpYmxpbmc9Yy5uZXh0U2libGluZz12b2lkIDA7dm9pZCAwIT09Yi5jaGlsZE5vZGVzJiYoYi5jaGlsZE5vZGVzPW51bGwpfVxuZnVuY3Rpb24gUGMoYSxiKXt2YXIgYz16KGEpO2lmKGJ8fHZvaWQgMD09PWMuZmlyc3RDaGlsZCl7Yy5jaGlsZE5vZGVzPW51bGw7dmFyIGQ9Yy5maXJzdENoaWxkPWEuX19zaGFkeV9uYXRpdmVfZmlyc3RDaGlsZDtjLmxhc3RDaGlsZD1hLl9fc2hhZHlfbmF0aXZlX2xhc3RDaGlsZDtpYyhhKTtjPWQ7Zm9yKGQ9dm9pZCAwO2M7Yz1jLl9fc2hhZHlfbmF0aXZlX25leHRTaWJsaW5nKXt2YXIgZT16KGMpO2UucGFyZW50Tm9kZT1ifHxhO2UubmV4dFNpYmxpbmc9Yy5fX3NoYWR5X25hdGl2ZV9uZXh0U2libGluZztlLnByZXZpb3VzU2libGluZz1kfHxudWxsO2Q9YztoYyhjKX19fTt2YXIgUWM9bnVsbDtmdW5jdGlvbiBSYygpe1FjfHwoUWM9d2luZG93LlNoYWR5Q1NTJiZ3aW5kb3cuU2hhZHlDU1MuU2NvcGluZ1NoaW0pO3JldHVybiBRY3x8bnVsbH1mdW5jdGlvbiBTYyhhLGIpe3ZhciBjPVJjKCk7YyYmYy51bnNjb3BlTm9kZShhLGIpfWZ1bmN0aW9uIFRjKGEsYil7dmFyIGM9UmMoKTtpZighYylyZXR1cm4hMDtpZihhLm5vZGVUeXBlPT09Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFKXtjPSEwO2ZvcihhPWEuX19zaGFkeV9maXJzdENoaWxkO2E7YT1hLl9fc2hhZHlfbmV4dFNpYmxpbmcpYz1jJiZUYyhhLGIpO3JldHVybiBjfXJldHVybiBhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU/ITA6Yy5jdXJyZW50U2NvcGVGb3JOb2RlKGEpPT09Yn1mdW5jdGlvbiBVYyhhKXtpZihhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREUpcmV0dXJuXCJcIjt2YXIgYj1SYygpO3JldHVybiBiP2IuY3VycmVudFNjb3BlRm9yTm9kZShhKTpcIlwifVxuZnVuY3Rpb24gVmMoYSxiKXtpZihhKWZvcihhLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJmIoYSksYT1hLl9fc2hhZHlfZmlyc3RDaGlsZDthO2E9YS5fX3NoYWR5X25leHRTaWJsaW5nKWEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmVmMoYSxiKX07dmFyIFdjPXdpbmRvdy5kb2N1bWVudCxYYz1CLnRhLFljPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTm9kZS5wcm90b3R5cGUsXCJpc0Nvbm5lY3RlZFwiKSxaYz1ZYyYmWWMuZ2V0O2Z1bmN0aW9uICRjKGEpe2Zvcih2YXIgYjtiPWEuX19zaGFkeV9maXJzdENoaWxkOylhLl9fc2hhZHlfcmVtb3ZlQ2hpbGQoYil9ZnVuY3Rpb24gYWQoYSl7dmFyIGI9QShhKTtpZihiJiZ2b2lkIDAhPT1iLmNhKWZvcihiPWEuX19zaGFkeV9maXJzdENoaWxkO2I7Yj1iLl9fc2hhZHlfbmV4dFNpYmxpbmcpYWQoYik7aWYoYT1BKGEpKWEuY2E9dm9pZCAwfWZ1bmN0aW9uIGJkKGEpe3ZhciBiPWE7YSYmXCJzbG90XCI9PT1hLmxvY2FsTmFtZSYmKGI9KGI9KGI9QShhKSkmJmIuVCkmJmIubGVuZ3RoP2JbMF06YmQoYS5fX3NoYWR5X25leHRTaWJsaW5nKSk7cmV0dXJuIGJ9XG5mdW5jdGlvbiBjZChhLGIsYyl7aWYoYT0oYT1BKGEpKSYmYS5WKWImJmEuYWRkZWROb2Rlcy5wdXNoKGIpLGMmJmEucmVtb3ZlZE5vZGVzLnB1c2goYyksRGIoYSl9XG52YXIgZ2Q9RSh7Z2V0IHBhcmVudE5vZGUoKXt2YXIgYT1BKHRoaXMpO2E9YSYmYS5wYXJlbnROb2RlO3JldHVybiB2b2lkIDAhPT1hP2E6dGhpcy5fX3NoYWR5X25hdGl2ZV9wYXJlbnROb2RlfSxnZXQgZmlyc3RDaGlsZCgpe3ZhciBhPUEodGhpcyk7YT1hJiZhLmZpcnN0Q2hpbGQ7cmV0dXJuIHZvaWQgMCE9PWE/YTp0aGlzLl9fc2hhZHlfbmF0aXZlX2ZpcnN0Q2hpbGR9LGdldCBsYXN0Q2hpbGQoKXt2YXIgYT1BKHRoaXMpO2E9YSYmYS5sYXN0Q2hpbGQ7cmV0dXJuIHZvaWQgMCE9PWE/YTp0aGlzLl9fc2hhZHlfbmF0aXZlX2xhc3RDaGlsZH0sZ2V0IG5leHRTaWJsaW5nKCl7dmFyIGE9QSh0aGlzKTthPWEmJmEubmV4dFNpYmxpbmc7cmV0dXJuIHZvaWQgMCE9PWE/YTp0aGlzLl9fc2hhZHlfbmF0aXZlX25leHRTaWJsaW5nfSxnZXQgcHJldmlvdXNTaWJsaW5nKCl7dmFyIGE9QSh0aGlzKTthPWEmJmEucHJldmlvdXNTaWJsaW5nO3JldHVybiB2b2lkIDAhPT1hP2E6dGhpcy5fX3NoYWR5X25hdGl2ZV9wcmV2aW91c1NpYmxpbmd9LFxuZ2V0IGNoaWxkTm9kZXMoKXtpZihrYih0aGlzKSl7dmFyIGE9QSh0aGlzKTtpZighYS5jaGlsZE5vZGVzKXthLmNoaWxkTm9kZXM9W107Zm9yKHZhciBiPXRoaXMuX19zaGFkeV9maXJzdENoaWxkO2I7Yj1iLl9fc2hhZHlfbmV4dFNpYmxpbmcpYS5jaGlsZE5vZGVzLnB1c2goYil9dmFyIGM9YS5jaGlsZE5vZGVzfWVsc2UgYz10aGlzLl9fc2hhZHlfbmF0aXZlX2NoaWxkTm9kZXM7Yy5pdGVtPWZ1bmN0aW9uKGEpe3JldHVybiBjW2FdfTtyZXR1cm4gY30sZ2V0IHBhcmVudEVsZW1lbnQoKXt2YXIgYT1BKHRoaXMpOyhhPWEmJmEucGFyZW50Tm9kZSkmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERSYmKGE9bnVsbCk7cmV0dXJuIHZvaWQgMCE9PWE/YTp0aGlzLl9fc2hhZHlfbmF0aXZlX3BhcmVudEVsZW1lbnR9LGdldCBpc0Nvbm5lY3RlZCgpe2lmKFpjJiZaYy5jYWxsKHRoaXMpKXJldHVybiEwO2lmKHRoaXMubm9kZVR5cGU9PU5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSlyZXR1cm4hMTtcbnZhciBhPXRoaXMub3duZXJEb2N1bWVudDtpZih0Yil7aWYoYS5fX3NoYWR5X25hdGl2ZV9jb250YWlucyh0aGlzKSlyZXR1cm4hMH1lbHNlIGlmKGEuZG9jdW1lbnRFbGVtZW50JiZhLmRvY3VtZW50RWxlbWVudC5fX3NoYWR5X25hdGl2ZV9jb250YWlucyh0aGlzKSlyZXR1cm4hMDtmb3IoYT10aGlzO2EmJiEoYSBpbnN0YW5jZW9mIERvY3VtZW50KTspYT1hLl9fc2hhZHlfcGFyZW50Tm9kZXx8KEMoYSk/YS5ob3N0OnZvaWQgMCk7cmV0dXJuISEoYSYmYSBpbnN0YW5jZW9mIERvY3VtZW50KX0sZ2V0IHRleHRDb250ZW50KCl7aWYoa2IodGhpcykpe2Zvcih2YXIgYT1bXSxiPXRoaXMuX19zaGFkeV9maXJzdENoaWxkO2I7Yj1iLl9fc2hhZHlfbmV4dFNpYmxpbmcpYi5ub2RlVHlwZSE9PU5vZGUuQ09NTUVOVF9OT0RFJiZhLnB1c2goYi5fX3NoYWR5X3RleHRDb250ZW50KTtyZXR1cm4gYS5qb2luKFwiXCIpfXJldHVybiB0aGlzLl9fc2hhZHlfbmF0aXZlX3RleHRDb250ZW50fSxzZXQgdGV4dENvbnRlbnQoYSl7aWYoXCJ1bmRlZmluZWRcIj09PVxudHlwZW9mIGF8fG51bGw9PT1hKWE9XCJcIjtzd2l0Y2godGhpcy5ub2RlVHlwZSl7Y2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpjYXNlIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERTppZigha2IodGhpcykmJkIuRCl7dmFyIGI9dGhpcy5fX3NoYWR5X2ZpcnN0Q2hpbGQ7KGIhPXRoaXMuX19zaGFkeV9sYXN0Q2hpbGR8fGImJmIubm9kZVR5cGUhPU5vZGUuVEVYVF9OT0RFKSYmJGModGhpcyk7dGhpcy5fX3NoYWR5X25hdGl2ZV90ZXh0Q29udGVudD1hfWVsc2UgJGModGhpcyksKDA8YS5sZW5ndGh8fHRoaXMubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSkmJnRoaXMuX19zaGFkeV9pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpO2JyZWFrO2RlZmF1bHQ6dGhpcy5ub2RlVmFsdWU9YX19LGluc2VydEJlZm9yZTpmdW5jdGlvbihhLGIpe2lmKHRoaXMub3duZXJEb2N1bWVudCE9PVdjJiZhLm93bmVyRG9jdW1lbnQhPT1XYylyZXR1cm4gdGhpcy5fX3NoYWR5X25hdGl2ZV9pbnNlcnRCZWZvcmUoYSxcbmIpLGE7aWYoYT09PXRoaXMpdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnYXBwZW5kQ2hpbGQnIG9uICdOb2RlJzogVGhlIG5ldyBjaGlsZCBlbGVtZW50IGNvbnRhaW5zIHRoZSBwYXJlbnQuXCIpO2lmKGIpe3ZhciBjPUEoYik7Yz1jJiZjLnBhcmVudE5vZGU7aWYodm9pZCAwIT09YyYmYyE9PXRoaXN8fHZvaWQgMD09PWMmJmIuX19zaGFkeV9uYXRpdmVfcGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnaW5zZXJ0QmVmb3JlJyBvbiAnTm9kZSc6IFRoZSBub2RlIGJlZm9yZSB3aGljaCB0aGUgbmV3IG5vZGUgaXMgdG8gYmUgaW5zZXJ0ZWQgaXMgbm90IGEgY2hpbGQgb2YgdGhpcyBub2RlLlwiKTt9aWYoYj09PWEpcmV0dXJuIGE7dmFyIGQ9W10sZT0oYz1kZCh0aGlzKSk/Yy5ob3N0LmxvY2FsTmFtZTpVYyh0aGlzKSxmPWEuX19zaGFkeV9wYXJlbnROb2RlO2lmKGYpe3ZhciBnPVVjKGEpO3ZhciBoPSEhY3x8IWRkKGEpfHxYYyYmdm9pZCAwIT09XG50aGlzLl9fbm9JbnNlcnRpb25Qb2ludDtmLl9fc2hhZHlfcmVtb3ZlQ2hpbGQoYSxoKX1mPSEwO3ZhciBrPSghWGN8fHZvaWQgMD09PWEuX19ub0luc2VydGlvblBvaW50JiZ2b2lkIDA9PT10aGlzLl9fbm9JbnNlcnRpb25Qb2ludCkmJiFUYyhhLGUpLGw9YyYmIWEuX19ub0luc2VydGlvblBvaW50JiYoIVhjfHxhLm5vZGVUeXBlPT09Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFKTtpZihsfHxrKWsmJihnPWd8fFVjKGEpKSxWYyhhLGZ1bmN0aW9uKGEpe2wmJlwic2xvdFwiPT09YS5sb2NhbE5hbWUmJmQucHVzaChhKTtpZihrKXt2YXIgYj1nO1JjKCkmJihiJiZTYyhhLGIpLChiPVJjKCkpJiZiLnNjb3BlTm9kZShhLGUpKX19KTtkLmxlbmd0aCYmKGVkKGMpLGMuYy5wdXNoLmFwcGx5KGMuYyxkIGluc3RhbmNlb2YgQXJyYXk/ZDprYShqYShkKSkpLEooYykpO2tiKHRoaXMpJiYoTmMoYSx0aGlzLGIpLGM9QSh0aGlzKSxsYih0aGlzKT8oSihjLnJvb3QpLGY9ITEpOmMucm9vdCYmKGY9XG4hMSkpO2Y/KGM9Qyh0aGlzKT90aGlzLmhvc3Q6dGhpcyxiPyhiPWJkKGIpLGMuX19zaGFkeV9uYXRpdmVfaW5zZXJ0QmVmb3JlKGEsYikpOmMuX19zaGFkeV9uYXRpdmVfYXBwZW5kQ2hpbGQoYSkpOmEub3duZXJEb2N1bWVudCE9PXRoaXMub3duZXJEb2N1bWVudCYmdGhpcy5vd25lckRvY3VtZW50LmFkb3B0Tm9kZShhKTtjZCh0aGlzLGEpO3JldHVybiBhfSxhcHBlbmRDaGlsZDpmdW5jdGlvbihhKXtpZih0aGlzIT1hfHwhQyhhKSlyZXR1cm4gdGhpcy5fX3NoYWR5X2luc2VydEJlZm9yZShhKX0scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24oYSxiKXtiPXZvaWQgMD09PWI/ITE6YjtpZih0aGlzLm93bmVyRG9jdW1lbnQhPT1XYylyZXR1cm4gdGhpcy5fX3NoYWR5X25hdGl2ZV9yZW1vdmVDaGlsZChhKTtpZihhLl9fc2hhZHlfcGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgRXJyb3IoXCJUaGUgbm9kZSB0byBiZSByZW1vdmVkIGlzIG5vdCBhIGNoaWxkIG9mIHRoaXMgbm9kZTogXCIrYSk7dmFyIGM9XG5kZChhKSxkPWMmJmZkKGMsYSksZT1BKHRoaXMpO2lmKGtiKHRoaXMpJiYoT2MoYSx0aGlzKSxsYih0aGlzKSkpe0ooZS5yb290KTt2YXIgZj0hMH1pZihSYygpJiYhYiYmYyYmYS5ub2RlVHlwZSE9PU5vZGUuVEVYVF9OT0RFKXt2YXIgZz1VYyhhKTtWYyhhLGZ1bmN0aW9uKGEpe1NjKGEsZyl9KX1hZChhKTtjJiYoKGI9dGhpcyYmXCJzbG90XCI9PT10aGlzLmxvY2FsTmFtZSkmJihmPSEwKSwoZHx8YikmJkooYykpO2Z8fChmPUModGhpcyk/dGhpcy5ob3N0OnRoaXMsKCFlLnJvb3QmJlwic2xvdFwiIT09YS5sb2NhbE5hbWV8fGY9PT1hLl9fc2hhZHlfbmF0aXZlX3BhcmVudE5vZGUpJiZmLl9fc2hhZHlfbmF0aXZlX3JlbW92ZUNoaWxkKGEpKTtjZCh0aGlzLG51bGwsYSk7cmV0dXJuIGF9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihhLGIpe3RoaXMuX19zaGFkeV9pbnNlcnRCZWZvcmUoYSxiKTt0aGlzLl9fc2hhZHlfcmVtb3ZlQ2hpbGQoYik7cmV0dXJuIGF9LGNsb25lTm9kZTpmdW5jdGlvbihhKXtpZihcInRlbXBsYXRlXCI9PVxudGhpcy5sb2NhbE5hbWUpcmV0dXJuIHRoaXMuX19zaGFkeV9uYXRpdmVfY2xvbmVOb2RlKGEpO3ZhciBiPXRoaXMuX19zaGFkeV9uYXRpdmVfY2xvbmVOb2RlKCExKTtpZihhJiZiLm5vZGVUeXBlIT09Tm9kZS5BVFRSSUJVVEVfTk9ERSl7YT10aGlzLl9fc2hhZHlfZmlyc3RDaGlsZDtmb3IodmFyIGM7YTthPWEuX19zaGFkeV9uZXh0U2libGluZyljPWEuX19zaGFkeV9jbG9uZU5vZGUoITApLGIuX19zaGFkeV9hcHBlbmRDaGlsZChjKX1yZXR1cm4gYn0sZ2V0Um9vdE5vZGU6ZnVuY3Rpb24oYSl7aWYodGhpcyYmdGhpcy5ub2RlVHlwZSl7dmFyIGI9eih0aGlzKSxjPWIuY2E7dm9pZCAwPT09YyYmKEModGhpcyk/KGM9dGhpcyxiLmNhPWMpOihjPShjPXRoaXMuX19zaGFkeV9wYXJlbnROb2RlKT9jLl9fc2hhZHlfZ2V0Um9vdE5vZGUoYSk6dGhpcyxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuX19zaGFkeV9uYXRpdmVfY29udGFpbnModGhpcykmJihiLmNhPWMpKSk7cmV0dXJuIGN9fSxcbmNvbnRhaW5zOmZ1bmN0aW9uKGEpe3JldHVybiB1Yih0aGlzLGEpfX0pO2Z1bmN0aW9uIGhkKGEsYixjKXt2YXIgZD1bXTtpZChhLGIsYyxkKTtyZXR1cm4gZH1mdW5jdGlvbiBpZChhLGIsYyxkKXtmb3IoYT1hLl9fc2hhZHlfZmlyc3RDaGlsZDthO2E9YS5fX3NoYWR5X25leHRTaWJsaW5nKXt2YXIgZTtpZihlPWEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7ZT1hO3ZhciBmPWIsZz1jLGg9ZCxrPWYoZSk7ayYmaC5wdXNoKGUpO2cmJmcoayk/ZT1rOihpZChlLGYsZyxoKSxlPXZvaWQgMCl9aWYoZSlicmVha319XG52YXIgamQ9RSh7Z2V0IGZpcnN0RWxlbWVudENoaWxkKCl7dmFyIGE9QSh0aGlzKTtpZihhJiZ2b2lkIDAhPT1hLmZpcnN0Q2hpbGQpe2ZvcihhPXRoaXMuX19zaGFkeV9maXJzdENoaWxkO2EmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspYT1hLl9fc2hhZHlfbmV4dFNpYmxpbmc7cmV0dXJuIGF9cmV0dXJuIHRoaXMuX19zaGFkeV9uYXRpdmVfZmlyc3RFbGVtZW50Q2hpbGR9LGdldCBsYXN0RWxlbWVudENoaWxkKCl7dmFyIGE9QSh0aGlzKTtpZihhJiZ2b2lkIDAhPT1hLmxhc3RDaGlsZCl7Zm9yKGE9dGhpcy5fX3NoYWR5X2xhc3RDaGlsZDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5fX3NoYWR5X3ByZXZpb3VzU2libGluZztyZXR1cm4gYX1yZXR1cm4gdGhpcy5fX3NoYWR5X25hdGl2ZV9sYXN0RWxlbWVudENoaWxkfSxnZXQgY2hpbGRyZW4oKXtyZXR1cm4ga2IodGhpcyk/dmIoQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKHhiKHRoaXMpLFxuZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX0pKTp0aGlzLl9fc2hhZHlfbmF0aXZlX2NoaWxkcmVufSxnZXQgY2hpbGRFbGVtZW50Q291bnQoKXt2YXIgYT10aGlzLl9fc2hhZHlfY2hpbGRyZW47cmV0dXJuIGE/YS5sZW5ndGg6MH19KSxrZD1FKHtxdWVyeVNlbGVjdG9yOmZ1bmN0aW9uKGEpe3JldHVybiBoZCh0aGlzLGZ1bmN0aW9uKGIpe3JldHVybiBvYi5jYWxsKGIsYSl9LGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pWzBdfHxudWxsfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGEsYil7aWYoYil7Yj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9fc2hhZHlfbmF0aXZlX3F1ZXJ5U2VsZWN0b3JBbGwoYSkpO3ZhciBjPXRoaXMuX19zaGFkeV9nZXRSb290Tm9kZSgpO3JldHVybiBiLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5fX3NoYWR5X2dldFJvb3ROb2RlKCk9PWN9KX1yZXR1cm4gaGQodGhpcyxmdW5jdGlvbihiKXtyZXR1cm4gb2IuY2FsbChiLFxuYSl9KX19KSxsZD1CLnRhJiYhQi5NP09iamVjdC5hc3NpZ24oe30samQpOmpkO09iamVjdC5hc3NpZ24oamQsa2QpO3ZhciBtZD1FKHtnZXRFbGVtZW50QnlJZDpmdW5jdGlvbihhKXtyZXR1cm5cIlwiPT09YT9udWxsOmhkKHRoaXMsZnVuY3Rpb24oYil7cmV0dXJuIGIuaWQ9PWF9LGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pWzBdfHxudWxsfX0pO3ZhciBuZD1FKHtnZXQgYWN0aXZlRWxlbWVudCgpe3ZhciBhPUIuRD9kb2N1bWVudC5fX3NoYWR5X25hdGl2ZV9hY3RpdmVFbGVtZW50OmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7aWYoIWF8fCFhLm5vZGVUeXBlKXJldHVybiBudWxsO3ZhciBiPSEhQyh0aGlzKTtpZighKHRoaXM9PT1kb2N1bWVudHx8YiYmdGhpcy5ob3N0IT09YSYmdGhpcy5ob3N0Ll9fc2hhZHlfbmF0aXZlX2NvbnRhaW5zKGEpKSlyZXR1cm4gbnVsbDtmb3IoYj1kZChhKTtiJiZiIT09dGhpczspYT1iLmhvc3QsYj1kZChhKTtyZXR1cm4gdGhpcz09PWRvY3VtZW50P2I/bnVsbDphOmI9PT10aGlzP2E6bnVsbH19KTt2YXIgb2Q9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiaW5lcnRcIikscGQ9RSh7Z2V0IGlubmVySFRNTCgpe3JldHVybiBrYih0aGlzKT9RYihcInRlbXBsYXRlXCI9PT10aGlzLmxvY2FsTmFtZT90aGlzLmNvbnRlbnQ6dGhpcyx4Yik6dGhpcy5fX3NoYWR5X25hdGl2ZV9pbm5lckhUTUx9LHNldCBpbm5lckhUTUwoYSl7aWYoXCJ0ZW1wbGF0ZVwiPT09dGhpcy5sb2NhbE5hbWUpdGhpcy5fX3NoYWR5X25hdGl2ZV9pbm5lckhUTUw9YTtlbHNleyRjKHRoaXMpO3ZhciBiPXRoaXMubG9jYWxOYW1lfHxcImRpdlwiO2I9dGhpcy5uYW1lc3BhY2VVUkkmJnRoaXMubmFtZXNwYWNlVVJJIT09b2QubmFtZXNwYWNlVVJJP29kLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZVVSSSxiKTpvZC5jcmVhdGVFbGVtZW50KGIpO2ZvcihCLkQ/Yi5fX3NoYWR5X25hdGl2ZV9pbm5lckhUTUw9YTpiLmlubmVySFRNTD1hO2E9Yi5fX3NoYWR5X2ZpcnN0Q2hpbGQ7KXRoaXMuX19zaGFkeV9pbnNlcnRCZWZvcmUoYSl9fX0pO3ZhciBxZD1FKHthZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXtcIm9iamVjdFwiIT09dHlwZW9mIGMmJihjPXtjYXB0dXJlOiEhY30pO2MuTz1jLk98fHRoaXM7dGhpcy5ob3N0Ll9fc2hhZHlfYWRkRXZlbnRMaXN0ZW5lcihhLGIsYyl9LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe1wib2JqZWN0XCIhPT10eXBlb2YgYyYmKGM9e2NhcHR1cmU6ISFjfSk7Yy5PPWMuT3x8dGhpczt0aGlzLmhvc3QuX19zaGFkeV9yZW1vdmVFdmVudExpc3RlbmVyKGEsYixjKX19KTtmdW5jdGlvbiByZChhLGIpe0QoYSxxZCxiKTtEKGEsbmQsYik7RChhLHBkLGIpO0QoYSxqZCxiKTtCLk0mJiFiPyhEKGEsZ2QsYiksRChhLG1kLGIpKTpCLkR8fChEKGEsY2MpLEQoYSxhYyksRChhLGJjKSl9O3ZhciBzZD17fSx0ZD1CLmRlZmVyQ29ubmVjdGlvbkNhbGxiYWNrcyYmXCJsb2FkaW5nXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlLHVkO2Z1bmN0aW9uIHZkKGEpe3ZhciBiPVtdO2RvIGIudW5zaGlmdChhKTt3aGlsZShhPWEuX19zaGFkeV9wYXJlbnROb2RlKTtyZXR1cm4gYn1mdW5jdGlvbiB3ZChhLGIsYyl7aWYoYSE9PXNkKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGNvbnN0cnVjdG9yXCIpO3RoaXMuYT1udWxsO3hkKHRoaXMsYixjKX1cbmZ1bmN0aW9uIHhkKGEsYixjKXthLkRhPVwiU2hhZHlSb290XCI7YS5ob3N0PWI7YS5tb2RlPWMmJmMubW9kZTtQYyhhLmhvc3QpO2I9eihhLmhvc3QpO2Iucm9vdD1hO2IuVGE9XCJjbG9zZWRcIiE9PWEubW9kZT9hOm51bGw7Yj16KGEpO2IuZmlyc3RDaGlsZD1iLmxhc3RDaGlsZD1iLnBhcmVudE5vZGU9Yi5uZXh0U2libGluZz1iLnByZXZpb3VzU2libGluZz1udWxsO2lmKEIucHJlZmVyUGVyZm9ybWFuY2UpZm9yKDtiPWEuaG9zdC5fX3NoYWR5X25hdGl2ZV9maXJzdENoaWxkOylhLmhvc3QuX19zaGFkeV9uYXRpdmVfcmVtb3ZlQ2hpbGQoYik7ZWxzZSBKKGEpfWZ1bmN0aW9uIEooYSl7YS5SfHwoYS5SPSEwLEFiKGZ1bmN0aW9uKCl7cmV0dXJuIHlkKGEpfSkpfVxuZnVuY3Rpb24geWQoYSl7dmFyIGI7aWYoYj1hLlIpe2Zvcih2YXIgYzthOylhOnthLlImJihjPWEpLGI9YTthPWIuaG9zdC5fX3NoYWR5X2dldFJvb3ROb2RlKCk7aWYoQyhhKSYmKGI9QShiLmhvc3QpKSYmMDxiLlkpYnJlYWsgYTthPXZvaWQgMH1iPWN9KGM9YikmJmMuX3JlbmRlclNlbGYoKX1cbndkLnByb3RvdHlwZS5fcmVuZGVyU2VsZj1mdW5jdGlvbigpe3ZhciBhPXRkO3RkPSEwO3RoaXMuUj0hMTtpZih0aGlzLmEpe3pkKHRoaXMpO2Zvcih2YXIgYj0wLGM7Yjx0aGlzLmEubGVuZ3RoO2IrKyl7Yz10aGlzLmFbYl07dmFyIGQ9QShjKSxlPWQuYXNzaWduZWROb2RlcztkLmFzc2lnbmVkTm9kZXM9W107ZC5UPVtdO2lmKGQucWE9ZSlmb3IoZD0wO2Q8ZS5sZW5ndGg7ZCsrKXt2YXIgZj1BKGVbZF0pO2YuaGE9Zi5hc3NpZ25lZFNsb3Q7Zi5hc3NpZ25lZFNsb3Q9PT1jJiYoZi5hc3NpZ25lZFNsb3Q9bnVsbCl9fWZvcihiPXRoaXMuaG9zdC5fX3NoYWR5X2ZpcnN0Q2hpbGQ7YjtiPWIuX19zaGFkeV9uZXh0U2libGluZylBZCh0aGlzLGIpO2ZvcihiPTA7Yjx0aGlzLmEubGVuZ3RoO2IrKyl7Yz10aGlzLmFbYl07ZT1BKGMpO2lmKCFlLmFzc2lnbmVkTm9kZXMubGVuZ3RoKWZvcihkPWMuX19zaGFkeV9maXJzdENoaWxkO2Q7ZD1kLl9fc2hhZHlfbmV4dFNpYmxpbmcpQWQodGhpcyxcbmQsYyk7KGQ9KGQ9QShjLl9fc2hhZHlfcGFyZW50Tm9kZSkpJiZkLnJvb3QpJiYobWIoZCl8fGQuUikmJmQuX3JlbmRlclNlbGYoKTtCZCh0aGlzLGUuVCxlLmFzc2lnbmVkTm9kZXMpO2lmKGQ9ZS5xYSl7Zm9yKGY9MDtmPGQubGVuZ3RoO2YrKylBKGRbZl0pLmhhPW51bGw7ZS5xYT1udWxsO2QubGVuZ3RoPmUuYXNzaWduZWROb2Rlcy5sZW5ndGgmJihlLmphPSEwKX1lLmphJiYoZS5qYT0hMSxDZCh0aGlzLGMpKX1jPXRoaXMuYTtiPVtdO2ZvcihlPTA7ZTxjLmxlbmd0aDtlKyspZD1jW2VdLl9fc2hhZHlfcGFyZW50Tm9kZSwoZj1BKGQpKSYmZi5yb290fHwhKDA+Yi5pbmRleE9mKGQpKXx8Yi5wdXNoKGQpO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspe2Y9YltjXTtlPWY9PT10aGlzP3RoaXMuaG9zdDpmO2Q9W107Zm9yKGY9Zi5fX3NoYWR5X2ZpcnN0Q2hpbGQ7ZjtmPWYuX19zaGFkeV9uZXh0U2libGluZylpZihcInNsb3RcIj09Zi5sb2NhbE5hbWUpZm9yKHZhciBnPUEoZikuVCxoPTA7aDxcbmcubGVuZ3RoO2grKylkLnB1c2goZ1toXSk7ZWxzZSBkLnB1c2goZik7Zj13YihlKTtnPUtjKGQsZC5sZW5ndGgsZixmLmxlbmd0aCk7Zm9yKHZhciBrPWg9MCxsPXZvaWQgMDtoPGcubGVuZ3RoJiYobD1nW2hdKTtoKyspe2Zvcih2YXIgbj0wLHE9dm9pZCAwO248bC5XLmxlbmd0aCYmKHE9bC5XW25dKTtuKyspcS5fX3NoYWR5X25hdGl2ZV9wYXJlbnROb2RlPT09ZSYmZS5fX3NoYWR5X25hdGl2ZV9yZW1vdmVDaGlsZChxKSxmLnNwbGljZShsLmluZGV4K2ssMSk7ay09bC5afWs9MDtmb3IobD12b2lkIDA7azxnLmxlbmd0aCYmKGw9Z1trXSk7aysrKWZvcihoPWZbbC5pbmRleF0sbj1sLmluZGV4O248bC5pbmRleCtsLlo7bisrKXE9ZFtuXSxlLl9fc2hhZHlfbmF0aXZlX2luc2VydEJlZm9yZShxLGgpLGYuc3BsaWNlKG4sMCxxKX19aWYoIUIucHJlZmVyUGVyZm9ybWFuY2UmJiF0aGlzLnBhKWZvcihiPXRoaXMuaG9zdC5fX3NoYWR5X2ZpcnN0Q2hpbGQ7YjtiPWIuX19zaGFkeV9uZXh0U2libGluZyljPVxuQShiKSxiLl9fc2hhZHlfbmF0aXZlX3BhcmVudE5vZGUhPT10aGlzLmhvc3R8fFwic2xvdFwiIT09Yi5sb2NhbE5hbWUmJmMuYXNzaWduZWRTbG90fHx0aGlzLmhvc3QuX19zaGFkeV9uYXRpdmVfcmVtb3ZlQ2hpbGQoYik7dGhpcy5wYT0hMDt0ZD1hO3VkJiZ1ZCgpfTtmdW5jdGlvbiBBZChhLGIsYyl7dmFyIGQ9eihiKSxlPWQuaGE7ZC5oYT1udWxsO2N8fChjPShhPWEuYltiLl9fc2hhZHlfc2xvdHx8XCJfX2NhdGNoYWxsXCJdKSYmYVswXSk7Yz8oeihjKS5hc3NpZ25lZE5vZGVzLnB1c2goYiksZC5hc3NpZ25lZFNsb3Q9Yyk6ZC5hc3NpZ25lZFNsb3Q9dm9pZCAwO2UhPT1kLmFzc2lnbmVkU2xvdCYmZC5hc3NpZ25lZFNsb3QmJih6KGQuYXNzaWduZWRTbG90KS5qYT0hMCl9XG5mdW5jdGlvbiBCZChhLGIsYyl7Zm9yKHZhciBkPTAsZT12b2lkIDA7ZDxjLmxlbmd0aCYmKGU9Y1tkXSk7ZCsrKWlmKFwic2xvdFwiPT1lLmxvY2FsTmFtZSl7dmFyIGY9QShlKS5hc3NpZ25lZE5vZGVzO2YmJmYubGVuZ3RoJiZCZChhLGIsZil9ZWxzZSBiLnB1c2goY1tkXSl9ZnVuY3Rpb24gQ2QoYSxiKXtiLl9fc2hhZHlfbmF0aXZlX2Rpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwic2xvdGNoYW5nZVwiKSk7Yj1BKGIpO2IuYXNzaWduZWRTbG90JiZDZChhLGIuYXNzaWduZWRTbG90KX1mdW5jdGlvbiBlZChhKXthLmM9YS5jfHxbXTthLmE9YS5hfHxbXTthLmI9YS5ifHx7fX1cbmZ1bmN0aW9uIHpkKGEpe2lmKGEuYyYmYS5jLmxlbmd0aCl7Zm9yKHZhciBiPWEuYyxjLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXTtQYyhlKTt2YXIgZj1lLl9fc2hhZHlfcGFyZW50Tm9kZTtQYyhmKTtmPUEoZik7Zi5ZPShmLll8fDApKzE7Zj1EZChlKTthLmJbZl0/KGM9Y3x8e30sY1tmXT0hMCxhLmJbZl0ucHVzaChlKSk6YS5iW2ZdPVtlXTthLmEucHVzaChlKX1pZihjKWZvcih2YXIgZyBpbiBjKWEuYltnXT1FZChhLmJbZ10pO2EuYz1bXX19ZnVuY3Rpb24gRGQoYSl7dmFyIGI9YS5uYW1lfHxhLmdldEF0dHJpYnV0ZShcIm5hbWVcIil8fFwiX19jYXRjaGFsbFwiO3JldHVybiBhLkJhPWJ9XG5mdW5jdGlvbiBFZChhKXtyZXR1cm4gYS5zb3J0KGZ1bmN0aW9uKGEsYyl7YT12ZChhKTtmb3IodmFyIGI9dmQoYyksZT0wO2U8YS5sZW5ndGg7ZSsrKXtjPWFbZV07dmFyIGY9YltlXTtpZihjIT09ZilyZXR1cm4gYT14YihjLl9fc2hhZHlfcGFyZW50Tm9kZSksYS5pbmRleE9mKGMpLWEuaW5kZXhPZihmKX19KX1cbmZ1bmN0aW9uIGZkKGEsYil7aWYoYS5hKXt6ZChhKTt2YXIgYz1hLmIsZDtmb3IoZCBpbiBjKWZvcih2YXIgZT1jW2RdLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXTtpZih1YihiLGcpKXtlLnNwbGljZShmLDEpO3ZhciBoPWEuYS5pbmRleE9mKGcpOzA8PWgmJihhLmEuc3BsaWNlKGgsMSksKGg9QShnLl9fc2hhZHlfcGFyZW50Tm9kZSkpJiZoLlkmJmguWS0tKTtmLS07Zz1BKGcpO2lmKGg9Zy5UKWZvcih2YXIgaz0wO2s8aC5sZW5ndGg7aysrKXt2YXIgbD1oW2tdLG49bC5fX3NoYWR5X25hdGl2ZV9wYXJlbnROb2RlO24mJm4uX19zaGFkeV9uYXRpdmVfcmVtb3ZlQ2hpbGQobCl9Zy5UPVtdO2cuYXNzaWduZWROb2Rlcz1bXTtoPSEwfX1yZXR1cm4gaH19ZnVuY3Rpb24gbWIoYSl7emQoYSk7cmV0dXJuISghYS5hfHwhYS5hLmxlbmd0aCl9XG4oZnVuY3Rpb24oYSl7YS5fX3Byb3RvX189RG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGU7cmQoYSxcIl9fc2hhZHlfXCIpO3JkKGEpO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGEse25vZGVUeXBlOnt2YWx1ZTpOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUsY29uZmlndXJhYmxlOiEwfSxub2RlTmFtZTp7dmFsdWU6XCIjZG9jdW1lbnQtZnJhZ21lbnRcIixjb25maWd1cmFibGU6ITB9LG5vZGVWYWx1ZTp7dmFsdWU6bnVsbCxjb25maWd1cmFibGU6ITB9fSk7W1wibG9jYWxOYW1lXCIsXCJuYW1lc3BhY2VVUklcIixcInByZWZpeFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse3ZhbHVlOnZvaWQgMCxjb25maWd1cmFibGU6ITB9KX0pO1tcIm93bmVyRG9jdW1lbnRcIixcImJhc2VVUklcIixcImlzQ29ubmVjdGVkXCJdLmZvckVhY2goZnVuY3Rpb24oYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG9zdFtiXX0sXG5jb25maWd1cmFibGU6ITB9KX0pfSkod2QucHJvdG90eXBlKTtcbmlmKHdpbmRvdy5jdXN0b21FbGVtZW50cyYmQi5rYSYmIUIucHJlZmVyUGVyZm9ybWFuY2Upe3ZhciBGZD1uZXcgTWFwO3VkPWZ1bmN0aW9uKCl7dmFyIGE9W107RmQuZm9yRWFjaChmdW5jdGlvbihiLGMpe2EucHVzaChbYyxiXSl9KTtGZC5jbGVhcigpO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdWzBdO2FbYl1bMV0/Yy5fX3NoYWR5ZG9tX2Nvbm5lY3RlZENhbGxiYWNrKCk6Yy5fX3NoYWR5ZG9tX2Rpc2Nvbm5lY3RlZENhbGxiYWNrKCl9fTt0ZCYmZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIixmdW5jdGlvbigpe3RkPSExO3VkKCl9LHtvbmNlOiEwfSk7dmFyIEdkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0wLGU9XCJfX2lzQ29ubmVjdGVkXCIrZCsrO2lmKGJ8fGMpYS5wcm90b3R5cGUuY29ubmVjdGVkQ2FsbGJhY2s9YS5wcm90b3R5cGUuX19zaGFkeWRvbV9jb25uZWN0ZWRDYWxsYmFjaz1mdW5jdGlvbigpe3RkP0ZkLnNldCh0aGlzLFxuITApOnRoaXNbZV18fCh0aGlzW2VdPSEwLGImJmIuY2FsbCh0aGlzKSl9LGEucHJvdG90eXBlLmRpc2Nvbm5lY3RlZENhbGxiYWNrPWEucHJvdG90eXBlLl9fc2hhZHlkb21fZGlzY29ubmVjdGVkQ2FsbGJhY2s9ZnVuY3Rpb24oKXt0ZD90aGlzLmlzQ29ubmVjdGVkfHxGZC5zZXQodGhpcywhMSk6dGhpc1tlXSYmKHRoaXNbZV09ITEsYyYmYy5jYWxsKHRoaXMpKX07cmV0dXJuIGF9LEhkPXdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUsZGVmaW5lPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5wcm90b3R5cGUuY29ubmVjdGVkQ2FsbGJhY2ssZD1iLnByb3RvdHlwZS5kaXNjb25uZWN0ZWRDYWxsYmFjaztIZC5jYWxsKHdpbmRvdy5jdXN0b21FbGVtZW50cyxhLEdkKGIsYyxkKSk7Yi5wcm90b3R5cGUuY29ubmVjdGVkQ2FsbGJhY2s9YztiLnByb3RvdHlwZS5kaXNjb25uZWN0ZWRDYWxsYmFjaz1kfTt3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lPWRlZmluZTtPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LkN1c3RvbUVsZW1lbnRSZWdpc3RyeS5wcm90b3R5cGUsXG5cImRlZmluZVwiLHt2YWx1ZTpkZWZpbmUsY29uZmlndXJhYmxlOiEwfSl9ZnVuY3Rpb24gZGQoYSl7YT1hLl9fc2hhZHlfZ2V0Um9vdE5vZGUoKTtpZihDKGEpKXJldHVybiBhfTtmdW5jdGlvbiBJZChhKXt0aGlzLm5vZGU9YX1yPUlkLnByb3RvdHlwZTtyLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9hZGRFdmVudExpc3RlbmVyKGEsYixjKX07ci5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfcmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGIsYyl9O3IuYXBwZW5kQ2hpbGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X2FwcGVuZENoaWxkKGEpfTtyLmluc2VydEJlZm9yZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9pbnNlcnRCZWZvcmUoYSxiKX07ci5yZW1vdmVDaGlsZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfcmVtb3ZlQ2hpbGQoYSl9O3IucmVwbGFjZUNoaWxkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X3JlcGxhY2VDaGlsZChhLGIpfTtcbnIuY2xvbmVOb2RlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9jbG9uZU5vZGUoYSl9O3IuZ2V0Um9vdE5vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X2dldFJvb3ROb2RlKGEpfTtyLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9jb250YWlucyhhKX07ci5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9kaXNwYXRjaEV2ZW50KGEpfTtyLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihhLGIpe3RoaXMubm9kZS5fX3NoYWR5X3NldEF0dHJpYnV0ZShhLGIpfTtyLmdldEF0dHJpYnV0ZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfbmF0aXZlX2dldEF0dHJpYnV0ZShhKX07ci5oYXNBdHRyaWJ1dGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X25hdGl2ZV9oYXNBdHRyaWJ1dGUoYSl9O3IucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKGEpe3RoaXMubm9kZS5fX3NoYWR5X3JlbW92ZUF0dHJpYnV0ZShhKX07XG5yLmF0dGFjaFNoYWRvdz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfYXR0YWNoU2hhZG93KGEpfTtyLmZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5ub2RlLl9fc2hhZHlfbmF0aXZlX2ZvY3VzKCl9O3IuYmx1cj1mdW5jdGlvbigpe3RoaXMubm9kZS5fX3NoYWR5X2JsdXIoKX07ci5pbXBvcnROb2RlPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5ub2RlLm5vZGVUeXBlPT09Tm9kZS5ET0NVTUVOVF9OT0RFKXJldHVybiB0aGlzLm5vZGUuX19zaGFkeV9pbXBvcnROb2RlKGEsYil9O3IuZ2V0RWxlbWVudEJ5SWQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5ub2RlLm5vZGVUeXBlPT09Tm9kZS5ET0NVTUVOVF9OT0RFKXJldHVybiB0aGlzLm5vZGUuX19zaGFkeV9nZXRFbGVtZW50QnlJZChhKX07ci5xdWVyeVNlbGVjdG9yPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9xdWVyeVNlbGVjdG9yKGEpfTtcbnIucXVlcnlTZWxlY3RvckFsbD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9xdWVyeVNlbGVjdG9yQWxsKGEsYil9O3IuYXNzaWduZWROb2Rlcz1mdW5jdGlvbihhKXtpZihcInNsb3RcIj09PXRoaXMubm9kZS5sb2NhbE5hbWUpcmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X2Fzc2lnbmVkTm9kZXMoYSl9O1xudC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhJZC5wcm90b3R5cGUse2FjdGl2ZUVsZW1lbnQ6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKEModGhpcy5ub2RlKXx8dGhpcy5ub2RlLm5vZGVUeXBlPT09Tm9kZS5ET0NVTUVOVF9OT0RFKXJldHVybiB0aGlzLm5vZGUuX19zaGFkeV9hY3RpdmVFbGVtZW50fX0sX2FjdGl2ZUVsZW1lbnQ6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZUVsZW1lbnR9fSxob3N0Ontjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtpZihDKHRoaXMubm9kZSkpcmV0dXJuIHRoaXMubm9kZS5ob3N0fX0scGFyZW50Tm9kZTp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X3BhcmVudE5vZGV9fSxmaXJzdENoaWxkOntjb25maWd1cmFibGU6ITAsXG5lbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9maXJzdENoaWxkfX0sbGFzdENoaWxkOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfbGFzdENoaWxkfX0sbmV4dFNpYmxpbmc6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9uZXh0U2libGluZ319LHByZXZpb3VzU2libGluZzp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X3ByZXZpb3VzU2libGluZ319LGNoaWxkTm9kZXM6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9jaGlsZE5vZGVzfX0scGFyZW50RWxlbWVudDp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsXG5nZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfcGFyZW50RWxlbWVudH19LGZpcnN0RWxlbWVudENoaWxkOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfZmlyc3RFbGVtZW50Q2hpbGR9fSxsYXN0RWxlbWVudENoaWxkOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfbGFzdEVsZW1lbnRDaGlsZH19LG5leHRFbGVtZW50U2libGluZzp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X25leHRFbGVtZW50U2libGluZ319LHByZXZpb3VzRWxlbWVudFNpYmxpbmc6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9wcmV2aW91c0VsZW1lbnRTaWJsaW5nfX0sXG5jaGlsZHJlbjp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X2NoaWxkcmVufX0sY2hpbGRFbGVtZW50Q291bnQ6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9jaGlsZEVsZW1lbnRDb3VudH19LHNoYWRvd1Jvb3Q6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9zaGFkb3dSb290fX0sYXNzaWduZWRTbG90Ontjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfYXNzaWduZWRTbG90fX0saXNDb25uZWN0ZWQ6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9pc0Nvbm5lY3RlZH19LGlubmVySFRNTDp7Y29uZmlndXJhYmxlOiEwLFxuZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfaW5uZXJIVE1MfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5ub2RlLl9fc2hhZHlfaW5uZXJIVE1MPWF9fSx0ZXh0Q29udGVudDp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X3RleHRDb250ZW50fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5ub2RlLl9fc2hhZHlfdGV4dENvbnRlbnQ9YX19LHNsb3Q6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuX19zaGFkeV9zbG90fSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5ub2RlLl9fc2hhZHlfc2xvdD1hfX0sY2xhc3NOYW1lOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLl9fc2hhZHlfY2xhc3NOYW1lfSxzZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubm9kZS5fX3NoYWR5X2NsYXNzTmFtZT1cbmF9fX0pO0ljLmZvckVhY2goZnVuY3Rpb24oYSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KElkLnByb3RvdHlwZSxhLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlW1wiX19zaGFkeV9cIithXX0sc2V0OmZ1bmN0aW9uKGIpe3RoaXMubm9kZVtcIl9fc2hhZHlfXCIrYV09Yn0sY29uZmlndXJhYmxlOiEwfSl9KTt2YXIgSmQ9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gS2QoYSl7aWYoQyhhKXx8YSBpbnN0YW5jZW9mIElkKXJldHVybiBhO3ZhciBiPUpkLmdldChhKTtifHwoYj1uZXcgSWQoYSksSmQuc2V0KGEsYikpO3JldHVybiBifTt2YXIgTGQ9RSh7ZGlzcGF0Y2hFdmVudDpmdW5jdGlvbihhKXtCYigpO3JldHVybiB0aGlzLl9fc2hhZHlfbmF0aXZlX2Rpc3BhdGNoRXZlbnQoYSl9LGFkZEV2ZW50TGlzdGVuZXI6emMscmVtb3ZlRXZlbnRMaXN0ZW5lcjpCY30pO3ZhciBNZD1FKHtnZXQgYXNzaWduZWRTbG90KCl7dmFyIGE9dGhpcy5fX3NoYWR5X3BhcmVudE5vZGU7KGE9YSYmYS5fX3NoYWR5X3NoYWRvd1Jvb3QpJiZ5ZChhKTtyZXR1cm4oYT1BKHRoaXMpKSYmYS5hc3NpZ25lZFNsb3R8fG51bGx9fSk7dmFyIE5kPXdpbmRvdy5kb2N1bWVudDtmdW5jdGlvbiBPZChhLGIpe2lmKFwic2xvdFwiPT09YilhPWEuX19zaGFkeV9wYXJlbnROb2RlLGxiKGEpJiZKKEEoYSkucm9vdCk7ZWxzZSBpZihcInNsb3RcIj09PWEubG9jYWxOYW1lJiZcIm5hbWVcIj09PWImJihiPWRkKGEpKSl7aWYoYi5hKXt6ZChiKTt2YXIgYz1hLkJhLGQ9RGQoYSk7aWYoZCE9PWMpe2M9Yi5iW2NdO3ZhciBlPWMuaW5kZXhPZihhKTswPD1lJiZjLnNwbGljZShlLDEpO2M9Yi5iW2RdfHwoYi5iW2RdPVtdKTtjLnB1c2goYSk7MTxjLmxlbmd0aCYmKGIuYltkXT1FZChjKSl9fUooYil9fVxudmFyIFBkPUUoe2dldCBwcmV2aW91c0VsZW1lbnRTaWJsaW5nKCl7dmFyIGE9QSh0aGlzKTtpZihhJiZ2b2lkIDAhPT1hLnByZXZpb3VzU2libGluZyl7Zm9yKGE9dGhpcy5fX3NoYWR5X3ByZXZpb3VzU2libGluZzthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5fX3NoYWR5X3ByZXZpb3VzU2libGluZztyZXR1cm4gYX1yZXR1cm4gdGhpcy5fX3NoYWR5X25hdGl2ZV9wcmV2aW91c0VsZW1lbnRTaWJsaW5nfSxnZXQgbmV4dEVsZW1lbnRTaWJsaW5nKCl7dmFyIGE9QSh0aGlzKTtpZihhJiZ2b2lkIDAhPT1hLm5leHRTaWJsaW5nKXtmb3IoYT10aGlzLl9fc2hhZHlfbmV4dFNpYmxpbmc7YSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOylhPWEuX19zaGFkeV9uZXh0U2libGluZztyZXR1cm4gYX1yZXR1cm4gdGhpcy5fX3NoYWR5X25hdGl2ZV9uZXh0RWxlbWVudFNpYmxpbmd9LGdldCBzbG90KCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwic2xvdFwiKX0sXG5zZXQgc2xvdChhKXt0aGlzLl9fc2hhZHlfc2V0QXR0cmlidXRlKFwic2xvdFwiLGEpfSxnZXQgc2hhZG93Um9vdCgpe3ZhciBhPUEodGhpcyk7cmV0dXJuIGEmJmEuVGF8fG51bGx9LGdldCBjbGFzc05hbWUoKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIn0sc2V0IGNsYXNzTmFtZShhKXt0aGlzLl9fc2hhZHlfc2V0QXR0cmlidXRlKFwiY2xhc3NcIixhKX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5vd25lckRvY3VtZW50IT09TmQpdGhpcy5fX3NoYWR5X25hdGl2ZV9zZXRBdHRyaWJ1dGUoYSxiKTtlbHNle3ZhciBjOyhjPVJjKCkpJiZcImNsYXNzXCI9PT1hPyhjLnNldEVsZW1lbnRDbGFzcyh0aGlzLGIpLGM9ITApOmM9ITE7Y3x8KHRoaXMuX19zaGFkeV9uYXRpdmVfc2V0QXR0cmlidXRlKGEsYiksT2QodGhpcyxhKSl9fSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dGhpcy5fX3NoYWR5X25hdGl2ZV9yZW1vdmVBdHRyaWJ1dGUoYSk7T2QodGhpcyxcbmEpfSxhdHRhY2hTaGFkb3c6ZnVuY3Rpb24oYSl7aWYoIXRoaXMpdGhyb3cgRXJyb3IoXCJNdXN0IHByb3ZpZGUgYSBob3N0LlwiKTtpZighYSl0aHJvdyBFcnJvcihcIk5vdCBlbm91Z2ggYXJndW1lbnRzLlwiKTtpZihhLnNoYWR5VXBncmFkZUZyYWdtZW50JiYhQi55YSl7dmFyIGI9YS5zaGFkeVVwZ3JhZGVGcmFnbWVudDtiLl9fcHJvdG9fXz1TaGFkb3dSb290LnByb3RvdHlwZTt4ZChiLHRoaXMsYSk7UGMoYixiKTthPWIuX19ub0luc2VydGlvblBvaW50P251bGw6Yi5xdWVyeVNlbGVjdG9yQWxsKFwic2xvdFwiKTtiLl9fbm9JbnNlcnRpb25Qb2ludD12b2lkIDA7aWYoYSYmYS5sZW5ndGgpe3ZhciBjPWI7ZWQoYyk7Yy5jLnB1c2guYXBwbHkoYy5jLGEgaW5zdGFuY2VvZiBBcnJheT9hOmthKGphKGEpKSk7SihiKX1iLmhvc3QuX19zaGFkeV9uYXRpdmVfYXBwZW5kQ2hpbGQoYil9ZWxzZSBiPW5ldyB3ZChzZCx0aGlzLGEpO3JldHVybiBifX0pO3ZhciBRZD1FKHtibHVyOmZ1bmN0aW9uKCl7dmFyIGE9QSh0aGlzKTsoYT0oYT1hJiZhLnJvb3QpJiZhLmFjdGl2ZUVsZW1lbnQpP2EuX19zaGFkeV9ibHVyKCk6dGhpcy5fX3NoYWR5X25hdGl2ZV9ibHVyKCl9fSk7SWMuZm9yRWFjaChmdW5jdGlvbihhKXtRZFthXT17c2V0OmZ1bmN0aW9uKGIpe3ZhciBjPXoodGhpcyksZD1hLnN1YnN0cmluZygyKTtjLk58fChjLk49e30pO2MuTlthXSYmdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGQsYy5OW2FdKTt0aGlzLl9fc2hhZHlfYWRkRXZlbnRMaXN0ZW5lcihkLGIpO2MuTlthXT1ifSxnZXQ6ZnVuY3Rpb24oKXt2YXIgYj1BKHRoaXMpO3JldHVybiBiJiZiLk4mJmIuTlthXX0sY29uZmlndXJhYmxlOiEwfX0pO3ZhciBSZD1FKHthc3NpZ25lZE5vZGVzOmZ1bmN0aW9uKGEpe2lmKFwic2xvdFwiPT09dGhpcy5sb2NhbE5hbWUpe3ZhciBiPXRoaXMuX19zaGFkeV9nZXRSb290Tm9kZSgpO2ImJkMoYikmJnlkKGIpO3JldHVybihiPUEodGhpcykpPyhhJiZhLmZsYXR0ZW4/Yi5UOmIuYXNzaWduZWROb2Rlcyl8fFtdOltdfX0sYWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIsYyl7aWYoXCJzbG90XCIhPT10aGlzLmxvY2FsTmFtZXx8XCJzbG90Y2hhbmdlXCI9PT1hKXpjLmNhbGwodGhpcyxhLGIsYyk7ZWxzZXtcIm9iamVjdFwiIT09dHlwZW9mIGMmJihjPXtjYXB0dXJlOiEhY30pO3ZhciBkPXRoaXMuX19zaGFkeV9wYXJlbnROb2RlO2lmKCFkKXRocm93IEVycm9yKFwiU2hhZHlET00gY2Fubm90IGF0dGFjaCBldmVudCB0byBzbG90IHVubGVzcyBpdCBoYXMgYSBgcGFyZW50Tm9kZWBcIik7Yy5PPXRoaXM7ZC5fX3NoYWR5X2FkZEV2ZW50TGlzdGVuZXIoYSxiLGMpfX0scmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLFxuYixjKXtpZihcInNsb3RcIiE9PXRoaXMubG9jYWxOYW1lfHxcInNsb3RjaGFuZ2VcIj09PWEpQmMuY2FsbCh0aGlzLGEsYixjKTtlbHNle1wib2JqZWN0XCIhPT10eXBlb2YgYyYmKGM9e2NhcHR1cmU6ISFjfSk7dmFyIGQ9dGhpcy5fX3NoYWR5X3BhcmVudE5vZGU7aWYoIWQpdGhyb3cgRXJyb3IoXCJTaGFkeURPTSBjYW5ub3QgYXR0YWNoIGV2ZW50IHRvIHNsb3QgdW5sZXNzIGl0IGhhcyBhIGBwYXJlbnROb2RlYFwiKTtjLk89dGhpcztkLl9fc2hhZHlfcmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGIsYyl9fX0pO3ZhciBTZD13aW5kb3cuZG9jdW1lbnQsVGQ9RSh7aW1wb3J0Tm9kZTpmdW5jdGlvbihhLGIpe2lmKGEub3duZXJEb2N1bWVudCE9PVNkfHxcInRlbXBsYXRlXCI9PT1hLmxvY2FsTmFtZSlyZXR1cm4gdGhpcy5fX3NoYWR5X25hdGl2ZV9pbXBvcnROb2RlKGEsYik7dmFyIGM9dGhpcy5fX3NoYWR5X25hdGl2ZV9pbXBvcnROb2RlKGEsITEpO2lmKGIpZm9yKGE9YS5fX3NoYWR5X2ZpcnN0Q2hpbGQ7YTthPWEuX19zaGFkeV9uZXh0U2libGluZyliPXRoaXMuX19zaGFkeV9pbXBvcnROb2RlKGEsITApLGMuX19zaGFkeV9hcHBlbmRDaGlsZChiKTtyZXR1cm4gY319KTt2YXIgVWQ9RSh7YWRkRXZlbnRMaXN0ZW5lcjp6Yy5iaW5kKHdpbmRvdykscmVtb3ZlRXZlbnRMaXN0ZW5lcjpCYy5iaW5kKHdpbmRvdyl9KTt2YXIgVmQ9e307T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihIVE1MRWxlbWVudC5wcm90b3R5cGUsXCJwYXJlbnRFbGVtZW50XCIpJiYoVmQucGFyZW50RWxlbWVudD1nZC5wYXJlbnRFbGVtZW50KTtPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEhUTUxFbGVtZW50LnByb3RvdHlwZSxcImNvbnRhaW5zXCIpJiYoVmQuY29udGFpbnM9Z2QuY29udGFpbnMpO09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSFRNTEVsZW1lbnQucHJvdG90eXBlLFwiY2hpbGRyZW5cIikmJihWZC5jaGlsZHJlbj1qZC5jaGlsZHJlbik7T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihIVE1MRWxlbWVudC5wcm90b3R5cGUsXCJpbm5lckhUTUxcIikmJihWZC5pbm5lckhUTUw9cGQuaW5uZXJIVE1MKTtPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEhUTUxFbGVtZW50LnByb3RvdHlwZSxcImNsYXNzTmFtZVwiKSYmKFZkLmNsYXNzTmFtZT1QZC5jbGFzc05hbWUpO1xudmFyIFdkPXtFdmVudFRhcmdldDpbTGRdLE5vZGU6W2dkLHdpbmRvdy5FdmVudFRhcmdldD9udWxsOkxkXSxUZXh0OltNZF0sRWxlbWVudDpbUGQsamQsTWQsIUIuRHx8XCJpbm5lckhUTUxcImluIEVsZW1lbnQucHJvdG90eXBlP3BkOm51bGwsd2luZG93LkhUTUxTbG90RWxlbWVudD9udWxsOlJkXSxIVE1MRWxlbWVudDpbUWQsVmRdLEhUTUxTbG90RWxlbWVudDpbUmRdLERvY3VtZW50RnJhZ21lbnQ6W2xkLG1kXSxEb2N1bWVudDpbVGQsbGQsbWQsbmRdLFdpbmRvdzpbVWRdfSxYZD1CLkQ/bnVsbDpbXCJpbm5lckhUTUxcIixcInRleHRDb250ZW50XCJdO2Z1bmN0aW9uIFlkKGEpe3ZhciBiPWE/bnVsbDpYZCxjPXt9LGQ7Zm9yKGQgaW4gV2QpYy5lYT13aW5kb3dbZF0mJndpbmRvd1tkXS5wcm90b3R5cGUsV2RbZF0uZm9yRWFjaChmdW5jdGlvbihjKXtyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGMuZWEmJmQmJkQoYy5lYSxkLGEsYil9fShjKSksYz17ZWE6Yy5lYX19O2lmKEIua2Epe3ZhciBTaGFkeURPTT17aW5Vc2U6Qi5rYSxwYXRjaDpmdW5jdGlvbihhKXtpYyhhKTtoYyhhKTtyZXR1cm4gYX0saXNTaGFkeVJvb3Q6QyxlbnF1ZXVlOkFiLGZsdXNoOkJiLGZsdXNoSW5pdGlhbDpmdW5jdGlvbihhKXshYS5wYSYmYS5SJiZ5ZChhKX0sc2V0dGluZ3M6QixmaWx0ZXJNdXRhdGlvbnM6SmIsb2JzZXJ2ZUNoaWxkcmVuOkhiLHVub2JzZXJ2ZUNoaWxkcmVuOkliLGRlZmVyQ29ubmVjdGlvbkNhbGxiYWNrczpCLmRlZmVyQ29ubmVjdGlvbkNhbGxiYWNrcyxwcmVmZXJQZXJmb3JtYW5jZTpCLnByZWZlclBlcmZvcm1hbmNlLGhhbmRsZXNEeW5hbWljU2NvcGluZzohMCx3cmFwOkIuTT9LZDpmdW5jdGlvbihhKXtyZXR1cm4gYX0sV3JhcHBlcjpJZCxjb21wb3NlZFBhdGg6cmMsbm9QYXRjaDpCLk0sbmF0aXZlTWV0aG9kczpTYixuYXRpdmVUcmVlOlRifTt3aW5kb3cuU2hhZHlET009U2hhZHlET007JGIoKTtZZChcIl9fc2hhZHlfXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudCxcblwiX2FjdGl2ZUVsZW1lbnRcIixuZC5hY3RpdmVFbGVtZW50KTtEKFdpbmRvdy5wcm90b3R5cGUsVWQsXCJfX3NoYWR5X1wiKTtCLk18fChZZCgpLEhjKCkpO0NjKCk7d2luZG93LkV2ZW50PUVjO3dpbmRvdy5DdXN0b21FdmVudD1GYzt3aW5kb3cuTW91c2VFdmVudD1HYzt3aW5kb3cuU2hhZG93Um9vdD13ZH07dmFyIFpkPW5ldyBTZXQoXCJhbm5vdGF0aW9uLXhtbCBjb2xvci1wcm9maWxlIGZvbnQtZmFjZSBmb250LWZhY2Utc3JjIGZvbnQtZmFjZS11cmkgZm9udC1mYWNlLWZvcm1hdCBmb250LWZhY2UtbmFtZSBtaXNzaW5nLWdseXBoXCIuc3BsaXQoXCIgXCIpKTtmdW5jdGlvbiAkZChhKXt2YXIgYj1aZC5oYXMoYSk7YT0vXlthLXpdWy4wLTlfYS16XSotW1xcLS4wLTlfYS16XSokLy50ZXN0KGEpO3JldHVybiFiJiZhfWZ1bmN0aW9uIEsoYSl7dmFyIGI9YS5pc0Nvbm5lY3RlZDtpZih2b2lkIDAhPT1iKXJldHVybiBiO2Zvcig7YSYmIShhLl9fQ0VfaXNJbXBvcnREb2N1bWVudHx8YSBpbnN0YW5jZW9mIERvY3VtZW50KTspYT1hLnBhcmVudE5vZGV8fCh3aW5kb3cuU2hhZG93Um9vdCYmYSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3Q/YS5ob3N0OnZvaWQgMCk7cmV0dXJuISghYXx8IShhLl9fQ0VfaXNJbXBvcnREb2N1bWVudHx8YSBpbnN0YW5jZW9mIERvY3VtZW50KSl9XG5mdW5jdGlvbiBhZShhLGIpe2Zvcig7YiYmYiE9PWEmJiFiLm5leHRTaWJsaW5nOyliPWIucGFyZW50Tm9kZTtyZXR1cm4gYiYmYiE9PWE/Yi5uZXh0U2libGluZzpudWxsfVxuZnVuY3Rpb24gYmUoYSxiLGMpe2M9dm9pZCAwPT09Yz9uZXcgU2V0OmM7Zm9yKHZhciBkPWE7ZDspe2lmKGQubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGU9ZDtiKGUpO3ZhciBmPWUubG9jYWxOYW1lO2lmKFwibGlua1wiPT09ZiYmXCJpbXBvcnRcIj09PWUuZ2V0QXR0cmlidXRlKFwicmVsXCIpKXtkPWUuaW1wb3J0O2lmKGQgaW5zdGFuY2VvZiBOb2RlJiYhYy5oYXMoZCkpZm9yKGMuYWRkKGQpLGQ9ZC5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWJlKGQsYixjKTtkPWFlKGEsZSk7Y29udGludWV9ZWxzZSBpZihcInRlbXBsYXRlXCI9PT1mKXtkPWFlKGEsZSk7Y29udGludWV9aWYoZT1lLl9fQ0Vfc2hhZG93Um9vdClmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpYmUoZSxiLGMpfWQ9ZC5maXJzdENoaWxkP2QuZmlyc3RDaGlsZDphZShhLGQpfX1mdW5jdGlvbiBMKGEsYixjKXthW2JdPWN9O2Z1bmN0aW9uIGNlKCl7dGhpcy5hPW5ldyBNYXA7dGhpcy51PW5ldyBNYXA7dGhpcy5jPVtdO3RoaXMuZj1bXTt0aGlzLmI9ITF9ZnVuY3Rpb24gZGUoYSxiLGMpe2EuYS5zZXQoYixjKTthLnUuc2V0KGMuY29uc3RydWN0b3JGdW5jdGlvbixjKX1mdW5jdGlvbiBlZShhLGIpe2EuYj0hMDthLmMucHVzaChiKX1mdW5jdGlvbiBmZShhLGIpe2EuYj0hMDthLmYucHVzaChiKX1mdW5jdGlvbiBnZShhLGIpe2EuYiYmYmUoYixmdW5jdGlvbihiKXtyZXR1cm4gaGUoYSxiKX0pfWZ1bmN0aW9uIGhlKGEsYil7aWYoYS5iJiYhYi5fX0NFX3BhdGNoZWQpe2IuX19DRV9wYXRjaGVkPSEwO2Zvcih2YXIgYz0wO2M8YS5jLmxlbmd0aDtjKyspYS5jW2NdKGIpO2ZvcihjPTA7YzxhLmYubGVuZ3RoO2MrKylhLmZbY10oYil9fVxuZnVuY3Rpb24gTShhLGIpe3ZhciBjPVtdO2JlKGIsZnVuY3Rpb24oYSl7cmV0dXJuIGMucHVzaChhKX0pO2ZvcihiPTA7YjxjLmxlbmd0aDtiKyspe3ZhciBkPWNbYl07MT09PWQuX19DRV9zdGF0ZT9hLmNvbm5lY3RlZENhbGxiYWNrKGQpOmllKGEsZCl9fWZ1bmN0aW9uIE4oYSxiKXt2YXIgYz1bXTtiZShiLGZ1bmN0aW9uKGEpe3JldHVybiBjLnB1c2goYSl9KTtmb3IoYj0wO2I8Yy5sZW5ndGg7YisrKXt2YXIgZD1jW2JdOzE9PT1kLl9fQ0Vfc3RhdGUmJmEuZGlzY29ubmVjdGVkQ2FsbGJhY2soZCl9fVxuZnVuY3Rpb24gTyhhLGIsYyl7Yz12b2lkIDA9PT1jP3t9OmM7dmFyIGQ9Yy4kYXx8bmV3IFNldCxlPWMuZmF8fGZ1bmN0aW9uKGIpe3JldHVybiBpZShhLGIpfSxmPVtdO2JlKGIsZnVuY3Rpb24oYil7aWYoXCJsaW5rXCI9PT1iLmxvY2FsTmFtZSYmXCJpbXBvcnRcIj09PWIuZ2V0QXR0cmlidXRlKFwicmVsXCIpKXt2YXIgYz1iLmltcG9ydDtjIGluc3RhbmNlb2YgTm9kZSYmKGMuX19DRV9pc0ltcG9ydERvY3VtZW50PSEwLGMuX19DRV9oYXNSZWdpc3RyeT0hMCk7YyYmXCJjb21wbGV0ZVwiPT09Yy5yZWFkeVN0YXRlP2MuX19DRV9kb2N1bWVudExvYWRIYW5kbGVkPSEwOmIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBjPWIuaW1wb3J0O2lmKCFjLl9fQ0VfZG9jdW1lbnRMb2FkSGFuZGxlZCl7Yy5fX0NFX2RvY3VtZW50TG9hZEhhbmRsZWQ9ITA7dmFyIGY9bmV3IFNldChkKTtmLmRlbGV0ZShjKTtPKGEsYyx7JGE6ZixmYTplfSl9fSl9ZWxzZSBmLnB1c2goYil9LGQpO1xuaWYoYS5iKWZvcihiPTA7YjxmLmxlbmd0aDtiKyspaGUoYSxmW2JdKTtmb3IoYj0wO2I8Zi5sZW5ndGg7YisrKWUoZltiXSl9XG5mdW5jdGlvbiBpZShhLGIpe2lmKHZvaWQgMD09PWIuX19DRV9zdGF0ZSl7dmFyIGM9Yi5vd25lckRvY3VtZW50O2lmKGMuZGVmYXVsdFZpZXd8fGMuX19DRV9pc0ltcG9ydERvY3VtZW50JiZjLl9fQ0VfaGFzUmVnaXN0cnkpaWYoYz1hLmEuZ2V0KGIubG9jYWxOYW1lKSl7Yy5jb25zdHJ1Y3Rpb25TdGFjay5wdXNoKGIpO3ZhciBkPWMuY29uc3RydWN0b3JGdW5jdGlvbjt0cnl7dHJ5e2lmKG5ldyBkIT09Yil0aHJvdyBFcnJvcihcIlRoZSBjdXN0b20gZWxlbWVudCBjb25zdHJ1Y3RvciBkaWQgbm90IHByb2R1Y2UgdGhlIGVsZW1lbnQgYmVpbmcgdXBncmFkZWQuXCIpO31maW5hbGx5e2MuY29uc3RydWN0aW9uU3RhY2sucG9wKCl9fWNhdGNoKGcpe3Rocm93IGIuX19DRV9zdGF0ZT0yLGc7fWIuX19DRV9zdGF0ZT0xO2IuX19DRV9kZWZpbml0aW9uPWM7aWYoYy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2spZm9yKGM9Yy5vYnNlcnZlZEF0dHJpYnV0ZXMsZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1cbmNbZF0sZj1iLmdldEF0dHJpYnV0ZShlKTtudWxsIT09ZiYmYS5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYixlLG51bGwsZixudWxsKX1LKGIpJiZhLmNvbm5lY3RlZENhbGxiYWNrKGIpfX19Y2UucHJvdG90eXBlLmNvbm5lY3RlZENhbGxiYWNrPWZ1bmN0aW9uKGEpe3ZhciBiPWEuX19DRV9kZWZpbml0aW9uO2IuY29ubmVjdGVkQ2FsbGJhY2smJmIuY29ubmVjdGVkQ2FsbGJhY2suY2FsbChhKX07Y2UucHJvdG90eXBlLmRpc2Nvbm5lY3RlZENhbGxiYWNrPWZ1bmN0aW9uKGEpe3ZhciBiPWEuX19DRV9kZWZpbml0aW9uO2IuZGlzY29ubmVjdGVkQ2FsbGJhY2smJmIuZGlzY29ubmVjdGVkQ2FsbGJhY2suY2FsbChhKX07XG5jZS5wcm90b3R5cGUuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5fX0NFX2RlZmluaXRpb247Zi5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2smJi0xPGYub2JzZXJ2ZWRBdHRyaWJ1dGVzLmluZGV4T2YoYikmJmYuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrLmNhbGwoYSxiLGMsZCxlKX07ZnVuY3Rpb24gamUoYSl7dmFyIGI9ZG9jdW1lbnQ7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy5QPXZvaWQgMDtPKHRoaXMuYix0aGlzLmEpO1wibG9hZGluZ1wiPT09dGhpcy5hLnJlYWR5U3RhdGUmJih0aGlzLlA9bmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5jLmJpbmQodGhpcykpLHRoaXMuUC5vYnNlcnZlKHRoaXMuYSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSl9ZnVuY3Rpb24ga2UoYSl7YS5QJiZhLlAuZGlzY29ubmVjdCgpfWplLnByb3RvdHlwZS5jPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5yZWFkeVN0YXRlO1wiaW50ZXJhY3RpdmVcIiE9PWImJlwiY29tcGxldGVcIiE9PWJ8fGtlKHRoaXMpO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspZm9yKHZhciBjPWFbYl0uYWRkZWROb2RlcyxkPTA7ZDxjLmxlbmd0aDtkKyspTyh0aGlzLmIsY1tkXSl9O2Z1bmN0aW9uIGxlKCl7dmFyIGE9dGhpczt0aGlzLmE9dGhpcy53PXZvaWQgMDt0aGlzLmI9bmV3IFByb21pc2UoZnVuY3Rpb24oYil7YS5hPWI7YS53JiZiKGEudyl9KX1sZS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbihhKXtpZih0aGlzLncpdGhyb3cgRXJyb3IoXCJBbHJlYWR5IHJlc29sdmVkLlwiKTt0aGlzLnc9YTt0aGlzLmEmJnRoaXMuYShhKX07ZnVuY3Rpb24gUChhKXt0aGlzLmM9ITE7dGhpcy5hPWE7dGhpcy5GPW5ldyBNYXA7dGhpcy5mPWZ1bmN0aW9uKGEpe3JldHVybiBhKCl9O3RoaXMuYj0hMTt0aGlzLnU9W107dGhpcy5hYT1uZXcgamUoYSl9cj1QLnByb3RvdHlwZTtcbnIud2E9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2lmKCEoYiBpbnN0YW5jZW9mIEZ1bmN0aW9uKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ3VzdG9tIGVsZW1lbnQgY29uc3RydWN0b3JzIG11c3QgYmUgZnVuY3Rpb25zLlwiKTtpZighJGQoYSkpdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiVGhlIGVsZW1lbnQgbmFtZSAnXCIrYStcIicgaXMgbm90IHZhbGlkLlwiKTtpZih0aGlzLmEuYS5nZXQoYSkpdGhyb3cgRXJyb3IoXCJBIGN1c3RvbSBlbGVtZW50IHdpdGggbmFtZSAnXCIrYStcIicgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkLlwiKTtpZih0aGlzLmMpdGhyb3cgRXJyb3IoXCJBIGN1c3RvbSBlbGVtZW50IGlzIGFscmVhZHkgYmVpbmcgZGVmaW5lZC5cIik7dGhpcy5jPSEwO3RyeXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1lW2FdO2lmKHZvaWQgMCE9PWImJiEoYiBpbnN0YW5jZW9mIEZ1bmN0aW9uKSl0aHJvdyBFcnJvcihcIlRoZSAnXCIrYStcIicgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTtcbnJldHVybiBifSxlPWIucHJvdG90eXBlO2lmKCEoZSBpbnN0YW5jZW9mIE9iamVjdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBjdXN0b20gZWxlbWVudCBjb25zdHJ1Y3RvcidzIHByb3RvdHlwZSBpcyBub3QgYW4gb2JqZWN0LlwiKTt2YXIgZj1kKFwiY29ubmVjdGVkQ2FsbGJhY2tcIik7dmFyIGc9ZChcImRpc2Nvbm5lY3RlZENhbGxiYWNrXCIpO3ZhciBoPWQoXCJhZG9wdGVkQ2FsbGJhY2tcIik7dmFyIGs9ZChcImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja1wiKTt2YXIgbD1iLm9ic2VydmVkQXR0cmlidXRlc3x8W119Y2F0Y2gobil7cmV0dXJufWZpbmFsbHl7dGhpcy5jPSExfWI9e2xvY2FsTmFtZTphLGNvbnN0cnVjdG9yRnVuY3Rpb246Yixjb25uZWN0ZWRDYWxsYmFjazpmLGRpc2Nvbm5lY3RlZENhbGxiYWNrOmcsYWRvcHRlZENhbGxiYWNrOmgsYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrOmssb2JzZXJ2ZWRBdHRyaWJ1dGVzOmwsY29uc3RydWN0aW9uU3RhY2s6W119O2RlKHRoaXMuYSxcbmEsYik7dGhpcy51LnB1c2goYik7dGhpcy5ifHwodGhpcy5iPSEwLHRoaXMuZihmdW5jdGlvbigpe3JldHVybiBtZShjKX0pKX07ci5mYT1mdW5jdGlvbihhKXtPKHRoaXMuYSxhKX07XG5mdW5jdGlvbiBtZShhKXtpZighMSE9PWEuYil7YS5iPSExO2Zvcih2YXIgYj1hLnUsYz1bXSxkPW5ldyBNYXAsZT0wO2U8Yi5sZW5ndGg7ZSsrKWQuc2V0KGJbZV0ubG9jYWxOYW1lLFtdKTtPKGEuYSxkb2N1bWVudCx7ZmE6ZnVuY3Rpb24oYil7aWYodm9pZCAwPT09Yi5fX0NFX3N0YXRlKXt2YXIgZT1iLmxvY2FsTmFtZSxmPWQuZ2V0KGUpO2Y/Zi5wdXNoKGIpOmEuYS5hLmdldChlKSYmYy5wdXNoKGIpfX19KTtmb3IoZT0wO2U8Yy5sZW5ndGg7ZSsrKWllKGEuYSxjW2VdKTtmb3IoOzA8Yi5sZW5ndGg7KXt2YXIgZj1iLnNoaWZ0KCk7ZT1mLmxvY2FsTmFtZTtmPWQuZ2V0KGYubG9jYWxOYW1lKTtmb3IodmFyIGc9MDtnPGYubGVuZ3RoO2crKylpZShhLmEsZltnXSk7KGU9YS5GLmdldChlKSkmJmUucmVzb2x2ZSh2b2lkIDApfX19ci5nZXQ9ZnVuY3Rpb24oYSl7aWYoYT10aGlzLmEuYS5nZXQoYSkpcmV0dXJuIGEuY29uc3RydWN0b3JGdW5jdGlvbn07XG5yLnhhPWZ1bmN0aW9uKGEpe2lmKCEkZChhKSlyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFN5bnRheEVycm9yKFwiJ1wiK2ErXCInIGlzIG5vdCBhIHZhbGlkIGN1c3RvbSBlbGVtZW50IG5hbWUuXCIpKTt2YXIgYj10aGlzLkYuZ2V0KGEpO2lmKGIpcmV0dXJuIGIuYjtiPW5ldyBsZTt0aGlzLkYuc2V0KGEsYik7dGhpcy5hLmEuZ2V0KGEpJiYhdGhpcy51LnNvbWUoZnVuY3Rpb24oYil7cmV0dXJuIGIubG9jYWxOYW1lPT09YX0pJiZiLnJlc29sdmUodm9pZCAwKTtyZXR1cm4gYi5ifTtyLlJhPWZ1bmN0aW9uKGEpe2tlKHRoaXMuYWEpO3ZhciBiPXRoaXMuZjt0aGlzLmY9ZnVuY3Rpb24oYyl7cmV0dXJuIGEoZnVuY3Rpb24oKXtyZXR1cm4gYihjKX0pfX07d2luZG93LkN1c3RvbUVsZW1lbnRSZWdpc3RyeT1QO1AucHJvdG90eXBlLmRlZmluZT1QLnByb3RvdHlwZS53YTtQLnByb3RvdHlwZS51cGdyYWRlPVAucHJvdG90eXBlLmZhO1AucHJvdG90eXBlLmdldD1QLnByb3RvdHlwZS5nZXQ7XG5QLnByb3RvdHlwZS53aGVuRGVmaW5lZD1QLnByb3RvdHlwZS54YTtQLnByb3RvdHlwZS5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrPVAucHJvdG90eXBlLlJhO3ZhciBuZT13aW5kb3cuRG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQsb2U9d2luZG93LkRvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50TlMscGU9d2luZG93LkRvY3VtZW50LnByb3RvdHlwZS5pbXBvcnROb2RlLHFlPXdpbmRvdy5Eb2N1bWVudC5wcm90b3R5cGUucHJlcGVuZCxyZT13aW5kb3cuRG9jdW1lbnQucHJvdG90eXBlLmFwcGVuZCxzZT13aW5kb3cuRG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUucHJlcGVuZCx0ZT13aW5kb3cuRG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUuYXBwZW5kLHVlPXdpbmRvdy5Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGUsdmU9d2luZG93Lk5vZGUucHJvdG90eXBlLmFwcGVuZENoaWxkLHdlPXdpbmRvdy5Ob2RlLnByb3RvdHlwZS5pbnNlcnRCZWZvcmUseGU9d2luZG93Lk5vZGUucHJvdG90eXBlLnJlbW92ZUNoaWxkLHllPXdpbmRvdy5Ob2RlLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQsemU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3cuTm9kZS5wcm90b3R5cGUsXG5cInRleHRDb250ZW50XCIpLEFlPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5hdHRhY2hTaGFkb3csQmU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3cuRWxlbWVudC5wcm90b3R5cGUsXCJpbm5lckhUTUxcIiksQ2U9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLmdldEF0dHJpYnV0ZSxEZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuc2V0QXR0cmlidXRlLEVlPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGUsRmU9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLmdldEF0dHJpYnV0ZU5TLEdlPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGVOUyxIZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlTlMsSWU9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLmluc2VydEFkamFjZW50RWxlbWVudCxKZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuaW5zZXJ0QWRqYWNlbnRIVE1MLEtlPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5wcmVwZW5kLFxuTGU9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLmFwcGVuZCxNZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuYmVmb3JlLE5lPXdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5hZnRlcixPZT13aW5kb3cuRWxlbWVudC5wcm90b3R5cGUucmVwbGFjZVdpdGgsUGU9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLnJlbW92ZSxRZT13aW5kb3cuSFRNTEVsZW1lbnQsUmU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3cuSFRNTEVsZW1lbnQucHJvdG90eXBlLFwiaW5uZXJIVE1MXCIpLFNlPXdpbmRvdy5IVE1MRWxlbWVudC5wcm90b3R5cGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50LFRlPXdpbmRvdy5IVE1MRWxlbWVudC5wcm90b3R5cGUuaW5zZXJ0QWRqYWNlbnRIVE1MO3ZhciBVZT1uZXcgZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIFZlKCl7dmFyIGE9V2U7d2luZG93LkhUTUxFbGVtZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpe3ZhciBiPXRoaXMuY29uc3RydWN0b3IsZD1hLnUuZ2V0KGIpO2lmKCFkKXRocm93IEVycm9yKFwiVGhlIGN1c3RvbSBlbGVtZW50IGJlaW5nIGNvbnN0cnVjdGVkIHdhcyBub3QgcmVnaXN0ZXJlZCB3aXRoIGBjdXN0b21FbGVtZW50c2AuXCIpO3ZhciBlPWQuY29uc3RydWN0aW9uU3RhY2s7aWYoMD09PWUubGVuZ3RoKXJldHVybiBlPW5lLmNhbGwoZG9jdW1lbnQsZC5sb2NhbE5hbWUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihlLGIucHJvdG90eXBlKSxlLl9fQ0Vfc3RhdGU9MSxlLl9fQ0VfZGVmaW5pdGlvbj1kLGhlKGEsZSksZTtkPWUubGVuZ3RoLTE7dmFyIGY9ZVtkXTtpZihmPT09VWUpdGhyb3cgRXJyb3IoXCJUaGUgSFRNTEVsZW1lbnQgY29uc3RydWN0b3Igd2FzIGVpdGhlciBjYWxsZWQgcmVlbnRyYW50bHkgZm9yIHRoaXMgY29uc3RydWN0b3Igb3IgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlwiKTtcbmVbZF09VWU7T2JqZWN0LnNldFByb3RvdHlwZU9mKGYsYi5wcm90b3R5cGUpO2hlKGEsZik7cmV0dXJuIGZ9Yi5wcm90b3R5cGU9UWUucHJvdG90eXBlO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcImNvbnN0cnVjdG9yXCIse3dyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHZhbHVlOmJ9KTtyZXR1cm4gYn0oKX07ZnVuY3Rpb24gWGUoYSxiLGMpe2Z1bmN0aW9uIGQoYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2Zvcih2YXIgZD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoOysrZSlkW2VdPWFyZ3VtZW50c1tlXTtlPVtdO2Zvcih2YXIgZj1bXSxsPTA7bDxkLmxlbmd0aDtsKyspe3ZhciBuPWRbbF07biBpbnN0YW5jZW9mIEVsZW1lbnQmJksobikmJmYucHVzaChuKTtpZihuIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudClmb3Iobj1uLmZpcnN0Q2hpbGQ7bjtuPW4ubmV4dFNpYmxpbmcpZS5wdXNoKG4pO2Vsc2UgZS5wdXNoKG4pfWIuYXBwbHkodGhpcyxkKTtmb3IoZD0wO2Q8Zi5sZW5ndGg7ZCsrKU4oYSxmW2RdKTtpZihLKHRoaXMpKWZvcihkPTA7ZDxlLmxlbmd0aDtkKyspZj1lW2RdLGYgaW5zdGFuY2VvZiBFbGVtZW50JiZNKGEsZil9fXZvaWQgMCE9PWMuZGEmJihiLnByZXBlbmQ9ZChjLmRhKSk7dm9pZCAwIT09Yy5hcHBlbmQmJihiLmFwcGVuZD1kKGMuYXBwZW5kKSl9O2Z1bmN0aW9uIFllKCl7dmFyIGE9V2U7TChEb2N1bWVudC5wcm90b3R5cGUsXCJjcmVhdGVFbGVtZW50XCIsZnVuY3Rpb24oYil7aWYodGhpcy5fX0NFX2hhc1JlZ2lzdHJ5KXt2YXIgYz1hLmEuZ2V0KGIpO2lmKGMpcmV0dXJuIG5ldyBjLmNvbnN0cnVjdG9yRnVuY3Rpb259Yj1uZS5jYWxsKHRoaXMsYik7aGUoYSxiKTtyZXR1cm4gYn0pO0woRG9jdW1lbnQucHJvdG90eXBlLFwiaW1wb3J0Tm9kZVwiLGZ1bmN0aW9uKGIsYyl7Yj1wZS5jYWxsKHRoaXMsYiwhIWMpO3RoaXMuX19DRV9oYXNSZWdpc3RyeT9PKGEsYik6Z2UoYSxiKTtyZXR1cm4gYn0pO0woRG9jdW1lbnQucHJvdG90eXBlLFwiY3JlYXRlRWxlbWVudE5TXCIsZnVuY3Rpb24oYixjKXtpZih0aGlzLl9fQ0VfaGFzUmVnaXN0cnkmJihudWxsPT09Ynx8XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI9PT1iKSl7dmFyIGQ9YS5hLmdldChjKTtpZihkKXJldHVybiBuZXcgZC5jb25zdHJ1Y3RvckZ1bmN0aW9ufWI9b2UuY2FsbCh0aGlzLFxuYixjKTtoZShhLGIpO3JldHVybiBifSk7WGUoYSxEb2N1bWVudC5wcm90b3R5cGUse2RhOnFlLGFwcGVuZDpyZX0pfTtmdW5jdGlvbiBaZSgpe2Z1bmN0aW9uIGEoYSxkKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcInRleHRDb250ZW50XCIse2VudW1lcmFibGU6ZC5lbnVtZXJhYmxlLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZC5nZXQsc2V0OmZ1bmN0aW9uKGEpe2lmKHRoaXMubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERSlkLnNldC5jYWxsKHRoaXMsYSk7ZWxzZXt2YXIgYz12b2lkIDA7aWYodGhpcy5maXJzdENoaWxkKXt2YXIgZT10aGlzLmNoaWxkTm9kZXMsaD1lLmxlbmd0aDtpZigwPGgmJksodGhpcykpe2M9QXJyYXkoaCk7Zm9yKHZhciBrPTA7azxoO2srKyljW2tdPWVba119fWQuc2V0LmNhbGwodGhpcyxhKTtpZihjKWZvcihhPTA7YTxjLmxlbmd0aDthKyspTihiLGNbYV0pfX19KX12YXIgYj1XZTtMKE5vZGUucHJvdG90eXBlLFwiaW5zZXJ0QmVmb3JlXCIsZnVuY3Rpb24oYSxkKXtpZihhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGEuY2hpbGROb2Rlcyk7XG5hPXdlLmNhbGwodGhpcyxhLGQpO2lmKEsodGhpcykpZm9yKGQ9MDtkPGMubGVuZ3RoO2QrKylNKGIsY1tkXSk7cmV0dXJuIGF9Yz1LKGEpO2Q9d2UuY2FsbCh0aGlzLGEsZCk7YyYmTihiLGEpO0sodGhpcykmJk0oYixhKTtyZXR1cm4gZH0pO0woTm9kZS5wcm90b3R5cGUsXCJhcHBlbmRDaGlsZFwiLGZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYS5jaGlsZE5vZGVzKTthPXZlLmNhbGwodGhpcyxhKTtpZihLKHRoaXMpKWZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKU0oYixjW2VdKTtyZXR1cm4gYX1jPUsoYSk7ZT12ZS5jYWxsKHRoaXMsYSk7YyYmTihiLGEpO0sodGhpcykmJk0oYixhKTtyZXR1cm4gZX0pO0woTm9kZS5wcm90b3R5cGUsXCJjbG9uZU5vZGVcIixmdW5jdGlvbihhKXthPXVlLmNhbGwodGhpcywhIWEpO3RoaXMub3duZXJEb2N1bWVudC5fX0NFX2hhc1JlZ2lzdHJ5P08oYixhKTpcbmdlKGIsYSk7cmV0dXJuIGF9KTtMKE5vZGUucHJvdG90eXBlLFwicmVtb3ZlQ2hpbGRcIixmdW5jdGlvbihhKXt2YXIgYz1LKGEpLGU9eGUuY2FsbCh0aGlzLGEpO2MmJk4oYixhKTtyZXR1cm4gZX0pO0woTm9kZS5wcm90b3R5cGUsXCJyZXBsYWNlQ2hpbGRcIixmdW5jdGlvbihhLGQpe2lmKGEgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYS5jaGlsZE5vZGVzKTthPXllLmNhbGwodGhpcyxhLGQpO2lmKEsodGhpcykpZm9yKE4oYixkKSxkPTA7ZDxjLmxlbmd0aDtkKyspTShiLGNbZF0pO3JldHVybiBhfWM9SyhhKTt2YXIgZj15ZS5jYWxsKHRoaXMsYSxkKSxnPUsodGhpcyk7ZyYmTihiLGQpO2MmJk4oYixhKTtnJiZNKGIsYSk7cmV0dXJuIGZ9KTt6ZSYmemUuZ2V0P2EoTm9kZS5wcm90b3R5cGUsemUpOmVlKGIsZnVuY3Rpb24oYil7YShiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGE9XG5bXSxiPTA7Yjx0aGlzLmNoaWxkTm9kZXMubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5jaGlsZE5vZGVzW2JdO2Mubm9kZVR5cGUhPT1Ob2RlLkNPTU1FTlRfTk9ERSYmYS5wdXNoKGMudGV4dENvbnRlbnQpfXJldHVybiBhLmpvaW4oXCJcIil9LHNldDpmdW5jdGlvbihhKXtmb3IoO3RoaXMuZmlyc3RDaGlsZDspeGUuY2FsbCh0aGlzLHRoaXMuZmlyc3RDaGlsZCk7bnVsbCE9YSYmXCJcIiE9PWEmJnZlLmNhbGwodGhpcyxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSl9fSl9KX07ZnVuY3Rpb24gJGUoYSl7ZnVuY3Rpb24gYihiKXtyZXR1cm4gZnVuY3Rpb24oYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKWRbZV09YXJndW1lbnRzW2VdO2U9W107Zm9yKHZhciBoPVtdLGs9MDtrPGQubGVuZ3RoO2srKyl7dmFyIGw9ZFtrXTtsIGluc3RhbmNlb2YgRWxlbWVudCYmSyhsKSYmaC5wdXNoKGwpO2lmKGwgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KWZvcihsPWwuZmlyc3RDaGlsZDtsO2w9bC5uZXh0U2libGluZyllLnB1c2gobCk7ZWxzZSBlLnB1c2gobCl9Yi5hcHBseSh0aGlzLGQpO2ZvcihkPTA7ZDxoLmxlbmd0aDtkKyspTihhLGhbZF0pO2lmKEsodGhpcykpZm9yKGQ9MDtkPGUubGVuZ3RoO2QrKyloPWVbZF0saCBpbnN0YW5jZW9mIEVsZW1lbnQmJk0oYSxoKX19dmFyIGM9RWxlbWVudC5wcm90b3R5cGU7dm9pZCAwIT09TWUmJihjLmJlZm9yZT1iKE1lKSk7dm9pZCAwIT09TWUmJihjLmFmdGVyPWIoTmUpKTt2b2lkIDAhPT1PZSYmXG5MKGMsXCJyZXBsYWNlV2l0aFwiLGZ1bmN0aW9uKGIpe2Zvcih2YXIgYz1bXSxkPTA7ZDxhcmd1bWVudHMubGVuZ3RoOysrZCljW2RdPWFyZ3VtZW50c1tkXTtkPVtdO2Zvcih2YXIgZz1bXSxoPTA7aDxjLmxlbmd0aDtoKyspe3ZhciBrPWNbaF07ayBpbnN0YW5jZW9mIEVsZW1lbnQmJksoaykmJmcucHVzaChrKTtpZihrIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudClmb3Ioaz1rLmZpcnN0Q2hpbGQ7aztrPWsubmV4dFNpYmxpbmcpZC5wdXNoKGspO2Vsc2UgZC5wdXNoKGspfWg9Syh0aGlzKTtPZS5hcHBseSh0aGlzLGMpO2ZvcihjPTA7YzxnLmxlbmd0aDtjKyspTihhLGdbY10pO2lmKGgpZm9yKE4oYSx0aGlzKSxjPTA7YzxkLmxlbmd0aDtjKyspZz1kW2NdLGcgaW5zdGFuY2VvZiBFbGVtZW50JiZNKGEsZyl9KTt2b2lkIDAhPT1QZSYmTChjLFwicmVtb3ZlXCIsZnVuY3Rpb24oKXt2YXIgYj1LKHRoaXMpO1BlLmNhbGwodGhpcyk7YiYmTihhLHRoaXMpfSl9O2Z1bmN0aW9uIGFmKCl7ZnVuY3Rpb24gYShhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiaW5uZXJIVE1MXCIse2VudW1lcmFibGU6Yi5lbnVtZXJhYmxlLGNvbmZpZ3VyYWJsZTohMCxnZXQ6Yi5nZXQsc2V0OmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsZT12b2lkIDA7Syh0aGlzKSYmKGU9W10sYmUodGhpcyxmdW5jdGlvbihhKXthIT09YyYmZS5wdXNoKGEpfSkpO2Iuc2V0LmNhbGwodGhpcyxhKTtpZihlKWZvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdOzE9PT1nLl9fQ0Vfc3RhdGUmJmQuZGlzY29ubmVjdGVkQ2FsbGJhY2soZyl9dGhpcy5vd25lckRvY3VtZW50Ll9fQ0VfaGFzUmVnaXN0cnk/TyhkLHRoaXMpOmdlKGQsdGhpcyk7cmV0dXJuIGF9fSl9ZnVuY3Rpb24gYihhLGIpe0woYSxcImluc2VydEFkamFjZW50RWxlbWVudFwiLGZ1bmN0aW9uKGEsYyl7dmFyIGU9SyhjKTthPWIuY2FsbCh0aGlzLGEsYyk7ZSYmTihkLGMpO0soYSkmJk0oZCxjKTtyZXR1cm4gYX0pfVxuZnVuY3Rpb24gYyhhLGIpe2Z1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGM9W107YSE9PWI7YT1hLm5leHRTaWJsaW5nKWMucHVzaChhKTtmb3IoYj0wO2I8Yy5sZW5ndGg7YisrKU8oZCxjW2JdKX1MKGEsXCJpbnNlcnRBZGphY2VudEhUTUxcIixmdW5jdGlvbihhLGQpe2E9YS50b0xvd2VyQ2FzZSgpO2lmKFwiYmVmb3JlYmVnaW5cIj09PWEpe3ZhciBlPXRoaXMucHJldmlvdXNTaWJsaW5nO2IuY2FsbCh0aGlzLGEsZCk7YyhlfHx0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZCx0aGlzKX1lbHNlIGlmKFwiYWZ0ZXJiZWdpblwiPT09YSllPXRoaXMuZmlyc3RDaGlsZCxiLmNhbGwodGhpcyxhLGQpLGModGhpcy5maXJzdENoaWxkLGUpO2Vsc2UgaWYoXCJiZWZvcmVlbmRcIj09PWEpZT10aGlzLmxhc3RDaGlsZCxiLmNhbGwodGhpcyxhLGQpLGMoZXx8dGhpcy5maXJzdENoaWxkLG51bGwpO2Vsc2UgaWYoXCJhZnRlcmVuZFwiPT09YSllPXRoaXMubmV4dFNpYmxpbmcsYi5jYWxsKHRoaXMsYSxkKSxjKHRoaXMubmV4dFNpYmxpbmcsXG5lKTtlbHNlIHRocm93IG5ldyBTeW50YXhFcnJvcihcIlRoZSB2YWx1ZSBwcm92aWRlZCAoXCIrU3RyaW5nKGEpK1wiKSBpcyBub3Qgb25lIG9mICdiZWZvcmViZWdpbicsICdhZnRlcmJlZ2luJywgJ2JlZm9yZWVuZCcsIG9yICdhZnRlcmVuZCcuXCIpO30pfXZhciBkPVdlO0FlJiZMKEVsZW1lbnQucHJvdG90eXBlLFwiYXR0YWNoU2hhZG93XCIsZnVuY3Rpb24oYSl7YT1BZS5jYWxsKHRoaXMsYSk7dmFyIGI9ZDtpZihiLmImJiFhLl9fQ0VfcGF0Y2hlZCl7YS5fX0NFX3BhdGNoZWQ9ITA7Zm9yKHZhciBjPTA7YzxiLmMubGVuZ3RoO2MrKyliLmNbY10oYSl9cmV0dXJuIHRoaXMuX19DRV9zaGFkb3dSb290PWF9KTtCZSYmQmUuZ2V0P2EoRWxlbWVudC5wcm90b3R5cGUsQmUpOlJlJiZSZS5nZXQ/YShIVE1MRWxlbWVudC5wcm90b3R5cGUsUmUpOmZlKGQsZnVuY3Rpb24oYil7YShiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdWUuY2FsbCh0aGlzLFxuITApLmlubmVySFRNTH0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPVwidGVtcGxhdGVcIj09PXRoaXMubG9jYWxOYW1lLGM9Yj90aGlzLmNvbnRlbnQ6dGhpcyxkPW9lLmNhbGwoZG9jdW1lbnQsdGhpcy5uYW1lc3BhY2VVUkksdGhpcy5sb2NhbE5hbWUpO2ZvcihkLmlubmVySFRNTD1hOzA8Yy5jaGlsZE5vZGVzLmxlbmd0aDspeGUuY2FsbChjLGMuY2hpbGROb2Rlc1swXSk7Zm9yKGE9Yj9kLmNvbnRlbnQ6ZDswPGEuY2hpbGROb2Rlcy5sZW5ndGg7KXZlLmNhbGwoYyxhLmNoaWxkTm9kZXNbMF0pfX0pfSk7TChFbGVtZW50LnByb3RvdHlwZSxcInNldEF0dHJpYnV0ZVwiLGZ1bmN0aW9uKGEsYil7aWYoMSE9PXRoaXMuX19DRV9zdGF0ZSlyZXR1cm4gRGUuY2FsbCh0aGlzLGEsYik7dmFyIGM9Q2UuY2FsbCh0aGlzLGEpO0RlLmNhbGwodGhpcyxhLGIpO2I9Q2UuY2FsbCh0aGlzLGEpO2QuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKHRoaXMsYSxjLGIsbnVsbCl9KTtMKEVsZW1lbnQucHJvdG90eXBlLFxuXCJzZXRBdHRyaWJ1dGVOU1wiLGZ1bmN0aW9uKGEsYixjKXtpZigxIT09dGhpcy5fX0NFX3N0YXRlKXJldHVybiBHZS5jYWxsKHRoaXMsYSxiLGMpO3ZhciBlPUZlLmNhbGwodGhpcyxhLGIpO0dlLmNhbGwodGhpcyxhLGIsYyk7Yz1GZS5jYWxsKHRoaXMsYSxiKTtkLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayh0aGlzLGIsZSxjLGEpfSk7TChFbGVtZW50LnByb3RvdHlwZSxcInJlbW92ZUF0dHJpYnV0ZVwiLGZ1bmN0aW9uKGEpe2lmKDEhPT10aGlzLl9fQ0Vfc3RhdGUpcmV0dXJuIEVlLmNhbGwodGhpcyxhKTt2YXIgYj1DZS5jYWxsKHRoaXMsYSk7RWUuY2FsbCh0aGlzLGEpO251bGwhPT1iJiZkLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayh0aGlzLGEsYixudWxsLG51bGwpfSk7TChFbGVtZW50LnByb3RvdHlwZSxcInJlbW92ZUF0dHJpYnV0ZU5TXCIsZnVuY3Rpb24oYSxiKXtpZigxIT09dGhpcy5fX0NFX3N0YXRlKXJldHVybiBIZS5jYWxsKHRoaXMsYSxiKTt2YXIgYz1GZS5jYWxsKHRoaXMsXG5hLGIpO0hlLmNhbGwodGhpcyxhLGIpO3ZhciBlPUZlLmNhbGwodGhpcyxhLGIpO2MhPT1lJiZkLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayh0aGlzLGIsYyxlLGEpfSk7U2U/YihIVE1MRWxlbWVudC5wcm90b3R5cGUsU2UpOkllP2IoRWxlbWVudC5wcm90b3R5cGUsSWUpOmNvbnNvbGUud2FybihcIkN1c3RvbSBFbGVtZW50czogYEVsZW1lbnQjaW5zZXJ0QWRqYWNlbnRFbGVtZW50YCB3YXMgbm90IHBhdGNoZWQuXCIpO1RlP2MoSFRNTEVsZW1lbnQucHJvdG90eXBlLFRlKTpKZT9jKEVsZW1lbnQucHJvdG90eXBlLEplKTpjb25zb2xlLndhcm4oXCJDdXN0b20gRWxlbWVudHM6IGBFbGVtZW50I2luc2VydEFkamFjZW50SFRNTGAgd2FzIG5vdCBwYXRjaGVkLlwiKTtYZShkLEVsZW1lbnQucHJvdG90eXBlLHtkYTpLZSxhcHBlbmQ6TGV9KTskZShkKX07dmFyIGJmPXdpbmRvdy5jdXN0b21FbGVtZW50cztpZighYmZ8fGJmLmZvcmNlUG9seWZpbGx8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGJmLmRlZmluZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgYmYuZ2V0KXt2YXIgV2U9bmV3IGNlO1ZlKCk7WWUoKTtYZShXZSxEb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSx7ZGE6c2UsYXBwZW5kOnRlfSk7WmUoKTthZigpO2RvY3VtZW50Ll9fQ0VfaGFzUmVnaXN0cnk9ITA7dmFyIGN1c3RvbUVsZW1lbnRzPW5ldyBQKFdlKTtPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LFwiY3VzdG9tRWxlbWVudHNcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6Y3VzdG9tRWxlbWVudHN9KX07ZnVuY3Rpb24gY2YoKXt0aGlzLmVuZD10aGlzLnN0YXJ0PTA7dGhpcy5ydWxlcz10aGlzLnBhcmVudD10aGlzLnByZXZpb3VzPW51bGw7dGhpcy5jc3NUZXh0PXRoaXMucGFyc2VkQ3NzVGV4dD1cIlwiO3RoaXMuYXRSdWxlPSExO3RoaXMudHlwZT0wO3RoaXMucGFyc2VkU2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj10aGlzLmtleWZyYW1lc05hbWU9XCJcIn1cbmZ1bmN0aW9uIGRmKGEpe2E9YS5yZXBsYWNlKGVmLFwiXCIpLnJlcGxhY2UoZmYsXCJcIik7dmFyIGI9Z2YsYz1hLGQ9bmV3IGNmO2Quc3RhcnQ9MDtkLmVuZD1jLmxlbmd0aDtmb3IodmFyIGU9ZCxmPTAsZz1jLmxlbmd0aDtmPGc7ZisrKWlmKFwie1wiPT09Y1tmXSl7ZS5ydWxlc3x8KGUucnVsZXM9W10pO3ZhciBoPWUsaz1oLnJ1bGVzW2gucnVsZXMubGVuZ3RoLTFdfHxudWxsO2U9bmV3IGNmO2Uuc3RhcnQ9ZisxO2UucGFyZW50PWg7ZS5wcmV2aW91cz1rO2gucnVsZXMucHVzaChlKX1lbHNlXCJ9XCI9PT1jW2ZdJiYoZS5lbmQ9ZisxLGU9ZS5wYXJlbnR8fGQpO3JldHVybiBiKGQsYSl9XG5mdW5jdGlvbiBnZihhLGIpe3ZhciBjPWIuc3Vic3RyaW5nKGEuc3RhcnQsYS5lbmQtMSk7YS5wYXJzZWRDc3NUZXh0PWEuY3NzVGV4dD1jLnRyaW0oKTthLnBhcmVudCYmKGM9Yi5zdWJzdHJpbmcoYS5wcmV2aW91cz9hLnByZXZpb3VzLmVuZDphLnBhcmVudC5zdGFydCxhLnN0YXJ0LTEpLGM9aGYoYyksYz1jLnJlcGxhY2UoamYsXCIgXCIpLGM9Yy5zdWJzdHJpbmcoYy5sYXN0SW5kZXhPZihcIjtcIikrMSksYz1hLnBhcnNlZFNlbGVjdG9yPWEuc2VsZWN0b3I9Yy50cmltKCksYS5hdFJ1bGU9MD09PWMuaW5kZXhPZihcIkBcIiksYS5hdFJ1bGU/MD09PWMuaW5kZXhPZihcIkBtZWRpYVwiKT9hLnR5cGU9a2Y6Yy5tYXRjaChsZikmJihhLnR5cGU9bWYsYS5rZXlmcmFtZXNOYW1lPWEuc2VsZWN0b3Iuc3BsaXQoamYpLnBvcCgpKTphLnR5cGU9MD09PWMuaW5kZXhPZihcIi0tXCIpP25mOm9mKTtpZihjPWEucnVsZXMpZm9yKHZhciBkPTAsZT1jLmxlbmd0aCxmPXZvaWQgMDtkPGUmJihmPWNbZF0pO2QrKylnZihmLFxuYik7cmV0dXJuIGF9ZnVuY3Rpb24gaGYoYSl7cmV0dXJuIGEucmVwbGFjZSgvXFxcXChbMC05YS1mXXsxLDZ9KVxccy9naSxmdW5jdGlvbihhLGMpe2E9Yztmb3IoYz02LWEubGVuZ3RoO2MtLTspYT1cIjBcIithO3JldHVyblwiXFxcXFwiK2F9KX1cbmZ1bmN0aW9uIHBmKGEsYixjKXtjPXZvaWQgMD09PWM/XCJcIjpjO3ZhciBkPVwiXCI7aWYoYS5jc3NUZXh0fHxhLnJ1bGVzKXt2YXIgZT1hLnJ1bGVzLGY7aWYoZj1lKWY9ZVswXSxmPSEoZiYmZi5zZWxlY3RvciYmMD09PWYuc2VsZWN0b3IuaW5kZXhPZihcIi0tXCIpKTtpZihmKXtmPTA7Zm9yKHZhciBnPWUubGVuZ3RoLGg9dm9pZCAwO2Y8ZyYmKGg9ZVtmXSk7ZisrKWQ9cGYoaCxiLGQpfWVsc2UgYj9iPWEuY3NzVGV4dDooYj1hLmNzc1RleHQsYj1iLnJlcGxhY2UocWYsXCJcIikucmVwbGFjZShyZixcIlwiKSxiPWIucmVwbGFjZSh1ZixcIlwiKS5yZXBsYWNlKHZmLFwiXCIpKSwoZD1iLnRyaW0oKSkmJihkPVwiICBcIitkK1wiXFxuXCIpfWQmJihhLnNlbGVjdG9yJiYoYys9YS5zZWxlY3RvcitcIiB7XFxuXCIpLGMrPWQsYS5zZWxlY3RvciYmKGMrPVwifVxcblxcblwiKSk7cmV0dXJuIGN9XG52YXIgb2Y9MSxtZj03LGtmPTQsbmY9MUUzLGVmPS9cXC9cXCpbXipdKlxcKisoW14vKl1bXipdKlxcKispKlxcLy9naW0sZmY9L0BpbXBvcnRbXjtdKjsvZ2ltLHFmPS8oPzpeW147XFwtXFxzfV0rKT8tLVteO3t9XSo/Oltee307XSo/KD86WztcXG5dfCQpL2dpbSxyZj0vKD86XlteO1xcLVxcc31dKyk/LS1bXjt7fV0qPzpbXnt9O10qP3tbXn1dKj99KD86WztcXG5dfCQpPy9naW0sdWY9L0BhcHBseVxccypcXCg/W14pO10qXFwpP1xccyooPzpbO1xcbl18JCk/L2dpbSx2Zj0vW147Ol0qPzpbXjtdKj92YXJcXChbXjtdKlxcKSg/Ols7XFxuXXwkKT8vZ2ltLGxmPS9eQFteXFxzXSprZXlmcmFtZXMvLGpmPS9cXHMrL2c7dmFyIFI9ISh3aW5kb3cuU2hhZHlET00mJndpbmRvdy5TaGFkeURPTS5pblVzZSksd2Y7ZnVuY3Rpb24geGYoYSl7d2Y9YSYmYS5zaGltY3NzcHJvcGVydGllcz8hMTpSfHwhKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FwcGxlV2ViS2l0XFwvNjAxfEVkZ2VcXC8xNS8pfHwhd2luZG93LkNTU3x8IUNTUy5zdXBwb3J0c3x8IUNTUy5zdXBwb3J0cyhcImJveC1zaGFkb3dcIixcIjAgMCAwIHZhcigtLWZvbylcIikpfXZhciB5Zjt3aW5kb3cuU2hhZHlDU1MmJnZvaWQgMCE9PXdpbmRvdy5TaGFkeUNTUy5jc3NCdWlsZCYmKHlmPXdpbmRvdy5TaGFkeUNTUy5jc3NCdWlsZCk7dmFyIHpmPSEoIXdpbmRvdy5TaGFkeUNTU3x8IXdpbmRvdy5TaGFkeUNTUy5kaXNhYmxlUnVudGltZSk7XG53aW5kb3cuU2hhZHlDU1MmJnZvaWQgMCE9PXdpbmRvdy5TaGFkeUNTUy5uYXRpdmVDc3M/d2Y9d2luZG93LlNoYWR5Q1NTLm5hdGl2ZUNzczp3aW5kb3cuU2hhZHlDU1M/KHhmKHdpbmRvdy5TaGFkeUNTUyksd2luZG93LlNoYWR5Q1NTPXZvaWQgMCk6eGYod2luZG93LldlYkNvbXBvbmVudHMmJndpbmRvdy5XZWJDb21wb25lbnRzLmZsYWdzKTt2YXIgUz13ZixBZj15Zjt2YXIgQmY9Lyg/Ol58WztcXHN7XVxccyopKC0tW1xcdy1dKj8pXFxzKjpcXHMqKD86KCg/OicoPzpcXFxcJ3wuKSo/J3xcIig/OlxcXFxcInwuKSo/XCJ8XFwoW14pXSo/XFwpfFtefTt7XSkrKXxcXHsoW159XSopXFx9KD86KD89WztcXHN9XSl8JCkpL2dpLENmPS8oPzpefFxcVyspQGFwcGx5XFxzKlxcKD8oW14pO1xcbl0qKVxcKT8vZ2ksRGY9LygtLVtcXHctXSspXFxzKihbOiw7KV18JCkvZ2ksRWY9LyhhbmltYXRpb25cXHMqOil8KGFuaW1hdGlvbi1uYW1lXFxzKjopLyxGZj0vQG1lZGlhXFxzKC4qKS8sR2Y9L1xce1tefV0qXFx9L2c7dmFyIEhmPW5ldyBTZXQ7ZnVuY3Rpb24gSWYoYSxiKXtpZighYSlyZXR1cm5cIlwiO1wic3RyaW5nXCI9PT10eXBlb2YgYSYmKGE9ZGYoYSkpO2ImJkpmKGEsYik7cmV0dXJuIHBmKGEsUyl9ZnVuY3Rpb24gS2YoYSl7IWEuX19jc3NSdWxlcyYmYS50ZXh0Q29udGVudCYmKGEuX19jc3NSdWxlcz1kZihhLnRleHRDb250ZW50KSk7cmV0dXJuIGEuX19jc3NSdWxlc3x8bnVsbH1mdW5jdGlvbiBMZihhKXtyZXR1cm4hIWEucGFyZW50JiZhLnBhcmVudC50eXBlPT09bWZ9ZnVuY3Rpb24gSmYoYSxiLGMsZCl7aWYoYSl7dmFyIGU9ITEsZj1hLnR5cGU7aWYoZCYmZj09PWtmKXt2YXIgZz1hLnNlbGVjdG9yLm1hdGNoKEZmKTtnJiYod2luZG93Lm1hdGNoTWVkaWEoZ1sxXSkubWF0Y2hlc3x8KGU9ITApKX1mPT09b2Y/YihhKTpjJiZmPT09bWY/YyhhKTpmPT09bmYmJihlPSEwKTtpZigoYT1hLnJ1bGVzKSYmIWUpZm9yKGU9MCxmPWEubGVuZ3RoLGc9dm9pZCAwO2U8ZiYmKGc9YVtlXSk7ZSsrKUpmKGcsYixjLGQpfX1cbmZ1bmN0aW9uIE1mKGEsYixjLGQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtiJiZlLnNldEF0dHJpYnV0ZShcInNjb3BlXCIsYik7ZS50ZXh0Q29udGVudD1hO05mKGUsYyxkKTtyZXR1cm4gZX12YXIgT2Y9bnVsbDtmdW5jdGlvbiBQZihhKXthPWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCIgU2hhZHkgRE9NIHN0eWxlcyBmb3IgXCIrYStcIiBcIik7dmFyIGI9ZG9jdW1lbnQuaGVhZDtiLmluc2VydEJlZm9yZShhLChPZj9PZi5uZXh0U2libGluZzpudWxsKXx8Yi5maXJzdENoaWxkKTtyZXR1cm4gT2Y9YX1mdW5jdGlvbiBOZihhLGIsYyl7Yj1ifHxkb2N1bWVudC5oZWFkO2IuaW5zZXJ0QmVmb3JlKGEsYyYmYy5uZXh0U2libGluZ3x8Yi5maXJzdENoaWxkKTtPZj9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKE9mKT09PU5vZGUuRE9DVU1FTlRfUE9TSVRJT05fUFJFQ0VESU5HJiYoT2Y9YSk6T2Y9YX1cbmZ1bmN0aW9uIFFmKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtiPGQ7YisrKWlmKFwiKFwiPT09YVtiXSljKys7ZWxzZSBpZihcIilcIj09PWFbYl0mJjA9PT0tLWMpcmV0dXJuIGI7cmV0dXJuLTF9ZnVuY3Rpb24gUmYoYSxiKXt2YXIgYz1hLmluZGV4T2YoXCJ2YXIoXCIpO2lmKC0xPT09YylyZXR1cm4gYihhLFwiXCIsXCJcIixcIlwiKTt2YXIgZD1RZihhLGMrMyksZT1hLnN1YnN0cmluZyhjKzQsZCk7Yz1hLnN1YnN0cmluZygwLGMpO2E9UmYoYS5zdWJzdHJpbmcoZCsxKSxiKTtkPWUuaW5kZXhPZihcIixcIik7cmV0dXJuLTE9PT1kP2IoYyxlLnRyaW0oKSxcIlwiLGEpOmIoYyxlLnN1YnN0cmluZygwLGQpLnRyaW0oKSxlLnN1YnN0cmluZyhkKzEpLnRyaW0oKSxhKX1mdW5jdGlvbiBTZihhLGIpe1I/YS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGIpOndpbmRvdy5TaGFkeURPTS5uYXRpdmVNZXRob2RzLnNldEF0dHJpYnV0ZS5jYWxsKGEsXCJjbGFzc1wiLGIpfVxudmFyIFRmPXdpbmRvdy5TaGFkeURPTSYmd2luZG93LlNoYWR5RE9NLndyYXB8fGZ1bmN0aW9uKGEpe3JldHVybiBhfTtmdW5jdGlvbiBVZihhKXt2YXIgYj1hLmxvY2FsTmFtZSxjPVwiXCI7Yj8tMTxiLmluZGV4T2YoXCItXCIpfHwoYz1iLGI9YS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKFwiaXNcIil8fFwiXCIpOihiPWEuaXMsYz1hLmV4dGVuZHMpO3JldHVybntpczpiLFg6Y319ZnVuY3Rpb24gVmYoYSl7Zm9yKHZhciBiPVtdLGM9XCJcIixkPTA7MDw9ZCYmZDxhLmxlbmd0aDtkKyspaWYoXCIoXCI9PT1hW2RdKXt2YXIgZT1RZihhLGQpO2MrPWEuc2xpY2UoZCxlKzEpO2Q9ZX1lbHNlXCIsXCI9PT1hW2RdPyhiLnB1c2goYyksYz1cIlwiKTpjKz1hW2RdO2MmJmIucHVzaChjKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIFdmKGEpe2lmKHZvaWQgMCE9PUFmKXJldHVybiBBZjtpZih2b2lkIDA9PT1hLl9fY3NzQnVpbGQpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKFwiY3NzLWJ1aWxkXCIpO2lmKGIpYS5fX2Nzc0J1aWxkPWI7ZWxzZXthOntiPVwidGVtcGxhdGVcIj09PWEubG9jYWxOYW1lP2EuY29udGVudC5maXJzdENoaWxkOmEuZmlyc3RDaGlsZDtpZihiIGluc3RhbmNlb2YgQ29tbWVudCYmKGI9Yi50ZXh0Q29udGVudC50cmltKCkuc3BsaXQoXCI6XCIpLFwiY3NzLWJ1aWxkXCI9PT1iWzBdKSl7Yj1iWzFdO2JyZWFrIGF9Yj1cIlwifWlmKFwiXCIhPT1iKXt2YXIgYz1cInRlbXBsYXRlXCI9PT1hLmxvY2FsTmFtZT9hLmNvbnRlbnQuZmlyc3RDaGlsZDphLmZpcnN0Q2hpbGQ7Yy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpfWEuX19jc3NCdWlsZD1ifX1yZXR1cm4gYS5fX2Nzc0J1aWxkfHxcIlwifVxuZnVuY3Rpb24gWGYoYSl7YT12b2lkIDA9PT1hP1wiXCI6YTtyZXR1cm5cIlwiIT09YSYmUz9SP1wic2hhZG93XCI9PT1hOlwic2hhZHlcIj09PWE6ITF9O2Z1bmN0aW9uIFlmKCl7fWZ1bmN0aW9uIFpmKGEsYil7JGYoVSxhLGZ1bmN0aW9uKGEpe2FnKGEsYnx8XCJcIil9KX1mdW5jdGlvbiAkZihhLGIsYyl7Yi5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiZjKGIpO3ZhciBkO1widGVtcGxhdGVcIj09PWIubG9jYWxOYW1lP2Q9KGIuY29udGVudHx8Yi5fY29udGVudHx8YikuY2hpbGROb2RlczpkPWIuY2hpbGRyZW58fGIuY2hpbGROb2RlcztpZihkKWZvcihiPTA7YjxkLmxlbmd0aDtiKyspJGYoYSxkW2JdLGMpfVxuZnVuY3Rpb24gYWcoYSxiLGMpe2lmKGIpaWYoYS5jbGFzc0xpc3QpYz8oYS5jbGFzc0xpc3QucmVtb3ZlKFwic3R5bGUtc2NvcGVcIiksYS5jbGFzc0xpc3QucmVtb3ZlKGIpKTooYS5jbGFzc0xpc3QuYWRkKFwic3R5bGUtc2NvcGVcIiksYS5jbGFzc0xpc3QuYWRkKGIpKTtlbHNlIGlmKGEuZ2V0QXR0cmlidXRlKXt2YXIgZD1hLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO2M/ZCYmKGI9ZC5yZXBsYWNlKFwic3R5bGUtc2NvcGVcIixcIlwiKS5yZXBsYWNlKGIsXCJcIiksU2YoYSxiKSk6U2YoYSwoZD9kK1wiIFwiOlwiXCIpK1wic3R5bGUtc2NvcGUgXCIrYil9fWZ1bmN0aW9uIGJnKGEsYixjKXskZihVLGEsZnVuY3Rpb24oYSl7YWcoYSxiLCEwKTthZyhhLGMpfSl9ZnVuY3Rpb24gY2coYSxiKXskZihVLGEsZnVuY3Rpb24oYSl7YWcoYSxifHxcIlwiLCEwKX0pfVxuZnVuY3Rpb24gZGcoYSxiLGMsZCxlKXt2YXIgZj1VO2U9dm9pZCAwPT09ZT9cIlwiOmU7XCJcIj09PWUmJihSfHxcInNoYWR5XCI9PT0odm9pZCAwPT09ZD9cIlwiOmQpP2U9SWYoYixjKTooYT1VZihhKSxlPWVnKGYsYixhLmlzLGEuWCxjKStcIlxcblxcblwiKSk7cmV0dXJuIGUudHJpbSgpfWZ1bmN0aW9uIGVnKGEsYixjLGQsZSl7dmFyIGY9ZmcoYyxkKTtjPWM/XCIuXCIrYzpcIlwiO3JldHVybiBJZihiLGZ1bmN0aW9uKGIpe2IuY3x8KGIuc2VsZWN0b3I9Yi5DPWdnKGEsYixhLmIsYyxmKSxiLmM9ITApO2UmJmUoYixjLGYpfSl9ZnVuY3Rpb24gZmcoYSxiKXtyZXR1cm4gYj9cIltpcz1cIithK1wiXVwiOmF9XG5mdW5jdGlvbiBnZyhhLGIsYyxkLGUpe3ZhciBmPVZmKGIuc2VsZWN0b3IpO2lmKCFMZihiKSl7Yj0wO2Zvcih2YXIgZz1mLmxlbmd0aCxoPXZvaWQgMDtiPGcmJihoPWZbYl0pO2IrKylmW2JdPWMuY2FsbChhLGgsZCxlKX1yZXR1cm4gZi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuISFhfSkuam9pbihcIixcIil9ZnVuY3Rpb24gaGcoYSl7cmV0dXJuIGEucmVwbGFjZShpZyxmdW5jdGlvbihhLGMsZCl7LTE8ZC5pbmRleE9mKFwiK1wiKT9kPWQucmVwbGFjZSgvXFwrL2csXCJfX19cIik6LTE8ZC5pbmRleE9mKFwiX19fXCIpJiYoZD1kLnJlcGxhY2UoL19fXy9nLFwiK1wiKSk7cmV0dXJuXCI6XCIrYytcIihcIitkK1wiKVwifSl9XG5mdW5jdGlvbiBqZyhhKXtmb3IodmFyIGI9W10sYztjPWEubWF0Y2goa2cpOyl7dmFyIGQ9Yy5pbmRleCxlPVFmKGEsZCk7aWYoLTE9PT1lKXRocm93IEVycm9yKGMuaW5wdXQrXCIgc2VsZWN0b3IgbWlzc2luZyAnKSdcIik7Yz1hLnNsaWNlKGQsZSsxKTthPWEucmVwbGFjZShjLFwiXFx1ZTAwMFwiKTtiLnB1c2goYyl9cmV0dXJue25hOmEsbWF0Y2hlczpifX1mdW5jdGlvbiBsZyhhLGIpe3ZhciBjPWEuc3BsaXQoXCJcXHVlMDAwXCIpO3JldHVybiBiLnJlZHVjZShmdW5jdGlvbihhLGIsZil7cmV0dXJuIGErYitjW2YrMV19LGNbMF0pfVxuWWYucHJvdG90eXBlLmI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSExO2E9YS50cmltKCk7dmFyIGU9aWcudGVzdChhKTtlJiYoYT1hLnJlcGxhY2UoaWcsZnVuY3Rpb24oYSxiLGMpe3JldHVyblwiOlwiK2IrXCIoXCIrYy5yZXBsYWNlKC9cXHMvZyxcIlwiKStcIilcIn0pLGE9aGcoYSkpO3ZhciBmPWtnLnRlc3QoYSk7aWYoZil7dmFyIGc9amcoYSk7YT1nLm5hO2c9Zy5tYXRjaGVzfWE9YS5yZXBsYWNlKG1nLFwiOmhvc3QgJDFcIik7YT1hLnJlcGxhY2UobmcsZnVuY3Rpb24oYSxlLGYpe2R8fChhPW9nKGYsZSxiLGMpLGQ9ZHx8YS5zdG9wLGU9YS5IYSxmPWEudmFsdWUpO3JldHVybiBlK2Z9KTtmJiYoYT1sZyhhLGcpKTtlJiYoYT1oZyhhKSk7cmV0dXJuIGE9YS5yZXBsYWNlKHBnLGZ1bmN0aW9uKGEsYixjLGQpe3JldHVybidbZGlyPVwiJytjKydcIl0gJytiK2QrXCIsIFwiK2IrJ1tkaXI9XCInK2MrJ1wiXScrZH0pfTtcbmZ1bmN0aW9uIG9nKGEsYixjLGQpe3ZhciBlPWEuaW5kZXhPZihcIjo6c2xvdHRlZFwiKTswPD1hLmluZGV4T2YoXCI6aG9zdFwiKT9hPXFnKGEsZCk6MCE9PWUmJihhPWM/cmcoYSxjKTphKTtjPSExOzA8PWUmJihiPVwiXCIsYz0hMCk7aWYoYyl7dmFyIGY9ITA7YyYmKGE9YS5yZXBsYWNlKHNnLGZ1bmN0aW9uKGEsYil7cmV0dXJuXCIgPiBcIitifSkpfXJldHVybnt2YWx1ZTphLEhhOmIsc3RvcDpmfX1mdW5jdGlvbiByZyhhLGIpe2E9YS5zcGxpdCgvKFxcWy4rP1xcXSkvKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKDE9PT1kJTIpYy5wdXNoKGFbZF0pO2Vsc2V7dmFyIGU9YVtkXTtpZihcIlwiIT09ZXx8ZCE9PWEubGVuZ3RoLTEpZT1lLnNwbGl0KFwiOlwiKSxlWzBdKz1iLGMucHVzaChlLmpvaW4oXCI6XCIpKX1yZXR1cm4gYy5qb2luKFwiXCIpfVxuZnVuY3Rpb24gcWcoYSxiKXt2YXIgYz1hLm1hdGNoKHRnKTtyZXR1cm4oYz1jJiZjWzJdLnRyaW0oKXx8XCJcIik/Y1swXS5tYXRjaCh1Zyk/YS5yZXBsYWNlKHRnLGZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYitmfSk6Yy5zcGxpdCh1ZylbMF09PT1iP2M6XCJzaG91bGRfbm90X21hdGNoXCI6YS5yZXBsYWNlKFwiOmhvc3RcIixiKX1mdW5jdGlvbiB2ZyhhKXtcIjpyb290XCI9PT1hLnNlbGVjdG9yJiYoYS5zZWxlY3Rvcj1cImh0bWxcIil9WWYucHJvdG90eXBlLmM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEubWF0Y2goXCI6aG9zdFwiKT9cIlwiOmEubWF0Y2goXCI6OnNsb3R0ZWRcIik/dGhpcy5iKGEsXCI6bm90KC5zdHlsZS1zY29wZSlcIik6cmcoYS50cmltKCksXCI6bm90KC5zdHlsZS1zY29wZSlcIil9O3QuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoWWYucHJvdG90eXBlLHthOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInN0eWxlLXNjb3BlXCJ9fX0pO1xudmFyIGlnPS86KG50aFstXFx3XSspXFwoKFteKV0rKVxcKS8sbmc9LyhefFtcXHM+K35dKykoKD86XFxbLis/XFxdfFteXFxzPit+PVtdKSspL2csdWc9L1tbLjojKl0vLG1nPS9eKDo6c2xvdHRlZCkvLHRnPS8oOmhvc3QpKD86XFwoKCg/OlxcKFteKShdKlxcKXxbXikoXSopKz8pXFwpKS8sc2c9Lyg/Ojo6c2xvdHRlZCkoPzpcXCgoKD86XFwoW14pKF0qXFwpfFteKShdKikrPylcXCkpLyxwZz0vKC4qKTpkaXJcXCgoPzoobHRyfHJ0bCkpXFwpKC4qKS8sa2c9LzooPzptYXRjaGVzfGFueXwtKD86d2Via2l0fG1veiktYW55KS8sVT1uZXcgWWY7ZnVuY3Rpb24gd2coYSxiLGMsZCxlKXt0aGlzLkw9YXx8bnVsbDt0aGlzLmI9Ynx8bnVsbDt0aGlzLmxhPWN8fFtdO3RoaXMuRz1udWxsO3RoaXMuY3NzQnVpbGQ9ZXx8XCJcIjt0aGlzLlg9ZHx8XCJcIjt0aGlzLmE9dGhpcy5IPXRoaXMuSz1udWxsfWZ1bmN0aW9uIFYoYSl7cmV0dXJuIGE/YS5fX3N0eWxlSW5mbzpudWxsfWZ1bmN0aW9uIHhnKGEsYil7cmV0dXJuIGEuX19zdHlsZUluZm89Yn13Zy5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkx9O3dnLnByb3RvdHlwZS5fZ2V0U3R5bGVSdWxlcz13Zy5wcm90b3R5cGUuYztmdW5jdGlvbiB5ZyhhKXt2YXIgYj10aGlzLm1hdGNoZXN8fHRoaXMubWF0Y2hlc1NlbGVjdG9yfHx0aGlzLm1vek1hdGNoZXNTZWxlY3Rvcnx8dGhpcy5tc01hdGNoZXNTZWxlY3Rvcnx8dGhpcy5vTWF0Y2hlc1NlbGVjdG9yfHx0aGlzLndlYmtpdE1hdGNoZXNTZWxlY3RvcjtyZXR1cm4gYiYmYi5jYWxsKHRoaXMsYSl9dmFyIHpnPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goXCJUcmlkZW50XCIpO2Z1bmN0aW9uIEFnKCl7fWZ1bmN0aW9uIEJnKGEpe3ZhciBiPXt9LGM9W10sZD0wO0pmKGEsZnVuY3Rpb24oYSl7Q2coYSk7YS5pbmRleD1kKys7YT1hLkEuY3NzVGV4dDtmb3IodmFyIGM7Yz1EZi5leGVjKGEpOyl7dmFyIGU9Y1sxXTtcIjpcIiE9PWNbMl0mJihiW2VdPSEwKX19LGZ1bmN0aW9uKGEpe2MucHVzaChhKX0pO2EuYj1jO2E9W107Zm9yKHZhciBlIGluIGIpYS5wdXNoKGUpO3JldHVybiBhfVxuZnVuY3Rpb24gQ2coYSl7aWYoIWEuQSl7dmFyIGI9e30sYz17fTtEZyhhLGMpJiYoYi5KPWMsYS5ydWxlcz1udWxsKTtiLmNzc1RleHQ9YS5wYXJzZWRDc3NUZXh0LnJlcGxhY2UoR2YsXCJcIikucmVwbGFjZShCZixcIlwiKTthLkE9Yn19ZnVuY3Rpb24gRGcoYSxiKXt2YXIgYz1hLkE7aWYoYyl7aWYoYy5KKXJldHVybiBPYmplY3QuYXNzaWduKGIsYy5KKSwhMH1lbHNle2M9YS5wYXJzZWRDc3NUZXh0O2Zvcih2YXIgZDthPUJmLmV4ZWMoYyk7KXtkPShhWzJdfHxhWzNdKS50cmltKCk7aWYoXCJpbmhlcml0XCIhPT1kfHxcInVuc2V0XCIhPT1kKWJbYVsxXS50cmltKCldPWQ7ZD0hMH1yZXR1cm4gZH19XG5mdW5jdGlvbiBFZyhhLGIsYyl7YiYmKGI9MDw9Yi5pbmRleE9mKFwiO1wiKT9GZyhhLGIsYyk6UmYoYixmdW5jdGlvbihiLGUsZixnKXtpZighZSlyZXR1cm4gYitnOyhlPUVnKGEsY1tlXSxjKSkmJlwiaW5pdGlhbFwiIT09ZT9cImFwcGx5LXNoaW0taW5oZXJpdFwiPT09ZSYmKGU9XCJpbmhlcml0XCIpOmU9RWcoYSxjW2ZdfHxmLGMpfHxmO3JldHVybiBiKyhlfHxcIlwiKStnfSkpO3JldHVybiBiJiZiLnRyaW0oKXx8XCJcIn1cbmZ1bmN0aW9uIEZnKGEsYixjKXtiPWIuc3BsaXQoXCI7XCIpO2Zvcih2YXIgZD0wLGUsZjtkPGIubGVuZ3RoO2QrKylpZihlPWJbZF0pe0NmLmxhc3RJbmRleD0wO2lmKGY9Q2YuZXhlYyhlKSllPUVnKGEsY1tmWzFdXSxjKTtlbHNlIGlmKGY9ZS5pbmRleE9mKFwiOlwiKSwtMSE9PWYpe3ZhciBnPWUuc3Vic3RyaW5nKGYpO2c9Zy50cmltKCk7Zz1FZyhhLGcsYyl8fGc7ZT1lLnN1YnN0cmluZygwLGYpK2d9YltkXT1lJiZlLmxhc3RJbmRleE9mKFwiO1wiKT09PWUubGVuZ3RoLTE/ZS5zbGljZSgwLC0xKTplfHxcIlwifXJldHVybiBiLmpvaW4oXCI7XCIpfVxuZnVuY3Rpb24gR2coYSxiKXt2YXIgYz17fSxkPVtdO0pmKGEsZnVuY3Rpb24oYSl7YS5BfHxDZyhhKTt2YXIgZT1hLkN8fGEucGFyc2VkU2VsZWN0b3I7YiYmYS5BLkomJmUmJnlnLmNhbGwoYixlKSYmKERnKGEsYyksYT1hLmluZGV4LGU9cGFyc2VJbnQoYS8zMiwxMCksZFtlXT0oZFtlXXx8MCl8MTw8YSUzMil9LG51bGwsITApO3JldHVybntKOmMsa2V5OmR9fVxuZnVuY3Rpb24gSGcoYSxiLGMsZCl7Yi5BfHxDZyhiKTtpZihiLkEuSil7dmFyIGU9VWYoYSk7YT1lLmlzO2U9ZS5YO2U9YT9mZyhhLGUpOlwiaHRtbFwiO3ZhciBmPWIucGFyc2VkU2VsZWN0b3IsZz1cIjpob3N0ID4gKlwiPT09Znx8XCJodG1sXCI9PT1mLGg9MD09PWYuaW5kZXhPZihcIjpob3N0XCIpJiYhZztcInNoYWR5XCI9PT1jJiYoZz1mPT09ZStcIiA+ICouXCIrZXx8LTEhPT1mLmluZGV4T2YoXCJodG1sXCIpLGg9IWcmJjA9PT1mLmluZGV4T2YoZSkpO2lmKGd8fGgpYz1lLGgmJihiLkN8fChiLkM9Z2coVSxiLFUuYixhP1wiLlwiK2E6XCJcIixlKSksYz1iLkN8fGUpLGQoe25hOmMsT2E6aCxiYjpnfSl9fWZ1bmN0aW9uIElnKGEsYixjKXt2YXIgZD17fSxlPXt9O0pmKGIsZnVuY3Rpb24oYil7SGcoYSxiLGMsZnVuY3Rpb24oYyl7eWcuY2FsbChhLl9lbGVtZW50fHxhLGMubmEpJiYoYy5PYT9EZyhiLGQpOkRnKGIsZSkpfSl9LG51bGwsITApO3JldHVybntVYTplLE1hOmR9fVxuZnVuY3Rpb24gSmcoYSxiLGMsZCl7dmFyIGU9VWYoYiksZj1mZyhlLmlzLGUuWCksZz1uZXcgUmVnRXhwKFwiKD86XnxbXi4jWzpdKVwiKyhiLmV4dGVuZHM/XCJcXFxcXCIrZi5zbGljZSgwLC0xKStcIlxcXFxdXCI6ZikrXCIoJHxbLjpbXFxcXHM+K35dKVwiKSxoPVYoYik7ZT1oLkw7aD1oLmNzc0J1aWxkO3ZhciBrPUtnKGUsZCk7cmV0dXJuIGRnKGIsZSxmdW5jdGlvbihiKXt2YXIgZT1cIlwiO2IuQXx8Q2coYik7Yi5BLmNzc1RleHQmJihlPUZnKGEsYi5BLmNzc1RleHQsYykpO2IuY3NzVGV4dD1lO2lmKCFSJiYhTGYoYikmJmIuY3NzVGV4dCl7dmFyIGg9ZT1iLmNzc1RleHQ7bnVsbD09Yi5yYSYmKGIucmE9RWYudGVzdChlKSk7aWYoYi5yYSlpZihudWxsPT1iLmJhKXtiLmJhPVtdO2Zvcih2YXIgbCBpbiBrKWg9a1tsXSxoPWgoZSksZSE9PWgmJihlPWgsYi5iYS5wdXNoKGwpKX1lbHNle2ZvcihsPTA7bDxiLmJhLmxlbmd0aDsrK2wpaD1rW2IuYmFbbF1dLGU9aChlKTtoPWV9Yi5jc3NUZXh0PWg7Yi5DPVxuYi5DfHxiLnNlbGVjdG9yO2U9XCIuXCIrZDtsPVZmKGIuQyk7aD0wO2Zvcih2YXIgdj1sLmxlbmd0aCx4PXZvaWQgMDtoPHYmJih4PWxbaF0pO2grKylsW2hdPXgubWF0Y2goZyk/eC5yZXBsYWNlKGYsZSk6ZStcIiBcIit4O2Iuc2VsZWN0b3I9bC5qb2luKFwiLFwiKX19LGgpfWZ1bmN0aW9uIEtnKGEsYil7YT1hLmI7dmFyIGM9e307aWYoIVImJmEpZm9yKHZhciBkPTAsZT1hW2RdO2Q8YS5sZW5ndGg7ZT1hWysrZF0pe3ZhciBmPWUsZz1iO2YuZj1uZXcgUmVnRXhwKFwiXFxcXGJcIitmLmtleWZyYW1lc05hbWUrXCIoPyFcXFxcQnwtKVwiLFwiZ1wiKTtmLmE9Zi5rZXlmcmFtZXNOYW1lK1wiLVwiK2c7Zi5DPWYuQ3x8Zi5zZWxlY3RvcjtmLnNlbGVjdG9yPWYuQy5yZXBsYWNlKGYua2V5ZnJhbWVzTmFtZSxmLmEpO2NbZS5rZXlmcmFtZXNOYW1lXT1MZyhlKX1yZXR1cm4gY31mdW5jdGlvbiBMZyhhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGIucmVwbGFjZShhLmYsYS5hKX19XG5mdW5jdGlvbiBNZyhhLGIpe3ZhciBjPU5nLGQ9S2YoYSk7YS50ZXh0Q29udGVudD1JZihkLGZ1bmN0aW9uKGEpe3ZhciBkPWEuY3NzVGV4dD1hLnBhcnNlZENzc1RleHQ7YS5BJiZhLkEuY3NzVGV4dCYmKGQ9ZC5yZXBsYWNlKHFmLFwiXCIpLnJlcGxhY2UocmYsXCJcIiksYS5jc3NUZXh0PUZnKGMsZCxiKSl9KX10Lk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEFnLnByb3RvdHlwZSx7YTp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJ4LXNjb3BlXCJ9fX0pO3ZhciBOZz1uZXcgQWc7dmFyIE9nPXt9LFBnPXdpbmRvdy5jdXN0b21FbGVtZW50cztpZihQZyYmIVImJiF6Zil7dmFyIFFnPVBnLmRlZmluZTtQZy5kZWZpbmU9ZnVuY3Rpb24oYSxiLGMpe09nW2FdfHwoT2dbYV09UGYoYSkpO1FnLmNhbGwoUGcsYSxiLGMpfX07ZnVuY3Rpb24gUmcoKXt0aGlzLmNhY2hlPXt9fVJnLnByb3RvdHlwZS5zdG9yZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmNhY2hlW2FdfHxbXTtlLnB1c2goe0o6YixzdHlsZUVsZW1lbnQ6YyxIOmR9KTsxMDA8ZS5sZW5ndGgmJmUuc2hpZnQoKTt0aGlzLmNhY2hlW2FdPWV9O2Z1bmN0aW9uIFNnKCl7fXZhciBUZz1uZXcgUmVnRXhwKFUuYStcIlxcXFxzKihbXlxcXFxzXSopXCIpO2Z1bmN0aW9uIFVnKGEpe3JldHVybihhPShhLmNsYXNzTGlzdCYmYS5jbGFzc0xpc3QudmFsdWU/YS5jbGFzc0xpc3QudmFsdWU6YS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIikubWF0Y2goVGcpKT9hWzFdOlwiXCJ9ZnVuY3Rpb24gVmcoYSl7dmFyIGI9VGYoYSkuZ2V0Um9vdE5vZGUoKTtyZXR1cm4gYj09PWF8fGI9PT1hLm93bmVyRG9jdW1lbnQ/XCJcIjooYT1iLmhvc3QpP1VmKGEpLmlzOlwiXCJ9XG5mdW5jdGlvbiBXZyhhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTtpZihjLnRhcmdldCE9PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmYy50YXJnZXQhPT1kb2N1bWVudC5oZWFkKWZvcih2YXIgZD0wO2Q8Yy5hZGRlZE5vZGVzLmxlbmd0aDtkKyspe3ZhciBlPWMuYWRkZWROb2Rlc1tkXTtpZihlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBmPWUuZ2V0Um9vdE5vZGUoKSxnPVVnKGUpO2lmKGcmJmY9PT1lLm93bmVyRG9jdW1lbnQmJihcInN0eWxlXCIhPT1lLmxvY2FsTmFtZSYmXCJ0ZW1wbGF0ZVwiIT09ZS5sb2NhbE5hbWV8fFwiXCI9PT1XZihlKSkpY2coZSxnKTtlbHNlIGlmKGYgaW5zdGFuY2VvZiBTaGFkb3dSb290KWZvcihmPVZnKGUpLGYhPT1nJiZiZyhlLGcsZiksZT13aW5kb3cuU2hhZHlET00ubmF0aXZlTWV0aG9kcy5xdWVyeVNlbGVjdG9yQWxsLmNhbGwoZSxcIjpub3QoLlwiK1UuYStcIilcIiksZz0wO2c8ZS5sZW5ndGg7ZysrKXtmPWVbZ107XG52YXIgaD1WZyhmKTtoJiZhZyhmLGgpfX19fX1cbmlmKCEoUnx8d2luZG93LlNoYWR5RE9NJiZ3aW5kb3cuU2hhZHlET00uaGFuZGxlc0R5bmFtaWNTY29waW5nKSl7dmFyIFhnPW5ldyBNdXRhdGlvbk9ic2VydmVyKFdnKSxZZz1mdW5jdGlvbihhKXtYZy5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9O2lmKHdpbmRvdy5jdXN0b21FbGVtZW50cyYmIXdpbmRvdy5jdXN0b21FbGVtZW50cy5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrKVlnKGRvY3VtZW50KTtlbHNle3ZhciBaZz1mdW5jdGlvbigpe1lnKGRvY3VtZW50LmJvZHkpfTt3aW5kb3cuSFRNTEltcG9ydHM/d2luZG93LkhUTUxJbXBvcnRzLndoZW5SZWFkeShaZyk6cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7aWYoXCJsb2FkaW5nXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlKXt2YXIgYT1mdW5jdGlvbigpe1pnKCk7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIixhKX07ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIixcbmEpfWVsc2UgWmcoKX0pfVNnPWZ1bmN0aW9uKCl7V2coWGcudGFrZVJlY29yZHMoKSl9fXZhciAkZz1TZzt2YXIgYWg9e307dmFyIGJoPVByb21pc2UucmVzb2x2ZSgpO2Z1bmN0aW9uIGNoKGEpe2lmKGE9YWhbYV0pYS5fYXBwbHlTaGltQ3VycmVudFZlcnNpb249YS5fYXBwbHlTaGltQ3VycmVudFZlcnNpb258fDAsYS5fYXBwbHlTaGltVmFsaWRhdGluZ1ZlcnNpb249YS5fYXBwbHlTaGltVmFsaWRhdGluZ1ZlcnNpb258fDAsYS5fYXBwbHlTaGltTmV4dFZlcnNpb249KGEuX2FwcGx5U2hpbU5leHRWZXJzaW9ufHwwKSsxfWZ1bmN0aW9uIGRoKGEpe3JldHVybiBhLl9hcHBseVNoaW1DdXJyZW50VmVyc2lvbj09PWEuX2FwcGx5U2hpbU5leHRWZXJzaW9ufWZ1bmN0aW9uIGVoKGEpe2EuX2FwcGx5U2hpbVZhbGlkYXRpbmdWZXJzaW9uPWEuX2FwcGx5U2hpbU5leHRWZXJzaW9uO2EuX3ZhbGlkYXRpbmd8fChhLl92YWxpZGF0aW5nPSEwLGJoLnRoZW4oZnVuY3Rpb24oKXthLl9hcHBseVNoaW1DdXJyZW50VmVyc2lvbj1hLl9hcHBseVNoaW1OZXh0VmVyc2lvbjthLl92YWxpZGF0aW5nPSExfSkpfTt2YXIgZmg9e30sZ2g9bmV3IFJnO2Z1bmN0aW9uIFcoKXt0aGlzLkY9e307dGhpcy5jPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudDt2YXIgYT1uZXcgY2Y7YS5ydWxlcz1bXTt0aGlzLmY9eGcodGhpcy5jLG5ldyB3ZyhhKSk7dGhpcy51PSExO3RoaXMuYj10aGlzLmE9bnVsbH1yPVcucHJvdG90eXBlO3IuZmx1c2g9ZnVuY3Rpb24oKXskZygpfTtyLkthPWZ1bmN0aW9uKGEpe3JldHVybiBLZihhKX07ci5ZYT1mdW5jdGlvbihhKXtyZXR1cm4gSWYoYSl9O3IucHJlcGFyZVRlbXBsYXRlPWZ1bmN0aW9uKGEsYixjKXt0aGlzLnByZXBhcmVUZW1wbGF0ZURvbShhLGIpO3RoaXMucHJlcGFyZVRlbXBsYXRlU3R5bGVzKGEsYixjKX07XG5yLnByZXBhcmVUZW1wbGF0ZVN0eWxlcz1mdW5jdGlvbihhLGIsYyl7aWYoIWEuX3ByZXBhcmVkJiYhemYpe1J8fE9nW2JdfHwoT2dbYl09UGYoYikpO2EuX3ByZXBhcmVkPSEwO2EubmFtZT1iO2EuZXh0ZW5kcz1jO2FoW2JdPWE7dmFyIGQ9V2YoYSksZT1YZihkKTtjPXtpczpiLGV4dGVuZHM6Y307Zm9yKHZhciBmPVtdLGc9YS5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzdHlsZVwiKSxoPTA7aDxnLmxlbmd0aDtoKyspe3ZhciBrPWdbaF07aWYoay5oYXNBdHRyaWJ1dGUoXCJzaGFkeS11bnNjb3BlZFwiKSl7aWYoIVIpe3ZhciBsPWsudGV4dENvbnRlbnQ7SGYuaGFzKGwpfHwoSGYuYWRkKGwpLGw9ay5jbG9uZU5vZGUoITApLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobCkpO2sucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChrKX19ZWxzZSBmLnB1c2goay50ZXh0Q29udGVudCksay5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGspfWY9Zi5qb2luKFwiXCIpLnRyaW0oKSsoZmhbYl18fFwiXCIpO1xuaGgodGhpcyk7aWYoIWUpe2lmKGc9IWQpZz1DZi50ZXN0KGYpfHxCZi50ZXN0KGYpLENmLmxhc3RJbmRleD0wLEJmLmxhc3RJbmRleD0wO2g9ZGYoZik7ZyYmUyYmdGhpcy5hJiZ0aGlzLmEudHJhbnNmb3JtUnVsZXMoaCxiKTthLl9zdHlsZUFzdD1ofWc9W107U3x8KGc9QmcoYS5fc3R5bGVBc3QpKTtpZighZy5sZW5ndGh8fFMpaD1SP2EuY29udGVudDpudWxsLGI9T2dbYl18fG51bGwsZD1kZyhjLGEuX3N0eWxlQXN0LG51bGwsZCxlP2Y6XCJcIiksZD1kLmxlbmd0aD9NZihkLGMuaXMsaCxiKTpudWxsLGEuX3N0eWxlPWQ7YS5hPWd9fTtyLlNhPWZ1bmN0aW9uKGEsYil7ZmhbYl09YS5qb2luKFwiIFwiKX07ci5wcmVwYXJlVGVtcGxhdGVEb209ZnVuY3Rpb24oYSxiKXtpZighemYpe3ZhciBjPVdmKGEpO1J8fFwic2hhZHlcIj09PWN8fGEuX2RvbVByZXBhcmVkfHwoYS5fZG9tUHJlcGFyZWQ9ITAsWmYoYS5jb250ZW50LGIpKX19O1xuZnVuY3Rpb24gaWgoYSl7dmFyIGI9VWYoYSksYz1iLmlzO2I9Yi5YO3ZhciBkPU9nW2NdfHxudWxsLGU9YWhbY107aWYoZSl7Yz1lLl9zdHlsZUFzdDt2YXIgZj1lLmE7ZT1XZihlKTtiPW5ldyB3ZyhjLGQsZixiLGUpO3hnKGEsYik7cmV0dXJuIGJ9fWZ1bmN0aW9uIGpoKGEpeyFhLmImJndpbmRvdy5TaGFkeUNTUyYmd2luZG93LlNoYWR5Q1NTLkN1c3RvbVN0eWxlSW50ZXJmYWNlJiYoYS5iPXdpbmRvdy5TaGFkeUNTUy5DdXN0b21TdHlsZUludGVyZmFjZSxhLmIudHJhbnNmb3JtQ2FsbGJhY2s9ZnVuY3Rpb24oYil7YS52YShiKX0sYS5iLnZhbGlkYXRlQ2FsbGJhY2s9ZnVuY3Rpb24oKXtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXsoYS5iLmVucXVldWVkfHxhLnUpJiZhLmZsdXNoQ3VzdG9tU3R5bGVzKCl9KX0pfVxuZnVuY3Rpb24gaGgoYSl7IWEuYSYmd2luZG93LlNoYWR5Q1NTJiZ3aW5kb3cuU2hhZHlDU1MuQXBwbHlTaGltJiYoYS5hPXdpbmRvdy5TaGFkeUNTUy5BcHBseVNoaW0sYS5hLmludmFsaWRDYWxsYmFjaz1jaCk7amgoYSl9XG5yLmZsdXNoQ3VzdG9tU3R5bGVzPWZ1bmN0aW9uKCl7aWYoIXpmJiYoaGgodGhpcyksdGhpcy5iKSl7dmFyIGE9dGhpcy5iLnByb2Nlc3NTdHlsZXMoKTtpZih0aGlzLmIuZW5xdWV1ZWQmJiFYZih0aGlzLmYuY3NzQnVpbGQpKXtpZihTKXtpZighdGhpcy5mLmNzc0J1aWxkKWZvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz10aGlzLmIuZ2V0U3R5bGVGb3JDdXN0b21TdHlsZShhW2JdKTtpZihjJiZTJiZ0aGlzLmEpe3ZhciBkPUtmKGMpO2hoKHRoaXMpO3RoaXMuYS50cmFuc2Zvcm1SdWxlcyhkKTtjLnRleHRDb250ZW50PUlmKGQpfX19ZWxzZXtraCh0aGlzLHRoaXMuYyx0aGlzLmYpO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspKGM9dGhpcy5iLmdldFN0eWxlRm9yQ3VzdG9tU3R5bGUoYVtiXSkpJiZNZyhjLHRoaXMuZi5LKTt0aGlzLnUmJnRoaXMuc3R5bGVEb2N1bWVudCgpfXRoaXMuYi5lbnF1ZXVlZD0hMX19fTtcbnIuc3R5bGVFbGVtZW50PWZ1bmN0aW9uKGEsYil7aWYoemYpe2lmKGIpe1YoYSl8fHhnKGEsbmV3IHdnKG51bGwpKTt2YXIgYz1WKGEpO2MuRz1jLkd8fHt9O09iamVjdC5hc3NpZ24oYy5HLGIpO2xoKHRoaXMsYSxjKX19ZWxzZSBpZihjPVYoYSl8fGloKGEpKWlmKGEhPT10aGlzLmMmJih0aGlzLnU9ITApLGImJihjLkc9Yy5HfHx7fSxPYmplY3QuYXNzaWduKGMuRyxiKSksUylsaCh0aGlzLGEsYyk7ZWxzZSBpZih0aGlzLmZsdXNoKCksa2godGhpcyxhLGMpLGMubGEmJmMubGEubGVuZ3RoKXtiPVVmKGEpLmlzO3ZhciBkO2E6e2lmKGQ9Z2guY2FjaGVbYl0pZm9yKHZhciBlPWQubGVuZ3RoLTE7MDw9ZTtlLS0pe3ZhciBmPWRbZV07Yjp7dmFyIGc9Yy5sYTtmb3IodmFyIGg9MDtoPGcubGVuZ3RoO2grKyl7dmFyIGs9Z1toXTtpZihmLkpba10hPT1jLktba10pe2c9ITE7YnJlYWsgYn19Zz0hMH1pZihnKXtkPWY7YnJlYWsgYX19ZD12b2lkIDB9Zz1kP2Quc3R5bGVFbGVtZW50Om51bGw7XG5lPWMuSDsoZj1kJiZkLkgpfHwoZj10aGlzLkZbYl09KHRoaXMuRltiXXx8MCkrMSxmPWIrXCItXCIrZik7Yy5IPWY7Zj1jLkg7aD1OZztoPWc/Zy50ZXh0Q29udGVudHx8XCJcIjpKZyhoLGEsYy5LLGYpO2s9VihhKTt2YXIgbD1rLmE7bCYmIVImJmwhPT1nJiYobC5fdXNlQ291bnQtLSwwPj1sLl91c2VDb3VudCYmbC5wYXJlbnROb2RlJiZsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobCkpO1I/ay5hPyhrLmEudGV4dENvbnRlbnQ9aCxnPWsuYSk6aCYmKGc9TWYoaCxmLGEuc2hhZG93Um9vdCxrLmIpKTpnP2cucGFyZW50Tm9kZXx8KHpnJiYtMTxoLmluZGV4T2YoXCJAbWVkaWFcIikmJihnLnRleHRDb250ZW50PWgpLE5mKGcsbnVsbCxrLmIpKTpoJiYoZz1NZihoLGYsbnVsbCxrLmIpKTtnJiYoZy5fdXNlQ291bnQ9Zy5fdXNlQ291bnR8fDAsay5hIT1nJiZnLl91c2VDb3VudCsrLGsuYT1nKTtmPWc7Unx8KGc9Yy5ILGs9aD1hLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiLGUmJihrPWgucmVwbGFjZShuZXcgUmVnRXhwKFwiXFxcXHMqeC1zY29wZVxcXFxzKlwiK1xuZStcIlxcXFxzKlwiLFwiZ1wiKSxcIiBcIikpLGsrPShrP1wiIFwiOlwiXCIpK1wieC1zY29wZSBcIitnLGghPT1rJiZTZihhLGspKTtkfHxnaC5zdG9yZShiLGMuSyxmLGMuSCl9fTtcbmZ1bmN0aW9uIGxoKGEsYixjKXt2YXIgZD1VZihiKS5pcztpZihjLkcpe3ZhciBlPWMuRyxmO2ZvcihmIGluIGUpbnVsbD09PWY/Yi5zdHlsZS5yZW1vdmVQcm9wZXJ0eShmKTpiLnN0eWxlLnNldFByb3BlcnR5KGYsZVtmXSl9ZT1haFtkXTtpZighKCFlJiZiIT09YS5jfHxlJiZcIlwiIT09V2YoZSkpJiZlJiZlLl9zdHlsZSYmIWRoKGUpKXtpZihkaChlKXx8ZS5fYXBwbHlTaGltVmFsaWRhdGluZ1ZlcnNpb24hPT1lLl9hcHBseVNoaW1OZXh0VmVyc2lvbiloaChhKSxhLmEmJmEuYS50cmFuc2Zvcm1SdWxlcyhlLl9zdHlsZUFzdCxkKSxlLl9zdHlsZS50ZXh0Q29udGVudD1kZyhiLGMuTCksZWgoZSk7UiYmKGE9Yi5zaGFkb3dSb290KSYmKGE9YS5xdWVyeVNlbGVjdG9yKFwic3R5bGVcIikpJiYoYS50ZXh0Q29udGVudD1kZyhiLGMuTCkpO2MuTD1lLl9zdHlsZUFzdH19XG5mdW5jdGlvbiBtaChhLGIpe3JldHVybihiPVRmKGIpLmdldFJvb3ROb2RlKCkuaG9zdCk/VihiKXx8aWgoYik/YjptaChhLGIpOmEuY31mdW5jdGlvbiBraChhLGIsYyl7dmFyIGQ9bWgoYSxiKSxlPVYoZCksZj1lLks7ZD09PWEuY3x8Znx8KGtoKGEsZCxlKSxmPWUuSyk7YT1PYmplY3QuY3JlYXRlKGZ8fG51bGwpO2Q9SWcoYixjLkwsYy5jc3NCdWlsZCk7Yj1HZyhlLkwsYikuSjtPYmplY3QuYXNzaWduKGEsZC5NYSxiLGQuVWEpO2I9Yy5HO2Zvcih2YXIgZyBpbiBiKWlmKChlPWJbZ10pfHwwPT09ZSlhW2ddPWU7Zz1OZztiPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEpO2ZvcihlPTA7ZTxiLmxlbmd0aDtlKyspZD1iW2VdLGFbZF09RWcoZyxhW2RdLGEpO2MuSz1hfXIuc3R5bGVEb2N1bWVudD1mdW5jdGlvbihhKXt0aGlzLnN0eWxlU3VidHJlZSh0aGlzLmMsYSl9O1xuci5zdHlsZVN1YnRyZWU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1UZihhKSxkPWMuc2hhZG93Um9vdDsoZHx8YT09PXRoaXMuYykmJnRoaXMuc3R5bGVFbGVtZW50KGEsYik7aWYoYT1kJiYoZC5jaGlsZHJlbnx8ZC5jaGlsZE5vZGVzKSlmb3IoYz0wO2M8YS5sZW5ndGg7YysrKXRoaXMuc3R5bGVTdWJ0cmVlKGFbY10pO2Vsc2UgaWYoYz1jLmNoaWxkcmVufHxjLmNoaWxkTm9kZXMpZm9yKGE9MDthPGMubGVuZ3RoO2ErKyl0aGlzLnN0eWxlU3VidHJlZShjW2FdKX07XG5yLnZhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1XZihhKTtjIT09dGhpcy5mLmNzc0J1aWxkJiYodGhpcy5mLmNzc0J1aWxkPWMpO2lmKCFYZihjKSl7dmFyIGQ9S2YoYSk7SmYoZCxmdW5jdGlvbihhKXtpZihSKXZnKGEpO2Vsc2V7dmFyIGQ9VTthLnNlbGVjdG9yPWEucGFyc2VkU2VsZWN0b3I7dmcoYSk7YS5zZWxlY3Rvcj1hLkM9Z2coZCxhLGQuYyx2b2lkIDAsdm9pZCAwKX1TJiZcIlwiPT09YyYmKGhoKGIpLGIuYSYmYi5hLnRyYW5zZm9ybVJ1bGUoYSkpfSk7Uz9hLnRleHRDb250ZW50PUlmKGQpOnRoaXMuZi5MLnJ1bGVzLnB1c2goZCl9fTtyLmdldENvbXB1dGVkU3R5bGVWYWx1ZT1mdW5jdGlvbihhLGIpe3ZhciBjO1N8fChjPShWKGEpfHxWKG1oKHRoaXMsYSkpKS5LW2JdKTtyZXR1cm4oYz1jfHx3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShhKS5nZXRQcm9wZXJ0eVZhbHVlKGIpKT9jLnRyaW0oKTpcIlwifTtcbnIuWGE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1UZihhKS5nZXRSb290Tm9kZSgpO2I9Yj9iLnNwbGl0KC9cXHMvKTpbXTtjPWMuaG9zdCYmYy5ob3N0LmxvY2FsTmFtZTtpZighYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtpZihkKXtkPWQuc3BsaXQoL1xccy8pO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKGRbZV09PT1VLmEpe2M9ZFtlKzFdO2JyZWFrfX19YyYmYi5wdXNoKFUuYSxjKTtTfHwoYz1WKGEpKSYmYy5IJiZiLnB1c2goTmcuYSxjLkgpO1NmKGEsYi5qb2luKFwiIFwiKSl9O3IuRmE9ZnVuY3Rpb24oYSl7cmV0dXJuIFYoYSl9O3IuV2E9ZnVuY3Rpb24oYSxiKXthZyhhLGIpfTtyLlphPWZ1bmN0aW9uKGEsYil7YWcoYSxiLCEwKX07ci5WYT1mdW5jdGlvbihhKXtyZXR1cm4gVmcoYSl9O3IuSWE9ZnVuY3Rpb24oYSl7cmV0dXJuIFVnKGEpfTtXLnByb3RvdHlwZS5mbHVzaD1XLnByb3RvdHlwZS5mbHVzaDtXLnByb3RvdHlwZS5wcmVwYXJlVGVtcGxhdGU9Vy5wcm90b3R5cGUucHJlcGFyZVRlbXBsYXRlO1xuVy5wcm90b3R5cGUuc3R5bGVFbGVtZW50PVcucHJvdG90eXBlLnN0eWxlRWxlbWVudDtXLnByb3RvdHlwZS5zdHlsZURvY3VtZW50PVcucHJvdG90eXBlLnN0eWxlRG9jdW1lbnQ7Vy5wcm90b3R5cGUuc3R5bGVTdWJ0cmVlPVcucHJvdG90eXBlLnN0eWxlU3VidHJlZTtXLnByb3RvdHlwZS5nZXRDb21wdXRlZFN0eWxlVmFsdWU9Vy5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlO1cucHJvdG90eXBlLnNldEVsZW1lbnRDbGFzcz1XLnByb3RvdHlwZS5YYTtXLnByb3RvdHlwZS5fc3R5bGVJbmZvRm9yTm9kZT1XLnByb3RvdHlwZS5GYTtXLnByb3RvdHlwZS50cmFuc2Zvcm1DdXN0b21TdHlsZUZvckRvY3VtZW50PVcucHJvdG90eXBlLnZhO1cucHJvdG90eXBlLmdldFN0eWxlQXN0PVcucHJvdG90eXBlLkthO1cucHJvdG90eXBlLnN0eWxlQXN0VG9TdHJpbmc9Vy5wcm90b3R5cGUuWWE7Vy5wcm90b3R5cGUuZmx1c2hDdXN0b21TdHlsZXM9Vy5wcm90b3R5cGUuZmx1c2hDdXN0b21TdHlsZXM7XG5XLnByb3RvdHlwZS5zY29wZU5vZGU9Vy5wcm90b3R5cGUuV2E7Vy5wcm90b3R5cGUudW5zY29wZU5vZGU9Vy5wcm90b3R5cGUuWmE7Vy5wcm90b3R5cGUuc2NvcGVGb3JOb2RlPVcucHJvdG90eXBlLlZhO1cucHJvdG90eXBlLmN1cnJlbnRTY29wZUZvck5vZGU9Vy5wcm90b3R5cGUuSWE7Vy5wcm90b3R5cGUucHJlcGFyZUFkb3B0ZWRDc3NUZXh0PVcucHJvdG90eXBlLlNhO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFcucHJvdG90eXBlLHtuYXRpdmVTaGFkb3c6e2dldDpmdW5jdGlvbigpe3JldHVybiBSfX0sbmF0aXZlQ3NzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gU319fSk7dmFyIFo9bmV3IFcsbmgsb2g7d2luZG93LlNoYWR5Q1NTJiYobmg9d2luZG93LlNoYWR5Q1NTLkFwcGx5U2hpbSxvaD13aW5kb3cuU2hhZHlDU1MuQ3VzdG9tU3R5bGVJbnRlcmZhY2UpO1xud2luZG93LlNoYWR5Q1NTPXtTY29waW5nU2hpbTpaLHByZXBhcmVUZW1wbGF0ZTpmdW5jdGlvbihhLGIsYyl7Wi5mbHVzaEN1c3RvbVN0eWxlcygpO1oucHJlcGFyZVRlbXBsYXRlKGEsYixjKX0scHJlcGFyZVRlbXBsYXRlRG9tOmZ1bmN0aW9uKGEsYil7Wi5wcmVwYXJlVGVtcGxhdGVEb20oYSxiKX0scHJlcGFyZVRlbXBsYXRlU3R5bGVzOmZ1bmN0aW9uKGEsYixjKXtaLmZsdXNoQ3VzdG9tU3R5bGVzKCk7Wi5wcmVwYXJlVGVtcGxhdGVTdHlsZXMoYSxiLGMpfSxzdHlsZVN1YnRyZWU6ZnVuY3Rpb24oYSxiKXtaLmZsdXNoQ3VzdG9tU3R5bGVzKCk7Wi5zdHlsZVN1YnRyZWUoYSxiKX0sc3R5bGVFbGVtZW50OmZ1bmN0aW9uKGEpe1ouZmx1c2hDdXN0b21TdHlsZXMoKTtaLnN0eWxlRWxlbWVudChhKX0sc3R5bGVEb2N1bWVudDpmdW5jdGlvbihhKXtaLmZsdXNoQ3VzdG9tU3R5bGVzKCk7Wi5zdHlsZURvY3VtZW50KGEpfSxmbHVzaEN1c3RvbVN0eWxlczpmdW5jdGlvbigpe1ouZmx1c2hDdXN0b21TdHlsZXMoKX0sXG5nZXRDb21wdXRlZFN0eWxlVmFsdWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gWi5nZXRDb21wdXRlZFN0eWxlVmFsdWUoYSxiKX0sbmF0aXZlQ3NzOlMsbmF0aXZlU2hhZG93OlIsY3NzQnVpbGQ6QWYsZGlzYWJsZVJ1bnRpbWU6emZ9O25oJiYod2luZG93LlNoYWR5Q1NTLkFwcGx5U2hpbT1uaCk7b2gmJih3aW5kb3cuU2hhZHlDU1MuQ3VzdG9tU3R5bGVJbnRlcmZhY2U9b2gpOyhmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe1wiXCI9PWEmJihmLmNhbGwodGhpcyksdGhpcy5pPSEwKTtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGMoYSl7dmFyIGI9YS5jaGFyQ29kZUF0KDApO3JldHVybiAzMjxiJiYxMjc+YiYmLTE9PVszNCwzNSw2MCw2Miw2Myw5Nl0uaW5kZXhPZihiKT9hOmVuY29kZVVSSUNvbXBvbmVudChhKX1mdW5jdGlvbiBkKGEpe3ZhciBiPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4gMzI8YiYmMTI3PmImJi0xPT1bMzQsMzUsNjAsNjIsOTZdLmluZGV4T2YoYik/YTplbmNvZGVVUklDb21wb25lbnQoYSl9ZnVuY3Rpb24gZShhLGUsZyl7ZnVuY3Rpb24gaChhKXtYLnB1c2goYSl9dmFyIGs9ZXx8XCJzY2hlbWUgc3RhcnRcIix4PTAscD1cIlwiLHY9ITEsUT0hMSxYPVtdO2E6Zm9yKDsodm9pZCAwIT1hW3gtMV18fDA9PXgpJiYhdGhpcy5pOyl7dmFyIG09YVt4XTtzd2l0Y2goayl7Y2FzZSBcInNjaGVtZSBzdGFydFwiOmlmKG0mJnEudGVzdChtKSlwKz1tLnRvTG93ZXJDYXNlKCksXG5rPVwic2NoZW1lXCI7ZWxzZSBpZihlKXtoKFwiSW52YWxpZCBzY2hlbWUuXCIpO2JyZWFrIGF9ZWxzZXtwPVwiXCI7az1cIm5vIHNjaGVtZVwiO2NvbnRpbnVlfWJyZWFrO2Nhc2UgXCJzY2hlbWVcIjppZihtJiZJLnRlc3QobSkpcCs9bS50b0xvd2VyQ2FzZSgpO2Vsc2UgaWYoXCI6XCI9PW0pe3RoaXMuaD1wO3A9XCJcIjtpZihlKWJyZWFrIGE7dm9pZCAwIT09bFt0aGlzLmhdJiYodGhpcy5CPSEwKTtrPVwiZmlsZVwiPT10aGlzLmg/XCJyZWxhdGl2ZVwiOnRoaXMuQiYmZyYmZy5oPT10aGlzLmg/XCJyZWxhdGl2ZSBvciBhdXRob3JpdHlcIjp0aGlzLkI/XCJhdXRob3JpdHkgZmlyc3Qgc2xhc2hcIjpcInNjaGVtZSBkYXRhXCJ9ZWxzZSBpZihlKXt2b2lkIDAhPW0mJmgoXCJDb2RlIHBvaW50IG5vdCBhbGxvd2VkIGluIHNjaGVtZTogXCIrbSk7YnJlYWsgYX1lbHNle3A9XCJcIjt4PTA7az1cIm5vIHNjaGVtZVwiO2NvbnRpbnVlfWJyZWFrO2Nhc2UgXCJzY2hlbWUgZGF0YVwiOlwiP1wiPT1tPyh0aGlzLm89XCI/XCIsaz1cInF1ZXJ5XCIpOlwiI1wiPT1cbm0/KHRoaXMudj1cIiNcIixrPVwiZnJhZ21lbnRcIik6dm9pZCAwIT1tJiZcIlxcdFwiIT1tJiZcIlxcblwiIT1tJiZcIlxcclwiIT1tJiYodGhpcy5pYSs9YyhtKSk7YnJlYWs7Y2FzZSBcIm5vIHNjaGVtZVwiOmlmKGcmJnZvaWQgMCE9PWxbZy5oXSl7az1cInJlbGF0aXZlXCI7Y29udGludWV9ZWxzZSBoKFwiTWlzc2luZyBzY2hlbWUuXCIpLGYuY2FsbCh0aGlzKSx0aGlzLmk9ITA7YnJlYWs7Y2FzZSBcInJlbGF0aXZlIG9yIGF1dGhvcml0eVwiOmlmKFwiL1wiPT1tJiZcIi9cIj09YVt4KzFdKWs9XCJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXNcIjtlbHNle2goXCJFeHBlY3RlZCAvLCBnb3Q6IFwiK20pO2s9XCJyZWxhdGl2ZVwiO2NvbnRpbnVlfWJyZWFrO2Nhc2UgXCJyZWxhdGl2ZVwiOnRoaXMuQj0hMDtcImZpbGVcIiE9dGhpcy5oJiYodGhpcy5oPWcuaCk7aWYodm9pZCAwPT1tKXt0aGlzLmo9Zy5qO3RoaXMubT1nLm07dGhpcy5sPWcubC5zbGljZSgpO3RoaXMubz1nLm87dGhpcy5zPWcuczt0aGlzLmc9Zy5nO2JyZWFrIGF9ZWxzZSBpZihcIi9cIj09XG5tfHxcIlxcXFxcIj09bSlcIlxcXFxcIj09bSYmaChcIlxcXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LlwiKSxrPVwicmVsYXRpdmUgc2xhc2hcIjtlbHNlIGlmKFwiP1wiPT1tKXRoaXMuaj1nLmosdGhpcy5tPWcubSx0aGlzLmw9Zy5sLnNsaWNlKCksdGhpcy5vPVwiP1wiLHRoaXMucz1nLnMsdGhpcy5nPWcuZyxrPVwicXVlcnlcIjtlbHNlIGlmKFwiI1wiPT1tKXRoaXMuaj1nLmosdGhpcy5tPWcubSx0aGlzLmw9Zy5sLnNsaWNlKCksdGhpcy5vPWcubyx0aGlzLnY9XCIjXCIsdGhpcy5zPWcucyx0aGlzLmc9Zy5nLGs9XCJmcmFnbWVudFwiO2Vsc2V7az1hW3grMV07dmFyIHk9YVt4KzJdO2lmKFwiZmlsZVwiIT10aGlzLmh8fCFxLnRlc3QobSl8fFwiOlwiIT1rJiZcInxcIiE9a3x8dm9pZCAwIT15JiZcIi9cIiE9eSYmXCJcXFxcXCIhPXkmJlwiP1wiIT15JiZcIiNcIiE9eSl0aGlzLmo9Zy5qLHRoaXMubT1nLm0sdGhpcy5zPWcucyx0aGlzLmc9Zy5nLHRoaXMubD1nLmwuc2xpY2UoKSx0aGlzLmwucG9wKCk7az1cInJlbGF0aXZlIHBhdGhcIjtjb250aW51ZX1icmVhaztcbmNhc2UgXCJyZWxhdGl2ZSBzbGFzaFwiOmlmKFwiL1wiPT1tfHxcIlxcXFxcIj09bSlcIlxcXFxcIj09bSYmaChcIlxcXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LlwiKSxrPVwiZmlsZVwiPT10aGlzLmg/XCJmaWxlIGhvc3RcIjpcImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlc1wiO2Vsc2V7XCJmaWxlXCIhPXRoaXMuaCYmKHRoaXMuaj1nLmosdGhpcy5tPWcubSx0aGlzLnM9Zy5zLHRoaXMuZz1nLmcpO2s9XCJyZWxhdGl2ZSBwYXRoXCI7Y29udGludWV9YnJlYWs7Y2FzZSBcImF1dGhvcml0eSBmaXJzdCBzbGFzaFwiOmlmKFwiL1wiPT1tKWs9XCJhdXRob3JpdHkgc2Vjb25kIHNsYXNoXCI7ZWxzZXtoKFwiRXhwZWN0ZWQgJy8nLCBnb3Q6IFwiK20pO2s9XCJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXNcIjtjb250aW51ZX1icmVhaztjYXNlIFwiYXV0aG9yaXR5IHNlY29uZCBzbGFzaFwiOms9XCJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXNcIjtpZihcIi9cIiE9bSl7aChcIkV4cGVjdGVkICcvJywgZ290OiBcIittKTtjb250aW51ZX1icmVhaztjYXNlIFwiYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzXCI6aWYoXCIvXCIhPVxubSYmXCJcXFxcXCIhPW0pe2s9XCJhdXRob3JpdHlcIjtjb250aW51ZX1lbHNlIGgoXCJFeHBlY3RlZCBhdXRob3JpdHksIGdvdDogXCIrbSk7YnJlYWs7Y2FzZSBcImF1dGhvcml0eVwiOmlmKFwiQFwiPT1tKXt2JiYoaChcIkAgYWxyZWFkeSBzZWVuLlwiKSxwKz1cIiU0MFwiKTt2PSEwO2ZvcihtPTA7bTxwLmxlbmd0aDttKyspeT1wW21dLFwiXFx0XCI9PXl8fFwiXFxuXCI9PXl8fFwiXFxyXCI9PXk/aChcIkludmFsaWQgd2hpdGVzcGFjZSBpbiBhdXRob3JpdHkuXCIpOlwiOlwiPT15JiZudWxsPT09dGhpcy5nP3RoaXMuZz1cIlwiOih5PWMoeSksbnVsbCE9PXRoaXMuZz90aGlzLmcrPXk6dGhpcy5zKz15KTtwPVwiXCJ9ZWxzZSBpZih2b2lkIDA9PW18fFwiL1wiPT1tfHxcIlxcXFxcIj09bXx8XCI/XCI9PW18fFwiI1wiPT1tKXt4LT1wLmxlbmd0aDtwPVwiXCI7az1cImhvc3RcIjtjb250aW51ZX1lbHNlIHArPW07YnJlYWs7Y2FzZSBcImZpbGUgaG9zdFwiOmlmKHZvaWQgMD09bXx8XCIvXCI9PW18fFwiXFxcXFwiPT1tfHxcIj9cIj09bXx8XCIjXCI9PW0pezIhPXAubGVuZ3RofHxcbiFxLnRlc3QocFswXSl8fFwiOlwiIT1wWzFdJiZcInxcIiE9cFsxXT8oMCE9cC5sZW5ndGgmJih0aGlzLmo9Yi5jYWxsKHRoaXMscCkscD1cIlwiKSxrPVwicmVsYXRpdmUgcGF0aCBzdGFydFwiKTprPVwicmVsYXRpdmUgcGF0aFwiO2NvbnRpbnVlfWVsc2VcIlxcdFwiPT1tfHxcIlxcblwiPT1tfHxcIlxcclwiPT1tP2goXCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gZmlsZSBob3N0LlwiKTpwKz1tO2JyZWFrO2Nhc2UgXCJob3N0XCI6Y2FzZSBcImhvc3RuYW1lXCI6aWYoXCI6XCIhPW18fFEpaWYodm9pZCAwPT1tfHxcIi9cIj09bXx8XCJcXFxcXCI9PW18fFwiP1wiPT1tfHxcIiNcIj09bSl7dGhpcy5qPWIuY2FsbCh0aGlzLHApO3A9XCJcIjtrPVwicmVsYXRpdmUgcGF0aCBzdGFydFwiO2lmKGUpYnJlYWsgYTtjb250aW51ZX1lbHNlXCJcXHRcIiE9bSYmXCJcXG5cIiE9bSYmXCJcXHJcIiE9bT8oXCJbXCI9PW0/UT0hMDpcIl1cIj09bSYmKFE9ITEpLHArPW0pOmgoXCJJbnZhbGlkIGNvZGUgcG9pbnQgaW4gaG9zdC9ob3N0bmFtZTogXCIrbSk7ZWxzZSBpZih0aGlzLmo9Yi5jYWxsKHRoaXMsXG5wKSxwPVwiXCIsaz1cInBvcnRcIixcImhvc3RuYW1lXCI9PWUpYnJlYWsgYTticmVhaztjYXNlIFwicG9ydFwiOmlmKC9bMC05XS8udGVzdChtKSlwKz1tO2Vsc2UgaWYodm9pZCAwPT1tfHxcIi9cIj09bXx8XCJcXFxcXCI9PW18fFwiP1wiPT1tfHxcIiNcIj09bXx8ZSl7XCJcIiE9cCYmKHA9cGFyc2VJbnQocCwxMCkscCE9bFt0aGlzLmhdJiYodGhpcy5tPXArXCJcIikscD1cIlwiKTtpZihlKWJyZWFrIGE7az1cInJlbGF0aXZlIHBhdGggc3RhcnRcIjtjb250aW51ZX1lbHNlXCJcXHRcIj09bXx8XCJcXG5cIj09bXx8XCJcXHJcIj09bT9oKFwiSW52YWxpZCBjb2RlIHBvaW50IGluIHBvcnQ6IFwiK20pOihmLmNhbGwodGhpcyksdGhpcy5pPSEwKTticmVhaztjYXNlIFwicmVsYXRpdmUgcGF0aCBzdGFydFwiOlwiXFxcXFwiPT1tJiZoKFwiJ1xcXFwnIG5vdCBhbGxvd2VkIGluIHBhdGguXCIpO2s9XCJyZWxhdGl2ZSBwYXRoXCI7aWYoXCIvXCIhPW0mJlwiXFxcXFwiIT1tKWNvbnRpbnVlO2JyZWFrO2Nhc2UgXCJyZWxhdGl2ZSBwYXRoXCI6aWYodm9pZCAwIT1tJiZcIi9cIiE9bSYmXCJcXFxcXCIhPVxubSYmKGV8fFwiP1wiIT1tJiZcIiNcIiE9bSkpXCJcXHRcIiE9bSYmXCJcXG5cIiE9bSYmXCJcXHJcIiE9bSYmKHArPWMobSkpO2Vsc2V7XCJcXFxcXCI9PW0mJmgoXCJcXFxcIG5vdCBhbGxvd2VkIGluIHJlbGF0aXZlIHBhdGguXCIpO2lmKHk9bltwLnRvTG93ZXJDYXNlKCldKXA9eTtcIi4uXCI9PXA/KHRoaXMubC5wb3AoKSxcIi9cIiE9bSYmXCJcXFxcXCIhPW0mJnRoaXMubC5wdXNoKFwiXCIpKTpcIi5cIj09cCYmXCIvXCIhPW0mJlwiXFxcXFwiIT1tP3RoaXMubC5wdXNoKFwiXCIpOlwiLlwiIT1wJiYoXCJmaWxlXCI9PXRoaXMuaCYmMD09dGhpcy5sLmxlbmd0aCYmMj09cC5sZW5ndGgmJnEudGVzdChwWzBdKSYmXCJ8XCI9PXBbMV0mJihwPXBbMF0rXCI6XCIpLHRoaXMubC5wdXNoKHApKTtwPVwiXCI7XCI/XCI9PW0/KHRoaXMubz1cIj9cIixrPVwicXVlcnlcIik6XCIjXCI9PW0mJih0aGlzLnY9XCIjXCIsaz1cImZyYWdtZW50XCIpfWJyZWFrO2Nhc2UgXCJxdWVyeVwiOmV8fFwiI1wiIT1tP3ZvaWQgMCE9bSYmXCJcXHRcIiE9bSYmXCJcXG5cIiE9bSYmXCJcXHJcIiE9bSYmKHRoaXMubys9ZChtKSk6KHRoaXMudj1cblwiI1wiLGs9XCJmcmFnbWVudFwiKTticmVhaztjYXNlIFwiZnJhZ21lbnRcIjp2b2lkIDAhPW0mJlwiXFx0XCIhPW0mJlwiXFxuXCIhPW0mJlwiXFxyXCIhPW0mJih0aGlzLnYrPW0pfXgrK319ZnVuY3Rpb24gZigpe3RoaXMucz10aGlzLmlhPXRoaXMuaD1cIlwiO3RoaXMuZz1udWxsO3RoaXMubT10aGlzLmo9XCJcIjt0aGlzLmw9W107dGhpcy52PXRoaXMubz1cIlwiO3RoaXMuQj10aGlzLmk9ITF9ZnVuY3Rpb24gZyhhLGIpe3ZvaWQgMD09PWJ8fGIgaW5zdGFuY2VvZiBnfHwoYj1uZXcgZyhTdHJpbmcoYikpKTt0aGlzLmE9YTtmLmNhbGwodGhpcyk7YT10aGlzLmEucmVwbGFjZSgvXlsgXFx0XFxyXFxuXFxmXSt8WyBcXHRcXHJcXG5cXGZdKyQvZyxcIlwiKTtlLmNhbGwodGhpcyxhLG51bGwsYil9dmFyIGg9ITE7dHJ5e3ZhciBrPW5ldyBVUkwoXCJiXCIsXCJodHRwOi8vYVwiKTtrLnBhdGhuYW1lPVwiYyUyMGRcIjtoPVwiaHR0cDovL2EvYyUyMGRcIj09PWsuaHJlZn1jYXRjaCh4KXt9aWYoIWgpe3ZhciBsPU9iamVjdC5jcmVhdGUobnVsbCk7bC5mdHA9XG4yMTtsLmZpbGU9MDtsLmdvcGhlcj03MDtsLmh0dHA9ODA7bC5odHRwcz00NDM7bC53cz04MDtsLndzcz00NDM7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtuW1wiJTJlXCJdPVwiLlwiO25bXCIuJTJlXCJdPVwiLi5cIjtuW1wiJTJlLlwiXT1cIi4uXCI7bltcIiUyZSUyZVwiXT1cIi4uXCI7dmFyIHE9L1thLXpBLVpdLyxJPS9bYS16QS1aMC05XFwrXFwtXFwuXS87Zy5wcm90b3R5cGU9e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaHJlZn0sZ2V0IGhyZWYoKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuYTt2YXIgYT1cIlwiO2lmKFwiXCIhPXRoaXMuc3x8bnVsbCE9dGhpcy5nKWE9dGhpcy5zKyhudWxsIT10aGlzLmc/XCI6XCIrdGhpcy5nOlwiXCIpK1wiQFwiO3JldHVybiB0aGlzLnByb3RvY29sKyh0aGlzLkI/XCIvL1wiK2ErdGhpcy5ob3N0OlwiXCIpK3RoaXMucGF0aG5hbWUrdGhpcy5vK3RoaXMudn0sc2V0IGhyZWYoYSl7Zi5jYWxsKHRoaXMpO2UuY2FsbCh0aGlzLGEpfSxnZXQgcHJvdG9jb2woKXtyZXR1cm4gdGhpcy5oK1xuXCI6XCJ9LHNldCBwcm90b2NvbChhKXt0aGlzLml8fGUuY2FsbCh0aGlzLGErXCI6XCIsXCJzY2hlbWUgc3RhcnRcIil9LGdldCBob3N0KCl7cmV0dXJuIHRoaXMuaT9cIlwiOnRoaXMubT90aGlzLmorXCI6XCIrdGhpcy5tOnRoaXMuan0sc2V0IGhvc3QoYSl7IXRoaXMuaSYmdGhpcy5CJiZlLmNhbGwodGhpcyxhLFwiaG9zdFwiKX0sZ2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMuan0sc2V0IGhvc3RuYW1lKGEpeyF0aGlzLmkmJnRoaXMuQiYmZS5jYWxsKHRoaXMsYSxcImhvc3RuYW1lXCIpfSxnZXQgcG9ydCgpe3JldHVybiB0aGlzLm19LHNldCBwb3J0KGEpeyF0aGlzLmkmJnRoaXMuQiYmZS5jYWxsKHRoaXMsYSxcInBvcnRcIil9LGdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLmk/XCJcIjp0aGlzLkI/XCIvXCIrdGhpcy5sLmpvaW4oXCIvXCIpOnRoaXMuaWF9LHNldCBwYXRobmFtZShhKXshdGhpcy5pJiZ0aGlzLkImJih0aGlzLmw9W10sZS5jYWxsKHRoaXMsYSxcInJlbGF0aXZlIHBhdGggc3RhcnRcIikpfSxnZXQgc2VhcmNoKCl7cmV0dXJuIHRoaXMuaXx8XG4hdGhpcy5vfHxcIj9cIj09dGhpcy5vP1wiXCI6dGhpcy5vfSxzZXQgc2VhcmNoKGEpeyF0aGlzLmkmJnRoaXMuQiYmKHRoaXMubz1cIj9cIixcIj9cIj09YVswXSYmKGE9YS5zbGljZSgxKSksZS5jYWxsKHRoaXMsYSxcInF1ZXJ5XCIpKX0sZ2V0IGhhc2goKXtyZXR1cm4gdGhpcy5pfHwhdGhpcy52fHxcIiNcIj09dGhpcy52P1wiXCI6dGhpcy52fSxzZXQgaGFzaChhKXt0aGlzLml8fChhPyh0aGlzLnY9XCIjXCIsXCIjXCI9PWFbMF0mJihhPWEuc2xpY2UoMSkpLGUuY2FsbCh0aGlzLGEsXCJmcmFnbWVudFwiKSk6dGhpcy52PVwiXCIpfSxnZXQgb3JpZ2luKCl7dmFyIGE7aWYodGhpcy5pfHwhdGhpcy5oKXJldHVyblwiXCI7c3dpdGNoKHRoaXMuaCl7Y2FzZSBcImRhdGFcIjpjYXNlIFwiZmlsZVwiOmNhc2UgXCJqYXZhc2NyaXB0XCI6Y2FzZSBcIm1haWx0b1wiOnJldHVyblwibnVsbFwifXJldHVybihhPXRoaXMuaG9zdCk/dGhpcy5oK1wiOi8vXCIrYTpcIlwifX07dmFyIHY9YS5VUkw7diYmKGcuY3JlYXRlT2JqZWN0VVJMPWZ1bmN0aW9uKGEpe3JldHVybiB2LmNyZWF0ZU9iamVjdFVSTC5hcHBseSh2LFxuYXJndW1lbnRzKX0sZy5yZXZva2VPYmplY3RVUkw9ZnVuY3Rpb24oYSl7di5yZXZva2VPYmplY3RVUkwoYSl9KTthLlVSTD1nfX0pKHdpbmRvdyk7T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihOb2RlLnByb3RvdHlwZSxcImJhc2VVUklcIil8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlLnByb3RvdHlwZSxcImJhc2VVUklcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9KHRoaXMub3duZXJEb2N1bWVudHx8dGhpcykucXVlcnlTZWxlY3RvcihcImJhc2VbaHJlZl1cIik7cmV0dXJuIGEmJmEuaHJlZnx8d2luZG93LmxvY2F0aW9uLmhyZWZ9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSk7dmFyIHBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtwaC50ZXh0Q29udGVudD1cImJvZHkge3RyYW5zaXRpb246IG9wYWNpdHkgZWFzZS1pbiAwLjJzOyB9IFxcbmJvZHlbdW5yZXNvbHZlZF0ge29wYWNpdHk6IDA7IGRpc3BsYXk6IGJsb2NrOyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7IH0gXFxuXCI7dmFyIHFoPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoZWFkXCIpO3FoLmluc2VydEJlZm9yZShwaCxxaC5maXJzdENoaWxkKTt2YXIgcmg9d2luZG93LmN1c3RvbUVsZW1lbnRzLHNoPSExLHRoPW51bGw7cmgucG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayYmcmgucG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayhmdW5jdGlvbihhKXt0aD1hO3NoJiZhKCl9KTtmdW5jdGlvbiB1aCgpe3dpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmd2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwKHdpbmRvdy5kb2N1bWVudCk7dGgmJnRoKCk7c2g9ITA7d2luZG93LldlYkNvbXBvbmVudHMucmVhZHk9ITA7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJXZWJDb21wb25lbnRzUmVhZHlcIix7YnViYmxlczohMH0pKX1cblwiY29tcGxldGVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGU/KHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHVoKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixmdW5jdGlvbigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLHVoKTt1aCgpfSkpOnVoKCk7fSkuY2FsbCh0aGlzKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViY29tcG9uZW50cy1idW5kbGUuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIEJhc2ljIGZsb3cgb2YgdGhlIGxvYWRlciBwcm9jZXNzXG4gICAqXG4gICAqIFRoZXJlIGFyZSA0IGZsb3dzIHRoZSBsb2FkZXIgY2FuIHRha2Ugd2hlbiBib290aW5nIHVwXG4gICAqXG4gICAqIC0gU3luY2hyb25vdXMgc2NyaXB0LCBubyBwb2x5ZmlsbHMgbmVlZGVkXG4gICAqICAgLSB3YWl0IGZvciBgRE9NQ29udGVudExvYWRlZGBcbiAgICogICAtIGZpcmUgV0NSIGV2ZW50LCBhcyB0aGVyZSBjb3VsZCBub3QgYmUgYW55IGNhbGxiYWNrcyBwYXNzZWQgdG8gYHdhaXRGb3JgXG4gICAqXG4gICAqIC0gU3luY2hyb25vdXMgc2NyaXB0LCBwb2x5ZmlsbHMgbmVlZGVkXG4gICAqICAgLSBkb2N1bWVudC53cml0ZSB0aGUgcG9seWZpbGwgYnVuZGxlXG4gICAqICAgLSB3YWl0IG9uIHRoZSBgbG9hZGAgZXZlbnQgb2YgdGhlIGJ1bmRsZSB0byBiYXRjaCBDdXN0b20gRWxlbWVudCB1cGdyYWRlc1xuICAgKiAgIC0gd2FpdCBmb3IgYERPTUNvbnRlbnRMb2FkZWRgXG4gICAqICAgLSBydW4gY2FsbGJhY2tzIHBhc3NlZCB0byBgd2FpdEZvcmBcbiAgICogICAtIGZpcmUgV0NSIGV2ZW50XG4gICAqXG4gICAqIC0gQXN5bmNocm9ub3VzIHNjcmlwdCwgbm8gcG9seWZpbGxzIG5lZWRlZFxuICAgKiAgIC0gd2FpdCBmb3IgYERPTUNvbnRlbnRMb2FkZWRgXG4gICAqICAgLSBydW4gY2FsbGJhY2tzIHBhc3NlZCB0byBgd2FpdEZvcmBcbiAgICogICAtIGZpcmUgV0NSIGV2ZW50XG4gICAqXG4gICAqIC0gQXN5bmNocm9ub3VzIHNjcmlwdCwgcG9seWZpbGxzIG5lZWRlZFxuICAgKiAgIC0gQXBwZW5kIHRoZSBwb2x5ZmlsbCBidW5kbGUgc2NyaXB0XG4gICAqICAgLSB3YWl0IGZvciBgbG9hZGAgZXZlbnQgb2YgdGhlIGJ1bmRsZVxuICAgKiAgIC0gYmF0Y2ggQ3VzdG9tIEVsZW1lbnQgVXBncmFkZXNcbiAgICogICAtIHJ1biBjYWxsYmFja3MgcGFzcyB0byBgd2FpdEZvcmBcbiAgICogICAtIGZpcmUgV0NSIGV2ZW50XG4gICAqL1xuXG4gIHZhciBwb2x5ZmlsbHNMb2FkZWQgPSBmYWxzZTtcbiAgdmFyIHdoZW5Mb2FkZWRGbnMgPSBbXTtcbiAgdmFyIGFsbG93VXBncmFkZXMgPSBmYWxzZTtcbiAgdmFyIGZsdXNoRm47XG5cbiAgZnVuY3Rpb24gZmlyZUV2ZW50KCkge1xuICAgIHdpbmRvdy5XZWJDb21wb25lbnRzLnJlYWR5ID0gdHJ1ZTtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnV2ViQ29tcG9uZW50c1JlYWR5JywgeyBidWJibGVzOiB0cnVlIH0pKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJhdGNoQ3VzdG9tRWxlbWVudHMoKSB7XG4gICAgaWYgKHdpbmRvdy5jdXN0b21FbGVtZW50cyAmJiBjdXN0b21FbGVtZW50cy5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrKSB7XG4gICAgICBjdXN0b21FbGVtZW50cy5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrKGZ1bmN0aW9uIChmbHVzaENhbGxiYWNrKSB7XG4gICAgICAgIGZsdXNoRm4gPSBmbHVzaENhbGxiYWNrO1xuICAgICAgICBpZiAoYWxsb3dVcGdyYWRlcykge1xuICAgICAgICAgIGZsdXNoRm4oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXN5bmNSZWFkeSgpIHtcbiAgICBiYXRjaEN1c3RvbUVsZW1lbnRzKCk7XG4gICAgcmVhZHkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWR5KCkge1xuICAgIC8vIGJvb3RzdHJhcCA8dGVtcGxhdGU+IGVsZW1lbnRzIGJlZm9yZSBjdXN0b20gZWxlbWVudHNcbiAgICBpZiAod2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQgJiYgSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXApIHtcbiAgICAgIEhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwKHdpbmRvdy5kb2N1bWVudCk7XG4gICAgfVxuICAgIHBvbHlmaWxsc0xvYWRlZCA9IHRydWU7XG4gICAgcnVuV2hlbkxvYWRlZEZucygpLnRoZW4oZmlyZUV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJ1bldoZW5Mb2FkZWRGbnMoKSB7XG4gICAgYWxsb3dVcGdyYWRlcyA9IGZhbHNlO1xuICAgIHZhciBmbnNNYXAgPSB3aGVuTG9hZGVkRm5zLm1hcChmdW5jdGlvbihmbikge1xuICAgICAgcmV0dXJuIGZuIGluc3RhbmNlb2YgRnVuY3Rpb24gPyBmbigpIDogZm47XG4gICAgfSk7XG4gICAgd2hlbkxvYWRlZEZucyA9IFtdO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChmbnNNYXApLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBhbGxvd1VwZ3JhZGVzID0gdHJ1ZTtcbiAgICAgIGZsdXNoRm4gJiYgZmx1c2hGbigpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH0pO1xuICB9XG5cbiAgd2luZG93LldlYkNvbXBvbmVudHMgPSB3aW5kb3cuV2ViQ29tcG9uZW50cyB8fCB7fTtcbiAgd2luZG93LldlYkNvbXBvbmVudHMucmVhZHkgPSB3aW5kb3cuV2ViQ29tcG9uZW50cy5yZWFkeSB8fCBmYWxzZTtcbiAgd2luZG93LldlYkNvbXBvbmVudHMud2FpdEZvciA9IHdpbmRvdy5XZWJDb21wb25lbnRzLndhaXRGb3IgfHwgZnVuY3Rpb24od2FpdEZuKSB7XG4gICAgaWYgKCF3YWl0Rm4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2hlbkxvYWRlZEZucy5wdXNoKHdhaXRGbik7XG4gICAgaWYgKHBvbHlmaWxsc0xvYWRlZCkge1xuICAgICAgcnVuV2hlbkxvYWRlZEZucygpO1xuICAgIH1cbiAgfTtcbiAgd2luZG93LldlYkNvbXBvbmVudHMuX2JhdGNoQ3VzdG9tRWxlbWVudHMgPSBiYXRjaEN1c3RvbUVsZW1lbnRzO1xuXG4gIHZhciBuYW1lID0gJ3dlYmNvbXBvbmVudHMtbG9hZGVyLmpzJztcbiAgLy8gRmVhdHVyZSBkZXRlY3Qgd2hpY2ggcG9seWZpbGwgbmVlZHMgdG8gYmUgaW1wb3J0ZWQuXG4gIHZhciBwb2x5ZmlsbHMgPSBbXTtcbiAgaWYgKCEoJ2F0dGFjaFNoYWRvdycgaW4gRWxlbWVudC5wcm90b3R5cGUgJiYgJ2dldFJvb3ROb2RlJyBpbiBFbGVtZW50LnByb3RvdHlwZSkgfHxcbiAgICAod2luZG93LlNoYWR5RE9NICYmIHdpbmRvdy5TaGFkeURPTS5mb3JjZSkpIHtcbiAgICBwb2x5ZmlsbHMucHVzaCgnc2QnKTtcbiAgfVxuICBpZiAoIXdpbmRvdy5jdXN0b21FbGVtZW50cyB8fCB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZm9yY2VQb2x5ZmlsbCkge1xuICAgIHBvbHlmaWxscy5wdXNoKCdjZScpO1xuICB9XG5cbiAgdmFyIG5lZWRzVGVtcGxhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgLy8gbm8gcmVhbCA8dGVtcGxhdGU+IGJlY2F1c2Ugbm8gYGNvbnRlbnRgIHByb3BlcnR5IChJRSBhbmQgb2xkZXIgYnJvd3NlcnMpXG4gICAgdmFyIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgIGlmICghKCdjb250ZW50JyBpbiB0KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIGJyb2tlbiBkb2MgZnJhZ21lbnQgKG9sZGVyIEVkZ2UpXG4gICAgaWYgKCEodC5jb250ZW50LmNsb25lTm9kZSgpIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBicm9rZW4gPHRlbXBsYXRlPiBjbG9uaW5nIChFZGdlIHVwIHRvIGF0IGxlYXN0IHZlcnNpb24gMTcpXG4gICAgdmFyIHQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICB0Mi5jb250ZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKTtcbiAgICB0LmNvbnRlbnQuYXBwZW5kQ2hpbGQodDIpO1xuICAgIHZhciBjbG9uZSA9IHQuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiAoY2xvbmUuY29udGVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICBjbG9uZS5jb250ZW50LmZpcnN0Q2hpbGQuY29udGVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMCk7XG4gIH0pKCk7XG5cbiAgLy8gTk9URTogYW55IGJyb3dzZXIgdGhhdCBkb2VzIG5vdCBoYXZlIHRlbXBsYXRlIG9yIEVTNiBmZWF0dXJlc1xuICAvLyBtdXN0IGxvYWQgdGhlIGZ1bGwgc3VpdGUgb2YgcG9seWZpbGxzLlxuICBpZiAoIXdpbmRvdy5Qcm9taXNlIHx8ICFBcnJheS5mcm9tIHx8ICF3aW5kb3cuVVJMIHx8ICF3aW5kb3cuU3ltYm9sIHx8IG5lZWRzVGVtcGxhdGUpIHtcbiAgICBwb2x5ZmlsbHMgPSBbJ3NkLWNlLXBmJ107XG4gIH1cblxuICBpZiAocG9seWZpbGxzLmxlbmd0aCkge1xuICAgIHZhciB1cmw7XG4gICAgdmFyIHBvbHlmaWxsRmlsZSA9ICdidW5kbGVzL3dlYmNvbXBvbmVudHMtJyArIHBvbHlmaWxscy5qb2luKCctJykgKyAnLmpzJztcblxuICAgIC8vIExvYWQgaXQgZnJvbSB0aGUgcmlnaHQgcGxhY2UuXG4gICAgaWYgKHdpbmRvdy5XZWJDb21wb25lbnRzLnJvb3QpIHtcbiAgICAgIHVybCA9IHdpbmRvdy5XZWJDb21wb25lbnRzLnJvb3QgKyBwb2x5ZmlsbEZpbGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbc3JjKj1cIicgKyBuYW1lICsnXCJdJyk7XG4gICAgICAvLyBMb2FkIGl0IGZyb20gdGhlIHJpZ2h0IHBsYWNlLlxuICAgICAgdXJsID0gc2NyaXB0LnNyYy5yZXBsYWNlKG5hbWUsIHBvbHlmaWxsRmlsZSk7XG4gICAgfVxuXG4gICAgdmFyIG5ld1NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIG5ld1NjcmlwdC5zcmMgPSB1cmw7XG4gICAgLy8gaWYgcmVhZHlTdGF0ZSBpcyAnbG9hZGluZycsIHRoaXMgc2NyaXB0IGlzIHN5bmNocm9ub3VzXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykge1xuICAgICAgLy8gbWFrZSBzdXJlIGN1c3RvbSBlbGVtZW50cyBhcmUgYmF0Y2hlZCB3aGVuZXZlciBwYXJzZXIgZ2V0cyB0byB0aGUgaW5qZWN0ZWQgc2NyaXB0XG4gICAgICBuZXdTY3JpcHQuc2V0QXR0cmlidXRlKCdvbmxvYWQnLCAnd2luZG93LldlYkNvbXBvbmVudHMuX2JhdGNoQ3VzdG9tRWxlbWVudHMoKScpO1xuICAgICAgZG9jdW1lbnQud3JpdGUobmV3U2NyaXB0Lm91dGVySFRNTCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgcmVhZHkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdTY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXN5bmNSZWFkeSgpO1xuICAgICAgfSk7XG4gICAgICBuZXdTY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGxvYWQgcG9seWZpbGwgYnVuZGxlJyArIHVybCk7XG4gICAgICB9KTtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobmV3U2NyaXB0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgcmVhZHlTdGF0ZSBpcyAnY29tcGxldGUnLCBzY3JpcHQgaXMgbG9hZGVkIGltcGVyYXRpdmVseSBvbiBhIHNwZWMtY29tcGxpYW50IGJyb3dzZXIsIHNvIGp1c3QgZmlyZSBXQ1JcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgcG9seWZpbGxzTG9hZGVkID0gdHJ1ZTtcbiAgICAgIGZpcmVFdmVudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0aGlzIHNjcmlwdCBtYXkgY29tZSBiZXR3ZWVuIERDTCBhbmQgbG9hZCwgc28gbGlzdGVuIGZvciBib3RoLCBhbmQgY2FuY2VsIGxvYWQgbGlzdGVuZXIgaWYgRENMIGZpcmVzXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHJlYWR5KTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgcmVhZHkpO1xuICAgICAgICByZWFkeSgpO1xuICAgICAgfSlcbiAgICB9XG4gIH1cbn0pKCk7XG4iLCIvKlxuICogSW50ZXJuYXRpb25hbCBUZWxlcGhvbmUgSW5wdXQgdjE2LjAuMlxuICogaHR0cHM6Ly9naXRodWIuY29tL2phY2tvY25yL2ludGwtdGVsLWlucHV0LmdpdFxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKi9cblxuLy8gd3JhcCBpbiBVTURcbihmdW5jdGlvbihmYWN0b3J5KSB7XG4gICAgdmFyIGludGxUZWxJbnB1dCA9IGZhY3Rvcnkod2luZG93LCBkb2N1bWVudCk7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgbW9kdWxlLmV4cG9ydHMpIG1vZHVsZS5leHBvcnRzID0gaW50bFRlbElucHV0OyBlbHNlIHdpbmRvdy5pbnRsVGVsSW5wdXQgPSBpbnRsVGVsSW5wdXQ7XG59KShmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIEFycmF5IG9mIGNvdW50cnkgb2JqZWN0cyBmb3IgdGhlIGZsYWcgZHJvcGRvd24uXG4gICAgICAgIC8vIEhlcmUgaXMgdGhlIGNyaXRlcmlhIGZvciB0aGUgcGx1Z2luIHRvIHN1cHBvcnQgYSBnaXZlbiBjb3VudHJ5L3RlcnJpdG9yeVxuICAgICAgICAvLyAtIEl0IGhhcyBhbiBpc28yIGNvZGU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT18zMTY2LTFfYWxwaGEtMlxuICAgICAgICAvLyAtIEl0IGhhcyBpdCdzIG93biBjb3VudHJ5IGNhbGxpbmcgY29kZSAoaXQgaXMgbm90IGEgc3ViLXJlZ2lvbiBvZiBhbm90aGVyIGNvdW50cnkpOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX2NvdW50cnlfY2FsbGluZ19jb2Rlc1xuICAgICAgICAvLyAtIEl0IGhhcyBhIGZsYWcgaW4gdGhlIHJlZ2lvbi1mbGFncyBwcm9qZWN0OiBodHRwczovL2dpdGh1Yi5jb20vYmVoZGFkL3JlZ2lvbi1mbGFncy90cmVlL2doLXBhZ2VzL3BuZ1xuICAgICAgICAvLyAtIEl0IGlzIHN1cHBvcnRlZCBieSBsaWJwaG9uZW51bWJlciAoaXQgbXVzdCBiZSBsaXN0ZWQgb24gdGhpcyBwYWdlKTogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZWkxOG4vbGlicGhvbmVudW1iZXIvYmxvYi9tYXN0ZXIvcmVzb3VyY2VzL1Nob3J0TnVtYmVyTWV0YWRhdGEueG1sXG4gICAgICAgIC8vIEVhY2ggY291bnRyeSBhcnJheSBoYXMgdGhlIGZvbGxvd2luZyBpbmZvcm1hdGlvbjpcbiAgICAgICAgLy8gW1xuICAgICAgICAvLyAgICBDb3VudHJ5IG5hbWUsXG4gICAgICAgIC8vICAgIGlzbzIgY29kZSxcbiAgICAgICAgLy8gICAgSW50ZXJuYXRpb25hbCBkaWFsIGNvZGUsXG4gICAgICAgIC8vICAgIE9yZGVyIChpZiA+MSBjb3VudHJ5IHdpdGggc2FtZSBkaWFsIGNvZGUpLFxuICAgICAgICAvLyAgICBBcmVhIGNvZGVzXG4gICAgICAgIC8vIF1cbiAgICAgICAgdmFyIGFsbENvdW50cmllcyA9IFsgWyBcIkFmZ2hhbmlzdGFuICjigKvYp9mB2LrYp9mG2LPYqtin2YbigKzigI4pXCIsIFwiYWZcIiwgXCI5M1wiIF0sIFsgXCJBbGJhbmlhIChTaHFpcMOrcmkpXCIsIFwiYWxcIiwgXCIzNTVcIiBdLCBbIFwiQWxnZXJpYSAo4oCr2KfZhNis2LLYp9im2LHigKzigI4pXCIsIFwiZHpcIiwgXCIyMTNcIiBdLCBbIFwiQW1lcmljYW4gU2Ftb2FcIiwgXCJhc1wiLCBcIjFcIiwgNSwgWyBcIjY4NFwiIF0gXSwgWyBcIkFuZG9ycmFcIiwgXCJhZFwiLCBcIjM3NlwiIF0sIFsgXCJBbmdvbGFcIiwgXCJhb1wiLCBcIjI0NFwiIF0sIFsgXCJBbmd1aWxsYVwiLCBcImFpXCIsIFwiMVwiLCA2LCBbIFwiMjY0XCIgXSBdLCBbIFwiQW50aWd1YSBhbmQgQmFyYnVkYVwiLCBcImFnXCIsIFwiMVwiLCA3LCBbIFwiMjY4XCIgXSBdLCBbIFwiQXJnZW50aW5hXCIsIFwiYXJcIiwgXCI1NFwiIF0sIFsgXCJBcm1lbmlhICjVgNWh1bXVodW91b/VodW2KVwiLCBcImFtXCIsIFwiMzc0XCIgXSwgWyBcIkFydWJhXCIsIFwiYXdcIiwgXCIyOTdcIiBdLCBbIFwiQXVzdHJhbGlhXCIsIFwiYXVcIiwgXCI2MVwiLCAwIF0sIFsgXCJBdXN0cmlhICjDlnN0ZXJyZWljaClcIiwgXCJhdFwiLCBcIjQzXCIgXSwgWyBcIkF6ZXJiYWlqYW4gKEF6yZlyYmF5Y2FuKVwiLCBcImF6XCIsIFwiOTk0XCIgXSwgWyBcIkJhaGFtYXNcIiwgXCJic1wiLCBcIjFcIiwgOCwgWyBcIjI0MlwiIF0gXSwgWyBcIkJhaHJhaW4gKOKAq9in2YTYqNit2LHZitmG4oCs4oCOKVwiLCBcImJoXCIsIFwiOTczXCIgXSwgWyBcIkJhbmdsYWRlc2ggKOCmrOCmvuCmguCmsuCmvuCmpuCnh+CmtilcIiwgXCJiZFwiLCBcIjg4MFwiIF0sIFsgXCJCYXJiYWRvc1wiLCBcImJiXCIsIFwiMVwiLCA5LCBbIFwiMjQ2XCIgXSBdLCBbIFwiQmVsYXJ1cyAo0JHQtdC70LDRgNGD0YHRjClcIiwgXCJieVwiLCBcIjM3NVwiIF0sIFsgXCJCZWxnaXVtIChCZWxnacOrKVwiLCBcImJlXCIsIFwiMzJcIiBdLCBbIFwiQmVsaXplXCIsIFwiYnpcIiwgXCI1MDFcIiBdLCBbIFwiQmVuaW4gKELDqW5pbilcIiwgXCJialwiLCBcIjIyOVwiIF0sIFsgXCJCZXJtdWRhXCIsIFwiYm1cIiwgXCIxXCIsIDEwLCBbIFwiNDQxXCIgXSBdLCBbIFwiQmh1dGFuICjgvaDgvZbgvrLgvbTgvYIpXCIsIFwiYnRcIiwgXCI5NzVcIiBdLCBbIFwiQm9saXZpYVwiLCBcImJvXCIsIFwiNTkxXCIgXSwgWyBcIkJvc25pYSBhbmQgSGVyemVnb3ZpbmEgKNCR0L7RgdC90LAg0Lgg0KXQtdGA0YbQtdCz0L7QstC40L3QsClcIiwgXCJiYVwiLCBcIjM4N1wiIF0sIFsgXCJCb3Rzd2FuYVwiLCBcImJ3XCIsIFwiMjY3XCIgXSwgWyBcIkJyYXppbCAoQnJhc2lsKVwiLCBcImJyXCIsIFwiNTVcIiBdLCBbIFwiQnJpdGlzaCBJbmRpYW4gT2NlYW4gVGVycml0b3J5XCIsIFwiaW9cIiwgXCIyNDZcIiBdLCBbIFwiQnJpdGlzaCBWaXJnaW4gSXNsYW5kc1wiLCBcInZnXCIsIFwiMVwiLCAxMSwgWyBcIjI4NFwiIF0gXSwgWyBcIkJydW5laVwiLCBcImJuXCIsIFwiNjczXCIgXSwgWyBcIkJ1bGdhcmlhICjQkdGK0LvQs9Cw0YDQuNGPKVwiLCBcImJnXCIsIFwiMzU5XCIgXSwgWyBcIkJ1cmtpbmEgRmFzb1wiLCBcImJmXCIsIFwiMjI2XCIgXSwgWyBcIkJ1cnVuZGkgKFVidXJ1bmRpKVwiLCBcImJpXCIsIFwiMjU3XCIgXSwgWyBcIkNhbWJvZGlhICjhnoDhnpjhn5LhnpbhnrvhnofhnrYpXCIsIFwia2hcIiwgXCI4NTVcIiBdLCBbIFwiQ2FtZXJvb24gKENhbWVyb3VuKVwiLCBcImNtXCIsIFwiMjM3XCIgXSwgWyBcIkNhbmFkYVwiLCBcImNhXCIsIFwiMVwiLCAxLCBbIFwiMjA0XCIsIFwiMjI2XCIsIFwiMjM2XCIsIFwiMjQ5XCIsIFwiMjUwXCIsIFwiMjg5XCIsIFwiMzA2XCIsIFwiMzQzXCIsIFwiMzY1XCIsIFwiMzg3XCIsIFwiNDAzXCIsIFwiNDE2XCIsIFwiNDE4XCIsIFwiNDMxXCIsIFwiNDM3XCIsIFwiNDM4XCIsIFwiNDUwXCIsIFwiNTA2XCIsIFwiNTE0XCIsIFwiNTE5XCIsIFwiNTQ4XCIsIFwiNTc5XCIsIFwiNTgxXCIsIFwiNTg3XCIsIFwiNjA0XCIsIFwiNjEzXCIsIFwiNjM5XCIsIFwiNjQ3XCIsIFwiNjcyXCIsIFwiNzA1XCIsIFwiNzA5XCIsIFwiNzQyXCIsIFwiNzc4XCIsIFwiNzgwXCIsIFwiNzgyXCIsIFwiODA3XCIsIFwiODE5XCIsIFwiODI1XCIsIFwiODY3XCIsIFwiODczXCIsIFwiOTAyXCIsIFwiOTA1XCIgXSBdLCBbIFwiQ2FwZSBWZXJkZSAoS2FidSBWZXJkaSlcIiwgXCJjdlwiLCBcIjIzOFwiIF0sIFsgXCJDYXJpYmJlYW4gTmV0aGVybGFuZHNcIiwgXCJicVwiLCBcIjU5OVwiLCAxLCBbIFwiM1wiLCBcIjRcIiwgXCI3XCIgXSBdLCBbIFwiQ2F5bWFuIElzbGFuZHNcIiwgXCJreVwiLCBcIjFcIiwgMTIsIFsgXCIzNDVcIiBdIF0sIFsgXCJDZW50cmFsIEFmcmljYW4gUmVwdWJsaWMgKFLDqXB1YmxpcXVlIGNlbnRyYWZyaWNhaW5lKVwiLCBcImNmXCIsIFwiMjM2XCIgXSwgWyBcIkNoYWQgKFRjaGFkKVwiLCBcInRkXCIsIFwiMjM1XCIgXSwgWyBcIkNoaWxlXCIsIFwiY2xcIiwgXCI1NlwiIF0sIFsgXCJDaGluYSAo5Lit5Zu9KVwiLCBcImNuXCIsIFwiODZcIiBdLCBbIFwiQ2hyaXN0bWFzIElzbGFuZFwiLCBcImN4XCIsIFwiNjFcIiwgMiBdLCBbIFwiQ29jb3MgKEtlZWxpbmcpIElzbGFuZHNcIiwgXCJjY1wiLCBcIjYxXCIsIDEgXSwgWyBcIkNvbG9tYmlhXCIsIFwiY29cIiwgXCI1N1wiIF0sIFsgXCJDb21vcm9zICjigKvYrNiy2LEg2KfZhNmC2YXYseKArOKAjilcIiwgXCJrbVwiLCBcIjI2OVwiIF0sIFsgXCJDb25nbyAoRFJDKSAoSmFtaHVyaSB5YSBLaWRlbW9rcmFzaWEgeWEgS29uZ28pXCIsIFwiY2RcIiwgXCIyNDNcIiBdLCBbIFwiQ29uZ28gKFJlcHVibGljKSAoQ29uZ28tQnJhenphdmlsbGUpXCIsIFwiY2dcIiwgXCIyNDJcIiBdLCBbIFwiQ29vayBJc2xhbmRzXCIsIFwiY2tcIiwgXCI2ODJcIiBdLCBbIFwiQ29zdGEgUmljYVwiLCBcImNyXCIsIFwiNTA2XCIgXSwgWyBcIkPDtHRlIGTigJlJdm9pcmVcIiwgXCJjaVwiLCBcIjIyNVwiIF0sIFsgXCJDcm9hdGlhIChIcnZhdHNrYSlcIiwgXCJoclwiLCBcIjM4NVwiIF0sIFsgXCJDdWJhXCIsIFwiY3VcIiwgXCI1M1wiIF0sIFsgXCJDdXJhw6dhb1wiLCBcImN3XCIsIFwiNTk5XCIsIDAgXSwgWyBcIkN5cHJ1cyAozprPjc+Az4HOv8+CKVwiLCBcImN5XCIsIFwiMzU3XCIgXSwgWyBcIkN6ZWNoIFJlcHVibGljICjEjGVza8OhIHJlcHVibGlrYSlcIiwgXCJjelwiLCBcIjQyMFwiIF0sIFsgXCJEZW5tYXJrIChEYW5tYXJrKVwiLCBcImRrXCIsIFwiNDVcIiBdLCBbIFwiRGppYm91dGlcIiwgXCJkalwiLCBcIjI1M1wiIF0sIFsgXCJEb21pbmljYVwiLCBcImRtXCIsIFwiMVwiLCAxMywgWyBcIjc2N1wiIF0gXSwgWyBcIkRvbWluaWNhbiBSZXB1YmxpYyAoUmVww7pibGljYSBEb21pbmljYW5hKVwiLCBcImRvXCIsIFwiMVwiLCAyLCBbIFwiODA5XCIsIFwiODI5XCIsIFwiODQ5XCIgXSBdLCBbIFwiRWN1YWRvclwiLCBcImVjXCIsIFwiNTkzXCIgXSwgWyBcIkVneXB0ICjigKvZhdi12LHigKzigI4pXCIsIFwiZWdcIiwgXCIyMFwiIF0sIFsgXCJFbCBTYWx2YWRvclwiLCBcInN2XCIsIFwiNTAzXCIgXSwgWyBcIkVxdWF0b3JpYWwgR3VpbmVhIChHdWluZWEgRWN1YXRvcmlhbClcIiwgXCJncVwiLCBcIjI0MFwiIF0sIFsgXCJFcml0cmVhXCIsIFwiZXJcIiwgXCIyOTFcIiBdLCBbIFwiRXN0b25pYSAoRWVzdGkpXCIsIFwiZWVcIiwgXCIzNzJcIiBdLCBbIFwiRXRoaW9waWFcIiwgXCJldFwiLCBcIjI1MVwiIF0sIFsgXCJGYWxrbGFuZCBJc2xhbmRzIChJc2xhcyBNYWx2aW5hcylcIiwgXCJma1wiLCBcIjUwMFwiIF0sIFsgXCJGYXJvZSBJc2xhbmRzIChGw7hyb3lhcilcIiwgXCJmb1wiLCBcIjI5OFwiIF0sIFsgXCJGaWppXCIsIFwiZmpcIiwgXCI2NzlcIiBdLCBbIFwiRmlubGFuZCAoU3VvbWkpXCIsIFwiZmlcIiwgXCIzNThcIiwgMCBdLCBbIFwiRnJhbmNlXCIsIFwiZnJcIiwgXCIzM1wiIF0sIFsgXCJGcmVuY2ggR3VpYW5hIChHdXlhbmUgZnJhbsOnYWlzZSlcIiwgXCJnZlwiLCBcIjU5NFwiIF0sIFsgXCJGcmVuY2ggUG9seW5lc2lhIChQb2x5bsOpc2llIGZyYW7Dp2Fpc2UpXCIsIFwicGZcIiwgXCI2ODlcIiBdLCBbIFwiR2Fib25cIiwgXCJnYVwiLCBcIjI0MVwiIF0sIFsgXCJHYW1iaWFcIiwgXCJnbVwiLCBcIjIyMFwiIF0sIFsgXCJHZW9yZ2lhICjhg6Hhg5Dhg6Xhg5Dhg6Dhg5fhg5Xhg5Thg5rhg50pXCIsIFwiZ2VcIiwgXCI5OTVcIiBdLCBbIFwiR2VybWFueSAoRGV1dHNjaGxhbmQpXCIsIFwiZGVcIiwgXCI0OVwiIF0sIFsgXCJHaGFuYSAoR2FhbmEpXCIsIFwiZ2hcIiwgXCIyMzNcIiBdLCBbIFwiR2licmFsdGFyXCIsIFwiZ2lcIiwgXCIzNTBcIiBdLCBbIFwiR3JlZWNlICjOlc67zrvOrM60zrEpXCIsIFwiZ3JcIiwgXCIzMFwiIF0sIFsgXCJHcmVlbmxhbmQgKEthbGFhbGxpdCBOdW5hYXQpXCIsIFwiZ2xcIiwgXCIyOTlcIiBdLCBbIFwiR3JlbmFkYVwiLCBcImdkXCIsIFwiMVwiLCAxNCwgWyBcIjQ3M1wiIF0gXSwgWyBcIkd1YWRlbG91cGVcIiwgXCJncFwiLCBcIjU5MFwiLCAwIF0sIFsgXCJHdWFtXCIsIFwiZ3VcIiwgXCIxXCIsIDE1LCBbIFwiNjcxXCIgXSBdLCBbIFwiR3VhdGVtYWxhXCIsIFwiZ3RcIiwgXCI1MDJcIiBdLCBbIFwiR3Vlcm5zZXlcIiwgXCJnZ1wiLCBcIjQ0XCIsIDEsIFsgXCIxNDgxXCIsIFwiNzc4MVwiLCBcIjc4MzlcIiwgXCI3OTExXCIgXSBdLCBbIFwiR3VpbmVhIChHdWluw6llKVwiLCBcImduXCIsIFwiMjI0XCIgXSwgWyBcIkd1aW5lYS1CaXNzYXUgKEd1aW7DqSBCaXNzYXUpXCIsIFwiZ3dcIiwgXCIyNDVcIiBdLCBbIFwiR3V5YW5hXCIsIFwiZ3lcIiwgXCI1OTJcIiBdLCBbIFwiSGFpdGlcIiwgXCJodFwiLCBcIjUwOVwiIF0sIFsgXCJIb25kdXJhc1wiLCBcImhuXCIsIFwiNTA0XCIgXSwgWyBcIkhvbmcgS29uZyAo6aaZ5rivKVwiLCBcImhrXCIsIFwiODUyXCIgXSwgWyBcIkh1bmdhcnkgKE1hZ3lhcm9yc3rDoWcpXCIsIFwiaHVcIiwgXCIzNlwiIF0sIFsgXCJJY2VsYW5kICjDjXNsYW5kKVwiLCBcImlzXCIsIFwiMzU0XCIgXSwgWyBcIkluZGlhICjgpK3gpL7gpLDgpKQpXCIsIFwiaW5cIiwgXCI5MVwiIF0sIFsgXCJJbmRvbmVzaWFcIiwgXCJpZFwiLCBcIjYyXCIgXSwgWyBcIklyYW4gKOKAq9in24zYsdin2YbigKzigI4pXCIsIFwiaXJcIiwgXCI5OFwiIF0sIFsgXCJJcmFxICjigKvYp9mE2LnYsdin2YLigKzigI4pXCIsIFwiaXFcIiwgXCI5NjRcIiBdLCBbIFwiSXJlbGFuZFwiLCBcImllXCIsIFwiMzUzXCIgXSwgWyBcIklzbGUgb2YgTWFuXCIsIFwiaW1cIiwgXCI0NFwiLCAyLCBbIFwiMTYyNFwiLCBcIjc0NTc2XCIsIFwiNzUyNFwiLCBcIjc5MjRcIiwgXCI3NjI0XCIgXSBdLCBbIFwiSXNyYWVsICjigKvXmdep16jXkNec4oCs4oCOKVwiLCBcImlsXCIsIFwiOTcyXCIgXSwgWyBcIkl0YWx5IChJdGFsaWEpXCIsIFwiaXRcIiwgXCIzOVwiLCAwIF0sIFsgXCJKYW1haWNhXCIsIFwiam1cIiwgXCIxXCIsIDQsIFsgXCI4NzZcIiwgXCI2NThcIiBdIF0sIFsgXCJKYXBhbiAo5pel5pysKVwiLCBcImpwXCIsIFwiODFcIiBdLCBbIFwiSmVyc2V5XCIsIFwiamVcIiwgXCI0NFwiLCAzLCBbIFwiMTUzNFwiLCBcIjc1MDlcIiwgXCI3NzAwXCIsIFwiNzc5N1wiLCBcIjc4MjlcIiwgXCI3OTM3XCIgXSBdLCBbIFwiSm9yZGFuICjigKvYp9mE2KPYsdiv2YbigKzigI4pXCIsIFwiam9cIiwgXCI5NjJcIiBdLCBbIFwiS2F6YWtoc3RhbiAo0JrQsNC30LDRhdGB0YLQsNC9KVwiLCBcImt6XCIsIFwiN1wiLCAxLCBbIFwiMzNcIiwgXCI3XCIgXSBdLCBbIFwiS2VueWFcIiwgXCJrZVwiLCBcIjI1NFwiIF0sIFsgXCJLaXJpYmF0aVwiLCBcImtpXCIsIFwiNjg2XCIgXSwgWyBcIktvc292b1wiLCBcInhrXCIsIFwiMzgzXCIgXSwgWyBcIkt1d2FpdCAo4oCr2KfZhNmD2YjZitiq4oCs4oCOKVwiLCBcImt3XCIsIFwiOTY1XCIgXSwgWyBcIkt5cmd5enN0YW4gKNCa0YvRgNCz0YvQt9GB0YLQsNC9KVwiLCBcImtnXCIsIFwiOTk2XCIgXSwgWyBcIkxhb3MgKOC6peC6suC6pylcIiwgXCJsYVwiLCBcIjg1NlwiIF0sIFsgXCJMYXR2aWEgKExhdHZpamEpXCIsIFwibHZcIiwgXCIzNzFcIiBdLCBbIFwiTGViYW5vbiAo4oCr2YTYqNmG2KfZhuKArOKAjilcIiwgXCJsYlwiLCBcIjk2MVwiIF0sIFsgXCJMZXNvdGhvXCIsIFwibHNcIiwgXCIyNjZcIiBdLCBbIFwiTGliZXJpYVwiLCBcImxyXCIsIFwiMjMxXCIgXSwgWyBcIkxpYnlhICjigKvZhNmK2KjZitin4oCs4oCOKVwiLCBcImx5XCIsIFwiMjE4XCIgXSwgWyBcIkxpZWNodGVuc3RlaW5cIiwgXCJsaVwiLCBcIjQyM1wiIF0sIFsgXCJMaXRodWFuaWEgKExpZXR1dmEpXCIsIFwibHRcIiwgXCIzNzBcIiBdLCBbIFwiTHV4ZW1ib3VyZ1wiLCBcImx1XCIsIFwiMzUyXCIgXSwgWyBcIk1hY2F1ICjmvrPploApXCIsIFwibW9cIiwgXCI4NTNcIiBdLCBbIFwiTWFjZWRvbmlhIChGWVJPTSkgKNCc0LDQutC10LTQvtC90LjRmNCwKVwiLCBcIm1rXCIsIFwiMzg5XCIgXSwgWyBcIk1hZGFnYXNjYXIgKE1hZGFnYXNpa2FyYSlcIiwgXCJtZ1wiLCBcIjI2MVwiIF0sIFsgXCJNYWxhd2lcIiwgXCJtd1wiLCBcIjI2NVwiIF0sIFsgXCJNYWxheXNpYVwiLCBcIm15XCIsIFwiNjBcIiBdLCBbIFwiTWFsZGl2ZXNcIiwgXCJtdlwiLCBcIjk2MFwiIF0sIFsgXCJNYWxpXCIsIFwibWxcIiwgXCIyMjNcIiBdLCBbIFwiTWFsdGFcIiwgXCJtdFwiLCBcIjM1NlwiIF0sIFsgXCJNYXJzaGFsbCBJc2xhbmRzXCIsIFwibWhcIiwgXCI2OTJcIiBdLCBbIFwiTWFydGluaXF1ZVwiLCBcIm1xXCIsIFwiNTk2XCIgXSwgWyBcIk1hdXJpdGFuaWEgKOKAq9mF2YjYsdmK2KrYp9mG2YrYp+KArOKAjilcIiwgXCJtclwiLCBcIjIyMlwiIF0sIFsgXCJNYXVyaXRpdXMgKE1vcmlzKVwiLCBcIm11XCIsIFwiMjMwXCIgXSwgWyBcIk1heW90dGVcIiwgXCJ5dFwiLCBcIjI2MlwiLCAxLCBbIFwiMjY5XCIsIFwiNjM5XCIgXSBdLCBbIFwiTWV4aWNvIChNw6l4aWNvKVwiLCBcIm14XCIsIFwiNTJcIiBdLCBbIFwiTWljcm9uZXNpYVwiLCBcImZtXCIsIFwiNjkxXCIgXSwgWyBcIk1vbGRvdmEgKFJlcHVibGljYSBNb2xkb3ZhKVwiLCBcIm1kXCIsIFwiMzczXCIgXSwgWyBcIk1vbmFjb1wiLCBcIm1jXCIsIFwiMzc3XCIgXSwgWyBcIk1vbmdvbGlhICjQnNC+0L3Qs9C+0LspXCIsIFwibW5cIiwgXCI5NzZcIiBdLCBbIFwiTW9udGVuZWdybyAoQ3JuYSBHb3JhKVwiLCBcIm1lXCIsIFwiMzgyXCIgXSwgWyBcIk1vbnRzZXJyYXRcIiwgXCJtc1wiLCBcIjFcIiwgMTYsIFsgXCI2NjRcIiBdIF0sIFsgXCJNb3JvY2NvICjigKvYp9mE2YXYutix2KjigKzigI4pXCIsIFwibWFcIiwgXCIyMTJcIiwgMCBdLCBbIFwiTW96YW1iaXF1ZSAoTW/Dp2FtYmlxdWUpXCIsIFwibXpcIiwgXCIyNThcIiBdLCBbIFwiTXlhbm1hciAoQnVybWEpICjhgJnhgLzhgJThgLrhgJnhgKwpXCIsIFwibW1cIiwgXCI5NVwiIF0sIFsgXCJOYW1pYmlhIChOYW1pYmnDqylcIiwgXCJuYVwiLCBcIjI2NFwiIF0sIFsgXCJOYXVydVwiLCBcIm5yXCIsIFwiNjc0XCIgXSwgWyBcIk5lcGFsICjgpKjgpYfgpKrgpL7gpLIpXCIsIFwibnBcIiwgXCI5NzdcIiBdLCBbIFwiTmV0aGVybGFuZHMgKE5lZGVybGFuZClcIiwgXCJubFwiLCBcIjMxXCIgXSwgWyBcIk5ldyBDYWxlZG9uaWEgKE5vdXZlbGxlLUNhbMOpZG9uaWUpXCIsIFwibmNcIiwgXCI2ODdcIiBdLCBbIFwiTmV3IFplYWxhbmRcIiwgXCJuelwiLCBcIjY0XCIgXSwgWyBcIk5pY2FyYWd1YVwiLCBcIm5pXCIsIFwiNTA1XCIgXSwgWyBcIk5pZ2VyIChOaWphcilcIiwgXCJuZVwiLCBcIjIyN1wiIF0sIFsgXCJOaWdlcmlhXCIsIFwibmdcIiwgXCIyMzRcIiBdLCBbIFwiTml1ZVwiLCBcIm51XCIsIFwiNjgzXCIgXSwgWyBcIk5vcmZvbGsgSXNsYW5kXCIsIFwibmZcIiwgXCI2NzJcIiBdLCBbIFwiTm9ydGggS29yZWEgKOyhsOyEoCDrr7zso7zso7zsnZgg7J2466+8IOqzte2ZlOq1rSlcIiwgXCJrcFwiLCBcIjg1MFwiIF0sIFsgXCJOb3J0aGVybiBNYXJpYW5hIElzbGFuZHNcIiwgXCJtcFwiLCBcIjFcIiwgMTcsIFsgXCI2NzBcIiBdIF0sIFsgXCJOb3J3YXkgKE5vcmdlKVwiLCBcIm5vXCIsIFwiNDdcIiwgMCBdLCBbIFwiT21hbiAo4oCr2LnZj9mF2KfZhuKArOKAjilcIiwgXCJvbVwiLCBcIjk2OFwiIF0sIFsgXCJQYWtpc3RhbiAo4oCr2b7Yp9qp2LPYqtin2YbigKzigI4pXCIsIFwicGtcIiwgXCI5MlwiIF0sIFsgXCJQYWxhdVwiLCBcInB3XCIsIFwiNjgwXCIgXSwgWyBcIlBhbGVzdGluZSAo4oCr2YHZhNiz2LfZitmG4oCs4oCOKVwiLCBcInBzXCIsIFwiOTcwXCIgXSwgWyBcIlBhbmFtYSAoUGFuYW3DoSlcIiwgXCJwYVwiLCBcIjUwN1wiIF0sIFsgXCJQYXB1YSBOZXcgR3VpbmVhXCIsIFwicGdcIiwgXCI2NzVcIiBdLCBbIFwiUGFyYWd1YXlcIiwgXCJweVwiLCBcIjU5NVwiIF0sIFsgXCJQZXJ1IChQZXLDuilcIiwgXCJwZVwiLCBcIjUxXCIgXSwgWyBcIlBoaWxpcHBpbmVzXCIsIFwicGhcIiwgXCI2M1wiIF0sIFsgXCJQb2xhbmQgKFBvbHNrYSlcIiwgXCJwbFwiLCBcIjQ4XCIgXSwgWyBcIlBvcnR1Z2FsXCIsIFwicHRcIiwgXCIzNTFcIiBdLCBbIFwiUHVlcnRvIFJpY29cIiwgXCJwclwiLCBcIjFcIiwgMywgWyBcIjc4N1wiLCBcIjkzOVwiIF0gXSwgWyBcIlFhdGFyICjigKvZgti32LHigKzigI4pXCIsIFwicWFcIiwgXCI5NzRcIiBdLCBbIFwiUsOpdW5pb24gKExhIFLDqXVuaW9uKVwiLCBcInJlXCIsIFwiMjYyXCIsIDAgXSwgWyBcIlJvbWFuaWEgKFJvbcOibmlhKVwiLCBcInJvXCIsIFwiNDBcIiBdLCBbIFwiUnVzc2lhICjQoNC+0YHRgdC40Y8pXCIsIFwicnVcIiwgXCI3XCIsIDAgXSwgWyBcIlJ3YW5kYVwiLCBcInJ3XCIsIFwiMjUwXCIgXSwgWyBcIlNhaW50IEJhcnRow6lsZW15XCIsIFwiYmxcIiwgXCI1OTBcIiwgMSBdLCBbIFwiU2FpbnQgSGVsZW5hXCIsIFwic2hcIiwgXCIyOTBcIiBdLCBbIFwiU2FpbnQgS2l0dHMgYW5kIE5ldmlzXCIsIFwia25cIiwgXCIxXCIsIDE4LCBbIFwiODY5XCIgXSBdLCBbIFwiU2FpbnQgTHVjaWFcIiwgXCJsY1wiLCBcIjFcIiwgMTksIFsgXCI3NThcIiBdIF0sIFsgXCJTYWludCBNYXJ0aW4gKFNhaW50LU1hcnRpbiAocGFydGllIGZyYW7Dp2Fpc2UpKVwiLCBcIm1mXCIsIFwiNTkwXCIsIDIgXSwgWyBcIlNhaW50IFBpZXJyZSBhbmQgTWlxdWVsb24gKFNhaW50LVBpZXJyZS1ldC1NaXF1ZWxvbilcIiwgXCJwbVwiLCBcIjUwOFwiIF0sIFsgXCJTYWludCBWaW5jZW50IGFuZCB0aGUgR3JlbmFkaW5lc1wiLCBcInZjXCIsIFwiMVwiLCAyMCwgWyBcIjc4NFwiIF0gXSwgWyBcIlNhbW9hXCIsIFwid3NcIiwgXCI2ODVcIiBdLCBbIFwiU2FuIE1hcmlub1wiLCBcInNtXCIsIFwiMzc4XCIgXSwgWyBcIlPDo28gVG9tw6kgYW5kIFByw61uY2lwZSAoU8OjbyBUb23DqSBlIFByw61uY2lwZSlcIiwgXCJzdFwiLCBcIjIzOVwiIF0sIFsgXCJTYXVkaSBBcmFiaWEgKOKAq9in2YTZhdmF2YTZg9ipINin2YTYudix2KjZitipINin2YTYs9i52YjYr9mK2KnigKzigI4pXCIsIFwic2FcIiwgXCI5NjZcIiBdLCBbIFwiU2VuZWdhbCAoU8OpbsOpZ2FsKVwiLCBcInNuXCIsIFwiMjIxXCIgXSwgWyBcIlNlcmJpYSAo0KHRgNCx0LjRmNCwKVwiLCBcInJzXCIsIFwiMzgxXCIgXSwgWyBcIlNleWNoZWxsZXNcIiwgXCJzY1wiLCBcIjI0OFwiIF0sIFsgXCJTaWVycmEgTGVvbmVcIiwgXCJzbFwiLCBcIjIzMlwiIF0sIFsgXCJTaW5nYXBvcmVcIiwgXCJzZ1wiLCBcIjY1XCIgXSwgWyBcIlNpbnQgTWFhcnRlblwiLCBcInN4XCIsIFwiMVwiLCAyMSwgWyBcIjcyMVwiIF0gXSwgWyBcIlNsb3Zha2lhIChTbG92ZW5za28pXCIsIFwic2tcIiwgXCI0MjFcIiBdLCBbIFwiU2xvdmVuaWEgKFNsb3ZlbmlqYSlcIiwgXCJzaVwiLCBcIjM4NlwiIF0sIFsgXCJTb2xvbW9uIElzbGFuZHNcIiwgXCJzYlwiLCBcIjY3N1wiIF0sIFsgXCJTb21hbGlhIChTb29tYWFsaXlhKVwiLCBcInNvXCIsIFwiMjUyXCIgXSwgWyBcIlNvdXRoIEFmcmljYVwiLCBcInphXCIsIFwiMjdcIiBdLCBbIFwiU291dGggS29yZWEgKOuMgO2VnOuvvOq1rSlcIiwgXCJrclwiLCBcIjgyXCIgXSwgWyBcIlNvdXRoIFN1ZGFuICjigKvYrNmG2YjYqCDYp9mE2LPZiNiv2KfZhuKArOKAjilcIiwgXCJzc1wiLCBcIjIxMVwiIF0sIFsgXCJTcGFpbiAoRXNwYcOxYSlcIiwgXCJlc1wiLCBcIjM0XCIgXSwgWyBcIlNyaSBMYW5rYSAo4LeB4LeK4oCN4La74LeTIOC2veC2guC2muC3j+C3gClcIiwgXCJsa1wiLCBcIjk0XCIgXSwgWyBcIlN1ZGFuICjigKvYp9mE2LPZiNiv2KfZhuKArOKAjilcIiwgXCJzZFwiLCBcIjI0OVwiIF0sIFsgXCJTdXJpbmFtZVwiLCBcInNyXCIsIFwiNTk3XCIgXSwgWyBcIlN2YWxiYXJkIGFuZCBKYW4gTWF5ZW5cIiwgXCJzalwiLCBcIjQ3XCIsIDEsIFsgXCI3OVwiIF0gXSwgWyBcIlN3YXppbGFuZFwiLCBcInN6XCIsIFwiMjY4XCIgXSwgWyBcIlN3ZWRlbiAoU3ZlcmlnZSlcIiwgXCJzZVwiLCBcIjQ2XCIgXSwgWyBcIlN3aXR6ZXJsYW5kIChTY2h3ZWl6KVwiLCBcImNoXCIsIFwiNDFcIiBdLCBbIFwiU3lyaWEgKOKAq9iz2YjYsdmK2KfigKzigI4pXCIsIFwic3lcIiwgXCI5NjNcIiBdLCBbIFwiVGFpd2FuICjlj7DngaMpXCIsIFwidHdcIiwgXCI4ODZcIiBdLCBbIFwiVGFqaWtpc3RhblwiLCBcInRqXCIsIFwiOTkyXCIgXSwgWyBcIlRhbnphbmlhXCIsIFwidHpcIiwgXCIyNTVcIiBdLCBbIFwiVGhhaWxhbmQgKOC5hOC4l+C4oilcIiwgXCJ0aFwiLCBcIjY2XCIgXSwgWyBcIlRpbW9yLUxlc3RlXCIsIFwidGxcIiwgXCI2NzBcIiBdLCBbIFwiVG9nb1wiLCBcInRnXCIsIFwiMjI4XCIgXSwgWyBcIlRva2VsYXVcIiwgXCJ0a1wiLCBcIjY5MFwiIF0sIFsgXCJUb25nYVwiLCBcInRvXCIsIFwiNjc2XCIgXSwgWyBcIlRyaW5pZGFkIGFuZCBUb2JhZ29cIiwgXCJ0dFwiLCBcIjFcIiwgMjIsIFsgXCI4NjhcIiBdIF0sIFsgXCJUdW5pc2lhICjigKvYqtmI2YbYs+KArOKAjilcIiwgXCJ0blwiLCBcIjIxNlwiIF0sIFsgXCJUdXJrZXkgKFTDvHJraXllKVwiLCBcInRyXCIsIFwiOTBcIiBdLCBbIFwiVHVya21lbmlzdGFuXCIsIFwidG1cIiwgXCI5OTNcIiBdLCBbIFwiVHVya3MgYW5kIENhaWNvcyBJc2xhbmRzXCIsIFwidGNcIiwgXCIxXCIsIDIzLCBbIFwiNjQ5XCIgXSBdLCBbIFwiVHV2YWx1XCIsIFwidHZcIiwgXCI2ODhcIiBdLCBbIFwiVS5TLiBWaXJnaW4gSXNsYW5kc1wiLCBcInZpXCIsIFwiMVwiLCAyNCwgWyBcIjM0MFwiIF0gXSwgWyBcIlVnYW5kYVwiLCBcInVnXCIsIFwiMjU2XCIgXSwgWyBcIlVrcmFpbmUgKNCj0LrRgNCw0ZfQvdCwKVwiLCBcInVhXCIsIFwiMzgwXCIgXSwgWyBcIlVuaXRlZCBBcmFiIEVtaXJhdGVzICjigKvYp9mE2KXZhdin2LHYp9iqINin2YTYudix2KjZitipINin2YTZhdiq2K3Yr9ip4oCs4oCOKVwiLCBcImFlXCIsIFwiOTcxXCIgXSwgWyBcIlVuaXRlZCBLaW5nZG9tXCIsIFwiZ2JcIiwgXCI0NFwiLCAwIF0sIFsgXCJVbml0ZWQgU3RhdGVzXCIsIFwidXNcIiwgXCIxXCIsIDAgXSwgWyBcIlVydWd1YXlcIiwgXCJ1eVwiLCBcIjU5OFwiIF0sIFsgXCJVemJla2lzdGFuIChPyrt6YmVraXN0b24pXCIsIFwidXpcIiwgXCI5OThcIiBdLCBbIFwiVmFudWF0dVwiLCBcInZ1XCIsIFwiNjc4XCIgXSwgWyBcIlZhdGljYW4gQ2l0eSAoQ2l0dMOgIGRlbCBWYXRpY2FubylcIiwgXCJ2YVwiLCBcIjM5XCIsIDEsIFsgXCIwNjY5OFwiIF0gXSwgWyBcIlZlbmV6dWVsYVwiLCBcInZlXCIsIFwiNThcIiBdLCBbIFwiVmlldG5hbSAoVmnhu4d0IE5hbSlcIiwgXCJ2blwiLCBcIjg0XCIgXSwgWyBcIldhbGxpcyBhbmQgRnV0dW5hIChXYWxsaXMtZXQtRnV0dW5hKVwiLCBcIndmXCIsIFwiNjgxXCIgXSwgWyBcIldlc3Rlcm4gU2FoYXJhICjigKvYp9mE2LXYrdix2KfYoSDYp9mE2LrYsdio2YrYqeKArOKAjilcIiwgXCJlaFwiLCBcIjIxMlwiLCAxLCBbIFwiNTI4OFwiLCBcIjUyODlcIiBdIF0sIFsgXCJZZW1lbiAo4oCr2KfZhNmK2YXZhuKArOKAjilcIiwgXCJ5ZVwiLCBcIjk2N1wiIF0sIFsgXCJaYW1iaWFcIiwgXCJ6bVwiLCBcIjI2MFwiIF0sIFsgXCJaaW1iYWJ3ZVwiLCBcInp3XCIsIFwiMjYzXCIgXSwgWyBcIsOFbGFuZCBJc2xhbmRzXCIsIFwiYXhcIiwgXCIzNThcIiwgMSwgWyBcIjE4XCIgXSBdIF07XG4gICAgICAgIC8vIGxvb3Agb3ZlciBhbGwgb2YgdGhlIGNvdW50cmllcyBhYm92ZSwgcmVzdHJ1Y3R1cmluZyB0aGUgZGF0YSB0byBiZSBvYmplY3RzIHdpdGggbmFtZWQga2V5c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbENvdW50cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGMgPSBhbGxDb3VudHJpZXNbaV07XG4gICAgICAgICAgICBhbGxDb3VudHJpZXNbaV0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogY1swXSxcbiAgICAgICAgICAgICAgICBpc28yOiBjWzFdLFxuICAgICAgICAgICAgICAgIGRpYWxDb2RlOiBjWzJdLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiBjWzNdIHx8IDAsXG4gICAgICAgICAgICAgICAgYXJlYUNvZGVzOiBjWzRdIHx8IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICAgICAgICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgICAgICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgICAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvdy5pbnRsVGVsSW5wdXRHbG9iYWxzID0ge1xuICAgICAgICAgICAgZ2V0SW5zdGFuY2U6IGZ1bmN0aW9uIGdldEluc3RhbmNlKGlucHV0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkID0gaW5wdXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbnRsLXRlbC1pbnB1dC1pZFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMuaW5zdGFuY2VzW2lkXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnN0YW5jZXM6IHt9XG4gICAgICAgIH07XG4gICAgICAgIC8vIHRoZXNlIHZhcnMgcGVyc2lzdCB0aHJvdWdoIGFsbCBpbnN0YW5jZXMgb2YgdGhlIHBsdWdpblxuICAgICAgICB2YXIgaWQgPSAwO1xuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAvLyB3aGV0aGVyIG9yIG5vdCB0byBhbGxvdyB0aGUgZHJvcGRvd25cbiAgICAgICAgICAgIGFsbG93RHJvcGRvd246IHRydWUsXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBqdXN0IGEgZGlhbCBjb2RlIGluIHRoZSBpbnB1dDogcmVtb3ZlIGl0IG9uIGJsdXJcbiAgICAgICAgICAgIGF1dG9IaWRlRGlhbENvZGU6IHRydWUsXG4gICAgICAgICAgICAvLyBhZGQgYSBwbGFjZWhvbGRlciBpbiB0aGUgaW5wdXQgd2l0aCBhbiBleGFtcGxlIG51bWJlciBmb3IgdGhlIHNlbGVjdGVkIGNvdW50cnlcbiAgICAgICAgICAgIGF1dG9QbGFjZWhvbGRlcjogXCJwb2xpdGVcIixcbiAgICAgICAgICAgIC8vIG1vZGlmeSB0aGUgcGFyZW50Q2xhc3NcbiAgICAgICAgICAgIGN1c3RvbUNvbnRhaW5lcjogXCJcIixcbiAgICAgICAgICAgIC8vIG1vZGlmeSB0aGUgYXV0byBwbGFjZWhvbGRlclxuICAgICAgICAgICAgY3VzdG9tUGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICAvLyBhcHBlbmQgbWVudSB0byBzcGVjaWZpZWQgZWxlbWVudFxuICAgICAgICAgICAgZHJvcGRvd25Db250YWluZXI6IG51bGwsXG4gICAgICAgICAgICAvLyBkb24ndCBkaXNwbGF5IHRoZXNlIGNvdW50cmllc1xuICAgICAgICAgICAgZXhjbHVkZUNvdW50cmllczogW10sXG4gICAgICAgICAgICAvLyBmb3JtYXQgdGhlIGlucHV0IHZhbHVlIGR1cmluZyBpbml0aWFsaXNhdGlvbiBhbmQgb24gc2V0TnVtYmVyXG4gICAgICAgICAgICBmb3JtYXRPbkRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgICAvLyBnZW9JcCBsb29rdXAgZnVuY3Rpb25cbiAgICAgICAgICAgIGdlb0lwTG9va3VwOiBudWxsLFxuICAgICAgICAgICAgLy8gaW5qZWN0IGEgaGlkZGVuIGlucHV0IHdpdGggdGhpcyBuYW1lLCBhbmQgb24gc3VibWl0LCBwb3B1bGF0ZSBpdCB3aXRoIHRoZSByZXN1bHQgb2YgZ2V0TnVtYmVyXG4gICAgICAgICAgICBoaWRkZW5JbnB1dDogXCJcIixcbiAgICAgICAgICAgIC8vIGluaXRpYWwgY291bnRyeVxuICAgICAgICAgICAgaW5pdGlhbENvdW50cnk6IFwiXCIsXG4gICAgICAgICAgICAvLyBsb2NhbGl6ZWQgY291bnRyeSBuYW1lcyBlLmcuIHsgJ2RlJzogJ0RldXRzY2hsYW5kJyB9XG4gICAgICAgICAgICBsb2NhbGl6ZWRDb3VudHJpZXM6IG51bGwsXG4gICAgICAgICAgICAvLyBkb24ndCBpbnNlcnQgaW50ZXJuYXRpb25hbCBkaWFsIGNvZGVzXG4gICAgICAgICAgICBuYXRpb25hbE1vZGU6IHRydWUsXG4gICAgICAgICAgICAvLyBkaXNwbGF5IG9ubHkgdGhlc2UgY291bnRyaWVzXG4gICAgICAgICAgICBvbmx5Q291bnRyaWVzOiBbXSxcbiAgICAgICAgICAgIC8vIG51bWJlciB0eXBlIHRvIHVzZSBmb3IgcGxhY2Vob2xkZXJzXG4gICAgICAgICAgICBwbGFjZWhvbGRlck51bWJlclR5cGU6IFwiTU9CSUxFXCIsXG4gICAgICAgICAgICAvLyB0aGUgY291bnRyaWVzIGF0IHRoZSB0b3Agb2YgdGhlIGxpc3QuIGRlZmF1bHRzIHRvIHVuaXRlZCBzdGF0ZXMgYW5kIHVuaXRlZCBraW5nZG9tXG4gICAgICAgICAgICBwcmVmZXJyZWRDb3VudHJpZXM6IFsgXCJ1c1wiLCBcImdiXCIgXSxcbiAgICAgICAgICAgIC8vIGRpc3BsYXkgdGhlIGNvdW50cnkgZGlhbCBjb2RlIG5leHQgdG8gdGhlIHNlbGVjdGVkIGZsYWcgc28gaXQncyBub3QgcGFydCBvZiB0aGUgdHlwZWQgbnVtYmVyXG4gICAgICAgICAgICBzZXBhcmF0ZURpYWxDb2RlOiBmYWxzZSxcbiAgICAgICAgICAgIC8vIHNwZWNpZnkgdGhlIHBhdGggdG8gdGhlIGxpYnBob25lbnVtYmVyIHNjcmlwdCB0byBlbmFibGUgdmFsaWRhdGlvbi9mb3JtYXR0aW5nXG4gICAgICAgICAgICB1dGlsc1NjcmlwdDogXCJcIlxuICAgICAgICB9O1xuICAgICAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX05vcnRoX0FtZXJpY2FuX051bWJlcmluZ19QbGFuX2FyZWFfY29kZXMjTm9uLWdlb2dyYXBoaWNfYXJlYV9jb2Rlc1xuICAgICAgICB2YXIgcmVnaW9ubGVzc05hbnBOdW1iZXJzID0gWyBcIjgwMFwiLCBcIjgyMlwiLCBcIjgzM1wiLCBcIjg0NFwiLCBcIjg1NVwiLCBcIjg2NlwiLCBcIjg3N1wiLCBcIjg4MFwiLCBcIjg4MVwiLCBcIjg4MlwiLCBcIjg4M1wiLCBcIjg4NFwiLCBcIjg4NVwiLCBcIjg4NlwiLCBcIjg4N1wiLCBcIjg4OFwiLCBcIjg4OVwiIF07XG4gICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgaWYgdGhlIHdpbmRvdy5sb2FkIGV2ZW50IGhhcyBmaXJlZCBhcyBpbXBvc3NpYmxlIHRvIGNoZWNrIGFmdGVyIHRoZSBmYWN0XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFVQREFURTogdXNlIGEgcHVibGljIHN0YXRpYyBmaWVsZCBzbyB3ZSBjYW4gZnVkZ2UgaXQgaW4gdGhlIHRlc3RzXG4gICAgICAgICAgICB3aW5kb3cuaW50bFRlbElucHV0R2xvYmFscy53aW5kb3dMb2FkZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gdXRpbGl0eSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYW4gb2JqZWN0LiBjYW4ndCB1c2UgT2JqZWN0LmVudHJpZXMgb3IgbmF0aXZlIGZvckVhY2ggYmVjYXVzZVxuICAgICAgICAvLyBvZiBJRTExXG4gICAgICAgIHZhciBmb3JFYWNoUHJvcCA9IGZ1bmN0aW9uIGZvckVhY2hQcm9wKG9iaiwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGtleXNbaV0sIG9ialtrZXlzW2ldXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIHJ1biBhIG1ldGhvZCBvbiBlYWNoIGluc3RhbmNlIG9mIHRoZSBwbHVnaW5cbiAgICAgICAgdmFyIGZvckVhY2hJbnN0YW5jZSA9IGZ1bmN0aW9uIGZvckVhY2hJbnN0YW5jZShtZXRob2QpIHtcbiAgICAgICAgICAgIGZvckVhY2hQcm9wKHdpbmRvdy5pbnRsVGVsSW5wdXRHbG9iYWxzLmluc3RhbmNlcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMuaW5zdGFuY2VzW2tleV1bbWV0aG9kXSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHRoaXMgaXMgb3VyIHBsdWdpbiBjbGFzcyB0aGF0IHdlIHdpbGwgY3JlYXRlIGFuIGluc3RhbmNlIG9mXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgICB2YXIgSXRpID0gLyojX19QVVJFX18qL1xuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEl0aShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEl0aSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pZCA9IGlkKys7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxJbnB1dCA9IGlucHV0O1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlSXRlbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRlZEl0ZW0gPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vIHByb2Nlc3Mgc3BlY2lmaWVkIG9wdGlvbnMgLyBkZWZhdWx0c1xuICAgICAgICAgICAgICAgIC8vIGFsdGVybmF0aXZlIHRvIE9iamVjdC5hc3NpZ24sIHdoaWNoIGlzbid0IHN1cHBvcnRlZCBieSBJRTExXG4gICAgICAgICAgICAgICAgdmFyIGN1c3RvbU9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIGZvckVhY2hQcm9wKGRlZmF1bHRzLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9wdGlvbnNba2V5XSA9IGN1c3RvbU9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSA/IGN1c3RvbU9wdGlvbnNba2V5XSA6IHZhbHVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFkSW5pdGlhbFBsYWNlaG9sZGVyID0gQm9vbGVhbihpbnB1dC5nZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoSXRpLCBbIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX2luaXRcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpbiBuYXRpb25hbE1vZGUsIGRpc2FibGUgb3B0aW9ucyByZWxhdGluZyB0byBkaWFsIGNvZGVzXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubmF0aW9uYWxNb2RlKSB0aGlzLm9wdGlvbnMuYXV0b0hpZGVEaWFsQ29kZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBzZXBhcmF0ZURpYWxDb2RlIHRoZW4gZG9lc24ndCBtYWtlIHNlbnNlIHRvIEEpIGluc2VydCBkaWFsIGNvZGUgaW50byBpbnB1dFxuICAgICAgICAgICAgICAgICAgICAvLyAoYXV0b0hpZGVEaWFsQ29kZSksIGFuZCBCKSBkaXNwbGF5IG5hdGlvbmFsIG51bWJlcnMgKGJlY2F1c2Ugd2UncmUgZGlzcGxheWluZyB0aGUgY291bnRyeVxuICAgICAgICAgICAgICAgICAgICAvLyBkaWFsIGNvZGUgbmV4dCB0byB0aGVtKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNlcGFyYXRlRGlhbENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5hdXRvSGlkZURpYWxDb2RlID0gdGhpcy5vcHRpb25zLm5hdGlvbmFsTW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGNhbm5vdCBqdXN0IHRlc3Qgc2NyZWVuIHNpemUgYXMgc29tZSBzbWFydHBob25lcy93ZWJzaXRlIG1ldGEgdGFncyB3aWxsIHJlcG9ydCBkZXNrdG9wXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc29sdXRpb25zXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IGZvciBzb21lIHJlYXNvbiBqYXNtaW5lIGJyZWFrcyBpZiB5b3UgcHV0IHRoaXMgaW4gdGhlIG1haW4gUGx1Z2luIGZ1bmN0aW9uIHdpdGggdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc3Qgb2YgdGhlc2UgZGVjbGFyYXRpb25zXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IHRvIHRhcmdldCBBbmRyb2lkIE1vYmlsZXMgKGFuZCBub3QgVGFibGV0cyksIHdlIG11c3QgZmluZCAnQW5kcm9pZCcgYW5kICdNb2JpbGUnXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNNb2JpbGUgPSAvQW5kcm9pZC4rTW9iaWxlfHdlYk9TfGlQaG9uZXxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzTW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyIHRoZSBtb2JpbGUgZHJvcGRvd24gY3NzXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJpdGktbW9iaWxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gbW9iaWxlLCB3ZSB3YW50IGEgZnVsbCBzY3JlZW4gZHJvcGRvd24sIHNvIHdlIG11c3QgYXBwZW5kIGl0IHRvIHRoZSBib2R5XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kcm9wZG93bkNvbnRhaW5lcikgdGhpcy5vcHRpb25zLmRyb3Bkb3duQ29udGFpbmVyID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGVzZSBwcm9taXNlcyBnZXQgcmVzb2x2ZWQgd2hlbiB0aGVpciBpbmRpdmlkdWFsIHJlcXVlc3RzIGNvbXBsZXRlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgd2F5IHRoZSBkZXYgY2FuIGRvIHNvbWV0aGluZyBsaWtlIGl0aS5wcm9taXNlLnRoZW4oLi4uKSB0byBrbm93IHdoZW4gYWxsIHJlcXVlc3RzIGFyZVxuICAgICAgICAgICAgICAgICAgICAvLyBjb21wbGV0ZVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFByb21pc2UgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdXRvQ291bnRyeVByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVzb2x2ZUF1dG9Db3VudHJ5UHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlamVjdEF1dG9Db3VudHJ5UHJvbWlzZSA9IHJlamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0aWxzU2NyaXB0UHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5yZXNvbHZlVXRpbHNTY3JpcHRQcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVqZWN0VXRpbHNTY3JpcHRQcm9taXNlID0gcmVqZWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb21pc2UgPSBQcm9taXNlLmFsbChbIGF1dG9Db3VudHJ5UHJvbWlzZSwgdXRpbHNTY3JpcHRQcm9taXNlIF0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJldmVudCBlcnJvcnMgd2hlbiBQcm9taXNlIGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZUF1dG9Db3VudHJ5UHJvbWlzZSA9IHRoaXMucmVqZWN0QXV0b0NvdW50cnlQcm9taXNlID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZVV0aWxzU2NyaXB0UHJvbWlzZSA9IHRoaXMucmVqZWN0VXRpbHNTY3JpcHRQcm9taXNlID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBpbiB2YXJpb3VzIHNpdHVhdGlvbnMgdGhlcmUgY291bGQgYmUgbm8gY291bnRyeSBzZWxlY3RlZCBpbml0aWFsbHksIGJ1dCB3ZSBuZWVkIHRvIGJlIGFibGVcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gYXNzdW1lIHRoaXMgdmFyaWFibGUgZXhpc3RzXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAvLyBwcm9jZXNzIGFsbCB0aGUgZGF0YTogb25seUNvdW50cmllcywgZXhjbHVkZUNvdW50cmllcywgcHJlZmVycmVkQ291bnRyaWVzIGV0Y1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm9jZXNzQ291bnRyeURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2VuZXJhdGUgdGhlIG1hcmt1cFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW5lcmF0ZU1hcmt1cCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGluaXRpYWwgc3RhdGUgb2YgdGhlIGlucHV0IHZhbHVlIGFuZCB0aGUgc2VsZWN0ZWQgZmxhZ1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRJbml0aWFsU3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgYWxsIG9mIHRoZSBldmVudCBsaXN0ZW5lcnM6IGF1dG9IaWRlRGlhbENvZGUsIGlucHV0IGtleWRvd24sIHNlbGVjdGVkRmxhZyBjbGlja1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0TGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHV0aWxzIHNjcmlwdCwgYW5kIGF1dG8gY291bnRyeVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0UmVxdWVzdHMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIl9wcm9jZXNzQ291bnRyeURhdGFcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3Byb2Nlc3NDb3VudHJ5RGF0YSgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvY2VzcyBvbmx5Q291bnRyaWVzIG9yIGV4Y2x1ZGVDb3VudHJpZXMgYXJyYXkgaWYgcHJlc2VudFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm9jZXNzQWxsQ291bnRyaWVzKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHByb2Nlc3MgdGhlIGNvdW50cnlDb2RlcyBtYXBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0NvdW50cnlDb2RlcygpO1xuICAgICAgICAgICAgICAgICAgICAvLyBwcm9jZXNzIHRoZSBwcmVmZXJyZWRDb3VudHJpZXNcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc1ByZWZlcnJlZENvdW50cmllcygpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2xhdGUgY291bnRyaWVzIGFjY29yZGluZyB0byBsb2NhbGl6ZWRDb3VudHJpZXMgb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9jYWxpemVkQ291bnRyaWVzKSB0aGlzLl90cmFuc2xhdGVDb3VudHJpZXNCeUxvY2FsZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBzb3J0IGNvdW50cmllcyBieSBuYW1lXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMub25seUNvdW50cmllcy5sZW5ndGggfHwgdGhpcy5vcHRpb25zLmxvY2FsaXplZENvdW50cmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudHJpZXMuc29ydCh0aGlzLl9jb3VudHJ5TmFtZVNvcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfYWRkQ291bnRyeUNvZGVcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZENvdW50cnlDb2RlKGlzbzIsIGRpYWxDb2RlLCBwcmlvcml0eSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlhbENvZGUubGVuZ3RoID4gdGhpcy5kaWFsQ29kZU1heExlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsQ29kZU1heExlbiA9IGRpYWxDb2RlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY291bnRyeUNvZGVzLmhhc093blByb3BlcnR5KGRpYWxDb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudHJ5Q29kZXNbZGlhbENvZGVdID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gYmFpbCBpZiB3ZSBhbHJlYWR5IGhhdmUgdGhpcyBjb3VudHJ5IGZvciB0aGlzIGRpYWxDb2RlXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb3VudHJ5Q29kZXNbZGlhbENvZGVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb3VudHJ5Q29kZXNbZGlhbENvZGVdW2ldID09PSBpc28yKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHVuZGVmaW5lZCBhcyAwIGlzIGZhbHN5XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHByaW9yaXR5ICE9PSB1bmRlZmluZWQgPyBwcmlvcml0eSA6IHRoaXMuY291bnRyeUNvZGVzW2RpYWxDb2RlXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRyeUNvZGVzW2RpYWxDb2RlXVtpbmRleF0gPSBpc28yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX3Byb2Nlc3NBbGxDb3VudHJpZXNcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3Byb2Nlc3NBbGxDb3VudHJpZXMoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMub25seUNvdW50cmllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb3dlckNhc2VPbmx5Q291bnRyaWVzID0gdGhpcy5vcHRpb25zLm9ubHlDb3VudHJpZXMubWFwKGZ1bmN0aW9uKGNvdW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY291bnRyeS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50cmllcyA9IGFsbENvdW50cmllcy5maWx0ZXIoZnVuY3Rpb24oY291bnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsb3dlckNhc2VPbmx5Q291bnRyaWVzLmluZGV4T2YoY291bnRyeS5pc28yKSA+IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmV4Y2x1ZGVDb3VudHJpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG93ZXJDYXNlRXhjbHVkZUNvdW50cmllcyA9IHRoaXMub3B0aW9ucy5leGNsdWRlQ291bnRyaWVzLm1hcChmdW5jdGlvbihjb3VudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50cnkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudHJpZXMgPSBhbGxDb3VudHJpZXMuZmlsdGVyKGZ1bmN0aW9uKGNvdW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG93ZXJDYXNlRXhjbHVkZUNvdW50cmllcy5pbmRleE9mKGNvdW50cnkuaXNvMikgPT09IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50cmllcyA9IGFsbENvdW50cmllcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX3RyYW5zbGF0ZUNvdW50cmllc0J5TG9jYWxlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF90cmFuc2xhdGVDb3VudHJpZXNCeUxvY2FsZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvdW50cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzbyA9IHRoaXMuY291bnRyaWVzW2ldLmlzbzIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9jYWxpemVkQ291bnRyaWVzLmhhc093blByb3BlcnR5KGlzbykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50cmllc1tpXS5uYW1lID0gdGhpcy5vcHRpb25zLmxvY2FsaXplZENvdW50cmllc1tpc29dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfY291bnRyeU5hbWVTb3J0XCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jb3VudHJ5TmFtZVNvcnQoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIl9wcm9jZXNzQ291bnRyeUNvZGVzXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9wcm9jZXNzQ291bnRyeUNvZGVzKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxDb2RlTWF4TGVuID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudHJ5Q29kZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmlyc3Q6IGFkZCBkaWFsIGNvZGVzXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb3VudHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gdGhpcy5jb3VudHJpZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRDb3VudHJ5Q29kZShjLmlzbzIsIGMuZGlhbENvZGUsIGMucHJpb3JpdHkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIG5leHQ6IGFkZCBhcmVhIGNvZGVzXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYSBzZWNvbmQgbG9vcCBvdmVyIGNvdW50cmllcywgdG8gbWFrZSBzdXJlIHdlIGhhdmUgYWxsIG9mIHRoZSBcInJvb3RcIiBjb3VudHJpZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBpbiB0aGUgbWFwLCBzbyB0aGF0IHdlIGNhbiBhY2Nlc3MgdGhlbSwgYXMgZWFjaCB0aW1lIHdlIGFkZCBhbiBhcmVhIGNvZGUgc3Vic3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBtYXAsIHdlIGFsc28gbmVlZCB0byBpbmNsdWRlIHRoZSBcInJvb3RcIiBjb3VudHJ5J3MgY29kZSwgYXMgdGhhdCBhbHNvIG1hdGNoZXNcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMuY291bnRyaWVzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jID0gdGhpcy5jb3VudHJpZXNbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXJlYSBjb2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9jLmFyZWFDb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb290Q291bnRyeUNvZGUgPSB0aGlzLmNvdW50cnlDb2Rlc1tfYy5kaWFsQ29kZV1bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGVhY2ggYXJlYSBjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBfYy5hcmVhQ29kZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZWFDb2RlID0gX2MuYXJlYUNvZGVzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgZWFjaCBkaWdpdCBpbiB0aGUgYXJlYSBjb2RlIHRvIGFkZCBhbGwgcGFydGlhbCBtYXRjaGVzIGFzIHdlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDE7IGsgPCBhcmVhQ29kZS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnRpYWxEaWFsQ29kZSA9IF9jLmRpYWxDb2RlICsgYXJlYUNvZGUuc3Vic3RyKDAsIGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgd2l0aCB0aGUgcm9vdCBjb3VudHJ5LCBhcyB0aGF0IGFsc28gbWF0Y2hlcyB0aGlzIGRpYWwgY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkQ291bnRyeUNvZGUocm9vdENvdW50cnlDb2RlLCBwYXJ0aWFsRGlhbENvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkQ291bnRyeUNvZGUoX2MuaXNvMiwgcGFydGlhbERpYWxDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIGZ1bGwgYXJlYSBjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZENvdW50cnlDb2RlKF9jLmlzbzIsIF9jLmRpYWxDb2RlICsgYXJlYUNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX3Byb2Nlc3NQcmVmZXJyZWRDb3VudHJpZXNcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3Byb2Nlc3NQcmVmZXJyZWRDb3VudHJpZXMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlZmVycmVkQ291bnRyaWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vcHRpb25zLnByZWZlcnJlZENvdW50cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50cnlDb2RlID0gdGhpcy5vcHRpb25zLnByZWZlcnJlZENvdW50cmllc1tpXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50cnlEYXRhID0gdGhpcy5fZ2V0Q291bnRyeURhdGEoY291bnRyeUNvZGUsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudHJ5RGF0YSkgdGhpcy5wcmVmZXJyZWRDb3VudHJpZXMucHVzaChjb3VudHJ5RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIl9jcmVhdGVFbFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlRWwobmFtZSwgYXR0cnMsIGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cnMpIGZvckVhY2hQcm9wKGF0dHJzLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcikgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX2dlbmVyYXRlTWFya3VwXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZW5lcmF0ZU1hcmt1cCgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJldmVudCBhdXRvY29tcGxldGUgYXMgdGhlcmUncyBubyBzYWZlLCBjcm9zcy1icm93c2VyIGV2ZW50IHdlIGNhbiByZWFjdCB0bywgc28gaXQgY2FuXG4gICAgICAgICAgICAgICAgICAgIC8vIGVhc2lseSBwdXQgdGhlIHBsdWdpbiBpbiBhbiBpbmNvbnNpc3RlbnQgc3RhdGUgZS5nLiB0aGUgd3JvbmcgZmxhZyBzZWxlY3RlZCBmb3IgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIGF1dG9jb21wbGV0ZWQgbnVtYmVyLCB3aGljaCBvbiBzdWJtaXQgY291bGQgbWVhbiB3cm9uZyBudW1iZXIgaXMgc2F2ZWQgKGVzcCBpbiBuYXRpb25hbE1vZGUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQuc2V0QXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIsIFwib2ZmXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb250YWluZXJzIChtb3N0bHkgZm9yIHBvc2l0aW9uaW5nKVxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50Q2xhc3MgPSBcIml0aVwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFsbG93RHJvcGRvd24pIHBhcmVudENsYXNzICs9IFwiIGl0aS0tYWxsb3ctZHJvcGRvd25cIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zZXBhcmF0ZURpYWxDb2RlKSBwYXJlbnRDbGFzcyArPSBcIiBpdGktLXNlcGFyYXRlLWRpYWwtY29kZVwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmN1c3RvbUNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Q2xhc3MgKz0gXCIgXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRDbGFzcyArPSB0aGlzLm9wdGlvbnMuY3VzdG9tQ29udGFpbmVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciB3cmFwcGVyID0gdGhpcy5fY3JlYXRlRWwoXCJkaXZcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBwYXJlbnRDbGFzc1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZWxJbnB1dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCB0aGlzLnRlbElucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFnc0NvbnRhaW5lciA9IHRoaXMuX2NyZWF0ZUVsKFwiZGl2XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJpdGlfX2ZsYWctY29udGFpbmVyXCJcbiAgICAgICAgICAgICAgICAgICAgfSwgd3JhcHBlcik7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy50ZWxJbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGVjdGVkIGZsYWcgKGRpc3BsYXllZCB0byBsZWZ0IG9mIGlucHV0KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRmxhZyA9IHRoaXMuX2NyZWF0ZUVsKFwiZGl2XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJpdGlfX3NlbGVjdGVkLWZsYWdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6IFwiY29tYm9ib3hcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJpYS1vd25zXCI6IFwiY291bnRyeS1saXN0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5mbGFnc0NvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGbGFnSW5uZXIgPSB0aGlzLl9jcmVhdGVFbChcImRpdlwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwiaXRpX19mbGFnXCJcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5zZWxlY3RlZEZsYWcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNlcGFyYXRlRGlhbENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREaWFsQ29kZSA9IHRoaXMuX2NyZWF0ZUVsKFwiZGl2XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwiaXRpX19zZWxlY3RlZC1kaWFsLWNvZGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5zZWxlY3RlZEZsYWcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dEcm9wZG93bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBlbGVtZW50IGZvY3VzYWJsZSBhbmQgdGFiIG5hdmlnYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZsYWcuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcm9wZG93bkFycm93ID0gdGhpcy5fY3JlYXRlRWwoXCJkaXZcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJpdGlfX2Fycm93XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMuc2VsZWN0ZWRGbGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvdW50cnkgZHJvcGRvd246IHByZWZlcnJlZCBjb3VudHJpZXMsIHRoZW4gZGl2aWRlciwgdGhlbiBhbGwgY291bnRyaWVzXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50cnlMaXN0ID0gdGhpcy5fY3JlYXRlRWwoXCJ1bFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcIml0aV9fY291bnRyeS1saXN0IGl0aV9faGlkZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcImNvdW50cnktbGlzdGJveFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiBcImZhbHNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogXCJsaXN0Ym94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJlZmVycmVkQ291bnRyaWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FwcGVuZExpc3RJdGVtcyh0aGlzLnByZWZlcnJlZENvdW50cmllcywgXCJpdGlfX3ByZWZlcnJlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVFbChcImxpXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcIml0aV9fZGl2aWRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiBcInNlcGFyYXRvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFyaWEtZGlzYWJsZWRcIjogXCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLmNvdW50cnlMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FwcGVuZExpc3RJdGVtcyh0aGlzLmNvdW50cmllcywgXCJpdGlfX3N0YW5kYXJkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIGRyb3Bkb3duQ29udGFpbmVyIG1hcmt1cFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kcm9wZG93bkNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJvcGRvd24gPSB0aGlzLl9jcmVhdGVFbChcImRpdlwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJpdGkgaXRpLS1jb250YWluZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJvcGRvd24uYXBwZW5kQ2hpbGQodGhpcy5jb3VudHJ5TGlzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmxhZ3NDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jb3VudHJ5TGlzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWRkZW5JbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhpZGRlbklucHV0TmFtZSA9IHRoaXMub3B0aW9ucy5oaWRkZW5JbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gdGhpcy50ZWxJbnB1dC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IG5hbWUubGFzdEluZGV4T2YoXCJbXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGlucHV0IG5hbWUgY29udGFpbnMgc3F1YXJlIGJyYWNrZXRzLCB0aGVuIGdpdmUgdGhlIGhpZGRlbiBpbnB1dCB0aGUgc2FtZSBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2luZyB0aGUgY29udGVudHMgb2YgdGhlIGxhc3Qgc2V0IG9mIGJyYWNrZXRzIHdpdGggdGhlIGdpdmVuIGhpZGRlbklucHV0IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gLTEpIGhpZGRlbklucHV0TmFtZSA9IFwiXCIuY29uY2F0KG5hbWUuc3Vic3RyKDAsIGkpLCBcIltcIikuY29uY2F0KGhpZGRlbklucHV0TmFtZSwgXCJdXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRkZW5JbnB1dCA9IHRoaXMuX2NyZWF0ZUVsKFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaGlkZGVuSW5wdXROYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5oaWRkZW5JbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIl9hcHBlbmRMaXN0SXRlbXNcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGVuZExpc3RJdGVtcyhjb3VudHJpZXMsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBjcmVhdGUgc28gbWFueSBET00gZWxlbWVudHMsIGl0IGlzIGZhc3RlciB0byBidWlsZCBhIHRlbXAgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCB0aGVuIGFkZCBldmVyeXRoaW5nIHRvIHRoZSBET00gaW4gb25lIGdvIGF0IHRoZSBlbmRcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBlYWNoIGNvdW50cnlcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gY291bnRyaWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3BlbiB0aGUgbGlzdCBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAgKz0gXCI8bGkgY2xhc3M9J2l0aV9fY291bnRyeSBcIi5jb25jYXQoY2xhc3NOYW1lLCBcIicgdGFiSW5kZXg9Jy0xJyBpZD0naXRpLWl0ZW0tXCIpLmNvbmNhdChjLmlzbzIsIFwiJyByb2xlPSdvcHRpb24nIGRhdGEtZGlhbC1jb2RlPSdcIikuY29uY2F0KGMuZGlhbENvZGUsIFwiJyBkYXRhLWNvdW50cnktY29kZT0nXCIpLmNvbmNhdChjLmlzbzIsIFwiJz5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIGZsYWdcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCArPSBcIjxkaXYgY2xhc3M9J2l0aV9fZmxhZy1ib3gnPjxkaXYgY2xhc3M9J2l0aV9fZmxhZyBpdGlfX1wiLmNvbmNhdChjLmlzbzIsIFwiJz48L2Rpdj48L2Rpdj5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgdGhlIGNvdW50cnkgbmFtZSBhbmQgZGlhbCBjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAgKz0gXCI8c3BhbiBjbGFzcz0naXRpX19jb3VudHJ5LW5hbWUnPlwiLmNvbmNhdChjLm5hbWUsIFwiPC9zcGFuPlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCArPSBcIjxzcGFuIGNsYXNzPSdpdGlfX2RpYWwtY29kZSc+K1wiLmNvbmNhdChjLmRpYWxDb2RlLCBcIjwvc3Bhbj5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjbG9zZSB0aGUgbGlzdCBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAgKz0gXCI8L2xpPlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRyeUxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIHRtcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfc2V0SW5pdGlhbFN0YXRlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLnRlbElucHV0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlhbENvZGUgPSB0aGlzLl9nZXREaWFsQ29kZSh2YWwpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNSZWdpb25sZXNzTmFucCA9IHRoaXMuX2lzUmVnaW9ubGVzc05hbnAodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzJG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsIGluaXRpYWxDb3VudHJ5ID0gX3RoaXMkb3B0aW9ucy5pbml0aWFsQ291bnRyeSwgbmF0aW9uYWxNb2RlID0gX3RoaXMkb3B0aW9ucy5uYXRpb25hbE1vZGUsIGF1dG9IaWRlRGlhbENvZGUgPSBfdGhpcyRvcHRpb25zLmF1dG9IaWRlRGlhbENvZGUsIHNlcGFyYXRlRGlhbENvZGUgPSBfdGhpcyRvcHRpb25zLnNlcGFyYXRlRGlhbENvZGU7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlIGFscmVhZHkgaGF2ZSBhIGRpYWwgY29kZSwgYW5kIGl0J3Mgbm90IGEgcmVnaW9ubGVzc05hbnAsIHdlIGNhbiBnbyBhaGVhZCBhbmQgc2V0IHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBmbGFnLCBlbHNlIGZhbGwgYmFjayB0byB0aGUgZGVmYXVsdCBjb3VudHJ5XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWFsQ29kZSAmJiAhaXNSZWdpb25sZXNzTmFucCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRmxhZ0Zyb21OdW1iZXIodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbml0aWFsQ291bnRyeSAhPT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlZSBpZiB3ZSBzaG91bGQgc2VsZWN0IGEgZmxhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluaXRpYWxDb3VudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0RmxhZyhpbml0aWFsQ291bnRyeS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpYWxDb2RlICYmIGlzUmVnaW9ubGVzc05hbnApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFzIGludGwgZGlhbCBjb2RlLCBpcyByZWdpb25sZXNzIG5hbnAsIGFuZCBubyBpbml0aWFsQ291bnRyeSwgc28gZGVmYXVsdCB0byBVU1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRGbGFnKFwidXNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm8gZGlhbCBjb2RlIGFuZCBubyBpbml0aWFsQ291bnRyeSwgc28gZGVmYXVsdCB0byBmaXJzdCBpbiBsaXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdENvdW50cnkgPSB0aGlzLnByZWZlcnJlZENvdW50cmllcy5sZW5ndGggPyB0aGlzLnByZWZlcnJlZENvdW50cmllc1swXS5pc28yIDogdGhpcy5jb3VudHJpZXNbMF0uaXNvMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldEZsYWcodGhpcy5kZWZhdWx0Q291bnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBlbXB0eSBhbmQgbm8gbmF0aW9uYWxNb2RlIGFuZCBubyBhdXRvSGlkZURpYWxDb2RlIHRoZW4gaW5zZXJ0IHRoZSBkZWZhdWx0IGRpYWwgY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWwgJiYgIW5hdGlvbmFsTW9kZSAmJiAhYXV0b0hpZGVEaWFsQ29kZSAmJiAhc2VwYXJhdGVEaWFsQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQudmFsdWUgPSBcIitcIi5jb25jYXQodGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmRpYWxDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBpZiBpbml0aWFsQ291bnRyeSBpcyBzZXQgdG8gYXV0bywgdGhhdCB3aWxsIGJlIGhhbmRsZWQgc2VwYXJhdGVseVxuICAgICAgICAgICAgICAgICAgICAvLyBmb3JtYXQgLSBub3RlIHRoaXMgd29udCBiZSBydW4gYWZ0ZXIgX3VwZGF0ZURpYWxDb2RlIGFzIHRoYXQncyBvbmx5IGNhbGxlZCBpZiBubyB2YWxcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCkgdGhpcy5fdXBkYXRlVmFsRnJvbU51bWJlcih2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX2luaXRMaXN0ZW5lcnNcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRMaXN0ZW5lcnMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luaXRLZXlMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvSGlkZURpYWxDb2RlKSB0aGlzLl9pbml0Qmx1ckxpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFsbG93RHJvcGRvd24pIHRoaXMuX2luaXREcm9wZG93bkxpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oaWRkZW5JbnB1dCkgdGhpcy5faW5pdEhpZGRlbklucHV0TGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIl9pbml0SGlkZGVuSW5wdXRMaXN0ZW5lclwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5pdEhpZGRlbklucHV0TGlzdGVuZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVIaWRkZW5JbnB1dFN1Ym1pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmhpZGRlbklucHV0LnZhbHVlID0gX3RoaXMzLmdldE51bWJlcigpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50ZWxJbnB1dC5mb3JtKSB0aGlzLnRlbElucHV0LmZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVIaWRkZW5JbnB1dFN1Ym1pdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfZ2V0Q2xvc2VzdExhYmVsXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRDbG9zZXN0TGFiZWwoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbCA9IHRoaXMudGVsSW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChlbCAmJiBlbC50YWdOYW1lICE9PSBcIkxBQkVMXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsID0gZWwucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfaW5pdERyb3Bkb3duTGlzdGVuZXJzXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9pbml0RHJvcGRvd25MaXN0ZW5lcnMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAvLyBoYWNrIGZvciBpbnB1dCBuZXN0ZWQgaW5zaWRlIGxhYmVsICh3aGljaCBpcyB2YWxpZCBtYXJrdXApOiBjbGlja2luZyB0aGUgc2VsZWN0ZWQtZmxhZyB0b1xuICAgICAgICAgICAgICAgICAgICAvLyBvcGVuIHRoZSBkcm9wZG93biB3b3VsZCB0aGVuIGF1dG9tYXRpY2FsbHkgdHJpZ2dlciBhIDJuZCBjbGljayBvbiB0aGUgaW5wdXQgd2hpY2ggd291bGRcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xvc2UgaXQgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlTGFiZWxDbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBkcm9wZG93biBpcyBjbG9zZWQsIHRoZW4gZm9jdXMgdGhlIGlucHV0LCBlbHNlIGlnbm9yZSB0aGUgY2xpY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczQuY291bnRyeUxpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXRpX19oaWRlXCIpKSBfdGhpczQudGVsSW5wdXQuZm9jdXMoKTsgZWxzZSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IHRoaXMuX2dldENsb3Nlc3RMYWJlbCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFiZWwpIGxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVMYWJlbENsaWNrKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9nZ2xlIGNvdW50cnkgZHJvcGRvd24gb24gY2xpY2tcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2xpY2tTZWxlY3RlZEZsYWcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgaW50ZXJjZXB0IHRoaXMgZXZlbnQgaWYgd2UncmUgb3BlbmluZyB0aGUgZHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsc2UgbGV0IGl0IGJ1YmJsZSB1cCB0byB0aGUgdG9wIChcImNsaWNrLW9mZi10by1jbG9zZVwiIGxpc3RlbmVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgY2Fubm90IGp1c3Qgc3RvcFByb3BhZ2F0aW9uIGFzIGl0IG1heSBiZSBuZWVkZWQgdG8gY2xvc2UgYW5vdGhlciBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNC5jb3VudHJ5TGlzdC5jbGFzc0xpc3QuY29udGFpbnMoXCJpdGlfX2hpZGVcIikgJiYgIV90aGlzNC50ZWxJbnB1dC5kaXNhYmxlZCAmJiAhX3RoaXM0LnRlbElucHV0LnJlYWRPbmx5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0Ll9zaG93RHJvcGRvd24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZsYWcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNsaWNrU2VsZWN0ZWRGbGFnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3BlbiBkcm9wZG93biBsaXN0IGlmIGN1cnJlbnRseSBmb2N1c2VkXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUZsYWdzQ29udGFpbmVyS2V5ZG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0Ryb3Bkb3duSGlkZGVuID0gX3RoaXM0LmNvdW50cnlMaXN0LmNsYXNzTGlzdC5jb250YWlucyhcIml0aV9faGlkZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Ryb3Bkb3duSGlkZGVuICYmIFsgXCJBcnJvd1VwXCIsIFwiQXJyb3dEb3duXCIsIFwiIFwiLCBcIkVudGVyXCIgXS5pbmRleE9mKGUua2V5KSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcmV2ZW50IGZvcm0gZnJvbSBiZWluZyBzdWJtaXR0ZWQgaWYgXCJFTlRFUlwiIHdhcyBwcmVzc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgZXZlbnQgZnJvbSBiZWluZyBoYW5kbGVkIGFnYWluIGJ5IGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuX3Nob3dEcm9wZG93bigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgbmF2aWdhdGlvbiBmcm9tIGRyb3Bkb3duIHRvIGlucHV0IG9uIFRBQlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIlRhYlwiKSBfdGhpczQuX2Nsb3NlRHJvcGRvd24oKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFnc0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVGbGFnc0NvbnRhaW5lcktleWRvd24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX2luaXRSZXF1ZXN0c1wiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5pdFJlcXVlc3RzKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHVzZXIgaGFzIHNwZWNpZmllZCB0aGUgcGF0aCB0byB0aGUgdXRpbHMgc2NyaXB0LCBmZXRjaCBpdCBvbiB3aW5kb3cubG9hZCwgZWxzZSByZXNvbHZlXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudXRpbHNTY3JpcHQgJiYgIXdpbmRvdy5pbnRsVGVsSW5wdXRVdGlscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHBsdWdpbiBpcyBiZWluZyBpbml0aWFsaXNlZCBhZnRlciB0aGUgd2luZG93LmxvYWQgZXZlbnQgaGFzIGFscmVhZHkgYmVlbiBmaXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5pbnRsVGVsSW5wdXRHbG9iYWxzLndpbmRvd0xvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbnRsVGVsSW5wdXRHbG9iYWxzLmxvYWRVdGlscyh0aGlzLm9wdGlvbnMudXRpbHNTY3JpcHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3YWl0IHVudGlsIHRoZSBsb2FkIGV2ZW50IHNvIHdlIGRvbid0IGJsb2NrIGFueSBvdGhlciByZXF1ZXN0cyBlLmcuIHRoZSBmbGFncyBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMubG9hZFV0aWxzKF90aGlzNS5vcHRpb25zLnV0aWxzU2NyaXB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMucmVzb2x2ZVV0aWxzU2NyaXB0UHJvbWlzZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmluaXRpYWxDb3VudHJ5ID09PSBcImF1dG9cIikgdGhpcy5fbG9hZEF1dG9Db3VudHJ5KCk7IGVsc2UgdGhpcy5yZXNvbHZlQXV0b0NvdW50cnlQcm9taXNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfbG9hZEF1dG9Db3VudHJ5XCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9sb2FkQXV0b0NvdW50cnkoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDMgb3B0aW9uczpcbiAgICAgICAgICAgICAgICAgICAgLy8gMSkgYWxyZWFkeSBsb2FkZWQgKHdlJ3JlIGRvbmUpXG4gICAgICAgICAgICAgICAgICAgIC8vIDIpIG5vdCBhbHJlYWR5IHN0YXJ0ZWQgbG9hZGluZyAoc3RhcnQpXG4gICAgICAgICAgICAgICAgICAgIC8vIDMpIGFscmVhZHkgc3RhcnRlZCBsb2FkaW5nIChkbyBub3RoaW5nIC0ganVzdCB3YWl0IGZvciBsb2FkaW5nIGNhbGxiYWNrIHRvIGZpcmUpXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaW50bFRlbElucHV0R2xvYmFscy5hdXRvQ291bnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVBdXRvQ291bnRyeSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF3aW5kb3cuaW50bFRlbElucHV0R2xvYmFscy5zdGFydGVkTG9hZGluZ0F1dG9Db3VudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBkbyB0aGlzIHR3aWNlIVxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMuc3RhcnRlZExvYWRpbmdBdXRvQ291bnRyeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5nZW9JcExvb2t1cCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmdlb0lwTG9va3VwKGZ1bmN0aW9uKGNvdW50cnlDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbnRsVGVsSW5wdXRHbG9iYWxzLmF1dG9Db3VudHJ5ID0gY291bnRyeUNvZGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGVsbCBhbGwgaW5zdGFuY2VzIHRoZSBhdXRvIGNvdW50cnkgaXMgcmVhZHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdGhpcyBzaG91bGQganVzdCBiZSB0aGUgY3VycmVudCBpbnN0YW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVVBEQVRFOiB1c2Ugc2V0VGltZW91dCBpbiBjYXNlIHRoZWlyIGdlb0lwTG9va3VwIGZ1bmN0aW9uIGNhbGxzIHRoaXMgY2FsbGJhY2sgc3RyYWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXdheSAoZS5nLiBpZiB0aGV5IGhhdmUgYWxyZWFkeSBkb25lIHRoZSBnZW8gaXAgbG9va3VwIHNvbWV3aGVyZSBlbHNlKS4gVXNpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0VGltZW91dCBtZWFucyB0aGF0IHRoZSBjdXJyZW50IHRocmVhZCBvZiBleGVjdXRpb24gd2lsbCBmaW5pc2ggYmVmb3JlIGV4ZWN1dGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLCB3aGljaCBhbGxvd3MgdGhlIHBsdWdpbiB0byBmaW5pc2ggaW5pdGlhbGlzaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvckVhY2hJbnN0YW5jZShcImhhbmRsZUF1dG9Db3VudHJ5XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvckVhY2hJbnN0YW5jZShcInJlamVjdEF1dG9Db3VudHJ5UHJvbWlzZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX2luaXRLZXlMaXN0ZW5lcnNcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRLZXlMaXN0ZW5lcnMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgZmxhZyBvbiBrZXl1cFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVLZXl1cEV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM2Ll91cGRhdGVGbGFnRnJvbU51bWJlcihfdGhpczYudGVsSW5wdXQudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2Ll90cmlnZ2VyQ291bnRyeUNoYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVLZXl1cEV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGZsYWcgb24gY3V0L3Bhc3RlIGV2ZW50cyAobm93IHN1cHBvcnRlZCBpbiBhbGwgbWFqb3IgYnJvd3NlcnMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNsaXBib2FyZEV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYWNrIGJlY2F1c2UgXCJwYXN0ZVwiIGV2ZW50IGlzIGZpcmVkIGJlZm9yZSBpbnB1dCBpcyB1cGRhdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KF90aGlzNi5faGFuZGxlS2V5dXBFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImN1dFwiLCB0aGlzLl9oYW5kbGVDbGlwYm9hcmRFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcInBhc3RlXCIsIHRoaXMuX2hhbmRsZUNsaXBib2FyZEV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIl9jYXBcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2NhcChudW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heCA9IHRoaXMudGVsSW5wdXQuZ2V0QXR0cmlidXRlKFwibWF4bGVuZ3RoXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF4ICYmIG51bWJlci5sZW5ndGggPiBtYXggPyBudW1iZXIuc3Vic3RyKDAsIG1heCkgOiBudW1iZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfaW5pdEJsdXJMaXN0ZW5lcnNcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRCbHVyTGlzdGVuZXJzKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXM3ID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gYmx1ciBvciBmb3JtIHN1Ym1pdDogaWYganVzdCBhIGRpYWwgY29kZSB0aGVuIHJlbW92ZSBpdFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXRPckJsdXJFdmVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3Ll9yZW1vdmVFbXB0eURpYWxDb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRlbElucHV0LmZvcm0pIHRoaXMudGVsSW5wdXQuZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdE9yQmx1ckV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZWxJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCB0aGlzLl9oYW5kbGVTdWJtaXRPckJsdXJFdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfcmVtb3ZlRW1wdHlEaWFsQ29kZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRW1wdHlEaWFsQ29kZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGVsSW5wdXQudmFsdWUuY2hhckF0KDApID09PSBcIitcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bWVyaWMgPSB0aGlzLl9nZXROdW1lcmljKHRoaXMudGVsSW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYganVzdCBhIHBsdXMsIG9yIGlmIGp1c3QgYSBkaWFsIGNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbnVtZXJpYyB8fCB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuZGlhbENvZGUgPT09IG51bWVyaWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbElucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX2dldE51bWVyaWNcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldE51bWVyaWMocykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5yZXBsYWNlKC9cXEQvZywgXCJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfdHJpZ2dlclwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdHJpZ2dlcihuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhdmUgdG8gdXNlIG9sZCBzY2hvb2wgZG9jdW1lbnQuY3JlYXRlRXZlbnQgYXMgSUUxMSBkb2Vzbid0IHN1cHBvcnQgYG5ldyBFdmVudCgpYCBzeW50YXhcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpO1xuICAgICAgICAgICAgICAgICAgICBlLmluaXRFdmVudChuYW1lLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FuIGJ1YmJsZSwgYW5kIGlzIGNhbmNlbGxhYmxlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQuZGlzcGF0Y2hFdmVudChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIl9zaG93RHJvcGRvd25cIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3Nob3dEcm9wZG93bigpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudHJ5TGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwiaXRpX19oaWRlXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50cnlMaXN0LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXREcm9wZG93blBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBoaWdobGlnaHRpbmcgYW5kIHNjcm9sbCB0byBhY3RpdmUgbGlzdCBpdGVtXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hpZ2hsaWdodExpc3RJdGVtKHRoaXMuYWN0aXZlSXRlbSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsVG8odGhpcy5hY3RpdmVJdGVtLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBiaW5kIGFsbCB0aGUgZHJvcGRvd24tcmVsYXRlZCBsaXN0ZW5lcnM6IG1vdXNlb3ZlciwgY2xpY2ssIGNsaWNrLW9mZiwga2V5ZG93blxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iaW5kRHJvcGRvd25MaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBhcnJvd1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyb3Bkb3duQXJyb3cuY2xhc3NMaXN0LmFkZChcIml0aV9fYXJyb3ctLXVwXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKFwib3Blbjpjb3VudHJ5ZHJvcGRvd25cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfdG9nZ2xlQ2xhc3NcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3RvZ2dsZUNsYXNzKGVsLCBjbGFzc05hbWUsIHNob3VsZEhhdmVDbGFzcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkSGF2ZUNsYXNzICYmICFlbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkgZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpOyBlbHNlIGlmICghc2hvdWxkSGF2ZUNsYXNzICYmIGVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfc2V0RHJvcGRvd25Qb3NpdGlvblwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0RHJvcGRvd25Qb3NpdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZHJvcGRvd25Db250YWluZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kcm9wZG93bkNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRyb3Bkb3duKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNNb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLnRlbElucHV0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93VG9wIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE0Mzg0MDkxLzIxNzg2NlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdpbmRvd1RvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0VG9wID0gcG9zLnRvcCArIHdpbmRvd1RvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkcm9wZG93bkhlaWdodCA9IHRoaXMuY291bnRyeUxpc3Qub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZHJvcGRvd25GaXRzQmVsb3cgPSAoZHJvcGRvd25Cb3R0b20gPCB3aW5kb3dCb3R0b20pXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHJvcGRvd25GaXRzQmVsb3cgPSBpbnB1dFRvcCArIHRoaXMudGVsSW5wdXQub2Zmc2V0SGVpZ2h0ICsgZHJvcGRvd25IZWlnaHQgPCB3aW5kb3dUb3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHJvcGRvd25GaXRzQWJvdmUgPSBpbnB1dFRvcCAtIGRyb3Bkb3duSGVpZ2h0ID4gd2luZG93VG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnkgZGVmYXVsdCwgdGhlIGRyb3Bkb3duIHdpbGwgYmUgYmVsb3cgdGhlIGlucHV0LiBJZiB3ZSB3YW50IHRvIHBvc2l0aW9uIGl0IGFib3ZlIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5wdXQsIHdlIGFkZCB0aGUgZHJvcHVwIGNsYXNzLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5jb3VudHJ5TGlzdCwgXCJpdGlfX2NvdW50cnktbGlzdC0tZHJvcHVwXCIsICFkcm9wZG93bkZpdHNCZWxvdyAmJiBkcm9wZG93bkZpdHNBYm92ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBkcm9wZG93bkNvbnRhaW5lciBpcyBlbmFibGVkLCBjYWxjdWxhdGUgcG9zdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kcm9wZG93bkNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ5IGRlZmF1bHQgdGhlIGRyb3Bkb3duIHdpbGwgYmUgZGlyZWN0bHkgb3ZlciB0aGUgaW5wdXQgYmVjYXVzZSBpdCdzIG5vdCBpbiB0aGUgZmxvdy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSB3YW50IHRvIHBvc2l0aW9uIGl0IGJlbG93LCB3ZSBuZWVkIHRvIGFkZCBzb21lIGV4dHJhIHRvcCB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXh0cmFUb3AgPSAhZHJvcGRvd25GaXRzQmVsb3cgJiYgZHJvcGRvd25GaXRzQWJvdmUgPyAwIDogdGhpcy50ZWxJbnB1dC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHBsYWNlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJvcGRvd24uc3R5bGUudG9wID0gXCJcIi5jb25jYXQoaW5wdXRUb3AgKyBleHRyYVRvcCwgXCJweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyb3Bkb3duLnN0eWxlLmxlZnQgPSBcIlwiLmNvbmNhdChwb3MubGVmdCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCwgXCJweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjbG9zZSBtZW51IG9uIHdpbmRvdyBzY3JvbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5fY2xvc2VEcm9wZG93bigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX2dldENsb3Nlc3RMaXN0SXRlbVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0Q2xvc2VzdExpc3RJdGVtKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gdGhpcy5jb3VudHJ5TGlzdCAmJiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXRpX19jb3VudHJ5XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbCA9IGVsLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgcmVhY2hlZCB0aGUgY291bnRyeUxpc3QgZWxlbWVudCwgdGhlbiByZXR1cm4gbnVsbFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwgPT09IHRoaXMuY291bnRyeUxpc3QgPyBudWxsIDogZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfYmluZERyb3Bkb3duTGlzdGVuZXJzXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9iaW5kRHJvcGRvd25MaXN0ZW5lcnMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczkgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIG1vdXNlIG92ZXIgYSBsaXN0IGl0ZW0sIGp1c3QgaGlnaGxpZ2h0IHRoYXQgb25lXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGFkZCB0aGUgY2xhc3MgXCJoaWdobGlnaHRcIiwgc28gaWYgdGhleSBoaXQgXCJlbnRlclwiIHdlIGtub3cgd2hpY2ggb25lIHRvIHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVNb3VzZW92ZXJDb3VudHJ5TGlzdCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBldmVudCBkZWxlZ2F0aW9uLCBhcyB3ZSdyZSBsaXN0ZW5pbmcgZm9yIHRoaXMgZXZlbnQgb24gdGhlIGNvdW50cnlMaXN0XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSBfdGhpczkuX2dldENsb3Nlc3RMaXN0SXRlbShlLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlzdEl0ZW0pIF90aGlzOS5faGlnaGxpZ2h0TGlzdEl0ZW0obGlzdEl0ZW0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudHJ5TGlzdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIHRoaXMuX2hhbmRsZU1vdXNlb3ZlckNvdW50cnlMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGlzdGVuIGZvciBjb3VudHJ5IHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVDbGlja0NvdW50cnlMaXN0ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gX3RoaXM5Ll9nZXRDbG9zZXN0TGlzdEl0ZW0oZS50YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RJdGVtKSBfdGhpczkuX3NlbGVjdExpc3RJdGVtKGxpc3RJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudHJ5TGlzdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xpY2tDb3VudHJ5TGlzdCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsaWNrIG9mZiB0byBjbG9zZVxuICAgICAgICAgICAgICAgICAgICAvLyAoZXhjZXB0IHdoZW4gdGhpcyBpbml0aWFsIG9wZW5pbmcgY2xpY2sgaXMgYnViYmxpbmcgdXApXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGNhbm5vdCBqdXN0IHN0b3BQcm9wYWdhdGlvbiBhcyBpdCBtYXkgYmUgbmVlZGVkIHRvIGNsb3NlIGFub3RoZXIgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzT3BlbmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNsaWNrT2ZmVG9DbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc09wZW5pbmcpIF90aGlzOS5fY2xvc2VEcm9wZG93bigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xpY2tPZmZUb0Nsb3NlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGlzdGVuIGZvciB1cC9kb3duIHNjcm9sbGluZywgZW50ZXIgdG8gc2VsZWN0LCBvciBsZXR0ZXJzIHRvIGp1bXAgdG8gY291bnRyeSBuYW1lLlxuICAgICAgICAgICAgICAgICAgICAvLyB1c2Uga2V5ZG93biBhcyBrZXlwcmVzcyBkb2Vzbid0IGZpcmUgZm9yIG5vbi1jaGFyIGtleXMgYW5kIHdlIHdhbnQgdG8gY2F0Y2ggaWYgdGhleVxuICAgICAgICAgICAgICAgICAgICAvLyBqdXN0IGhpdCBkb3duIGFuZCBob2xkIGl0IHRvIHNjcm9sbCBkb3duIChubyBrZXl1cCBldmVudCkuXG4gICAgICAgICAgICAgICAgICAgIC8vIGxpc3RlbiBvbiB0aGUgZG9jdW1lbnQgYmVjYXVzZSB0aGF0J3Mgd2hlcmUga2V5IGV2ZW50cyBhcmUgdHJpZ2dlcmVkIGlmIG5vIGlucHV0IGhhcyBmb2N1c1xuICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnlUaW1lciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUtleWRvd25PbkRyb3Bkb3duID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJldmVudCBkb3duIGtleSBmcm9tIHNjcm9sbGluZyB0aGUgd2hvbGUgcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBlbnRlciBrZXkgZnJvbSBzdWJtaXR0aW5nIGEgZm9ybSBldGNcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwIGFuZCBkb3duIHRvIG5hdmlnYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiQXJyb3dVcFwiIHx8IGUua2V5ID09PSBcIkFycm93RG93blwiKSBfdGhpczkuX2hhbmRsZVVwRG93bktleShlLmtleSk7IGVsc2UgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIF90aGlzOS5faGFuZGxlRW50ZXJLZXkoKTsgZWxzZSBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIF90aGlzOS5fY2xvc2VEcm9wZG93bigpOyBlbHNlIGlmICgvXlthLXpBLVrDgC3DvyBdJC8udGVzdChlLmtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBqdW1wIHRvIGNvdW50cmllcyB0aGF0IHN0YXJ0IHdpdGggdGhlIHF1ZXJ5IHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWVyeVRpbWVyKSBjbGVhclRpbWVvdXQocXVlcnlUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkgKz0gZS5rZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuX3NlYXJjaEZvckNvdW50cnkocXVlcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB0aW1lciBoaXRzIDEgc2Vjb25kLCByZXNldCB0aGUgcXVlcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDFlMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUtleWRvd25PbkRyb3Bkb3duKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIl9oYW5kbGVVcERvd25LZXlcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVVwRG93bktleShrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHQgPSBrZXkgPT09IFwiQXJyb3dVcFwiID8gdGhpcy5oaWdobGlnaHRlZEl0ZW0ucHJldmlvdXNFbGVtZW50U2libGluZyA6IHRoaXMuaGlnaGxpZ2h0ZWRJdGVtLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNraXAgdGhlIGRpdmlkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0LmNsYXNzTGlzdC5jb250YWlucyhcIml0aV9fZGl2aWRlclwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSBrZXkgPT09IFwiQXJyb3dVcFwiID8gbmV4dC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nIDogbmV4dC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oaWdobGlnaHRMaXN0SXRlbShuZXh0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX2hhbmRsZUVudGVyS2V5XCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVFbnRlcktleSgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGlnaGxpZ2h0ZWRJdGVtKSB0aGlzLl9zZWxlY3RMaXN0SXRlbSh0aGlzLmhpZ2hsaWdodGVkSXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfc2VhcmNoRm9yQ291bnRyeVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2VhcmNoRm9yQ291bnRyeShxdWVyeSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY291bnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RhcnRzV2l0aCh0aGlzLmNvdW50cmllc1tpXS5uYW1lLCBxdWVyeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSB0aGlzLmNvdW50cnlMaXN0LnF1ZXJ5U2VsZWN0b3IoXCIjaXRpLWl0ZW0tXCIuY29uY2F0KHRoaXMuY291bnRyaWVzW2ldLmlzbzIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgaGlnaGxpZ2h0aW5nIGFuZCBzY3JvbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oaWdobGlnaHRMaXN0SXRlbShsaXN0SXRlbSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbFRvKGxpc3RJdGVtLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX3N0YXJ0c1dpdGhcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3N0YXJ0c1dpdGgoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5zdWJzdHIoMCwgYi5sZW5ndGgpLnRvTG93ZXJDYXNlKCkgPT09IGI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfdXBkYXRlVmFsRnJvbU51bWJlclwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlVmFsRnJvbU51bWJlcihvcmlnaW5hbE51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtYmVyID0gb3JpZ2luYWxOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9ybWF0T25EaXNwbGF5ICYmIHdpbmRvdy5pbnRsVGVsSW5wdXRVdGlscyAmJiB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VOYXRpb25hbCA9ICF0aGlzLm9wdGlvbnMuc2VwYXJhdGVEaWFsQ29kZSAmJiAodGhpcy5vcHRpb25zLm5hdGlvbmFsTW9kZSB8fCBudW1iZXIuY2hhckF0KDApICE9PSBcIitcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2ludGxUZWxJbnB1dFV0aWxzJG51ID0gaW50bFRlbElucHV0VXRpbHMubnVtYmVyRm9ybWF0LCBOQVRJT05BTCA9IF9pbnRsVGVsSW5wdXRVdGlscyRudS5OQVRJT05BTCwgSU5URVJOQVRJT05BTCA9IF9pbnRsVGVsSW5wdXRVdGlscyRudS5JTlRFUk5BVElPTkFMO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1hdCA9IHVzZU5hdGlvbmFsID8gTkFUSU9OQUwgOiBJTlRFUk5BVElPTkFMO1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyID0gaW50bFRlbElucHV0VXRpbHMuZm9ybWF0TnVtYmVyKG51bWJlciwgdGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmlzbzIsIGZvcm1hdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyID0gdGhpcy5fYmVmb3JlU2V0TnVtYmVyKG51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQudmFsdWUgPSBudW1iZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfdXBkYXRlRmxhZ0Zyb21OdW1iZXJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZUZsYWdGcm9tTnVtYmVyKG9yaWdpbmFsTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlJ3JlIGluIG5hdGlvbmFsTW9kZSBhbmQgd2UgYWxyZWFkeSBoYXZlIFVTL0NhbmFkYSBzZWxlY3RlZCwgbWFrZSBzdXJlIHRoZSBudW1iZXIgc3RhcnRzXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpdGggYSArMSBzbyBfZ2V0RGlhbENvZGUgd2lsbCBiZSBhYmxlIHRvIGV4dHJhY3QgdGhlIGFyZWEgY29kZVxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGU6IGlmIHdlIGRvbnQgeWV0IGhhdmUgc2VsZWN0ZWRDb3VudHJ5RGF0YSwgYnV0IHdlJ3JlIGhlcmUgKHRyeWluZyB0byB1cGRhdGUgdGhlIGZsYWdcbiAgICAgICAgICAgICAgICAgICAgLy8gZnJvbSB0aGUgbnVtYmVyKSwgdGhhdCBtZWFucyB3ZSdyZSBpbml0aWFsaXNpbmcgdGhlIHBsdWdpbiB3aXRoIGEgbnVtYmVyIHRoYXQgYWxyZWFkeSBoYXMgYVxuICAgICAgICAgICAgICAgICAgICAvLyBkaWFsIGNvZGUsIHNvIGZpbmUgdG8gaWdub3JlIHRoaXMgYml0XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1iZXIgPSBvcmlnaW5hbE51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkRGlhbENvZGUgPSB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuZGlhbENvZGU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc05hbnAgPSBzZWxlY3RlZERpYWxDb2RlID09PSBcIjFcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bWJlciAmJiB0aGlzLm9wdGlvbnMubmF0aW9uYWxNb2RlICYmIGlzTmFucCAmJiBudW1iZXIuY2hhckF0KDApICE9PSBcIitcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bWJlci5jaGFyQXQoMCkgIT09IFwiMVwiKSBudW1iZXIgPSBcIjFcIi5jb25jYXQobnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciA9IFwiK1wiLmNvbmNhdChudW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBmbGFnIGlmIHVzZXIgdHlwZXMgYXJlYSBjb2RlIGZvciBhbm90aGVyIGNvdW50cnlcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zZXBhcmF0ZURpYWxDb2RlICYmIHNlbGVjdGVkRGlhbENvZGUgJiYgbnVtYmVyLmNoYXJBdCgwKSAhPT0gXCIrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciA9IFwiK1wiLmNvbmNhdChzZWxlY3RlZERpYWxDb2RlKS5jb25jYXQobnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB0cnkgYW5kIGV4dHJhY3QgdmFsaWQgZGlhbCBjb2RlIGZyb20gaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpYWxDb2RlID0gdGhpcy5fZ2V0RGlhbENvZGUobnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bWVyaWMgPSB0aGlzLl9nZXROdW1lcmljKG51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHJ5Q29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWFsQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50cnlDb2RlcyA9IHRoaXMuY291bnRyeUNvZGVzW3RoaXMuX2dldE51bWVyaWMoZGlhbENvZGUpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZSByaWdodCBjb3VudHJ5IGlzIGFscmVhZHkgc2VsZWN0ZWQuIHRoaXMgc2hvdWxkIGJlIGZhbHNlIGlmIHRoZSBudW1iZXIgaXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvbmdlciB0aGFuIHRoZSBtYXRjaGVkIGRpYWwgY29kZSBiZWNhdXNlIGluIHRoaXMgY2FzZSB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGlmXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBhcmUgbXVsdGlwbGUgY291bnRyeSBtYXRjaGVzLCB0aGF0IHRoZSBmaXJzdCBvbmUgaXMgc2VsZWN0ZWQgKG5vdGU6IHdlIGNvdWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBqdXN0IGNoZWNrIHRoYXQgaGVyZSwgYnV0IGl0IHJlcXVpcmVzIHRoZSBzYW1lIGxvb3AgdGhhdCB3ZSBhbHJlYWR5IGhhdmUgbGF0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxyZWFkeVNlbGVjdGVkID0gY291bnRyeUNvZGVzLmluZGV4T2YodGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmlzbzIpICE9PSAtMSAmJiBudW1lcmljLmxlbmd0aCA8PSBkaWFsQ29kZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzUmVnaW9ubGVzc05hbnBOdW1iZXIgPSBzZWxlY3RlZERpYWxDb2RlID09PSBcIjFcIiAmJiB0aGlzLl9pc1JlZ2lvbmxlc3NOYW5wKG51bWVyaWMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSB1cGRhdGUgdGhlIGZsYWcgaWY6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBKSBOT1QgKHdlIGN1cnJlbnRseSBoYXZlIGEgTkFOUCBmbGFnIHNlbGVjdGVkLCBhbmQgdGhlIG51bWJlciBpcyBhIHJlZ2lvbmxlc3NOYW5wKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQU5EXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCKSB0aGUgcmlnaHQgY291bnRyeSBpcyBub3QgYWxyZWFkeSBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1JlZ2lvbmxlc3NOYW5wTnVtYmVyICYmICFhbHJlYWR5U2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB1c2luZyBvbmx5Q291bnRyaWVzIG9wdGlvbiwgY291bnRyeUNvZGVzWzBdIG1heSBiZSBlbXB0eSwgc28gd2UgbXVzdCBmaW5kIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vbi1lbXB0eSBpbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY291bnRyeUNvZGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudHJ5Q29kZXNbal0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50cnlDb2RlID0gY291bnRyeUNvZGVzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtYmVyLmNoYXJBdCgwKSA9PT0gXCIrXCIgJiYgbnVtZXJpYy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludmFsaWQgZGlhbCBjb2RlLCBzbyBlbXB0eVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogdXNlIGdldE51bWVyaWMgaGVyZSBiZWNhdXNlIHRoZSBudW1iZXIgaGFzIG5vdCBiZWVuIGZvcm1hdHRlZCB5ZXQsIHNvIGNvdWxkIGNvbnRhaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhZCBjaGFyc1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeUNvZGUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFudW1iZXIgfHwgbnVtYmVyID09PSBcIitcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHksIG9yIGp1c3QgYSBwbHVzLCBzbyBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZSA9IHRoaXMuZGVmYXVsdENvdW50cnk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50cnlDb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2V0RmxhZyhjb3VudHJ5Q29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX2lzUmVnaW9ubGVzc05hbnBcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2lzUmVnaW9ubGVzc05hbnAobnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1lcmljID0gdGhpcy5fZ2V0TnVtZXJpYyhudW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVtZXJpYy5jaGFyQXQoMCkgPT09IFwiMVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJlYUNvZGUgPSBudW1lcmljLnN1YnN0cigxLCAzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdpb25sZXNzTmFucE51bWJlcnMuaW5kZXhPZihhcmVhQ29kZSkgIT09IC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIl9oaWdobGlnaHRMaXN0SXRlbVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGlnaGxpZ2h0TGlzdEl0ZW0obGlzdEl0ZW0sIHNob3VsZEZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2SXRlbSA9IHRoaXMuaGlnaGxpZ2h0ZWRJdGVtO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldkl0ZW0pIHByZXZJdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJpdGlfX2hpZ2hsaWdodFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRlZEl0ZW0gPSBsaXN0SXRlbTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRlZEl0ZW0uY2xhc3NMaXN0LmFkZChcIml0aV9faGlnaGxpZ2h0XCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkRm9jdXMpIHRoaXMuaGlnaGxpZ2h0ZWRJdGVtLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfZ2V0Q291bnRyeURhdGFcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldENvdW50cnlEYXRhKGNvdW50cnlDb2RlLCBpZ25vcmVPbmx5Q291bnRyaWVzT3B0aW9uLCBhbGxvd0ZhaWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50cnlMaXN0ID0gaWdub3JlT25seUNvdW50cmllc09wdGlvbiA/IGFsbENvdW50cmllcyA6IHRoaXMuY291bnRyaWVzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50cnlMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRyeUxpc3RbaV0uaXNvMiA9PT0gY291bnRyeUNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY291bnRyeUxpc3RbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbG93RmFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY291bnRyeSBkYXRhIGZvciAnXCIuY29uY2F0KGNvdW50cnlDb2RlLCBcIidcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX3NldEZsYWdcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldEZsYWcoY291bnRyeUNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZDb3VudHJ5ID0gdGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmlzbzIgPyB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEgOiB7fTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZG8gdGhpcyBmaXJzdCBhcyBpdCB3aWxsIHRocm93IGFuIGVycm9yIGFuZCBzdG9wIGlmIGNvdW50cnlDb2RlIGlzIGludmFsaWRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENvdW50cnlEYXRhID0gY291bnRyeUNvZGUgPyB0aGlzLl9nZXRDb3VudHJ5RGF0YShjb3VudHJ5Q29kZSwgZmFsc2UsIGZhbHNlKSA6IHt9O1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRlZmF1bHRDb3VudHJ5IC0gd2Ugb25seSBuZWVkIHRoZSBpc28yIGZyb20gbm93IG9uLCBzbyBqdXN0IHN0b3JlIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YS5pc28yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRDb3VudHJ5ID0gdGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmlzbzI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZsYWdJbm5lci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIml0aV9fZmxhZyBpdGlfX1wiLmNvbmNhdChjb3VudHJ5Q29kZSkpO1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNlbGVjdGVkIGNvdW50cnkncyB0aXRsZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gY291bnRyeUNvZGUgPyBcIlwiLmNvbmNhdCh0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEubmFtZSwgXCI6ICtcIikuY29uY2F0KHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YS5kaWFsQ29kZSkgOiBcIlVua25vd25cIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZsYWcuc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgdGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNlcGFyYXRlRGlhbENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWFsQ29kZSA9IHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YS5kaWFsQ29kZSA/IFwiK1wiLmNvbmNhdCh0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuZGlhbENvZGUpIDogXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREaWFsQ29kZS5pbm5lckhUTUwgPSBkaWFsQ29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldFdpZHRoIGlzIHplcm8gaWYgaW5wdXQgaXMgaW4gYSBoaWRkZW4gY29udGFpbmVyIGR1cmluZyBpbml0aWFsaXNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkRmxhZ1dpZHRoID0gdGhpcy5zZWxlY3RlZEZsYWcub2Zmc2V0V2lkdGggfHwgdGhpcy5fZ2V0SGlkZGVuU2VsZWN0ZWRGbGFnV2lkdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCA2cHggb2YgcGFkZGluZyBhZnRlciB0aGUgZ3JleSBzZWxlY3RlZC1kaWFsLWNvZGUgYm94LCBhcyB0aGlzIGlzIHdoYXQgd2UgdXNlIGluIHRoZSBjc3NcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQuc3R5bGUucGFkZGluZ0xlZnQgPSBcIlwiLmNvbmNhdChzZWxlY3RlZEZsYWdXaWR0aCArIDYsIFwicHhcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRoZSBpbnB1dCdzIHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVBsYWNlaG9sZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgYWN0aXZlIGxpc3QgaXRlbVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFsbG93RHJvcGRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmV2SXRlbSA9IHRoaXMuYWN0aXZlSXRlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZJdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJpdGlfX2FjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2SXRlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRyeUNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dEl0ZW0gPSB0aGlzLmNvdW50cnlMaXN0LnF1ZXJ5U2VsZWN0b3IoXCIjaXRpLWl0ZW0tXCIuY29uY2F0KGNvdW50cnlDb2RlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEl0ZW0uc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCBcInRydWVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEl0ZW0uY2xhc3NMaXN0LmFkZChcIml0aV9fYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlSXRlbSA9IG5leHRJdGVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRyeUxpc3Quc2V0QXR0cmlidXRlKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIsIG5leHRJdGVtLmdldEF0dHJpYnV0ZShcImlkXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gaWYgdGhlIGZsYWcgaGFzIGNoYW5nZWQgb3Igbm90XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2Q291bnRyeS5pc28yICE9PSBjb3VudHJ5Q29kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIl9nZXRIaWRkZW5TZWxlY3RlZEZsYWdXaWR0aFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0SGlkZGVuU2VsZWN0ZWRGbGFnV2lkdGgoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGdldCB0aGUgcmlnaHQgc3R5bGluZyB0byBhcHBseSwgYWxsIHdlIG5lZWQgaXMgYSBzaGFsbG93IGNsb25lIG9mIHRoZSBjb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCB0aGVuIHRvIGluamVjdCBhIGRlZXAgY2xvbmUgb2YgdGhlIHNlbGVjdGVkRmxhZyBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250YWluZXJDbG9uZSA9IHRoaXMudGVsSW5wdXQucGFyZW50Tm9kZS5jbG9uZU5vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyQ2xvbmUuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyQ2xvbmUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRGbGFnQ2xvbmUgPSB0aGlzLnNlbGVjdGVkRmxhZy5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckNsb25lLmFwcGVuZENoaWxkKHNlbGVjdGVkRmxhZ0Nsb25lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gc2VsZWN0ZWRGbGFnQ2xvbmUub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckNsb25lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY29udGFpbmVyQ2xvbmUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfdXBkYXRlUGxhY2Vob2xkZXJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZVBsYWNlaG9sZGVyKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvdWxkU2V0UGxhY2Vob2xkZXIgPSB0aGlzLm9wdGlvbnMuYXV0b1BsYWNlaG9sZGVyID09PSBcImFnZ3Jlc3NpdmVcIiB8fCAhdGhpcy5oYWRJbml0aWFsUGxhY2Vob2xkZXIgJiYgdGhpcy5vcHRpb25zLmF1dG9QbGFjZWhvbGRlciA9PT0gXCJwb2xpdGVcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5pbnRsVGVsSW5wdXRVdGlscyAmJiBzaG91bGRTZXRQbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bWJlclR5cGUgPSBpbnRsVGVsSW5wdXRVdGlscy5udW1iZXJUeXBlW3RoaXMub3B0aW9ucy5wbGFjZWhvbGRlck51bWJlclR5cGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gdGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmlzbzIgPyBpbnRsVGVsSW5wdXRVdGlscy5nZXRFeGFtcGxlTnVtYmVyKHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YS5pc28yLCB0aGlzLm9wdGlvbnMubmF0aW9uYWxNb2RlLCBudW1iZXJUeXBlKSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlciA9IHRoaXMuX2JlZm9yZVNldE51bWJlcihwbGFjZWhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5jdXN0b21QbGFjZWhvbGRlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSB0aGlzLm9wdGlvbnMuY3VzdG9tUGxhY2Vob2xkZXIocGxhY2Vob2xkZXIsIHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbElucHV0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX3NlbGVjdExpc3RJdGVtXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZWxlY3RMaXN0SXRlbShsaXN0SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgc2VsZWN0ZWQgZmxhZyBhbmQgYWN0aXZlIGxpc3QgaXRlbVxuICAgICAgICAgICAgICAgICAgICB2YXIgZmxhZ0NoYW5nZWQgPSB0aGlzLl9zZXRGbGFnKGxpc3RJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtY291bnRyeS1jb2RlXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VEcm9wZG93bigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVEaWFsQ29kZShsaXN0SXRlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWRpYWwtY29kZVwiKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvY3VzIHRoZSBpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbElucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHB1dCBjdXJzb3IgYXQgZW5kIC0gdGhpcyBmaXggaXMgcmVxdWlyZWQgZm9yIEZGIGFuZCBJRTExICh3aXRoIG5hdGlvbmFsTW9kZT1mYWxzZSBpLmUuIGF1dG9cbiAgICAgICAgICAgICAgICAgICAgLy8gaW5zZXJ0aW5nIGRpYWwgY29kZSksIHdobyB0cnkgdG8gcHV0IHRoZSBjdXJzb3IgYXQgdGhlIGJlZ2lubmluZyB0aGUgZmlyc3QgdGltZVxuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuID0gdGhpcy50ZWxJbnB1dC52YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2UobGVuLCBsZW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZ0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJDb3VudHJ5Q2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIl9jbG9zZURyb3Bkb3duXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jbG9zZURyb3Bkb3duKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50cnlMaXN0LmNsYXNzTGlzdC5hZGQoXCJpdGlfX2hpZGVcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRyeUxpc3Quc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGFycm93XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJvcGRvd25BcnJvdy5jbGFzc0xpc3QucmVtb3ZlKFwiaXRpX19hcnJvdy0tdXBcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVuYmluZCBrZXkgZXZlbnRzXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUtleWRvd25PbkRyb3Bkb3duKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbGlja09mZlRvQ2xvc2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50cnlMaXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgdGhpcy5faGFuZGxlTW91c2VvdmVyQ291bnRyeUxpc3QpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50cnlMaXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbGlja0NvdW50cnlMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIG1lbnUgZnJvbSBjb250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kcm9wZG93bkNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTW9iaWxlKSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZHJvcGRvd24ucGFyZW50Tm9kZSkgdGhpcy5kcm9wZG93bi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZHJvcGRvd24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoXCJjbG9zZTpjb3VudHJ5ZHJvcGRvd25cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfc2Nyb2xsVG9cIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3Njcm9sbFRvKGVsZW1lbnQsIG1pZGRsZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jb3VudHJ5TGlzdDtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93VG9wIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE0Mzg0MDkxLzIxNzg2NlxuICAgICAgICAgICAgICAgICAgICB2YXIgd2luZG93VG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250YWluZXJIZWlnaHQgPSBjb250YWluZXIub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyVG9wID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvd1RvcDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lckJvdHRvbSA9IGNvbnRhaW5lclRvcCArIGNvbnRhaW5lckhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRIZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRUb3AgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvd1RvcDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRCb3R0b20gPSBlbGVtZW50VG9wICsgZWxlbWVudEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1Njcm9sbFRvcCA9IGVsZW1lbnRUb3AgLSBjb250YWluZXJUb3AgKyBjb250YWluZXIuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWlkZGxlT2Zmc2V0ID0gY29udGFpbmVySGVpZ2h0IC8gMiAtIGVsZW1lbnRIZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFRvcCA8IGNvbnRhaW5lclRvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2Nyb2xsIHVwXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWlkZGxlKSBuZXdTY3JvbGxUb3AgLT0gbWlkZGxlT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCA9IG5ld1Njcm9sbFRvcDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50Qm90dG9tID4gY29udGFpbmVyQm90dG9tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzY3JvbGwgZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1pZGRsZSkgbmV3U2Nyb2xsVG9wICs9IG1pZGRsZU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoZWlnaHREaWZmZXJlbmNlID0gY29udGFpbmVySGVpZ2h0IC0gZWxlbWVudEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSBuZXdTY3JvbGxUb3AgLSBoZWlnaHREaWZmZXJlbmNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfdXBkYXRlRGlhbENvZGVcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZURpYWxDb2RlKG5ld0RpYWxDb2RlQmFyZSwgaGFzU2VsZWN0ZWRMaXN0SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXRWYWwgPSB0aGlzLnRlbElucHV0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBzYXZlIGhhdmluZyB0byBwYXNzIHRoaXMgZXZlcnkgdGltZVxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RGlhbENvZGUgPSBcIitcIi5jb25jYXQobmV3RGlhbENvZGVCYXJlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld051bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0VmFsLmNoYXJBdCgwKSA9PT0gXCIrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZXJlJ3MgYSBwbHVzIHNvIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIHJlcGxhY2VtZW50IChkb2Vzbid0IG1hdHRlciBpZiBuYXRpb25hbE1vZGUgb3Igbm90KVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZEaWFsQ29kZSA9IHRoaXMuX2dldERpYWxDb2RlKGlucHV0VmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2RGlhbENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50IG51bWJlciBjb250YWlucyBhIHZhbGlkIGRpYWwgY29kZSwgc28gcmVwbGFjZSBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld051bWJlciA9IGlucHV0VmFsLnJlcGxhY2UocHJldkRpYWxDb2RlLCBuZXdEaWFsQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgbnVtYmVyIGNvbnRhaW5zIGFuIGludmFsaWQgZGlhbCBjb2RlLCBzbyBkaXRjaCBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIChubyB3YXkgdG8gZGV0ZXJtaW5lIHdoZXJlIHRoZSBpbnZhbGlkIGRpYWwgY29kZSBlbmRzIGFuZCB0aGUgcmVzdCBvZiB0aGUgbnVtYmVyIGJlZ2lucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdOdW1iZXIgPSBuZXdEaWFsQ29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMubmF0aW9uYWxNb2RlIHx8IHRoaXMub3B0aW9ucy5zZXBhcmF0ZURpYWxDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBkbyBhbnl0aGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmF0aW9uYWxNb2RlIGlzIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXRWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBhbiBleGlzdGluZyB2YWx1ZSB3aXRoIG5vIGRpYWwgY29kZTogcHJlZml4IHRoZSBuZXcgZGlhbCBjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TnVtYmVyID0gbmV3RGlhbENvZGUgKyBpbnB1dFZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzU2VsZWN0ZWRMaXN0SXRlbSB8fCAhdGhpcy5vcHRpb25zLmF1dG9IaWRlRGlhbENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBubyBleGlzdGluZyB2YWx1ZSBhbmQgZWl0aGVyIHRoZXkndmUganVzdCBzZWxlY3RlZCBhIGxpc3QgaXRlbSwgb3IgYXV0b0hpZGVEaWFsQ29kZSBpc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc2FibGVkOiBpbnNlcnQgbmV3IGRpYWwgY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld051bWJlciA9IG5ld0RpYWxDb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZWxJbnB1dC52YWx1ZSA9IG5ld051bWJlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIl9nZXREaWFsQ29kZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0RGlhbENvZGUobnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkaWFsQ29kZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgaW50ZXJlc3RlZCBpbiBpbnRlcm5hdGlvbmFsIG51bWJlcnMgKHN0YXJ0aW5nIHdpdGggYSBwbHVzKVxuICAgICAgICAgICAgICAgICAgICBpZiAobnVtYmVyLmNoYXJBdCgwKSA9PT0gXCIrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW1lcmljQ2hhcnMgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIGNoYXJzXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gbnVtYmVyLmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBjaGFyIGlzIG51bWJlciAoaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzg5MzU2NDkvMjE3ODY2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VJbnQoYywgMTApKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1lcmljQ2hhcnMgKz0gYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgY3VycmVudCBudW1lcmljQ2hhcnMgbWFrZSBhIHZhbGlkIGRpYWwgY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb3VudHJ5Q29kZXNbbnVtZXJpY0NoYXJzXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgdGhlIGFjdHVhbCByYXcgc3RyaW5nICh1c2VmdWwgZm9yIG1hdGNoaW5nIGxhdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbENvZGUgPSBudW1iZXIuc3Vic3RyKDAsIGkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtZXJpY0NoYXJzLmxlbmd0aCA9PT0gdGhpcy5kaWFsQ29kZU1heExlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpYWxDb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiX2dldEZ1bGxOdW1iZXJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldEZ1bGxOdW1iZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLnRlbElucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpYWxDb2RlID0gdGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmRpYWxDb2RlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJlZml4O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtZXJpY1ZhbCA9IHRoaXMuX2dldE51bWVyaWModmFsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zZXBhcmF0ZURpYWxDb2RlICYmIHZhbC5jaGFyQXQoMCkgIT09IFwiK1wiICYmIGRpYWxDb2RlICYmIG51bWVyaWNWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gdXNpbmcgc2VwYXJhdGVEaWFsQ29kZSwgaXQgaXMgdmlzaWJsZSBzbyBpcyBlZmZlY3RpdmVseSBwYXJ0IG9mIHRoZSB0eXBlZCBudW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeCA9IFwiK1wiLmNvbmNhdChkaWFsQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJfYmVmb3JlU2V0TnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9iZWZvcmVTZXROdW1iZXIob3JpZ2luYWxOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bWJlciA9IG9yaWdpbmFsTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNlcGFyYXRlRGlhbENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWFsQ29kZSA9IHRoaXMuX2dldERpYWxDb2RlKG51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHZhbGlkIGRpYWwgY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpYWxDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gY2FzZSBfZ2V0RGlhbENvZGUgcmV0dXJuZWQgYW4gYXJlYSBjb2RlIGFzIHdlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFsQ29kZSA9IFwiK1wiLmNvbmNhdCh0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuZGlhbENvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgbG90IG9mIG51bWJlcnMgd2lsbCBoYXZlIGEgc3BhY2Ugc2VwYXJhdGluZyB0aGUgZGlhbCBjb2RlIGFuZCB0aGUgbWFpbiBudW1iZXIsIGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvbWUgTkFOUCBudW1iZXJzIHdpbGwgaGF2ZSBhIGh5cGhlbiBlLmcuICsxIDY4NC03MzMtMTIzNCAtIGluIGJvdGggY2FzZXMgd2Ugd2FudCB0byBnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByaWQgb2YgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBkb24ndCBqdXN0IHRyaW0gYWxsIG5vbi1udW1lcmljcyBhcyBtYXkgd2FudCB0byBwcmVzZXJ2ZSBhbiBvcGVuIHBhcmVudGhlc2lzIGV0Y1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IG51bWJlcltkaWFsQ29kZS5sZW5ndGhdID09PSBcIiBcIiB8fCBudW1iZXJbZGlhbENvZGUubGVuZ3RoXSA9PT0gXCItXCIgPyBkaWFsQ29kZS5sZW5ndGggKyAxIDogZGlhbENvZGUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciA9IG51bWJlci5zdWJzdHIoc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYXAobnVtYmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIl90cmlnZ2VyQ291bnRyeUNoYW5nZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdHJpZ2dlckNvdW50cnlDaGFuZ2UoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoXCJjb3VudHJ5Y2hhbmdlXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiaGFuZGxlQXV0b0NvdW50cnlcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQXV0b0NvdW50cnkoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5pdGlhbENvdW50cnkgPT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBtdXN0IHNldCB0aGlzIGV2ZW4gaWYgdGhlcmUgaXMgYW4gaW5pdGlhbCB2YWwgaW4gdGhlIGlucHV0OiBpbiBjYXNlIHRoZSBpbml0aWFsIHZhbCBpc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW52YWxpZCBhbmQgdGhleSBkZWxldGUgaXQgLSB0aGV5IHNob3VsZCBzZWUgdGhlaXIgYXV0byBjb3VudHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRDb3VudHJ5ID0gd2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMuYXV0b0NvdW50cnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSdzIG5vIGluaXRpYWwgdmFsdWUgaW4gdGhlIGlucHV0LCB0aGVuIHVwZGF0ZSB0aGUgZmxhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnRlbElucHV0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb3VudHJ5KHRoaXMuZGVmYXVsdENvdW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlQXV0b0NvdW50cnlQcm9taXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImhhbmRsZVV0aWxzXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVV0aWxzKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcmVxdWVzdCB3YXMgc3VjY2Vzc2Z1bFxuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmludGxUZWxJbnB1dFV0aWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSdzIGFuIGluaXRpYWwgdmFsdWUgaW4gdGhlIGlucHV0LCB0aGVuIGZvcm1hdCBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGVsSW5wdXQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVWYWxGcm9tTnVtYmVyKHRoaXMudGVsSW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlUGxhY2Vob2xkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVVdGlsc1NjcmlwdFByb21pc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImRlc3Ryb3lcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm0gPSB0aGlzLnRlbElucHV0LmZvcm07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dEcm9wZG93bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBkcm9wZG93biBpcyBjbG9zZWQgKGFuZCB1bmJpbmQgbGlzdGVuZXJzKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VEcm9wZG93bigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZsYWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNsaWNrU2VsZWN0ZWRGbGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmxhZ3NDb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRmxhZ3NDb250YWluZXJLZXlkb3duKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxhYmVsIGNsaWNrIGhhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IHRoaXMuX2dldENsb3Nlc3RMYWJlbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsKSBsYWJlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlTGFiZWxDbGljayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gdW5iaW5kIGhpZGRlbklucHV0IGxpc3RlbmVyc1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oaWRkZW5JbnB1dCAmJiBmb3JtKSBmb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlSGlkZGVuSW5wdXRTdWJtaXQpO1xuICAgICAgICAgICAgICAgICAgICAvLyB1bmJpbmQgYXV0b0hpZGVEaWFsQ29kZSBsaXN0ZW5lcnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvSGlkZURpYWxDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybSkgZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdE9yQmx1ckV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgdGhpcy5faGFuZGxlU3VibWl0T3JCbHVyRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHVuYmluZCBrZXkgZXZlbnRzLCBhbmQgY3V0L3Bhc3RlIGV2ZW50c1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbElucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVLZXl1cEV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZWxJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY3V0XCIsIHRoaXMuX2hhbmRsZUNsaXBib2FyZEV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZWxJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKFwicGFzdGVcIiwgdGhpcy5faGFuZGxlQ2xpcGJvYXJkRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgYXR0cmlidXRlIG9mIGlkIGluc3RhbmNlOiBkYXRhLWludGwtdGVsLWlucHV0LWlkXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1pbnRsLXRlbC1pbnB1dC1pZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIG1hcmt1cCAoYnV0IGxlYXZlIHRoZSBvcmlnaW5hbCBpbnB1dClcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSB0aGlzLnRlbElucHV0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy50ZWxJbnB1dCwgd3JhcHBlcik7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh3cmFwcGVyKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHdpbmRvdy5pbnRsVGVsSW5wdXRHbG9iYWxzLmluc3RhbmNlc1t0aGlzLmlkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImdldEV4dGVuc2lvblwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFeHRlbnNpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaW50bFRlbElucHV0VXRpbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnRsVGVsSW5wdXRVdGlscy5nZXRFeHRlbnNpb24odGhpcy5fZ2V0RnVsbE51bWJlcigpLCB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuaXNvMik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJnZXROdW1iZXJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TnVtYmVyKGZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmludGxUZWxJbnB1dFV0aWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNvMiA9IHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YS5pc28yO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludGxUZWxJbnB1dFV0aWxzLmZvcm1hdE51bWJlcih0aGlzLl9nZXRGdWxsTnVtYmVyKCksIGlzbzIsIGZvcm1hdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJnZXROdW1iZXJUeXBlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE51bWJlclR5cGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaW50bFRlbElucHV0VXRpbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnRsVGVsSW5wdXRVdGlscy5nZXROdW1iZXJUeXBlKHRoaXMuX2dldEZ1bGxOdW1iZXIoKSwgdGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmlzbzIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtOTk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJnZXRTZWxlY3RlZENvdW50cnlEYXRhXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlbGVjdGVkQ291bnRyeURhdGEoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJnZXRWYWxpZGF0aW9uRXJyb3JcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsaWRhdGlvbkVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmludGxUZWxJbnB1dFV0aWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNvMiA9IHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YS5pc28yO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludGxUZWxJbnB1dFV0aWxzLmdldFZhbGlkYXRpb25FcnJvcih0aGlzLl9nZXRGdWxsTnVtYmVyKCksIGlzbzIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtOTk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJpc1ZhbGlkTnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzVmFsaWROdW1iZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLl9nZXRGdWxsTnVtYmVyKCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRyeUNvZGUgPSB0aGlzLm9wdGlvbnMubmF0aW9uYWxNb2RlID8gdGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmlzbzIgOiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmludGxUZWxJbnB1dFV0aWxzID8gaW50bFRlbElucHV0VXRpbHMuaXNWYWxpZE51bWJlcih2YWwsIGNvdW50cnlDb2RlKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJzZXRDb3VudHJ5XCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldENvdW50cnkob3JpZ2luYWxDb3VudHJ5Q29kZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRyeUNvZGUgPSBvcmlnaW5hbENvdW50cnlDb2RlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGFscmVhZHkgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkRmxhZ0lubmVyLmNsYXNzTGlzdC5jb250YWlucyhcIml0aV9fXCIuY29uY2F0KGNvdW50cnlDb2RlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldEZsYWcoY291bnRyeUNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRGlhbENvZGUodGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmRpYWxDb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyQ291bnRyeUNoYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJzZXROdW1iZXJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TnVtYmVyKG51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBtdXN0IHVwZGF0ZSB0aGUgZmxhZyBmaXJzdCwgd2hpY2ggdXBkYXRlcyB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEsIHdoaWNoIGlzIHVzZWQgZm9yXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvcm1hdHRpbmcgdGhlIG51bWJlciBiZWZvcmUgZGlzcGxheWluZyBpdFxuICAgICAgICAgICAgICAgICAgICB2YXIgZmxhZ0NoYW5nZWQgPSB0aGlzLl91cGRhdGVGbGFnRnJvbU51bWJlcihudW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVWYWxGcm9tTnVtYmVyKG51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbGFnQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckNvdW50cnlDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwic2V0UGxhY2Vob2xkZXJOdW1iZXJUeXBlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFBsYWNlaG9sZGVyTnVtYmVyVHlwZSh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlck51bWJlclR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVQbGFjZWhvbGRlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gXSk7XG4gICAgICAgICAgICByZXR1cm4gSXRpO1xuICAgICAgICB9KCk7XG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKlxuICogIFNUQVRJQyBNRVRIT0RTXG4gKioqKioqKioqKioqKioqKioqKiovXG4gICAgICAgIC8vIGdldCB0aGUgY291bnRyeSBkYXRhIG9iamVjdFxuICAgICAgICB3aW5kb3cuaW50bFRlbElucHV0R2xvYmFscy5nZXRDb3VudHJ5RGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFsbENvdW50cmllcztcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaW5qZWN0IGEgPHNjcmlwdD4gZWxlbWVudCB0byBsb2FkIHV0aWxzLmpzXG4gICAgICAgIHZhciBpbmplY3RTY3JpcHQgPSBmdW5jdGlvbiBpbmplY3RTY3JpcHQocGF0aCwgaGFuZGxlU3VjY2VzcywgaGFuZGxlRmFpbHVyZSkge1xuICAgICAgICAgICAgLy8gaW5qZWN0IGEgbmV3IHNjcmlwdCBlbGVtZW50IGludG8gdGhlIHBhZ2VcbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZvckVhY2hJbnN0YW5jZShcImhhbmRsZVV0aWxzXCIpO1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVTdWNjZXNzKSBoYW5kbGVTdWNjZXNzKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmb3JFYWNoSW5zdGFuY2UoXCJyZWplY3RVdGlsc1NjcmlwdFByb21pc2VcIik7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZUZhaWx1cmUpIGhhbmRsZUZhaWx1cmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzY3JpcHQuY2xhc3NOYW1lID0gXCJpdGktbG9hZC11dGlsc1wiO1xuICAgICAgICAgICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgIHNjcmlwdC5zcmMgPSBwYXRoO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBsb2FkIHRoZSB1dGlscyBzY3JpcHRcbiAgICAgICAgd2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMubG9hZFV0aWxzID0gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICAgICAgLy8gMiBvcHRpb25zOlxuICAgICAgICAgICAgLy8gMSkgbm90IGFscmVhZHkgc3RhcnRlZCBsb2FkaW5nIChzdGFydClcbiAgICAgICAgICAgIC8vIDIpIGFscmVhZHkgc3RhcnRlZCBsb2FkaW5nIChkbyBub3RoaW5nIC0ganVzdCB3YWl0IGZvciB0aGUgb25sb2FkIGNhbGxiYWNrIHRvIGZpcmUsIHdoaWNoIHdpbGxcbiAgICAgICAgICAgIC8vIHRyaWdnZXIgaGFuZGxlVXRpbHMgb24gYWxsIGluc3RhbmNlcywgaW52b2tpbmcgdGhlaXIgcmVzb2x2ZVV0aWxzU2NyaXB0UHJvbWlzZSBmdW5jdGlvbnMpXG4gICAgICAgICAgICBpZiAoIXdpbmRvdy5pbnRsVGVsSW5wdXRVdGlscyAmJiAhd2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMuc3RhcnRlZExvYWRpbmdVdGlsc1NjcmlwdCkge1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgZG8gdGhpcyBvbmNlXG4gICAgICAgICAgICAgICAgd2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMuc3RhcnRlZExvYWRpbmdVdGlsc1NjcmlwdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBwcm9taXNlcywgdGhlbiByZXR1cm4gYSBwcm9taXNlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3RTY3JpcHQocGF0aCwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluamVjdFNjcmlwdChwYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgICAgICAgd2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMuZGVmYXVsdHMgPSBkZWZhdWx0cztcbiAgICAgICAgLy8gdmVyc2lvblxuICAgICAgICB3aW5kb3cuaW50bFRlbElucHV0R2xvYmFscy52ZXJzaW9uID0gXCIxNi4wLjJcIjtcbiAgICAgICAgLy8gY29udmVuaWVuY2Ugd3JhcHBlclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBpdGkgPSBuZXcgSXRpKGlucHV0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGl0aS5faW5pdCgpO1xuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwiZGF0YS1pbnRsLXRlbC1pbnB1dC1pZFwiLCBpdGkuaWQpO1xuICAgICAgICAgICAgd2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMuaW5zdGFuY2VzW2l0aS5pZF0gPSBpdGk7XG4gICAgICAgICAgICByZXR1cm4gaXRpO1xuICAgICAgICB9O1xuICAgIH0oKTtcbn0pOyIsIi8qKlxuICogRXhwb3NpbmcgaW50bC10ZWwtaW5wdXQgYXMgYSBjb21wb25lbnRcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9idWlsZC9qcy9pbnRsVGVsSW5wdXRcIik7XG4iLCIvLyBDb21wb3NpdGVkIGZpbGUgLSBETyBOT1QgRURJVFxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vL1xuLy8gRUNNQVNjcmlwdCA1IFBvbHlmaWxsc1xuLy9cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEVTNSAxNS4yIE9iamVjdCBPYmplY3RzXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy9cbi8vIEVTNSAxNS4yLjMgUHJvcGVydGllcyBvZiB0aGUgT2JqZWN0IENvbnN0cnVjdG9yXG4vL1xuXG4vLyBFUzUgMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mICggTyApXG4vLyBGcm9tIGh0dHA6Ly9lam9obi5vcmcvYmxvZy9vYmplY3RnZXRwcm90b3R5cGVvZi9cbi8vIE5PVEU6IHdvbid0IHdvcmsgZm9yIHR5cGljYWwgZnVuY3Rpb24gVCgpIHt9OyBULnByb3RvdHlwZSA9IHt9OyBuZXcgVDsgY2FzZVxuLy8gc2luY2UgdGhlIGNvbnN0cnVjdG9yIHByb3BlcnR5IGlzIGRlc3Ryb3llZC5cbmlmICghT2JqZWN0LmdldFByb3RvdHlwZU9mKSB7XG4gIE9iamVjdC5nZXRQcm90b3R5cGVPZiA9IGZ1bmN0aW9uIChvKSB7XG4gICAgaWYgKG8gIT09IE9iamVjdChvKSkgeyB0aHJvdyBUeXBlRXJyb3IoXCJPYmplY3QuZ2V0UHJvdG90eXBlT2YgY2FsbGVkIG9uIG5vbi1vYmplY3RcIik7IH1cbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgby5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgfHwgT2JqZWN0LnByb3RvdHlwZTtcbiAgfTtcbn1cblxuLy8gICAgLy8gRVM1IDE1LjIuMy4zIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgKCBPLCBQIClcbi8vICAgIGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciAhPT0gXCJmdW5jdGlvblwiKSB7XG4vLyAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIChvLCBuYW1lKSB7XG4vLyAgICAgICAgICAgIGlmIChvICE9PSBPYmplY3QobykpIHsgdGhyb3cgVHlwZUVycm9yKCk7IH1cbi8vICAgICAgICAgICAgaWYgKG8uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbi8vICAgICAgICAgICAgICAgIHJldHVybiB7XG4vLyAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9bbmFtZV0sXG4vLyAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbi8vICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbi8vICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbi8vICAgICAgICAgICAgICAgIH07XG4vLyAgICAgICAgICAgIH1cbi8vICAgICAgICB9O1xuLy8gICAgfVxuXG4vLyBFUzUgMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgKCBPIClcbmlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgIT09IFwiZnVuY3Rpb25cIikge1xuICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIChvKSB7XG4gICAgaWYgKG8gIT09IE9iamVjdChvKSkgeyB0aHJvdyBUeXBlRXJyb3IoXCJPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyBjYWxsZWQgb24gbm9uLW9iamVjdFwiKTsgfVxuICAgIHZhciBwcm9wcyA9IFtdLCBwO1xuICAgIGZvciAocCBpbiBvKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSB7XG4gICAgICAgIHByb3BzLnB1c2gocCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wcztcbiAgfTtcbn1cblxuLy8gRVM1IDE1LjIuMy41IE9iamVjdC5jcmVhdGUgKCBPIFssIFByb3BlcnRpZXNdIClcbmlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gIE9iamVjdC5jcmVhdGUgPSBmdW5jdGlvbiAocHJvdG90eXBlLCBwcm9wZXJ0aWVzKSB7XG4gICAgaWYgKHR5cGVvZiBwcm90b3R5cGUgIT09IFwib2JqZWN0XCIpIHsgdGhyb3cgVHlwZUVycm9yKCk7IH1cbiAgICBmdW5jdGlvbiBDdG9yKCkge31cbiAgICBDdG9yLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgICB2YXIgbyA9IG5ldyBDdG9yKCk7XG4gICAgaWYgKHByb3RvdHlwZSkgeyBvLmNvbnN0cnVjdG9yID0gQ3RvcjsgfVxuICAgIGlmIChwcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChwcm9wZXJ0aWVzICE9PSBPYmplY3QocHJvcGVydGllcykpIHsgdGhyb3cgVHlwZUVycm9yKCk7IH1cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG8sIHByb3BlcnRpZXMpO1xuICAgIH1cbiAgICByZXR1cm4gbztcbiAgfTtcbn1cblxuLy8gRVMgMTUuMi4zLjYgT2JqZWN0LmRlZmluZVByb3BlcnR5ICggTywgUCwgQXR0cmlidXRlcyApXG4vLyBQYXJ0aWFsIHN1cHBvcnQgZm9yIG1vc3QgY29tbW9uIGNhc2UgLSBnZXR0ZXJzLCBzZXR0ZXJzLCBhbmQgdmFsdWVzXG4oZnVuY3Rpb24oKSB7XG4gIGlmICghT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8XG4gICAgICAhKGZ1bmN0aW9uICgpIHsgdHJ5IHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAneCcsIHt9KTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0gKCkpKSB7XG4gICAgdmFyIG9yaWcgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gKG8sIHByb3AsIGRlc2MpIHtcbiAgICAgIC8vIEluIElFOCB0cnkgYnVpbHQtaW4gaW1wbGVtZW50YXRpb24gZm9yIGRlZmluaW5nIHByb3BlcnRpZXMgb24gRE9NIHByb3RvdHlwZXMuXG4gICAgICBpZiAob3JpZykgeyB0cnkgeyByZXR1cm4gb3JpZyhvLCBwcm9wLCBkZXNjKTsgfSBjYXRjaCAoZSkge30gfVxuXG4gICAgICBpZiAobyAhPT0gT2JqZWN0KG8pKSB7IHRocm93IFR5cGVFcnJvcihcIk9iamVjdC5kZWZpbmVQcm9wZXJ0eSBjYWxsZWQgb24gbm9uLW9iamVjdFwiKTsgfVxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXyAmJiAoJ2dldCcgaW4gZGVzYykpIHtcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5fX2RlZmluZUdldHRlcl9fLmNhbGwobywgcHJvcCwgZGVzYy5nZXQpO1xuICAgICAgfVxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuX19kZWZpbmVTZXR0ZXJfXyAmJiAoJ3NldCcgaW4gZGVzYykpIHtcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5fX2RlZmluZVNldHRlcl9fLmNhbGwobywgcHJvcCwgZGVzYy5zZXQpO1xuICAgICAgfVxuICAgICAgaWYgKCd2YWx1ZScgaW4gZGVzYykge1xuICAgICAgICBvW3Byb3BdID0gZGVzYy52YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvO1xuICAgIH07XG4gIH1cbn0oKSk7XG5cbi8vIEVTIDE1LjIuMy43IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzICggTywgUHJvcGVydGllcyApXG5pZiAodHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiAobywgcHJvcGVydGllcykge1xuICAgIGlmIChvICE9PSBPYmplY3QobykpIHsgdGhyb3cgVHlwZUVycm9yKFwiT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgY2FsbGVkIG9uIG5vbi1vYmplY3RcIik7IH1cbiAgICB2YXIgbmFtZTtcbiAgICBmb3IgKG5hbWUgaW4gcHJvcGVydGllcykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wZXJ0aWVzLCBuYW1lKSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgbmFtZSwgcHJvcGVydGllc1tuYW1lXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvO1xuICB9O1xufVxuXG5cbi8vIEVTNSAxNS4yLjMuMTQgT2JqZWN0LmtleXMgKCBPIClcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9rZXlzXG5pZiAoIU9iamVjdC5rZXlzKSB7XG4gIE9iamVjdC5rZXlzID0gZnVuY3Rpb24gKG8pIHtcbiAgICBpZiAobyAhPT0gT2JqZWN0KG8pKSB7IHRocm93IFR5cGVFcnJvcignT2JqZWN0LmtleXMgY2FsbGVkIG9uIG5vbi1vYmplY3QnKTsgfVxuICAgIHZhciByZXQgPSBbXSwgcDtcbiAgICBmb3IgKHAgaW4gbykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkge1xuICAgICAgICByZXQucHVzaChwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFUzUgMTUuMyBGdW5jdGlvbiBPYmplY3RzXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy9cbi8vIEVTNSAxNS4zLjQgUHJvcGVydGllcyBvZiB0aGUgRnVuY3Rpb24gUHJvdG90eXBlIE9iamVjdFxuLy9cblxuLy8gRVM1IDE1LjMuNC41IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kICggdGhpc0FyZyBbLCBhcmcxIFssIGFyZzIsIC4uLiBdXSApXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9GdW5jdGlvbi9iaW5kXG5pZiAoIUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kKSB7XG4gIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKG8pIHtcbiAgICBpZiAodHlwZW9mIHRoaXMgIT09ICdmdW5jdGlvbicpIHsgdGhyb3cgVHlwZUVycm9yKFwiQmluZCBtdXN0IGJlIGNhbGxlZCBvbiBhIGZ1bmN0aW9uXCIpOyB9XG5cbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksXG4gICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICBub3AgPSBmdW5jdGlvbigpIHt9LFxuICAgICAgICBib3VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5hcHBseSh0aGlzIGluc3RhbmNlb2Ygbm9wID8gdGhpcyA6IG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgICAgICB9O1xuXG4gICAgaWYgKHRoaXMucHJvdG90eXBlKVxuICAgICAgbm9wLnByb3RvdHlwZSA9IHRoaXMucHJvdG90eXBlO1xuICAgIGJvdW5kLnByb3RvdHlwZSA9IG5ldyBub3AoKTtcbiAgICByZXR1cm4gYm91bmQ7XG4gIH07XG59XG5cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFUzUgMTUuNCBBcnJheSBPYmplY3RzXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy9cbi8vIEVTNSAxNS40LjMgUHJvcGVydGllcyBvZiB0aGUgQXJyYXkgQ29uc3RydWN0b3Jcbi8vXG5cblxuLy8gRVM1IDE1LjQuMy4yIEFycmF5LmlzQXJyYXkgKCBhcmcgKVxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaXNBcnJheVxuQXJyYXkuaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKG8pIHsgcmV0dXJuIEJvb2xlYW4obyAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoT2JqZWN0KG8pKSA9PT0gJ1tvYmplY3QgQXJyYXldJyk7IH07XG5cblxuLy9cbi8vIEVTNSAxNS40LjQgUHJvcGVydGllcyBvZiB0aGUgQXJyYXkgUHJvdG90eXBlIE9iamVjdFxuLy9cblxuLy8gRVM1IDE1LjQuNC4xNCBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiAoIHNlYXJjaEVsZW1lbnQgWyAsIGZyb21JbmRleCBdIClcbi8vIEZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaW5kZXhPZlxuaWYgKCFBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xuICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIChzZWFyY2hFbGVtZW50IC8qLCBmcm9tSW5kZXggKi8pIHtcbiAgICBpZiAodGhpcyA9PT0gdm9pZCAwIHx8IHRoaXMgPT09IG51bGwpIHsgdGhyb3cgVHlwZUVycm9yKCk7IH1cblxuICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xuICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcbiAgICBpZiAobGVuID09PSAwKSB7IHJldHVybiAtMTsgfVxuXG4gICAgdmFyIG4gPSAwO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgbiA9IE51bWJlcihhcmd1bWVudHNbMV0pO1xuICAgICAgaWYgKGlzTmFOKG4pKSB7XG4gICAgICAgIG4gPSAwO1xuICAgICAgfSBlbHNlIGlmIChuICE9PSAwICYmIG4gIT09ICgxIC8gMCkgJiYgbiAhPT0gLSgxIC8gMCkpIHtcbiAgICAgICAgbiA9IChuID4gMCB8fCAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKG4pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobiA+PSBsZW4pIHsgcmV0dXJuIC0xOyB9XG5cbiAgICB2YXIgayA9IG4gPj0gMCA/IG4gOiBNYXRoLm1heChsZW4gLSBNYXRoLmFicyhuKSwgMCk7XG5cbiAgICBmb3IgKDsgayA8IGxlbjsgaysrKSB7XG4gICAgICBpZiAoayBpbiB0ICYmIHRba10gPT09IHNlYXJjaEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcbn1cblxuLy8gRVM1IDE1LjQuNC4xNSBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YgKCBzZWFyY2hFbGVtZW50IFsgLCBmcm9tSW5kZXggXSApXG4vLyBGcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2xhc3RJbmRleE9mXG5pZiAoIUFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZikge1xuICBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiAoc2VhcmNoRWxlbWVudCAvKiwgZnJvbUluZGV4Ki8pIHtcbiAgICBpZiAodGhpcyA9PT0gdm9pZCAwIHx8IHRoaXMgPT09IG51bGwpIHsgdGhyb3cgVHlwZUVycm9yKCk7IH1cblxuICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xuICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcbiAgICBpZiAobGVuID09PSAwKSB7IHJldHVybiAtMTsgfVxuXG4gICAgdmFyIG4gPSBsZW47XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICBuID0gTnVtYmVyKGFyZ3VtZW50c1sxXSk7XG4gICAgICBpZiAobiAhPT0gbikge1xuICAgICAgICBuID0gMDtcbiAgICAgIH0gZWxzZSBpZiAobiAhPT0gMCAmJiBuICE9PSAoMSAvIDApICYmIG4gIT09IC0oMSAvIDApKSB7XG4gICAgICAgIG4gPSAobiA+IDAgfHwgLTEpICogTWF0aC5mbG9vcihNYXRoLmFicyhuKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGsgPSBuID49IDAgPyBNYXRoLm1pbihuLCBsZW4gLSAxKSA6IGxlbiAtIE1hdGguYWJzKG4pO1xuXG4gICAgZm9yICg7IGsgPj0gMDsgay0tKSB7XG4gICAgICBpZiAoayBpbiB0ICYmIHRba10gPT09IHNlYXJjaEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcbn1cblxuLy8gRVM1IDE1LjQuNC4xNiBBcnJheS5wcm90b3R5cGUuZXZlcnkgKCBjYWxsYmFja2ZuIFsgLCB0aGlzQXJnIF0gKVxuLy8gRnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9ldmVyeVxuaWYgKCFBcnJheS5wcm90b3R5cGUuZXZlcnkpIHtcbiAgQXJyYXkucHJvdG90eXBlLmV2ZXJ5ID0gZnVuY3Rpb24gKGZ1biAvKiwgdGhpc3AgKi8pIHtcbiAgICBpZiAodGhpcyA9PT0gdm9pZCAwIHx8IHRoaXMgPT09IG51bGwpIHsgdGhyb3cgVHlwZUVycm9yKCk7IH1cblxuICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xuICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcbiAgICBpZiAodHlwZW9mIGZ1biAhPT0gXCJmdW5jdGlvblwiKSB7IHRocm93IFR5cGVFcnJvcigpOyB9XG5cbiAgICB2YXIgdGhpc3AgPSBhcmd1bWVudHNbMV0sIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoaSBpbiB0ICYmICFmdW4uY2FsbCh0aGlzcCwgdFtpXSwgaSwgdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xufVxuXG4vLyBFUzUgMTUuNC40LjE3IEFycmF5LnByb3RvdHlwZS5zb21lICggY2FsbGJhY2tmbiBbICwgdGhpc0FyZyBdIClcbi8vIEZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvc29tZVxuaWYgKCFBcnJheS5wcm90b3R5cGUuc29tZSkge1xuICBBcnJheS5wcm90b3R5cGUuc29tZSA9IGZ1bmN0aW9uIChmdW4gLyosIHRoaXNwICovKSB7XG4gICAgaWYgKHRoaXMgPT09IHZvaWQgMCB8fCB0aGlzID09PSBudWxsKSB7IHRocm93IFR5cGVFcnJvcigpOyB9XG5cbiAgICB2YXIgdCA9IE9iamVjdCh0aGlzKTtcbiAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG4gICAgaWYgKHR5cGVvZiBmdW4gIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBUeXBlRXJyb3IoKTsgfVxuXG4gICAgdmFyIHRoaXNwID0gYXJndW1lbnRzWzFdLCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGkgaW4gdCAmJiBmdW4uY2FsbCh0aGlzcCwgdFtpXSwgaSwgdCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xufVxuXG4vLyBFUzUgMTUuNC40LjE4IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoICggY2FsbGJhY2tmbiBbICwgdGhpc0FyZyBdIClcbi8vIEZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZm9yRWFjaFxuaWYgKCFBcnJheS5wcm90b3R5cGUuZm9yRWFjaCkge1xuICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmdW4gLyosIHRoaXNwICovKSB7XG4gICAgaWYgKHRoaXMgPT09IHZvaWQgMCB8fCB0aGlzID09PSBudWxsKSB7IHRocm93IFR5cGVFcnJvcigpOyB9XG5cbiAgICB2YXIgdCA9IE9iamVjdCh0aGlzKTtcbiAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG4gICAgaWYgKHR5cGVvZiBmdW4gIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBUeXBlRXJyb3IoKTsgfVxuXG4gICAgdmFyIHRoaXNwID0gYXJndW1lbnRzWzFdLCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGkgaW4gdCkge1xuICAgICAgICBmdW4uY2FsbCh0aGlzcCwgdFtpXSwgaSwgdCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5cbi8vIEVTNSAxNS40LjQuMTkgQXJyYXkucHJvdG90eXBlLm1hcCAoIGNhbGxiYWNrZm4gWyAsIHRoaXNBcmcgXSApXG4vLyBGcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L01hcFxuaWYgKCFBcnJheS5wcm90b3R5cGUubWFwKSB7XG4gIEFycmF5LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoZnVuIC8qLCB0aGlzcCAqLykge1xuICAgIGlmICh0aGlzID09PSB2b2lkIDAgfHwgdGhpcyA9PT0gbnVsbCkgeyB0aHJvdyBUeXBlRXJyb3IoKTsgfVxuXG4gICAgdmFyIHQgPSBPYmplY3QodGhpcyk7XG4gICAgdmFyIGxlbiA9IHQubGVuZ3RoID4+PiAwO1xuICAgIGlmICh0eXBlb2YgZnVuICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgVHlwZUVycm9yKCk7IH1cblxuICAgIHZhciByZXMgPSBbXTsgcmVzLmxlbmd0aCA9IGxlbjtcbiAgICB2YXIgdGhpc3AgPSBhcmd1bWVudHNbMV0sIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoaSBpbiB0KSB7XG4gICAgICAgIHJlc1tpXSA9IGZ1bi5jYWxsKHRoaXNwLCB0W2ldLCBpLCB0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xuICB9O1xufVxuXG4vLyBFUzUgMTUuNC40LjIwIEFycmF5LnByb3RvdHlwZS5maWx0ZXIgKCBjYWxsYmFja2ZuIFsgLCB0aGlzQXJnIF0gKVxuLy8gRnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9GaWx0ZXJcbmlmICghQXJyYXkucHJvdG90eXBlLmZpbHRlcikge1xuICBBcnJheS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGZ1biAvKiwgdGhpc3AgKi8pIHtcbiAgICBpZiAodGhpcyA9PT0gdm9pZCAwIHx8IHRoaXMgPT09IG51bGwpIHsgdGhyb3cgVHlwZUVycm9yKCk7IH1cblxuICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xuICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcbiAgICBpZiAodHlwZW9mIGZ1biAhPT0gXCJmdW5jdGlvblwiKSB7IHRocm93IFR5cGVFcnJvcigpOyB9XG5cbiAgICB2YXIgcmVzID0gW107XG4gICAgdmFyIHRoaXNwID0gYXJndW1lbnRzWzFdLCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGkgaW4gdCkge1xuICAgICAgICB2YXIgdmFsID0gdFtpXTsgLy8gaW4gY2FzZSBmdW4gbXV0YXRlcyB0aGlzXG4gICAgICAgIGlmIChmdW4uY2FsbCh0aGlzcCwgdmFsLCBpLCB0KSkge1xuICAgICAgICAgIHJlcy5wdXNoKHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xuICB9O1xufVxuXG5cbi8vIEVTNSAxNS40LjQuMjEgQXJyYXkucHJvdG90eXBlLnJlZHVjZSAoIGNhbGxiYWNrZm4gWyAsIGluaXRpYWxWYWx1ZSBdIClcbi8vIEZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvUmVkdWNlXG5pZiAoIUFycmF5LnByb3RvdHlwZS5yZWR1Y2UpIHtcbiAgQXJyYXkucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIChmdW4gLyosIGluaXRpYWxWYWx1ZSAqLykge1xuICAgIGlmICh0aGlzID09PSB2b2lkIDAgfHwgdGhpcyA9PT0gbnVsbCkgeyB0aHJvdyBUeXBlRXJyb3IoKTsgfVxuXG4gICAgdmFyIHQgPSBPYmplY3QodGhpcyk7XG4gICAgdmFyIGxlbiA9IHQubGVuZ3RoID4+PiAwO1xuICAgIGlmICh0eXBlb2YgZnVuICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgVHlwZUVycm9yKCk7IH1cblxuICAgIC8vIG5vIHZhbHVlIHRvIHJldHVybiBpZiBubyBpbml0aWFsIHZhbHVlIGFuZCBhbiBlbXB0eSBhcnJheVxuICAgIGlmIChsZW4gPT09IDAgJiYgYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkgeyB0aHJvdyBUeXBlRXJyb3IoKTsgfVxuXG4gICAgdmFyIGsgPSAwO1xuICAgIHZhciBhY2N1bXVsYXRvcjtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFyZ3VtZW50c1sxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG8ge1xuICAgICAgICBpZiAoayBpbiB0KSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSB0W2srK107XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBhcnJheSBjb250YWlucyBubyB2YWx1ZXMsIG5vIGluaXRpYWwgdmFsdWUgdG8gcmV0dXJuXG4gICAgICAgIGlmICgrK2sgPj0gbGVuKSB7IHRocm93IFR5cGVFcnJvcigpOyB9XG4gICAgICB9XG4gICAgICB3aGlsZSAodHJ1ZSk7XG4gICAgfVxuXG4gICAgd2hpbGUgKGsgPCBsZW4pIHtcbiAgICAgIGlmIChrIGluIHQpIHtcbiAgICAgICAgYWNjdW11bGF0b3IgPSBmdW4uY2FsbCh1bmRlZmluZWQsIGFjY3VtdWxhdG9yLCB0W2tdLCBrLCB0KTtcbiAgICAgIH1cbiAgICAgIGsrKztcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH07XG59XG5cblxuLy8gRVM1IDE1LjQuNC4yMiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgKCBjYWxsYmFja2ZuIFssIGluaXRpYWxWYWx1ZSBdIClcbi8vIEZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvUmVkdWNlUmlnaHRcbmlmICghQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KSB7XG4gIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCA9IGZ1bmN0aW9uIChjYWxsYmFja2ZuIC8qLCBpbml0aWFsVmFsdWUgKi8pIHtcbiAgICBpZiAodGhpcyA9PT0gdm9pZCAwIHx8IHRoaXMgPT09IG51bGwpIHsgdGhyb3cgVHlwZUVycm9yKCk7IH1cblxuICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xuICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrZm4gIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBUeXBlRXJyb3IoKTsgfVxuXG4gICAgLy8gbm8gdmFsdWUgdG8gcmV0dXJuIGlmIG5vIGluaXRpYWwgdmFsdWUsIGVtcHR5IGFycmF5XG4gICAgaWYgKGxlbiA9PT0gMCAmJiBhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7IHRocm93IFR5cGVFcnJvcigpOyB9XG5cbiAgICB2YXIgayA9IGxlbiAtIDE7XG4gICAgdmFyIGFjY3VtdWxhdG9yO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJndW1lbnRzWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICBkbyB7XG4gICAgICAgIGlmIChrIGluIHRoaXMpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IHRoaXNbay0tXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGFycmF5IGNvbnRhaW5zIG5vIHZhbHVlcywgbm8gaW5pdGlhbCB2YWx1ZSB0byByZXR1cm5cbiAgICAgICAgaWYgKC0tayA8IDApIHsgdGhyb3cgVHlwZUVycm9yKCk7IH1cbiAgICAgIH1cbiAgICAgIHdoaWxlICh0cnVlKTtcbiAgICB9XG5cbiAgICB3aGlsZSAoayA+PSAwKSB7XG4gICAgICBpZiAoayBpbiB0KSB7XG4gICAgICAgIGFjY3VtdWxhdG9yID0gY2FsbGJhY2tmbi5jYWxsKHVuZGVmaW5lZCwgYWNjdW11bGF0b3IsIHRba10sIGssIHQpO1xuICAgICAgfVxuICAgICAgay0tO1xuICAgIH1cblxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfTtcbn1cblxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEVTNSAxNS41IFN0cmluZyBPYmplY3RzXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy9cbi8vIEVTNSAxNS41LjQgUHJvcGVydGllcyBvZiB0aGUgU3RyaW5nIFByb3RvdHlwZSBPYmplY3Rcbi8vXG5cblxuLy8gRVM1IDE1LjUuNC4yMCBTdHJpbmcucHJvdG90eXBlLnRyaW0oKVxuaWYgKCFTdHJpbmcucHJvdG90eXBlLnRyaW0pIHtcbiAgU3RyaW5nLnByb3RvdHlwZS50cmltID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBTdHJpbmcodGhpcykucmVwbGFjZSgvXlxccysvLCAnJykucmVwbGFjZSgvXFxzKyQvLCAnJyk7XG4gIH07XG59XG5cblxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEVTNSAxNS45IERhdGUgT2JqZWN0c1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuLy9cbi8vIEVTIDE1LjkuNCBQcm9wZXJ0aWVzIG9mIHRoZSBEYXRlIENvbnN0cnVjdG9yXG4vL1xuXG4vLyBFUzUgMTUuOS40LjQgRGF0ZS5ub3cgKCApXG4vLyBGcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0NvcmVfSmF2YVNjcmlwdF8xLjVfUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvbm93XG5pZiAoIURhdGUubm93KSB7XG4gIERhdGUubm93ID0gZnVuY3Rpb24gbm93KCkge1xuICAgIHJldHVybiBOdW1iZXIobmV3IERhdGUoKSk7XG4gIH07XG59XG5cblxuLy9cbi8vIEVTNSAxNS45LjUgUHJvcGVydGllcyBvZiB0aGUgRGF0ZSBQcm90b3R5cGUgT2JqZWN0XG4vL1xuXG4vLyBFUzUgMTUuOS40LjQzIERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nICggKVxuLy8gSW5zcGlyZWQgYnkgaHR0cDovL3d3dy5qc29uLm9yZy9qc29uMi5qc1xuaWYgKCFEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZykge1xuICBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBwYWQyKG4pIHsgcmV0dXJuICgnMDAnICsgbikuc2xpY2UoLTIpOyB9XG4gICAgZnVuY3Rpb24gcGFkMyhuKSB7IHJldHVybiAoJzAwMCcgKyBuKS5zbGljZSgtMyk7IH1cblxuICAgIHJldHVybiB0aGlzLmdldFVUQ0Z1bGxZZWFyKCkgKyAnLScgK1xuICAgICAgcGFkMih0aGlzLmdldFVUQ01vbnRoKCkgKyAxKSArICctJyArXG4gICAgICBwYWQyKHRoaXMuZ2V0VVRDRGF0ZSgpKSArICdUJyArXG4gICAgICBwYWQyKHRoaXMuZ2V0VVRDSG91cnMoKSkgKyAnOicgK1xuICAgICAgcGFkMih0aGlzLmdldFVUQ01pbnV0ZXMoKSkgKyAnOicgK1xuICAgICAgcGFkMih0aGlzLmdldFVUQ1NlY29uZHMoKSkgKyAnLicgK1xuICAgICAgcGFkMyh0aGlzLmdldFVUQ01pbGxpc2Vjb25kcygpKSArICdaJztcbiAgfTtcbn1cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy9cbi8vIEVDTUFTY3JpcHQgMjAxNSBQb2x5ZmlsbHNcbi8vXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuKGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLy8gU2V0IHRoaXMgdG8gYWx3YXlzIG92ZXJyaWRlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMsIGZvciB0ZXN0aW5nXG4gIC8vIHRoZSBwb2x5ZmlsbCBpbiBicm93c2VycyB3aXRoIHBhcnRpYWwvZnVsbCBFUzIwMTUgc3VwcG9ydC5cbiAgdmFyIE9WRVJSSURFX05BVElWRV9GT1JfVEVTVElORyA9IGZhbHNlO1xuXG4gIHZhciB1bmRlZmluZWQgPSAodm9pZCAwKTsgLy8gUGFyYW5vaWFcblxuICAvLyBIZWxwZXJzXG5cbiAgZnVuY3Rpb24gc3RyaWN0KG8pIHtcbiAgICByZXR1cm4gbyA9PT0gZ2xvYmFsID8gdW5kZWZpbmVkIDogbztcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzU3ltYm9sKHMpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBzID09PSAnc3ltYm9sJykgfHwgKCdTeW1ib2wnIGluIGdsb2JhbCAmJiBzIGluc3RhbmNlb2YgZ2xvYmFsLlN5bWJvbCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBuYW1lKSB7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgbmFtZSk7XG4gICAgdmFyIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCk7XG4gICAgd2hpbGUgKCFkZXNjICYmIHByb3RvKSB7XG4gICAgICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgbmFtZSk7XG4gICAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG4gICAgfVxuICAgIHJldHVybiBkZXNjO1xuICB9XG5cbiAgdmFyIGVucXVldWUgPSAoZnVuY3Rpb24obmF0aXZlUHJvbWlzZSwgbmF0aXZlU2V0SW1tZWRpYXRlKSB7XG4gICAgaWYgKG5hdGl2ZVByb21pc2UpXG4gICAgICByZXR1cm4gZnVuY3Rpb24oam9iKSB7IG5hdGl2ZVByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKSB7IGpvYigpOyB9KTsgfTtcbiAgICBpZiAobmF0aXZlU2V0SW1tZWRpYXRlKVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGpvYikgeyBuYXRpdmVTZXRJbW1lZGlhdGUoam9iKTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24oam9iKSB7IHNldFRpbWVvdXQoam9iLCAwKTsgfTtcbiAgfShnbG9iYWxbJ1Byb21pc2UnXSwgZ2xvYmFsWydzZXRJbW1lZGlhdGUnXSkpO1xuXG4gIGZ1bmN0aW9uIGRlZmluZShvLCBwLCB2LCBvdmVycmlkZSkge1xuICAgIGlmIChwIGluIG8gJiYgIW92ZXJyaWRlICYmICFPVkVSUklERV9OQVRJVkVfRk9SX1RFU1RJTkcpXG4gICAgICByZXR1cm47XG5cbiAgICBpZiAodHlwZW9mIHYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIFNhbml0eSBjaGVjayB0aGF0IGZ1bmN0aW9ucyBhcmUgYXBwcm9wcmlhdGVseSBuYW1lZCAod2hlcmUgcG9zc2libGUpXG4gICAgICBjb25zb2xlLmFzc2VydChpc1N5bWJvbChwKSB8fCAhKCduYW1lJyBpbiB2KSB8fCB2Lm5hbWUgPT09IHAgfHwgdi5uYW1lID09PSBwICsgJ18nLCAnRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBcIicgKyBwLnRvU3RyaW5nKCkgKyAnXCIsIHdhcyBcIicgKyB2Lm5hbWUgKyAnXCInKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBwLCB7XG4gICAgICAgIHZhbHVlOiB2LFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBwLCB7XG4gICAgICAgIHZhbHVlOiB2LFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRfaW50ZXJuYWwobywgcCwgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBwLCB7XG4gICAgICB2YWx1ZTogdixcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICAvLyBTbmFwc2hvdCBpbnRyaW5zaWMgZnVuY3Rpb25zXG4gIHZhciAkaXNOYU4gPSBnbG9iYWwuaXNOYU4sXG4gICAgICAkcGFyc2VJbnQgPSBnbG9iYWwucGFyc2VJbnQsXG4gICAgICAkcGFyc2VGbG9hdCA9IGdsb2JhbC5wYXJzZUZsb2F0O1xuXG4gIHZhciBFID0gTWF0aC5FLFxuICAgICAgTE9HMTBFID0gTWF0aC5MT0cxMEUsXG4gICAgICBMT0cyRSA9IE1hdGguTE9HMkUsXG4gICAgICBhYnMgPSBNYXRoLmFicyxcbiAgICAgIGNlaWwgPSBNYXRoLmNlaWwsXG4gICAgICBleHAgPSBNYXRoLmV4cCxcbiAgICAgIGZsb29yID0gTWF0aC5mbG9vcixcbiAgICAgIGxvZyA9IE1hdGgubG9nLFxuICAgICAgbWF4ID0gTWF0aC5tYXgsXG4gICAgICBtaW4gPSBNYXRoLm1pbixcbiAgICAgIHBvdyA9IE1hdGgucG93LFxuICAgICAgcmFuZG9tID0gTWF0aC5yYW5kb20sXG4gICAgICBzcXJ0ID0gTWF0aC5zcXJ0O1xuXG4gIHZhciBvcmlnX21hdGNoID0gU3RyaW5nLnByb3RvdHlwZS5tYXRjaCxcbiAgICAgIG9yaWdfcmVwbGFjZSA9IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSxcbiAgICAgIG9yaWdfc2VhcmNoID0gU3RyaW5nLnByb3RvdHlwZS5zZWFyY2gsXG4gICAgICBvcmlnX3NwbGl0ID0gU3RyaW5nLnByb3RvdHlwZS5zcGxpdDtcblxuICAvLyBUaGVzZSBhcmUgdXNlZCBmb3IgaW1wbGVtZW50aW5nIHRoZSBwb2x5ZmlsbHMsIGJ1dCBub3QgZXhwb3J0ZWQuXG5cbiAgLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTYzODA1OVxuICAvKiogQGNvbnN0cnVjdG9yICovXG4gIGZ1bmN0aW9uIEVwaGVtZXJvblRhYmxlKCkge1xuICAgIHZhciBzZWNyZXRLZXkgPSBPYmplY3RDcmVhdGUobnVsbCk7XG5cbiAgICBmdW5jdGlvbiBjb25jZWFsKG8pIHtcbiAgICAgIHZhciBvVmFsdWVPZiA9IG8udmFsdWVPZiwgc2VjcmV0cyA9IE9iamVjdENyZWF0ZShudWxsKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCAndmFsdWVPZicsIHtcbiAgICAgICAgICB2YWx1ZTogKGZ1bmN0aW9uKHNlY3JldEtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICAgIHJldHVybiAoayA9PT0gc2VjcmV0S2V5KSA/IHNlY3JldHMgOiBvVmFsdWVPZi5hcHBseShvLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KHNlY3JldEtleSkpLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRlYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm4gc2VjcmV0cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXZlYWwobykge1xuICAgICAgdmFyIHYgPSB0eXBlb2Ygby52YWx1ZU9mID09PSAnZnVuY3Rpb24nICYmIG8udmFsdWVPZihzZWNyZXRLZXkpO1xuICAgICAgcmV0dXJuIHYgPT09IG8gPyBudWxsIDogdjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgY2xlYXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWNyZXRLZXkgPSBPYmplY3RDcmVhdGUobnVsbCk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgdmFyIHNlY3JldHMgPSByZXZlYWwoa2V5KTtcbiAgICAgICAgaWYgKHNlY3JldHMgJiYgSGFzT3duUHJvcGVydHkoc2VjcmV0cywgJ3ZhbHVlJykpIHtcbiAgICAgICAgICBkZWxldGUgc2VjcmV0cy52YWx1ZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9LFxuICAgICAgZ2V0OiBmdW5jdGlvbihrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICB2YXIgc2VjcmV0cyA9IHJldmVhbChrZXkpO1xuICAgICAgICByZXR1cm4gKHNlY3JldHMgJiYgSGFzT3duUHJvcGVydHkoc2VjcmV0cywgJ3ZhbHVlJykpID8gc2VjcmV0cy52YWx1ZSA6IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH0sXG4gICAgICBoYXM6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICB2YXIgc2VjcmV0cyA9IHJldmVhbChrZXkpO1xuICAgICAgICByZXR1cm4gQm9vbGVhbihzZWNyZXRzICYmIEhhc093blByb3BlcnR5KHNlY3JldHMsICd2YWx1ZScpKTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHNlY3JldHMgPSByZXZlYWwoa2V5KSB8fCBjb25jZWFsKGtleSk7XG4gICAgICAgIHNlY3JldHMudmFsdWUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGVtcHR5ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gRUNNQVNjcmlwdCAyMDE1XG4gIC8vIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAxOS40IFN5bWJvbCBPYmplY3RzXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIE5PVEU6IFN5bWJvbHMgYXJlIGRlZmluZWQgaGVyZSAtIG91dCBvZiBzcGVjIG9yZGVyIC0gc2luY2Ugd2UgbmVlZCB0aGVcbiAgLy8gcHJvcGVydGllcyBhbmQgcHJvdG90eXBlIHRvIGJlIHBvcHVsYXRlZCBmb3Igb3RoZXIgcG9seWZpbGxzLlxuXG4gIC8vIE5PVEU6IE5vdCBzZWN1cmUsIG5vciBpcyBvYmpbJCRzeW1ib2xdIGhpZGRlbiBmcm9tIE9iamVjdC5rZXlzKClcblxuICB2YXIgc3ltYm9sRm9yS2V5O1xuICAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlY3JldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdmFyIHN5bWJvbE1hcCA9IHt9O1xuICAgIHN5bWJvbEZvcktleSA9IGZ1bmN0aW9uKGspIHtcbiAgICAgIHJldHVybiBzeW1ib2xNYXBba107XG4gICAgfTtcblxuICAgIHZhciBHbG9iYWxTeW1ib2xSZWdpc3RyeSA9IFtdO1xuXG4gICAgZnVuY3Rpb24gdW5pcXVlKGJpdHMpIHtcbiAgICAgIHJldHVybiBBcnJheShiaXRzICsgMSkuam9pbigneCcpLnJlcGxhY2UoL3gvZywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByYW5kb20oKSA8IDAuNSA/ICdcXHUyMDBDJyA6ICdcXHUyMDBEJzsgLy8gSldOSiAvIFpXSlxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gMTkuNC4xIFRoZSBTeW1ib2wgQ29uc3RydWN0b3JcbiAgICAvLyAxOS40LjEuMSBTeW1ib2wgKCBkZXNjcmlwdGlvbj11bmRlZmluZWQgKVxuICAgIGZ1bmN0aW9uIFN5bWJvbChkZXNjcmlwdGlvbikge1xuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFN5bWJvbCkpIHJldHVybiBuZXcgU3ltYm9sKGRlc2NyaXB0aW9uLCBzZWNyZXQpO1xuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBTeW1ib2wgJiYgYXJndW1lbnRzWzFdICE9PSBzZWNyZXQpIHRocm93IFR5cGVFcnJvcigpO1xuXG4gICAgICB2YXIgZGVzY1N0cmluZyA9IGRlc2NyaXB0aW9uID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBTdHJpbmcoZGVzY3JpcHRpb24pO1xuXG4gICAgICBzZXRfaW50ZXJuYWwodGhpcywgJ1tbU3ltYm9sRGF0YV1dJywgdW5pcXVlKDEyOCkpO1xuICAgICAgc2V0X2ludGVybmFsKHRoaXMsICdbW0Rlc2NyaXB0aW9uXV0nLCBkZXNjU3RyaW5nKTtcblxuICAgICAgc3ltYm9sTWFwW3RoaXNdID0gdGhpcztcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlmICghKCdTeW1ib2wnIGluIGdsb2JhbCkgfHwgT1ZFUlJJREVfTkFUSVZFX0ZPUl9URVNUSU5HKVxuICAgICAgZ2xvYmFsLlN5bWJvbCA9IFN5bWJvbDtcblxuICAgIC8vIDE5LjQuMiBQcm9wZXJ0aWVzIG9mIHRoZSBTeW1ib2wgQ29uc3RydWN0b3JcblxuICAgIC8vIDE5LjQuMi4xIFN5bWJvbC5mb3IgKGtleSlcbiAgICBkZWZpbmUoU3ltYm9sLCAnZm9yJywgZnVuY3Rpb24gZm9yXyhrZXkpIHtcbiAgICAgIHZhciBzdHJpbmdLZXkgPSBTdHJpbmcoa2V5KTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgR2xvYmFsU3ltYm9sUmVnaXN0cnkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGUgPSBHbG9iYWxTeW1ib2xSZWdpc3RyeVtpXTtcbiAgICAgICAgaWYgKFNhbWVWYWx1ZShlWydbW2tleV1dJ10sIHN0cmluZ0tleSkpIHJldHVybiBlWydbW3N5bWJvbF1dJ107XG4gICAgICB9XG4gICAgICB2YXIgbmV3U3ltYm9sID0gU3ltYm9sKGtleSk7XG4gICAgICBHbG9iYWxTeW1ib2xSZWdpc3RyeS5wdXNoKHsnW1trZXldXSc6IHN0cmluZ0tleSwgJ1tbc3ltYm9sXV0nOiBuZXdTeW1ib2x9KTtcbiAgICAgIHJldHVybiBuZXdTeW1ib2w7XG4gICAgfSk7XG5cbiAgICAvLyAxOS40LjIuMiBTeW1ib2wuaGFzSW5zdGFuY2VcbiAgICAvLyAxOS40LjIuMyBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlXG5cbiAgICAvLyAxOS40LjIuNCBTeW1ib2wuaXRlcmF0b3JcbiAgICBkZWZpbmUoZ2xvYmFsLlN5bWJvbCwgJ2l0ZXJhdG9yJywgZ2xvYmFsLlN5bWJvbCgnU3ltYm9sLml0ZXJhdG9yJykpO1xuXG4gICAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvciAoc3ltKVxuICAgIGRlZmluZShTeW1ib2wsICdrZXlGb3InLCBmdW5jdGlvbiBrZXlGb3Ioc3ltKSB7XG4gICAgICBpZiAoIShzeW0gaW5zdGFuY2VvZiBTeW1ib2wpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgR2xvYmFsU3ltYm9sUmVnaXN0cnkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGUgPSBHbG9iYWxTeW1ib2xSZWdpc3RyeVtpXTtcbiAgICAgICAgaWYgKFNhbWVWYWx1ZShlWydbW3N5bWJvbF1dJ10sIHN5bSkpIHJldHVybiBlWydbW2tleV1dJ107XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xuXG4gICAgLy8gMTkuNC4yLjYgU3ltYm9sLm1hdGNoXG4gICAgZGVmaW5lKGdsb2JhbC5TeW1ib2wsICdtYXRjaCcsIGdsb2JhbC5TeW1ib2woJ1N5bWJvbC5tYXRjaCcpKTtcblxuICAgIC8vIDE5LjQuMi43IFN5bWJvbC5wcm90b3R5cGVcblxuICAgIC8vIDE5LjQuMi44IFN5bWJvbC5yZXBsYWNlXG4gICAgZGVmaW5lKGdsb2JhbC5TeW1ib2wsICdyZXBsYWNlJywgZ2xvYmFsLlN5bWJvbCgnU3ltYm9sLnJlcGxhY2UnKSk7XG5cbiAgICAvLyAxOS40LjIuOSBTeW1ib2wuc2VhcmNoXG4gICAgZGVmaW5lKGdsb2JhbC5TeW1ib2wsICdzZWFyY2gnLCBnbG9iYWwuU3ltYm9sKCdTeW1ib2wuc2VhcmNoJykpO1xuXG4gICAgLy8gMTkuNC4yLjEwIFN5bWJvbC5zcGVjaWVzXG5cbiAgICAvLyAxOS40LjIuMTEgU3ltYm9sLnNlYXJjaFxuICAgIGRlZmluZShnbG9iYWwuU3ltYm9sLCAnc3BsaXQnLCBnbG9iYWwuU3ltYm9sKCdTeW1ib2wuc3BsaXQnKSk7XG5cbiAgICAvLyAxOS40LjIuMTIgU3ltYm9sLnRvUHJpbWl0aXZlXG5cbiAgICAvLyAxOS40LjIuMTMgU3ltYm9sLnRvU3RyaW5nVGFnXG4gICAgZGVmaW5lKGdsb2JhbC5TeW1ib2wsICd0b1N0cmluZ1RhZycsIGdsb2JhbC5TeW1ib2woJ1N5bWJvbC50b1N0cmluZ1RhZycpKTtcblxuICAgIC8vIDE5LjQuMi4xNCBTeW1ib2wudW5zY29wYWJsZXNcblxuICAgIC8vIDE5LjQuMyBQcm9wZXJ0aWVzIG9mIHRoZSBTeW1ib2wgUHJvdG90eXBlIE9iamVjdFxuICAgIC8vIDE5LjQuMy4xIFN5bWJvbC5wcm90b3R5cGUuY29uc3RydWN0b3JcblxuICAgIC8vIDE5LjQuMy4yIFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcgKCApXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5bWJvbC5wcm90b3R5cGUsICd0b1N0cmluZycsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgdmFyIHMgPSBzdHJpY3QodGhpcyk7XG4gICAgICAgIHZhciBkZXNjID0gc1snW1tEZXNjcmlwdGlvbl1dJ107XG4gICAgICAgIHJldHVybiAnU3ltYm9sKCcgKyAoZGVzYyA9PT0gdW5kZWZpbmVkID8gJycgOiBkZXNjKSArIHNbJ1tbU3ltYm9sRGF0YV1dJ10gKyAnKSc7XG4gICAgICB9LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0ZWFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlIH0pO1xuXG4gICAgLy8gMTkuNC4zLjMgU3ltYm9sLnByb3RvdHlwZS52YWx1ZU9mICggKVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTeW1ib2wucHJvdG90eXBlLCAndmFsdWVPZicsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZU9mKCkge1xuICAgICAgICAvLyBUbyBwcmV2ZW50IGF1dG9tYXRpYyBzdHJpbmcgY29udmVyc2lvbjpcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKCk7XG5cbiAgICAgICAgLy8gU3BlYyBoYXMgYXBwcm94aW1hdGVseSB0aGUgZm9sbG93aW5nOlxuICAgICAgICAvL3ZhciBzID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICAvL2lmIChUeXBlKHMpID09PSAnc3ltYm9sJykgcmV0dXJuIHM7XG4gICAgICAgIC8vaWYgKFR5cGUocykgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgLy9pZiAoISgnW1tTeW1ib2xEYXRhXV0nIGluIHMpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgLy9yZXR1cm4gc1snW1tTeW1ib2xEYXRhXV0nXTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsIHdyaXRlYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UgfSk7XG5cbiAgICAvLyAxOS40LjMuNCBTeW1ib2wucHJvdG90eXBlIFsgQEB0b1N0cmluZ1RhZyBdXG4gICAgLy8gKERvbmUgbGF0ZXIgdG8gcG9seWZpbGwgcGFydGlhbCBpbXBsZW1lbnRhdGlvbnMpXG5cbiAgICAvLyAxOS40LjQgUHJvcGVydGllcyBvZiBTeW1ib2wgSW5zdGFuY2VzXG4gIH0oKSk7XG5cbiAgY29uc29sZS5hc3NlcnQodHlwZW9mIGdsb2JhbC5TeW1ib2woKSA9PT0gJ3N5bWJvbCcgfHwgc3ltYm9sRm9yS2V5KFN0cmluZyhnbG9iYWwuU3ltYm9sKCd4JykpKSAhPT0gdW5kZWZpbmVkKTtcblxuICAvLyBEZWZpbmVkIGhlcmUgc28gdGhhdCBvdGhlciBwcm90b3R5cGVzIGNhbiByZWZlcmVuY2UgaXRcbiAgLy8gMjUuMS4yIFRoZSAlSXRlcmF0b3JQcm90b3R5cGUlIE9iamVjdFxuICB2YXIgJEl0ZXJhdG9yUHJvdG90eXBlJCA9IHt9O1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyA2IEVDTUFTY3JpcHQgRGF0YSBUeXBlcyBhbmQgVmFsdWVzXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIDYuMSBFQ01BU2NyaXB0IExhbmd1YWdlIFR5cGVzXG5cbiAgLy8gXCJUeXBlKHgpXCIgaXMgdXNlZCBhcyBzaG9ydGhhbmQgZm9yIFwidGhlIHR5cGUgb2YgeFwiLi4uXG4gIGZ1bmN0aW9uIFR5cGUodikge1xuICAgIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICd1bmRlZmluZWQnOiByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gICAgY2FzZSAnYm9vbGVhbic6IHJldHVybiAnYm9vbGVhbic7XG4gICAgY2FzZSAnbnVtYmVyJzogcmV0dXJuICdudW1iZXInO1xuICAgIGNhc2UgJ3N0cmluZyc6IHJldHVybiAnc3RyaW5nJztcbiAgICBjYXNlICdzeW1ib2wnOiByZXR1cm4gJ3N5bWJvbCc7XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmICh2ID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuICAgICAgaWYgKHYgaW5zdGFuY2VvZiBnbG9iYWwuU3ltYm9sKSByZXR1cm4gJ3N5bWJvbCc7XG4gICAgICByZXR1cm4gJ29iamVjdCc7XG4gICAgfVxuICB9XG5cbiAgLy8gNi4xLjUuMSBXZWxsLUtub3duIFN5bWJvbHNcbiAgdmFyICQkaXRlcmF0b3IgPSBnbG9iYWwuU3ltYm9sLml0ZXJhdG9yLFxuICAgICAgJCRtYXRjaCA9IGdsb2JhbC5TeW1ib2wubWF0Y2gsXG4gICAgICAkJHJlcGxhY2UgPSBnbG9iYWwuU3ltYm9sLnJlcGxhY2UsXG4gICAgICAkJHNlYXJjaCA9IGdsb2JhbC5TeW1ib2wuc2VhcmNoLFxuICAgICAgJCRzcGxpdCA9IGdsb2JhbC5TeW1ib2wuc3BsaXQsXG4gICAgICAkJHRvU3RyaW5nVGFnID0gZ2xvYmFsLlN5bWJvbC50b1N0cmluZ1RhZztcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gNyBBYnN0cmFjdCBPcGVyYXRpb25zXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyA3LjEgVHlwZSBDb252ZXJzaW9uXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIDcuMS4xIFRvUHJpbWl0aXZlICggaW5wdXQgWywgUHJlZmVycmVkVHlwZV0gKVxuICAvLyBqdXN0IHVzZSB2YWx1ZU9mKClcblxuICAvLyA3LjEuMiBUb0Jvb2xlYW4gKCBhcmd1bWVudCApXG4gIC8vIGp1c3QgdXNlIEJvb2xlYW4oKVxuXG4gIC8vIDcuMS4zIFRvTnVtYmVyICggYXJndW1lbnQgKVxuICAvLyBqdXN0IHVzZSBOdW1iZXIoKVxuXG4gIC8vIDcuMS40IFRvSW50ZWdlciAoIGFyZ3VtZW50IClcbiAgZnVuY3Rpb24gVG9JbnRlZ2VyKG4pIHtcbiAgICBuID0gTnVtYmVyKG4pO1xuICAgIGlmICgkaXNOYU4obikpIHJldHVybiAwO1xuICAgIGlmIChuID09PSAwIHx8IG4gPT09IEluZmluaXR5IHx8IG4gPT09IC1JbmZpbml0eSkgcmV0dXJuIG47XG4gICAgcmV0dXJuICgobiA8IDApID8gLTEgOiAxKSAqIGZsb29yKGFicyhuKSk7XG4gIH1cblxuICAvLyA3LjEuNSBUb0ludDMyICggYXJndW1lbnQgKVxuICBmdW5jdGlvbiBUb0ludDMyKHYpIHsgcmV0dXJuIHYgPj4gMDsgfVxuXG4gIC8vIDcuMS42IFRvVWludDMyICggYXJndW1lbnQgKVxuICBmdW5jdGlvbiBUb1VpbnQzMih2KSB7IHJldHVybiB2ID4+PiAwOyB9XG5cbiAgLy8gNy4xLjcgVG9JbnQxNiAoIGFyZ3VtZW50IClcbiAgZnVuY3Rpb24gVG9JbnQxNih2KSB7IHJldHVybiAodiA8PCAxNikgPj4gMTY7IH1cblxuICAvLyA3LjEuOCBUb1VpbnQxNiAoIGFyZ3VtZW50IClcbiAgZnVuY3Rpb24gVG9VaW50MTYodikgeyByZXR1cm4gdiAmIDB4RkZGRjsgfVxuXG4gIC8vIDcuMS45IFRvSW50OCAoIGFyZ3VtZW50IClcbiAgZnVuY3Rpb24gVG9JbnQ4KHYpIHsgcmV0dXJuICh2IDw8IDI0KSA+PiAyNDsgfVxuXG4gIC8vIDcuMS4xMCBUb1VpbnQ4ICggYXJndW1lbnQgKVxuICBmdW5jdGlvbiBUb1VpbnQ4KHYpIHsgcmV0dXJuIHYgJiAweEZGOyB9XG5cbiAgLy8gNy4xLjExIFRvVWludDhDbGFtcCAoIGFyZ3VtZW50IClcbiAgZnVuY3Rpb24gVG9VaW50OENsYW1wKGFyZ3VtZW50KSB7XG4gICAgdmFyIG51bWJlciA9IE51bWJlcihhcmd1bWVudCk7XG4gICAgaWYgKCRpc05hTihudW1iZXIpKSByZXR1cm4gMDtcbiAgICBpZiAobnVtYmVyIDw9IDApIHJldHVybiAwO1xuICAgIGlmIChudW1iZXIgPj0gMjU1KSByZXR1cm4gMjU1O1xuICAgIHZhciBmID0gZmxvb3IobnVtYmVyKTtcbiAgICBpZiAoKGYgKyAwLjUpIDwgbnVtYmVyKSByZXR1cm4gZiArIDE7XG4gICAgaWYgKG51bWJlciA8IChmICsgMC41KSkgcmV0dXJuIGY7XG4gICAgaWYgKGYgJSAyKSByZXR1cm4gZiArIDE7XG4gICAgcmV0dXJuIGY7XG4gIH1cblxuICAvLyA3LjEuMTIgVG9TdHJpbmcgKCBhcmd1bWVudCApXG4gIC8vIGp1c3QgdXNlIFN0cmluZygpXG5cbiAgLy8gNy4xLjEzIFRvT2JqZWN0ICggYXJndW1lbnQgKVxuICBmdW5jdGlvbiBUb09iamVjdCh2KSB7XG4gICAgaWYgKHYgPT09IG51bGwgfHwgdiA9PT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICByZXR1cm4gT2JqZWN0KHYpO1xuICB9XG5cbiAgLy8gNy4xLjE0IFRvUHJvcGVydHlLZXkgKCBhcmd1bWVudCApXG4gIGZ1bmN0aW9uIFRvUHJvcGVydHlLZXkodikge1xuICAgIHJldHVybiBTdHJpbmcodik7XG4gIH1cblxuICAvLyA3LjEuMTUgVG9MZW5ndGggKCBhcmd1bWVudCApXG4gIGZ1bmN0aW9uIFRvTGVuZ3RoKHYpIHtcbiAgICB2YXIgbGVuID0gVG9JbnRlZ2VyKHYpO1xuICAgIGlmIChsZW4gPD0gMCkgcmV0dXJuIDA7XG4gICAgaWYgKGxlbiA9PT0gSW5maW5pdHkpIHJldHVybiAweDIwMDAwMDAwMDAwMDAwIC0gMTsgLy8gMl41My0xXG4gICAgcmV0dXJuIG1pbihsZW4sIDB4MjAwMDAwMDAwMDAwMDAgLSAxKTsgLy8gMl41My0xXG4gIH1cblxuICAvLyA3LjEuMTYgQ2Fub25pY2FsTnVtZXJpY0luZGV4U3RyaW5nICggYXJndW1lbnQgKVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyA3LjIgVGVzdGluZyBhbmQgQ29tcGFyaXNvbiBPcGVyYXRpb25zXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUgKCBhcmd1bWVudCApXG4gIC8vIDcuMi4yIElzQXJyYXkgKCBhcmd1bWVudCApXG5cbiAgLy8gNy4yLjMgSXNDYWxsYWJsZSAoIGFyZ3VtZW50IClcbiAgZnVuY3Rpb24gSXNDYWxsYWJsZShvKSB7IHJldHVybiB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJzsgfVxuXG4gIC8vIDcuMi40IElzQ29uc3RydWN0b3IgKCBhcmd1bWVudCApXG4gIGZ1bmN0aW9uIElzQ29uc3RydWN0b3Iobykge1xuICAgIC8vIEhhY2tzIGZvciBTYWZhcmkgNyBUeXBlZEFycmF5IFhYWENvbnN0cnVjdG9yIG9iamVjdHNcbiAgICBpZiAoL0NvbnN0cnVjdG9yLy50ZXN0KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSkpIHJldHVybiB0cnVlO1xuICAgIGlmICgvRnVuY3Rpb24vLnRlc3QoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pKSkgcmV0dXJuIHRydWU7XG4gICAgLy8gVE9ETzogQ2FuIHRoaXMgYmUgaW1wcm92ZWQgb24/XG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnZnVuY3Rpb24nO1xuICB9XG5cbiAgLy8gNy4yLjUgSXNFeHRlbnNpYmxlIChPKVxuICAvLyA3LjIuNiBJc0ludGVnZXIgKCBhcmd1bWVudCApXG5cbiAgLy8gNy4yLjcgSXNQcm9wZXJ0eUtleSAoIGFyZ3VtZW50IClcbiAgZnVuY3Rpb24gSXNQcm9wZXJ0eUtleShhcmd1bWVudCkge1xuICAgIGlmIChUeXBlKGFyZ3VtZW50KSA9PT0gJ3N0cmluZycpIHJldHVybiB0cnVlO1xuICAgIGlmIChUeXBlKGFyZ3VtZW50KSA9PT0gJ3N5bWJvbCcpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIDcuMi44IElzUmVnRXhwICggYXJndW1lbnQgKVxuXG4gIC8vIDcuMi45IFNhbWVWYWx1ZSh4LCB5KVxuICBmdW5jdGlvbiBTYW1lVmFsdWUoeCwgeSkge1xuICAgIGlmICh0eXBlb2YgeCAhPT0gdHlwZW9mIHkpIHJldHVybiBmYWxzZTtcbiAgICBzd2l0Y2ggKHR5cGVvZiB4KSB7XG4gICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBpZiAoeCAhPT0geCAmJiB5ICE9PSB5KSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmICh4ID09PSAwICYmIHkgPT09IDApIHJldHVybiAxL3ggPT09IDEveTtcbiAgICAgIHJldHVybiB4ID09PSB5O1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHggPT09IHk7XG4gICAgfVxuICB9XG5cbiAgLy8gNy4yLjEwIFNhbWVWYWx1ZVplcm8oeCwgeSlcbiAgZnVuY3Rpb24gU2FtZVZhbHVlWmVybyh4LCB5KSB7XG4gICAgaWYgKHR5cGVvZiB4ICE9PSB0eXBlb2YgeSkgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXRjaCAodHlwZW9mIHgpIHtcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGlmICh4ICE9PSB4ICYmIHkgIT09IHkpIHJldHVybiB0cnVlO1xuICAgICAgcmV0dXJuIHggPT09IHk7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICBjYXNlICdvYmplY3QnOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4geCA9PT0geTtcbiAgICB9XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gNy4zIE9wZXJhdGlvbnMgb24gT2JqZWN0c1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyA3LjMuMSBHZXQgKE8sIFApXG4gIC8vIC0ganVzdCB1c2Ugby5wIG9yIG9bcF1cblxuICAvLyA3LjMuMiBHZXRWIChWLCBQKVxuICBmdW5jdGlvbiBHZXRWKHYsIHApIHtcbiAgICB2YXIgbyA9IFRvT2JqZWN0KHYpO1xuICAgIHJldHVybiBvW3BdO1xuICB9XG5cbiAgLy8gNy4zLjMgU2V0IChPLCBQLCBWLCBUaHJvdylcbiAgLy8gLSBqdXN0IHVzZSBvLnAgPSB2IG9yIG9bcF0gPSB2XG5cblxuXG5cbiAgLy8gNy4zLjkgR2V0TWV0aG9kIChPLCBQKVxuICBmdW5jdGlvbiBHZXRNZXRob2QobywgcCkge1xuICAgIHZhciBmdW5jID0gR2V0VihvLCBwKTtcbiAgICBpZiAoZnVuYyA9PT0gdW5kZWZpbmVkIHx8IGZ1bmMgPT09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgaWYgKCFJc0NhbGxhYmxlKGZ1bmMpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICByZXR1cm4gZnVuYztcbiAgfVxuXG4gIC8vIDcuMy4xMCBIYXNQcm9wZXJ0eSAoTywgUClcbiAgZnVuY3Rpb24gSGFzUHJvcGVydHkobywgcCkge1xuICAgIHdoaWxlIChvKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChUeXBlKG8pICE9PSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuICAgICAgdmFyIG9wID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICAgICAgaWYgKG9wID09PSBvKSByZXR1cm4gZmFsc2U7IC8vIElFOCBoYXMgc2VsZi1yZWZlcmVudGlhbCBwcm90b3R5cGVzXG4gICAgICBvID0gb3A7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIDcuMy4xMSBIYXNPd25Qcm9wZXJ0eSAoTywgUClcbiAgZnVuY3Rpb24gSGFzT3duUHJvcGVydHkobywgcCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCk7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gNy40IE9wZXJhdGlvbnMgb24gSXRlcmF0b3IgT2JqZWN0c1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyA3LjQuMSBHZXRJdGVyYXRvciAoIG9iaiwgbWV0aG9kIClcbiAgZnVuY3Rpb24gR2V0SXRlcmF0b3Iob2JqLCBtZXRob2QpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpXG4gICAgICBtZXRob2QgPSBHZXRNZXRob2Qob2JqLCAkJGl0ZXJhdG9yKTtcbiAgICB2YXIgaXRlcmF0b3IgPSBtZXRob2QuY2FsbChvYmopO1xuICAgIGlmIChUeXBlKGl0ZXJhdG9yKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgIHJldHVybiBpdGVyYXRvcjtcbiAgfVxuXG4gIC8vIDcuNC4yIEl0ZXJhdG9yTmV4dCAoIGl0ZXJhdG9yLCB2YWx1ZSApXG4gIGZ1bmN0aW9uIEl0ZXJhdG9yTmV4dChpdGVyYXRvciwgdmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpXG4gICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgIGVsc2VcbiAgICAgIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQodmFsdWUpO1xuICAgIGlmIChUeXBlKHJlc3VsdCkgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gNy40LjMgSXRlcmF0b3JDb21wbGV0ZSAoIGl0ZXJSZXN1bHQgKVxuICBmdW5jdGlvbiBJdGVyYXRvckNvbXBsZXRlKGl0ZXJSZXN1bHQpIHtcbiAgICBjb25zb2xlLmFzc2VydChUeXBlKGl0ZXJSZXN1bHQpID09PSAnb2JqZWN0Jyk7XG4gICAgcmV0dXJuIEJvb2xlYW4oaXRlclJlc3VsdC5kb25lKTtcbiAgfVxuXG4gIC8vIDcuNC40IEl0ZXJhdG9yVmFsdWUgKCBpdGVyUmVzdWx0IClcbiAgZnVuY3Rpb24gSXRlcmF0b3JWYWx1ZShpdGVyUmVzdWx0KSB7XG4gICAgY29uc29sZS5hc3NlcnQoVHlwZShpdGVyUmVzdWx0KSA9PT0gJ29iamVjdCcpO1xuICAgIHJldHVybiBpdGVyUmVzdWx0LnZhbHVlO1xuICB9XG5cbiAgLy8gNy40LjUgSXRlcmF0b3JTdGVwICggaXRlcmF0b3IgKVxuICBmdW5jdGlvbiBJdGVyYXRvclN0ZXAoIGl0ZXJhdG9yLCB2YWx1ZSApIHtcbiAgICB2YXIgcmVzdWx0ID0gSXRlcmF0b3JOZXh0KGl0ZXJhdG9yLCB2YWx1ZSk7XG4gICAgdmFyIGRvbmUgPSByZXN1bHRbJ2RvbmUnXTtcbiAgICBpZiAoQm9vbGVhbihkb25lKSA9PT0gdHJ1ZSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKCBpdGVyYXRvciwgY29tcGxldGlvbiApXG4gIGZ1bmN0aW9uIEl0ZXJhdG9yQ2xvc2UoIGl0ZXJhdG9yLCBjb21wbGV0aW9uICkge1xuICAgIGNvbnNvbGUuYXNzZXJ0KFR5cGUoaXRlcmF0b3IpID09PSAnb2JqZWN0Jyk7XG4gICAgdmFyIF9yZXR1cm4gPSBHZXRNZXRob2QoaXRlcmF0b3IsICdyZXR1cm4nKTtcbiAgICBpZiAoX3JldHVybiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gY29tcGxldGlvbjtcbiAgICB0cnkge1xuICAgICAgdmFyIGlubmVyUmVzdWx0ID0gX3JldHVybltpdGVyYXRvcl0oKTtcbiAgICB9IGNhdGNoIChyZXN1bHQpIHtcbiAgICAgIC8vIFRPRE86IElmIGNvbXBsZXRpb24uW1t0eXBlXV0gaXMgdGhyb3csIHJldHVybiBjb21wbGV0aW9uXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpZiAoVHlwZShpbm5lclJlc3VsdCkgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICByZXR1cm4gY29tcGxldGlvbjtcbiAgfVxuXG4gIC8vIDcuNC43IENyZWF0ZUl0ZXJSZXN1bHRPYmplY3QgKHZhbHVlLCBkb25lKVxuICBmdW5jdGlvbiBDcmVhdGVJdGVyUmVzdWx0T2JqZWN0KHZhbHVlLCBkb25lKSB7XG4gICAgY29uc29sZS5hc3NlcnQoVHlwZShkb25lKSA9PT0gJ2Jvb2xlYW4nKTtcbiAgICB2YXIgb2JqID0ge307XG4gICAgb2JqW1widmFsdWVcIl0gPSB2YWx1ZTtcbiAgICBvYmpbXCJkb25lXCJdID0gZG9uZTtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgLy8gNy40LjggQ3JlYXRlTGlzdEl0ZXJhdG9yIChsaXN0KVxuICAvLyA3LjQuOC4xIExpc3RJdGVyYXRvciBuZXh0KCApXG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIDggRXhlY3V0YWJsZSBDb2RlIGFuZCBFeGVjdXRpb24gQ29udGV4dHNcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIDguNCBKb2JzIGFuZCBKb2IgUXVldWVzXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIDguNC4xIEVucXVldWVKb2IgKCBxdWV1ZU5hbWUsIGpvYiwgYXJndW1lbnRzKVxuICBmdW5jdGlvbiBFbnF1ZXVlSm9iKHF1ZXVlTmFtZSwgam9iLCBhcmdzKSB7XG4gICAgdmFyIGZuID0gZnVuY3Rpb24oKSB7IGpvYi5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9O1xuICAgIGVucXVldWUoZm4pO1xuICB9XG5cbiAgLy8gOC40LjIgTmV4dEpvYiByZXN1bHRcbiAgZnVuY3Rpb24gTmV4dEpvYihyZXN1bHQpIHtcbiAgICAvLyBuby1vcFxuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIDkgT3JkaW5hcnkgYW5kIEV4b3RpYyBPYmplY3RzIEJlaGF2aW9yc1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyA5LjEuMTEgW1tFbnVtZXJhdGVdXSAoKVxuICBmdW5jdGlvbiBFbnVtZXJhdGUob2JqKSB7XG4gICAgdmFyIGUgPSBbXTtcbiAgICBpZiAoT2JqZWN0KG9iaikgIT09IG9iaikgcmV0dXJuIGU7XG4gICAgdmFyIHZpc2l0ZWQgPSBuZXcgU2V0O1xuICAgIHdoaWxlIChvYmogIT09IG51bGwpIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIGlmICghdmlzaXRlZC5oYXMobmFtZSkpIHtcbiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBuYW1lKTtcbiAgICAgICAgICBpZiAoZGVzYykge1xuICAgICAgICAgICAgdmlzaXRlZC5hZGQobmFtZSk7XG4gICAgICAgICAgICBpZiAoZGVzYy5lbnVtZXJhYmxlKSBlLnB1c2gobmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG9iaiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopO1xuICAgIH1cbiAgICByZXR1cm4gZVskJGl0ZXJhdG9yXSgpO1xuICB9XG5cbiAgLy8gOS4xLjEyIFtbT3duUHJvcGVydHlLZXlzXV0gKCApXG4gIGZ1bmN0aW9uIE93blByb3BlcnR5S2V5cyhvKSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG8pO1xuICB9XG5cbiAgLy8gOS4xLjEzIE9iamVjdENyZWF0ZShwcm90bywgaW50ZXJuYWxTbG90c0xpc3QpXG4gIGZ1bmN0aW9uIE9iamVjdENyZWF0ZShwcm90bywgaW50ZXJuYWxTbG90c0xpc3QpIHtcbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShwcm90bywgaW50ZXJuYWxTbG90c0xpc3QpO1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIDE5IEZ1bmRhbWVudGFsIE9iamVjdHNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIDE5LjEgT2JqZWN0IE9iamVjdHNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gMTkuMS4xIFRoZSBPYmplY3QgQ29uc3RydWN0b3JcbiAgLy8gMTkuMS4xLjEgT2JqZWN0ICggWyB2YWx1ZSBdIClcbiAgLy8gMTkuMS4yIFByb3BlcnRpZXMgb2YgdGhlIE9iamVjdCBDb25zdHJ1Y3RvclxuICAvLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduICggdGFyZ2V0LCAuLi5zb3VyY2VzIClcbiAgZGVmaW5lKFxuICAgIE9iamVjdCwgJ2Fzc2lnbicsXG4gICAgZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgLyouLi4qL3NvdXJjZXMpIHtcbiAgICAgIHZhciB0byA9IFRvT2JqZWN0KHRhcmdldCk7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiB0bztcblxuICAgICAgdmFyIHNvdXJjZXNJbmRleCA9IDE7XG4gICAgICB3aGlsZSAoc291cmNlc0luZGV4IDwgYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tzb3VyY2VzSW5kZXgrK107XG4gICAgICAgIGlmIChuZXh0U291cmNlID09PSB1bmRlZmluZWQgfHwgbmV4dFNvdXJjZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGZyb20gPSBUb09iamVjdChuZXh0U291cmNlKTtcbiAgICAgICAgICBrZXlzID0gT3duUHJvcGVydHlLZXlzKGZyb20pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGtleXNJbmRleCA9IDA7IGtleXNJbmRleCA8IGtleXMubGVuZ3RoOyArK2tleXNJbmRleCkge1xuICAgICAgICAgIHZhciBuZXh0S2V5ID0ga2V5c1trZXlzSW5kZXhdO1xuICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmcm9tLCBuZXh0S2V5KTtcbiAgICAgICAgICBpZiAoZGVzYyAhPT0gdW5kZWZpbmVkICYmIGRlc2MuZW51bWVyYWJsZSkge1xuICAgICAgICAgICAgdmFyIHByb3BWYWx1ZSA9IGZyb21bbmV4dEtleV07XG4gICAgICAgICAgICB0b1tuZXh0S2V5XSA9IHByb3BWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0bztcbiAgICB9KTtcblxuICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlICggTyBbICwgUHJvcGVydGllcyBdIClcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgKCBPLCBQcm9wZXJ0aWVzIClcbiAgLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5ICggTywgUCwgQXR0cmlidXRlcyApXG4gIC8vIDE5LjEuMi41IE9iamVjdC5mcmVlemUgKCBPIClcbiAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciAoIE8sIFAgKVxuXG4gIChmdW5jdGlvbigpIHtcbiAgICB2YXIgbmF0aXZlU3ltYm9scyA9ICh0eXBlb2YgZ2xvYmFsLlN5bWJvbCgpID09PSAnc3ltYm9sJyksXG4gICAgICAgICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsXG4gICAgICAgICRrZXlzID0gT2JqZWN0LmtleXMsXG4gICAgICAgICR3aW5kb3dfbmFtZXMgPSAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgPyAkZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW10pO1xuXG4gICAgZnVuY3Rpb24gaXNTdHJpbmdLZXkoaykgeyByZXR1cm4gIXN5bWJvbEZvcktleShrKTsgfVxuXG4gICAgLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgKCBPIClcbiAgICBkZWZpbmUoXG4gICAgICBPYmplY3QsICdnZXRPd25Qcm9wZXJ0eU5hbWVzJyxcbiAgICAgIGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMobykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pID09PSAnW29iamVjdCBXaW5kb3ddJykge1xuICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGNyb3NzLXJlYWxtIGNhbGxpbmcgYnkgSUUgaXRzZWxmLlxuICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9pbmV4b3JhYmxldGFzaC9wb2x5ZmlsbC9pc3N1ZXMvOTZcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuICRnZXRPd25Qcm9wZXJ0eU5hbWVzKG8pLmZpbHRlcihpc1N0cmluZ0tleSk7XG4gICAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgICAgcmV0dXJuICR3aW5kb3dfbmFtZXMuc2xpY2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRnZXRPd25Qcm9wZXJ0eU5hbWVzKG8pLmZpbHRlcihpc1N0cmluZ0tleSk7XG4gICAgICB9LCAhbmF0aXZlU3ltYm9scyk7XG5cbiAgICAvLyAxOS4xLjIuOCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICggTyApXG4gICAgZGVmaW5lKFxuICAgICAgT2JqZWN0LCAnZ2V0T3duUHJvcGVydHlTeW1ib2xzJyxcbiAgICAgIGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhvKSB7XG4gICAgICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlOYW1lcyhvKS5maWx0ZXIoc3ltYm9sRm9yS2V5KS5tYXAoc3ltYm9sRm9yS2V5KTtcbiAgICAgIH0sICFuYXRpdmVTeW1ib2xzKTtcblxuICAgIC8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyAoIE8gKVxuICAgIGRlZmluZShcbiAgICAgIE9iamVjdCwgJ2tleXMnLFxuICAgICAgZnVuY3Rpb24ga2V5cyhvKSB7XG4gICAgICAgIHJldHVybiAka2V5cyhvKS5maWx0ZXIoaXNTdHJpbmdLZXkpO1xuICAgICAgfSwgIW5hdGl2ZVN5bWJvbHMpO1xuICB9KCkpO1xuXG4gIC8vIDE5LjEuMi45IE9iamVjdC5nZXRQcm90b3R5cGVPZiAoIE8gKVxuICAvLyAxOS4xLjIuMTAgT2JqZWN0LmlzICggdmFsdWUxLCB2YWx1ZTIgKVxuICBkZWZpbmUoXG4gICAgT2JqZWN0LCAnaXMnLFxuICAgIGZ1bmN0aW9uIGlzKHZhbHVlMSwgdmFsdWUyKSB7XG4gICAgICByZXR1cm4gU2FtZVZhbHVlKHZhbHVlMSwgdmFsdWUyKTtcbiAgICB9KTtcblxuICAvLyAxOS4xLjIuMTEgT2JqZWN0LmlzRXh0ZW5zaWJsZSAoIE8gKVxuICAvLyAxOS4xLjIuMTIgT2JqZWN0LmlzRnJvemVuICggTyApXG4gIC8vIDE5LjEuMi4xMyBPYmplY3QuaXNTZWFsZWQgKCBPIClcblxuICAvLyAxOS4xLjIuMTQgT2JqZWN0LmtleXMgKCBPIClcbiAgLy8gc2VlIGFib3ZlXG5cbiAgLy8gMTkuMS4yLjE1IE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyAoIE8gKVxuICAvLyAxOS4xLjIuMTYgT2JqZWN0LnByb3RvdHlwZVxuICAvLyAxOS4xLjIuMTcgT2JqZWN0LnNlYWwgKCBPIClcblxuICAvLyAxOS4xLjIuMTggT2JqZWN0LnNldFByb3RvdHlwZU9mICggTywgcHJvdG8gKVxuICBkZWZpbmUoXG4gICAgT2JqZWN0LCAnc2V0UHJvdG90eXBlT2YnLFxuICAgIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKG8sIHByb3RvKSB7XG4gICAgICBpZiAoVHlwZShvKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgaWYgKFR5cGUocHJvdG8pICE9PSAnb2JqZWN0JyAmJiBUeXBlKHByb3RvKSAhPT0gJ251bGwnKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgIG8uX19wcm90b19fID0gcHJvdG87XG4gICAgICByZXR1cm4gbztcbiAgICB9XG4gICk7XG5cbiAgLy8gMTkuMS4zIFByb3BlcnRpZXMgb2YgdGhlIE9iamVjdCBQcm90b3R5cGUgT2JqZWN0XG4gIC8vIDE5LjEuMy4xIE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3JcbiAgLy8gMTkuMS4zLjIgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSAoIFYgKVxuICAvLyAxOS4xLjMuMyBPYmplY3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YgKCBWIClcbiAgLy8gMTkuMS4zLjQgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSAoIFYgKVxuICAvLyAxOS4xLjMuNSBPYmplY3QucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nICggWyByZXNlcnZlZDEgWyAsIHJlc2VydmVkMiBdIF0gKVxuICAvLyAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nICggKVxuICB2YXIgb19wX3RzID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbiAgZGVmaW5lKE9iamVjdC5wcm90b3R5cGUsICd0b1N0cmluZycsXG4gICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICB2YXIgbyA9IHN0cmljdCh0aGlzKTtcbiAgICAgICAgIGlmIChvID09PSBPYmplY3QobykgJiYgJCR0b1N0cmluZ1RhZyBpbiBvKSB7XG4gICAgICAgICAgIHJldHVybiAnW29iamVjdCAnICsgb1skJHRvU3RyaW5nVGFnXSArICddJztcbiAgICAgICAgIH1cbiAgICAgICAgIHJldHVybiBvX3BfdHMuYXBwbHkobywgYXJndW1lbnRzKTtcbiAgICAgICB9KTtcblxuICAvLyAxOS4xLjMuNyBPYmplY3QucHJvdG90eXBlLnZhbHVlT2YgKCApXG4gIC8vIDE5LjEuNCBQcm9wZXJ0aWVzIG9mIE9iamVjdCBJbnN0YW5jZXNcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMTkuMiBGdW5jdGlvbiBPYmplY3RzXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIDE5LjIuMSBUaGUgRnVuY3Rpb24gQ29uc3RydWN0b3JcbiAgLy8gMTkuMi4xLjEgRnVuY3Rpb24gKCBwMSwgcDIsIOKApiAsIHBuLCBib2R5IClcbiAgLy8gMTkuMi4yIFByb3BlcnRpZXMgb2YgdGhlIEZ1bmN0aW9uIENvbnN0cnVjdG9yXG4gIC8vIDE5LjIuMi4xIEZ1bmN0aW9uLmxlbmd0aFxuICAvLyAxOS4yLjIuMiBGdW5jdGlvbi5wcm90b3R5cGVcbiAgLy8gMTkuMi4zIFByb3BlcnRpZXMgb2YgdGhlIEZ1bmN0aW9uIFByb3RvdHlwZSBPYmplY3RcbiAgLy8gMTkuMi4zLjEgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5ICggdGhpc0FyZywgYXJnQXJyYXkgKVxuICAvLyAxOS4yLjMuMiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCAoIHRoaXNBcmcgLCAuLi5hcmdzKVxuICAvLyAxOS4yLjMuMyBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCAodGhpc0FyZyAsIC4uLmFyZ3MpXG4gIC8vIDE5LjIuMy40IEZ1bmN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvclxuICAvLyAxOS4yLjMuNSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgKCApXG4gIC8vIDE5LjIuMy42IEZ1bmN0aW9uLnByb3RvdHlwZVtAQGhhc0luc3RhbmNlXSAoIFYgKVxuICAvLyAxOS4yLjQgRnVuY3Rpb24gSW5zdGFuY2VzXG4gIC8vIDE5LjIuNC4xIGxlbmd0aFxuICAvLyAxOS4yLjQuMiBuYW1lXG4gIC8vIDE5LjIuNC4zIHByb3RvdHlwZVxuXG4gIC8vIChObyBwb2x5ZmlsbGFibGUgY2hhbmdlcyBmcm9tIEVTNSlcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMTkuMyBCb29sZWFuIE9iamVjdHNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gMTkuMy4xIFRoZSBCb29sZWFuIENvbnN0cnVjdG9yXG4gIC8vIDE5LjMuMS4xIEJvb2xlYW4gKCB2YWx1ZSApXG4gIC8vIDE5LjMuMiBQcm9wZXJ0aWVzIG9mIHRoZSBCb29sZWFuIENvbnN0cnVjdG9yXG4gIC8vIDE5LjMuMi4xIEJvb2xlYW4ucHJvdG90eXBlXG4gIC8vIDE5LjMuMyBQcm9wZXJ0aWVzIG9mIHRoZSBCb29sZWFuIFByb3RvdHlwZSBPYmplY3RcbiAgLy8gMTkuMy4zLjEgQm9vbGVhbi5wcm90b3R5cGUuY29uc3RydWN0b3JcbiAgLy8gMTkuMy4zLjIgQm9vbGVhbi5wcm90b3R5cGUudG9TdHJpbmcgKCApXG4gIC8vIDE5LjMuMy4zIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YgKCApXG4gIC8vIDE5LjMuNCBQcm9wZXJ0aWVzIG9mIEJvb2xlYW4gSW5zdGFuY2VzXG5cbiAgLy8gKE5vIHBvbHlmaWxsYWJsZSBjaGFuZ2VzIGZyb20gRVM1KVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAxOS40IFN5bWJvbCBPYmplY3RzXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIE1vdmVkIGVhcmxpZXIgaW4gdGhpcyBzY3JpcHQsIHNvIHRoYXQgb3RoZXIgcG9seWZpbGxzIGNhbiBkZXBlbmQgb24gdGhlbS5cblxuICAvLyAxOS40LjMuNCBTeW1ib2wucHJvdG90eXBlIFsgQEB0b1N0cmluZ1RhZyBdXG4gIGRlZmluZShnbG9iYWwuU3ltYm9sLnByb3RvdHlwZSwgZ2xvYmFsLlN5bWJvbC50b1N0cmluZ1RhZywgJ1N5bWJvbCcpO1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAxOS41IEVycm9yIE9iamVjdHNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gMTkuNS4xIFRoZSBFcnJvciBDb25zdHJ1Y3RvclxuICAvLyAxOS41LjEuMSBFcnJvciAoIG1lc3NhZ2UgKVxuICAvLyAxOS41LjEuMiBuZXcgRXJyb3IoIC4uLmFyZ3VtZW50c0xpc3QgKVxuICAvLyAxOS41LjIgUHJvcGVydGllcyBvZiB0aGUgRXJyb3IgQ29uc3RydWN0b3JcbiAgLy8gMTkuNS4yLjEgRXJyb3IucHJvdG90eXBlXG4gIC8vIDE5LjUuMyBQcm9wZXJ0aWVzIG9mIHRoZSBFcnJvciBQcm90b3R5cGUgT2JqZWN0XG4gIC8vIDE5LjUuMy4xIEVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvclxuICAvLyAxOS41LjMuMiBFcnJvci5wcm90b3R5cGUubWVzc2FnZVxuICAvLyAxOS41LjMuMyBFcnJvci5wcm90b3R5cGUubmFtZVxuICAvLyAxOS41LjMuNCBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcgKCApXG4gIC8vIDE5LjUuNCBQcm9wZXJ0aWVzIG9mIEVycm9yIEluc3RhbmNlc1xuICAvLyAxOS41LjUgTmF0aXZlIEVycm9yIFR5cGVzIFVzZWQgaW4gVGhpcyBTdGFuZGFyZFxuICAvLyAxOS41LjUuMSBFdmFsRXJyb3JcbiAgLy8gMTkuNS41LjIgUmFuZ2VFcnJvclxuICAvLyAxOS41LjUuMyBSZWZlcmVuY2VFcnJvclxuICAvLyAxOS41LjUuNCBTeW50YXhFcnJvclxuICAvLyAxOS41LjUuNSBUeXBlRXJyb3JcbiAgLy8gMTkuNS41LjYgVVJJRXJyb3JcbiAgLy8gMTkuNS42IE5hdGl2ZUVycm9yIE9iamVjdCBTdHJ1Y3R1cmVcbiAgLy8gMTkuNS42LjEgTmF0aXZlRXJyb3IgQ29uc3RydWN0b3JzXG4gIC8vIDE5LjUuNi4xLjEgTmF0aXZlRXJyb3IgKCBtZXNzYWdlIClcbiAgLy8gMTkuNS42LjEuMiBuZXcgTmF0aXZlRXJyb3IgKCAuLi5hcmd1bWVudHNMaXN0IClcbiAgLy8gMTkuNS42LjIgUHJvcGVydGllcyBvZiB0aGUgTmF0aXZlRXJyb3IgQ29uc3RydWN0b3JzXG4gIC8vIDE5LjUuNi4yLjEgTmF0aXZlRXJyb3IucHJvdG90eXBlXG4gIC8vIDE5LjUuNi4zIFByb3BlcnRpZXMgb2YgdGhlIE5hdGl2ZUVycm9yIFByb3RvdHlwZSBPYmplY3RzXG4gIC8vIDE5LjUuNi40IFByb3BlcnRpZXMgb2YgTmF0aXZlRXJyb3IgSW5zdGFuY2VzXG5cbiAgLy8gKE5vIHBvbHlmaWxsYWJsZSBjaGFuZ2VzIGZyb20gRVM1KVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAyMCBOdW1iZXJzIGFuZCBEYXRlc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMjAuMSBOdW1iZXIgT2JqZWN0c1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyAyMC4xLjEgVGhlIE51bWJlciBDb25zdHJ1Y3RvclxuICAvLyAyMC4xLjEuMSBOdW1iZXIgKCBbIHZhbHVlIF0gKVxuICAvLyAyMC4xLjEuMiBuZXcgTnVtYmVyICggLi4uYXJndW1lbnRzTGlzdCApXG4gIC8vIDIwLjEuMiBQcm9wZXJ0aWVzIG9mIHRoZSBOdW1iZXIgQ29uc3RydWN0b3JcblxuICAvLyAyMC4xLjIuMSBOdW1iZXIuRVBTSUxPTlxuICBkZWZpbmUoXG4gICAgTnVtYmVyLCAnRVBTSUxPTicsXG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBuZXh0LCByZXN1bHQ7XG4gICAgICBmb3IgKG5leHQgPSAxOyAxICsgbmV4dCAhPT0gMTsgbmV4dCA9IG5leHQgLyAyKVxuICAgICAgICByZXN1bHQgPSBuZXh0O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KCkpKTtcblxuICAvLyAyMC4xLjIuMiBOdW1iZXIuaXNGaW5pdGUgKCBudW1iZXIgKVxuICBkZWZpbmUoXG4gICAgTnVtYmVyLCAnaXNGaW5pdGUnLFxuICAgIGZ1bmN0aW9uIGlzRmluaXRlKG51bWJlcikge1xuICAgICAgaWYgKFR5cGUobnVtYmVyKSAhPT0gJ251bWJlcicpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChudW1iZXIgIT09IG51bWJlciB8fCBudW1iZXIgPT09ICtJbmZpbml0eSB8fCBudW1iZXIgPT09IC1JbmZpbml0eSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG5cbiAgLy8gMjAuMS4yLjMgTnVtYmVyLmlzSW50ZWdlciAoIG51bWJlciApXG4gIGRlZmluZShcbiAgICBOdW1iZXIsICdpc0ludGVnZXInLFxuICAgIGZ1bmN0aW9uIGlzSW50ZWdlcihudW1iZXIpIHtcbiAgICAgIGlmIChUeXBlKG51bWJlcikgIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAobnVtYmVyICE9PSBudW1iZXIgfHwgbnVtYmVyID09PSArSW5maW5pdHkgfHwgbnVtYmVyID09PSAtSW5maW5pdHkpIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciBpbnRlZ2VyID0gVG9JbnRlZ2VyKG51bWJlcik7XG4gICAgICBpZiAoaW50ZWdlciAhPT0gbnVtYmVyKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAvLyAyMC4xLjIuNCBOdW1iZXIuaXNOYU4gKCBudW1iZXIgKVxuICBkZWZpbmUoXG4gICAgTnVtYmVyLCAnaXNOYU4nLFxuICAgIGZ1bmN0aW9uIGlzTmFOKG51bWJlcikge1xuICAgICAgaWYgKFR5cGUobnVtYmVyKSAhPT0gJ251bWJlcicpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChudW1iZXIgIT09IG51bWJlcikgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgLy8gMjAuMS4yLjUgTnVtYmVyLmlzU2FmZUludGVnZXIgKCBudW1iZXIgKVxuICBkZWZpbmUoXG4gICAgTnVtYmVyLCAnaXNTYWZlSW50ZWdlcicsXG4gICAgZnVuY3Rpb24gaXNTYWZlSW50ZWdlcihudW1iZXIpIHtcbiAgICAgIGlmIChUeXBlKG51bWJlcikgIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAobnVtYmVyICE9PSBudW1iZXIgfHwgbnVtYmVyID09PSArSW5maW5pdHkgfHwgbnVtYmVyID09PSAtSW5maW5pdHkpIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciBpbnRlZ2VyID0gVG9JbnRlZ2VyKG51bWJlcik7XG4gICAgICBpZiAoaW50ZWdlciAhPT0gbnVtYmVyKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAoYWJzKGludGVnZXIpIDw9ICgweDIwMDAwMDAwMDAwMDAwIC0gMSkpIC8vIDJeNTMtMVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAvLyAyMC4xLjIuNiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlxuICBkZWZpbmUoXG4gICAgTnVtYmVyLCAnTUFYX1NBRkVfSU5URUdFUicsXG4gICAgOTAwNzE5OTI1NDc0MDk5MSk7IC8vIDJeNTMtMVxuXG4gIC8vIDIwLjEuMi43IE51bWJlci5NQVhfVkFMVUVcblxuICAvLyAyMC4xLjIuOCBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUlxuICBkZWZpbmUoXG4gICAgTnVtYmVyLCAnTUlOX1NBRkVfSU5URUdFUicsXG4gICAgLTkwMDcxOTkyNTQ3NDA5OTEpOyAvLyAtMl41MysxXG5cbiAgLy8gMjAuMS4yLjkgTnVtYmVyLk1JTl9WQUxVRVxuICAvLyAyMC4xLjIuMTAgTnVtYmVyLk5hTlxuICAvLyAyMC4xLjIuMTEgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXG5cbiAgLy8gMjAuMS4yLjEyIE51bWJlci5wYXJzZUZsb2F0ICggc3RyaW5nIClcbiAgZGVmaW5lKE51bWJlciwgJ3BhcnNlRmxvYXQnLCAkcGFyc2VGbG9hdCk7XG5cbiAgLy8gMjAuMS4yLjEzIE51bWJlci5wYXJzZUludCAoIHN0cmluZywgcmFkaXggKVxuICBkZWZpbmUoTnVtYmVyLCAncGFyc2VJbnQnLCAkcGFyc2VJbnQpO1xuXG4gIC8vIDIwLjEuMi4xNCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFlcbiAgLy8gMjAuMS4yLjE1IE51bWJlci5wcm90b3R5cGVcblxuICAvLyAyMC4xLjMgUHJvcGVydGllcyBvZiB0aGUgTnVtYmVyIFByb3RvdHlwZSBPYmplY3RcbiAgLy8gMjAuMS4zLjEgTnVtYmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvclxuICAvLyAyMC4xLjMuMiBOdW1iZXIucHJvdG90eXBlLnRvRXhwb25lbnRpYWwgKCBmcmFjdGlvbkRpZ2l0cyApXG4gIC8vIDIwLjEuMy4zIE51bWJlci5wcm90b3R5cGUudG9GaXhlZCAoIGZyYWN0aW9uRGlnaXRzIClcbiAgLy8gMjAuMS4zLjQgTnVtYmVyLnByb3RvdHlwZS50b0xvY2FsZVN0cmluZyggWyByZXNlcnZlZDEgWyAsIHJlc2VydmVkMiBdIF0pXG4gIC8vIDIwLjEuMy41IE51bWJlci5wcm90b3R5cGUudG9QcmVjaXNpb24gKCBwcmVjaXNpb24gKVxuICAvLyAyMC4xLjMuNiBOdW1iZXIucHJvdG90eXBlLnRvU3RyaW5nICggWyByYWRpeCBdIClcbiAgLy8gMjAuMS4zLjcgTnVtYmVyLnByb3RvdHlwZS52YWx1ZU9mICggKVxuICAvLyAyMC4xLjQgUHJvcGVydGllcyBvZiBOdW1iZXIgSW5zdGFuY2VzXG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIDIwLjIgVGhlIE1hdGggT2JqZWN0XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIDIwLjIuMSBWYWx1ZSBQcm9wZXJ0aWVzIG9mIHRoZSBNYXRoIE9iamVjdFxuICAvLyAyMC4yLjEuMSBNYXRoLkVcbiAgLy8gMjAuMi4xLjIgTWF0aC5MTjEwXG4gIC8vIDIwLjIuMS4zIE1hdGguTE4yXG4gIC8vIDIwLjIuMS40IE1hdGguTE9HMTBFXG4gIC8vIDIwLjIuMS41IE1hdGguTE9HMkVcbiAgLy8gMjAuMi4xLjYgTWF0aC5QSVxuICAvLyAyMC4yLjEuNyBNYXRoLlNRUlQxXzJcbiAgLy8gMjAuMi4xLjggTWF0aC5TUVJUMlxuXG4gIC8vIDIwLjIuMS45IE1hdGggWyBAQHRvU3RyaW5nVGFnIF1cbiAgZGVmaW5lKE1hdGgsICQkdG9TdHJpbmdUYWcsICdNYXRoJyk7XG5cbiAgLy8gMjAuMi4yIEZ1bmN0aW9uIFByb3BlcnRpZXMgb2YgdGhlIE1hdGggT2JqZWN0XG4gIC8vIDIwLjIuMi4xIE1hdGguYWJzICggeCApXG4gIC8vIDIwLjIuMi4yIE1hdGguYWNvcyAoIHggKVxuXG4gIC8vIDIwLjIuMi4zIE1hdGguYWNvc2goeClcbiAgZGVmaW5lKFxuICAgIE1hdGgsICdhY29zaCcsXG4gICAgZnVuY3Rpb24gYWNvc2goeCkge1xuICAgICAgeCA9IE51bWJlcih4KTtcbiAgICAgIHJldHVybiBsb2coeCArIHNxcnQoeCAqIHggLSAxKSk7XG4gICAgfSk7XG5cbiAgLy8gMjAuMi4yLjQgTWF0aC5hc2luICggeCApXG5cbiAgLy8gMjAuMi4yLjUgTWF0aC5hc2luaCggeCApXG4gIGRlZmluZShcbiAgICBNYXRoLCAnYXNpbmgnLFxuICAgIGZ1bmN0aW9uIGFzaW5oKHgpIHtcbiAgICAgIHggPSBOdW1iZXIoeCk7XG4gICAgICBpZiAoU2FtZVZhbHVlKHgsIC0wKSkge1xuICAgICAgICByZXR1cm4geDtcbiAgICAgIH1cbiAgICAgIHZhciBzID0gc3FydCh4ICogeCArIDEpO1xuICAgICAgcmV0dXJuIChzID09PSAteCkgPyBsb2coMCkgOiBsb2coeCArIHMpO1xuICAgIH0pO1xuXG4gIC8vIDIwLjIuMi42IE1hdGguYXRhbiAoIHggKVxuXG4gIC8vIDIwLjIuMi43IE1hdGguYXRhbmgoIHggKVxuICBkZWZpbmUoXG4gICAgTWF0aCwgJ2F0YW5oJyxcbiAgICBmdW5jdGlvbiBhdGFuaCh4KSB7XG4gICAgICB4ID0gTnVtYmVyKHgpO1xuICAgICAgcmV0dXJuICh4ID09PSAwKSA/IHggOiBsb2coKDEgKyB4KSAvICgxIC0geCkpIC8gMjtcbiAgICB9KTtcblxuICAvLyAyMC4yLjIuOCBNYXRoLmF0YW4yICggeSwgeCApXG5cbiAgLy8gMjAuMi4yLjkgTWF0aC5jYnJ0ICggeCApXG4gIGRlZmluZShcbiAgICBNYXRoLCAnY2JydCcsXG4gICAgZnVuY3Rpb24gY2JydCh4KSB7XG4gICAgICB4ID0gTnVtYmVyKHgpO1xuICAgICAgaWYgKCRpc05hTih4L3gpKSB7XG4gICAgICAgIHJldHVybiB4O1xuICAgICAgfVxuICAgICAgdmFyIHIgPSBwb3coYWJzKHgpLCAxLzMpO1xuICAgICAgdmFyIHQgPSB4L3IvcjtcbiAgICAgIHJldHVybiByICsgKHIgKiAodC1yKSAvICgyKnIgKyB0KSk7XG4gICAgfSk7XG5cbiAgLy8gMjAuMi4yLjEwIE1hdGguY2VpbCAoIHggKVxuXG4gIC8vIDIwLjIuMi4xMSBNYXRoLmNsejMyICggeCApXG4gIGRlZmluZShcbiAgICBNYXRoLCAnY2x6MzInLFxuICAgIGZ1bmN0aW9uIGNsejMyKHgpIHtcbiAgICAgIGZ1bmN0aW9uIGNsejgoeCkge1xuICAgICAgICByZXR1cm4gKHggJiAweGYwKSA/ICh4ICYgMHg4MCA/IDAgOiB4ICYgMHg0MCA/IDEgOiB4ICYgMHgyMCA/IDIgOiAzKSA6XG4gICAgICAgICh4ICYgMHgwOCA/IDQgOiB4ICYgMHgwNCA/IDUgOiB4ICYgMHgwMiA/IDYgOiB4ICYgMHgwMSA/IDcgOiA4KTtcbiAgICAgIH1cbiAgICAgIHggPSBUb1VpbnQzMih4KTtcbiAgICAgIHJldHVybiB4ICYgMHhmZjAwMDAwMCA/IGNsejgoeCA+PiAyNCkgOlxuICAgICAgICB4ICYgMHhmZjAwMDAgPyBjbHo4KHggPj4gMTYpICsgOCA6XG4gICAgICAgIHggJiAweGZmMDAgPyBjbHo4KHggPj4gOCkgKyAxNiA6IGNsejgoeCkgKyAyNDtcbiAgICB9KTtcblxuXG5cbiAgLy8gMjAuMi4yLjEyIE1hdGguY29zICggeCApXG5cbiAgLy8gMjAuMi4yLjEzIE1hdGguY29zaCAoIHggKVxuICBkZWZpbmUoXG4gICAgTWF0aCwgJ2Nvc2gnLFxuICAgIGZ1bmN0aW9uIGNvc2goeCkge1xuICAgICAgeCA9IE51bWJlcih4KTtcbiAgICAgIHJldHVybiAocG93KEUsIHgpICsgcG93KEUsIC14KSkgLyAyO1xuICAgIH0pO1xuXG4gIC8vIDIwLjIuMi4xNCBNYXRoLmV4cCAoIHggKVxuXG4gIC8vIDIwLjIuMi4xNSBNYXRoLmV4cG0xICggeCApXG4gIGRlZmluZShcbiAgICBNYXRoLCAnZXhwbTEnLFxuICAgIGZ1bmN0aW9uIGV4cG0xKHgpIHtcbiAgICAgIHggPSBOdW1iZXIoeCk7XG4gICAgICAvLyBmcm9tOiBodHRwOi8vd3d3LmpvaG5kY29vay5jb20vY3BwX2xvZzFwLmh0bWxcbiAgICAgIGlmIChTYW1lVmFsdWUoeCwgLTApKSB7XG4gICAgICAgIHJldHVybiAtMDtcbiAgICAgIH0gZWxzZSBpZiAoYWJzKHgpIDwgMWUtNSkge1xuICAgICAgICByZXR1cm4geCArIDAuNSAqIHggKiB4OyAvLyB0d28gdGVybXMgb2YgVGF5bG9yIGV4cGFuc2lvblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGV4cCh4KSAtIDE7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgLy8gMjAuMi4yLjE2IE1hdGguZmxvb3IgKCB4IClcblxuICAvLyAyMC4yLjIuMTcgTWF0aC5mcm91bmQgKCB4IClcbiAgZGVmaW5lKFxuICAgIE1hdGgsICdmcm91bmQnLFxuICAgIGZ1bmN0aW9uIGZyb3VuZCh4KSB7XG4gICAgICBpZiAoJGlzTmFOKHgpKSB7XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgICB9XG4gICAgICBpZiAoMS94ID09PSArSW5maW5pdHkgfHwgMS94ID09PSAtSW5maW5pdHkgfHwgeCA9PT0gK0luZmluaXR5IHx8IHggPT09IC1JbmZpbml0eSkge1xuICAgICAgICByZXR1cm4geDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobmV3IEZsb2F0MzJBcnJheShbeF0pKVswXTtcbiAgICB9KTtcblxuICAvLyAyMC4yLjIuMTggTWF0aC5oeXBvdCAoIHZhbHVlMSBbLCB2YWx1ZTIgWyAuLi4gXSBdIClcbiAgZGVmaW5lKFxuICAgIE1hdGgsICdoeXBvdCcsXG4gICAgZnVuY3Rpb24gaHlwb3QoKSB7XG4gICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICB2YXIgbSA9IDAsIHNhd05hTiA9IGZhbHNlO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIG4gPSBhYnMoTnVtYmVyKGFyZ3VtZW50c1tpXSkpO1xuICAgICAgICBpZiAobiA9PT0gSW5maW5pdHkpIHJldHVybiBuO1xuICAgICAgICBpZiAobiAhPT0gbikgc2F3TmFOID0gdHJ1ZTtcbiAgICAgICAgaWYgKG4gPiBtKSBtID0gbjtcbiAgICAgICAgdmFsdWVzW2ldID0gbjtcbiAgICAgIH1cbiAgICAgIGlmIChzYXdOYU4pIHJldHVybiBOYU47XG4gICAgICBpZiAobSA9PT0gMCkgcmV0dXJuICswO1xuICAgICAgdmFyIHN1bSA9ICswO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgciA9IHZhbHVlc1tpXSAvIG07XG4gICAgICAgIHN1bSA9IHN1bSArIHIgKiByO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG0gKiBzcXJ0KHN1bSk7XG4gICAgfSk7XG5cbiAgLy8gMjAuMi4yLjE5IE1hdGguaW11bCAoIHgsIHkgKVxuICBkZWZpbmUoXG4gICAgTWF0aCwgJ2ltdWwnLFxuICAgIGZ1bmN0aW9uIGltdWwoeCwgeSkge1xuICAgICAgdmFyIGEgPSBUb1VpbnQzMih4KTtcbiAgICAgIHZhciBiID0gVG9VaW50MzIoeSk7XG4gICAgICAvLyAoc2xvdyBidXQgYWNjdXJhdGUpXG4gICAgICB2YXIgYWggID0gKGEgPj4+IDE2KSAmIDB4ZmZmZjtcbiAgICAgIHZhciBhbCA9IGEgJiAweGZmZmY7XG4gICAgICB2YXIgYmggID0gKGIgPj4+IDE2KSAmIDB4ZmZmZjtcbiAgICAgIHZhciBibCA9IGIgJiAweGZmZmY7XG4gICAgICByZXR1cm4gKChhbCAqIGJsKSArICgoKGFoICogYmwgKyBhbCAqIGJoKSA8PCAxNikgPj4+IDApfDApO1xuICAgIH0sICgnaW11bCcgaW4gTWF0aCAmJiBNYXRoLmltdWwoMSwgMHg4MDAwMDAwMCkgPT09IDApIC8vIFNhZmFyaSA3IGJ1Z1xuICApO1xuXG4gIC8vIDIwLjIuMi4yMCBNYXRoLmxvZyAoIHggKVxuXG4gIC8vIDIwLjIuMi4yMSBNYXRoLmxvZzFwICggeCApXG4gIGRlZmluZShcbiAgICBNYXRoLCAnbG9nMXAnLFxuICAgIGZ1bmN0aW9uIGxvZzFwKHgpIHtcbiAgICAgIHggPSBOdW1iZXIoeCk7XG4gICAgICAvLyBmcm9tOiBodHRwOi8vd3d3LmpvaG5kY29vay5jb20vY3BwX2V4cG0xLmh0bWxcbiAgICAgIGlmICh4IDwgLTEpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgIH0gZWxzZSBpZiAoU2FtZVZhbHVlKHgsIC0wKSkge1xuICAgICAgICByZXR1cm4gLTA7XG4gICAgICB9IGVsc2UgaWYgKGFicyh4KSA+IDFlLTQpIHtcbiAgICAgICAgcmV0dXJuIGxvZygxICsgeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKC0wLjUgKiB4ICsgMSkgKiB4O1xuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vIDIwLjIuMi4yMiBNYXRoLmxvZzEwICggeCApXG4gIGRlZmluZShcbiAgICBNYXRoLCAnbG9nMTAnLFxuICAgIGZ1bmN0aW9uIGxvZzEwKHgpIHtcbiAgICAgIHggPSBOdW1iZXIoeCk7XG4gICAgICByZXR1cm4gbG9nKHgpICogTE9HMTBFO1xuICAgIH0pO1xuXG4gIC8vIDIwLjIuMi4yMyBNYXRoLmxvZzIgKCB4IClcbiAgZGVmaW5lKFxuICAgIE1hdGgsICdsb2cyJyxcbiAgICBmdW5jdGlvbiBsb2cyKHgpIHtcbiAgICAgIHggPSBOdW1iZXIoeCk7XG4gICAgICByZXR1cm4gbG9nKHgpICogTE9HMkU7XG4gICAgfSk7XG5cbiAgLy8gMjAuMi4yLjI0IE1hdGgubWF4ICggdmFsdWUxLCB2YWx1ZTIgLCAuLi52YWx1ZXMgKVxuICAvLyAyMC4yLjIuMjUgTWF0aC5taW4gKCB2YWx1ZTEsIHZhbHVlMiAsIC4uLnZhbHVlcyApXG4gIC8vIDIwLjIuMi4yNiBNYXRoLnBvdyAoIHgsIHkgKVxuICAvLyAyMC4yLjIuMjcgTWF0aC5yYW5kb20gKCApXG4gIC8vIDIwLjIuMi4yOCBNYXRoLnJvdW5kICggeCApXG5cbiAgLy8gMjAuMi4yLjI5IE1hdGguc2lnbih4KVxuICBkZWZpbmUoXG4gICAgTWF0aCwgJ3NpZ24nLFxuICAgIGZ1bmN0aW9uIHNpZ24oeCkge1xuICAgICAgeCA9IE51bWJlcih4KTtcbiAgICAgIHJldHVybiB4IDwgMCA/IC0xIDogeCA+IDAgPyAxIDogeDtcbiAgICB9KTtcblxuICAvLyAyMC4yLjIuMzAgTWF0aC5zaW4gKCB4IClcblxuICAvLyAyMC4yLjIuMzEgTWF0aC5zaW5oKCB4IClcbiAgZGVmaW5lKFxuICAgIE1hdGgsICdzaW5oJyxcbiAgICBmdW5jdGlvbiBzaW5oKHgpIHtcbiAgICAgIHggPSBOdW1iZXIoeCk7XG4gICAgICByZXR1cm4gU2FtZVZhbHVlKHgsIC0wKSA/IHggOiAocG93KEUsIHgpIC0gcG93KEUsIC14KSkgLyAyO1xuICAgIH0pO1xuXG4gIC8vIDIwLjIuMi4zMiBNYXRoLnNxcnQgKCB4IClcbiAgLy8gMjAuMi4yLjMzIE1hdGgudGFuICggeCApXG5cbiAgLy8gMjAuMi4yLjM0IE1hdGgudGFuaCAoIHggKVxuICBkZWZpbmUoXG4gICAgTWF0aCwgJ3RhbmgnLFxuICAgIGZ1bmN0aW9uIHRhbmgoeCkge1xuICAgICAgeCA9IE51bWJlcih4KTtcbiAgICAgIHZhciBuID0gcG93KEUsIDIgKiB4KSAtIDEsXG4gICAgICAgICAgZCA9IHBvdyhFLCAyICogeCkgKyAxO1xuICAgICAgaWYgKFNhbWVWYWx1ZSh4LCAtMCkpXG4gICAgICAgIHJldHVybiB4O1xuICAgICAgcmV0dXJuIChuID09PSBkKSA/IDEgOiBuIC8gZDsgLy8gSGFuZGxlIEluZmluaXR5L0luZmluaXR5XG4gICAgfSk7XG5cbiAgLy8gMjAuMi4yLjM1IE1hdGgudHJ1bmMgKCB4IClcbiAgZGVmaW5lKFxuICAgIE1hdGgsICd0cnVuYycsXG4gICAgZnVuY3Rpb24gdHJ1bmMoeCkge1xuICAgICAgeCA9IE51bWJlcih4KTtcbiAgICAgIHJldHVybiAkaXNOYU4oeCkgPyBOYU4gOlxuICAgICAgICB4IDwgMCA/IGNlaWwoeCkgOiBmbG9vcih4KTtcbiAgICB9KTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMjAuMyBEYXRlIE9iamVjdHNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gMjAuMy4xIE92ZXJ2aWV3IG9mIERhdGUgT2JqZWN0cyBhbmQgRGVmaW5pdGlvbnMgb2YgQWJzdHJhY3QgT3BlcmF0aW9uc1xuICAvLyAyMC4zLjEuMSBUaW1lIFZhbHVlcyBhbmQgVGltZSBSYW5nZVxuICAvLyAyMC4zLjEuMiBEYXkgTnVtYmVyIGFuZCBUaW1lIHdpdGhpbiBEYXlcbiAgLy8gMjAuMy4xLjMgWWVhciBOdW1iZXJcbiAgLy8gMjAuMy4xLjQgTW9udGggTnVtYmVyXG4gIC8vIDIwLjMuMS41IERhdGUgTnVtYmVyXG4gIC8vIDIwLjMuMS42IFdlZWsgRGF5XG4gIC8vIDIwLjMuMS43IExvY2FsIFRpbWUgWm9uZSBBZGp1c3RtZW50XG4gIC8vIDIwLjMuMS44IERheWxpZ2h0IFNhdmluZyBUaW1lIEFkanVzdG1lbnRcbiAgLy8gMjAuMy4xLjkgTG9jYWwgVGltZVxuICAvLyAyMC4zLjEuMTAgSG91cnMsIE1pbnV0ZXMsIFNlY29uZCwgYW5kIE1pbGxpc2Vjb25kc1xuICAvLyAyMC4zLjEuMTEgTWFrZVRpbWUgKGhvdXIsIG1pbiwgc2VjLCBtcylcbiAgLy8gMjAuMy4xLjEyIE1ha2VEYXkgKHllYXIsIG1vbnRoLCBkYXRlKVxuICAvLyAyMC4zLjEuMTMgTWFrZURhdGUgKGRheSwgdGltZSlcbiAgLy8gMjAuMy4xLjE0IFRpbWVDbGlwICh0aW1lKVxuICAvLyAyMC4zLjEuMTUgRGF0ZSBUaW1lIFN0cmluZyBGb3JtYXRcbiAgLy8gMjAuMy4xLjE1LjEgRXh0ZW5kZWQgeWVhcnNcbiAgLy8gMjAuMy4yIFRoZSBEYXRlIENvbnN0cnVjdG9yXG4gIC8vIDIwLjMuMi4xIERhdGUgKCB5ZWFyLCBtb250aCBbLCBkYXRlIFsgLCBob3VycyBbICwgbWludXRlcyBbICwgc2Vjb25kcyBbICwgbXMgXSBdIF0gXSBdIClcbiAgLy8gMjAuMy4yLjIgRGF0ZSAoIHZhbHVlIClcbiAgLy8gMjAuMy4yLjMgRGF0ZSAoIClcbiAgLy8gMjAuMy4zIFByb3BlcnRpZXMgb2YgdGhlIERhdGUgQ29uc3RydWN0b3JcbiAgLy8gMjAuMy4zLjEgRGF0ZS5ub3cgKCApXG4gIC8vIDIwLjMuMy4yIERhdGUucGFyc2UgKHN0cmluZylcbiAgLy8gMjAuMy4zLjMgRGF0ZS5wcm90b3R5cGVcbiAgLy8gMjAuMy4zLjQgRGF0ZS5VVEMgKCB5ZWFyLCBtb250aCBbICwgZGF0ZSBbICwgaG91cnMgWyAsIG1pbnV0ZXMgWyAsIHNlY29uZHMgWyAsIG1zIF0gXSBdIF0gXSApXG4gIC8vIDIwLjMuNCBQcm9wZXJ0aWVzIG9mIHRoZSBEYXRlIFByb3RvdHlwZSBPYmplY3RcbiAgLy8gMjAuMy40LjEgRGF0ZS5wcm90b3R5cGUuY29uc3RydWN0b3JcbiAgLy8gMjAuMy40LjIgRGF0ZS5wcm90b3R5cGUuZ2V0RGF0ZSAoIClcbiAgLy8gMjAuMy40LjMgRGF0ZS5wcm90b3R5cGUuZ2V0RGF5ICggKVxuICAvLyAyMC4zLjQuNCBEYXRlLnByb3RvdHlwZS5nZXRGdWxsWWVhciAoIClcbiAgLy8gMjAuMy40LjUgRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnMgKCApXG4gIC8vIDIwLjMuNC42IERhdGUucHJvdG90eXBlLmdldE1pbGxpc2Vjb25kcyAoIClcbiAgLy8gMjAuMy40LjcgRGF0ZS5wcm90b3R5cGUuZ2V0TWludXRlcyAoIClcbiAgLy8gMjAuMy40LjggRGF0ZS5wcm90b3R5cGUuZ2V0TW9udGggKCApXG4gIC8vIDIwLjMuNC45IERhdGUucHJvdG90eXBlLmdldFNlY29uZHMgKCApXG4gIC8vIDIwLjMuNC4xMCBEYXRlLnByb3RvdHlwZS5nZXRUaW1lICggKVxuICAvLyAyMC4zLjQuMTEgRGF0ZS5wcm90b3R5cGUuZ2V0VGltZXpvbmVPZmZzZXQgKCApXG4gIC8vIDIwLjMuNC4xMiBEYXRlLnByb3RvdHlwZS5nZXRVVENEYXRlICggKVxuICAvLyAyMC4zLjQuMTMgRGF0ZS5wcm90b3R5cGUuZ2V0VVRDRGF5ICggKVxuICAvLyAyMC4zLjQuMTQgRGF0ZS5wcm90b3R5cGUuZ2V0VVRDRnVsbFllYXIgKCApXG4gIC8vIDIwLjMuNC4xNSBEYXRlLnByb3RvdHlwZS5nZXRVVENIb3VycyAoIClcbiAgLy8gMjAuMy40LjE2IERhdGUucHJvdG90eXBlLmdldFVUQ01pbGxpc2Vjb25kcyAoIClcbiAgLy8gMjAuMy40LjE3IERhdGUucHJvdG90eXBlLmdldFVUQ01pbnV0ZXMgKCApXG4gIC8vIDIwLjMuNC4xOCBEYXRlLnByb3RvdHlwZS5nZXRVVENNb250aCAoIClcbiAgLy8gMjAuMy40LjE5IERhdGUucHJvdG90eXBlLmdldFVUQ1NlY29uZHMgKCApXG4gIC8vIDIwLjMuNC4yMCBEYXRlLnByb3RvdHlwZS5zZXREYXRlICggZGF0ZSApXG4gIC8vIDIwLjMuNC4yMSBEYXRlLnByb3RvdHlwZS5zZXRGdWxsWWVhciAoIHllYXIgWyAsIG1vbnRoIFsgLCBkYXRlIF0gXSApXG4gIC8vIDIwLjMuNC4yMiBEYXRlLnByb3RvdHlwZS5zZXRIb3VycyAoIGhvdXIgWyAsIG1pbiBbICwgc2VjIFsgLCBtcyBdIF0gXSApXG4gIC8vIDIwLjMuNC4yMyBEYXRlLnByb3RvdHlwZS5zZXRNaWxsaXNlY29uZHMgKCBtcyApXG4gIC8vIDIwLjMuNC4yNCBEYXRlLnByb3RvdHlwZS5zZXRNaW51dGVzICggbWluIFsgLCBzZWMgWyAsIG1zIF0gXSApXG4gIC8vIDIwLjMuNC4yNSBEYXRlLnByb3RvdHlwZS5zZXRNb250aCAoIG1vbnRoIFsgLCBkYXRlIF0gKVxuICAvLyAyMC4zLjQuMjYgRGF0ZS5wcm90b3R5cGUuc2V0U2Vjb25kcyAoIHNlYyBbICwgbXMgXSApXG4gIC8vIDIwLjMuNC4yNyBEYXRlLnByb3RvdHlwZS5zZXRUaW1lICggdGltZSApXG4gIC8vIDIwLjMuNC4yOCBEYXRlLnByb3RvdHlwZS5zZXRVVENEYXRlICggZGF0ZSApXG4gIC8vIDIwLjMuNC4yOSBEYXRlLnByb3RvdHlwZS5zZXRVVENGdWxsWWVhciAoIHllYXIgWyAsIG1vbnRoIFsgLCBkYXRlIF0gXSApXG4gIC8vIDIwLjMuNC4zMCBEYXRlLnByb3RvdHlwZS5zZXRVVENIb3VycyAoIGhvdXIgWyAsIG1pbiBbICwgc2VjIFsgLCBtcyBdIF0gXSApXG4gIC8vIDIwLjMuNC4zMSBEYXRlLnByb3RvdHlwZS5zZXRVVENNaWxsaXNlY29uZHMgKCBtcyApXG4gIC8vIDIwLjMuNC4zMiBEYXRlLnByb3RvdHlwZS5zZXRVVENNaW51dGVzICggbWluIFsgLCBzZWMgWywgbXMgXSBdIClcbiAgLy8gMjAuMy40LjMzIERhdGUucHJvdG90eXBlLnNldFVUQ01vbnRoICggbW9udGggWyAsIGRhdGUgXSApXG4gIC8vIDIwLjMuNC4zNCBEYXRlLnByb3RvdHlwZS5zZXRVVENTZWNvbmRzICggc2VjIFsgLCBtcyBdIClcbiAgLy8gMjAuMy40LjM1IERhdGUucHJvdG90eXBlLnRvRGF0ZVN0cmluZyAoIClcbiAgLy8gMjAuMy40LjM2IERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nICggKVxuICAvLyAyMC4zLjQuMzcgRGF0ZS5wcm90b3R5cGUudG9KU09OICgga2V5IClcbiAgLy8gMjAuMy40LjM4IERhdGUucHJvdG90eXBlLnRvTG9jYWxlRGF0ZVN0cmluZyAoIFsgcmVzZXJ2ZWQxIFsgLCByZXNlcnZlZDIgXSBdIClcbiAgLy8gMjAuMy40LjM5IERhdGUucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nICggWyByZXNlcnZlZDEgWyAsIHJlc2VydmVkMiBdIF0gKVxuICAvLyAyMC4zLjQuNDAgRGF0ZS5wcm90b3R5cGUudG9Mb2NhbGVUaW1lU3RyaW5nICggWyByZXNlcnZlZDEgWyAsIHJlc2VydmVkMiBdIF0gKVxuICAvLyAyMC4zLjQuNDEgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcgKCApXG4gIC8vIDIwLjMuNC40MiBEYXRlLnByb3RvdHlwZS50b1RpbWVTdHJpbmcgKCApXG4gIC8vIDIwLjMuNC40MyBEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZyAoIClcbiAgLy8gMjAuMy40LjQ0IERhdGUucHJvdG90eXBlLnZhbHVlT2YgKCApXG4gIC8vIDIwLjMuNC40NSBEYXRlLnByb3RvdHlwZSBbIEBAdG9QcmltaXRpdmUgXSAoIGhpbnQgKVxuICAvLyAyMC4zLjUgUHJvcGVydGllcyBvZiBEYXRlIEluc3RhbmNlc1xuXG4gIC8vIChObyBwb2x5ZmlsbGFibGUgY2hhbmdlcyBmcm9tIEVTNSlcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMjEgVGV4dCBQcm9jZXNzaW5nXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHZhciBzdHJpbmdfcmVnZXhwX2Rpc3BhdGNoID0gKGZ1bmN0aW9uKCkge1xuICAgIHZhciBmYXV4ID0ge30sIHNlY3JldCA9IFN5bWJvbCgpO1xuICAgIGZhdXhbU3ltYm9sLm1hdGNoXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VjcmV0OyB9O1xuICAgIHJldHVybiAoXCJcIikubWF0Y2goZmF1eCkgPT09IHNlY3JldDtcbiAgfSgpKTtcblxuICAvLyAyMS4xIFN0cmluZyBPYmplY3RzXG4gIC8vIDIxLjEuMSBUaGUgU3RyaW5nIENvbnN0cnVjdG9yXG4gIC8vIDIxLjEuMS4xIFN0cmluZyAoIHZhbHVlIClcbiAgLy8gMjEuMS4yIFByb3BlcnRpZXMgb2YgdGhlIFN0cmluZyBDb25zdHJ1Y3RvclxuICAvLyAyMS4xLjIuMSBTdHJpbmcuZnJvbUNoYXJDb2RlICggLi4uY29kZVVuaXRzIClcblxuICAvLyAyMS4xLjIuMiBTdHJpbmcuZnJvbUNvZGVQb2ludCAoIC4uLmNvZGVQb2ludHMgKVxuICBkZWZpbmUoXG4gICAgU3RyaW5nLCAnZnJvbUNvZGVQb2ludCcsXG4gICAgZnVuY3Rpb24gZnJvbUNvZGVQb2ludCgvKi4uLmNvZGVQb2ludHMqLykge1xuICAgICAgdmFyIGNvZGVQb2ludHMgPSBhcmd1bWVudHMsXG4gICAgICAgICAgbGVuZ3RoID0gY29kZVBvaW50cy5sZW5ndGgsXG4gICAgICAgICAgZWxlbWVudHMgPSBbXSxcbiAgICAgICAgICBuZXh0SW5kZXggPSAwO1xuICAgICAgd2hpbGUgKG5leHRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgbmV4dCA9IGNvZGVQb2ludHNbbmV4dEluZGV4XTtcbiAgICAgICAgdmFyIG5leHRDUCA9IE51bWJlcihuZXh0KTtcbiAgICAgICAgaWYgKCFTYW1lVmFsdWUobmV4dENQLCBUb0ludGVnZXIobmV4dENQKSkgfHxcbiAgICAgICAgICAgIG5leHRDUCA8IDAgfHwgbmV4dENQID4gMHgxMEZGRkYpIHtcbiAgICAgICAgICB0aHJvdyBSYW5nZUVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQgJyArIG5leHRDUCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHRDUCA8IDB4MTAwMDApIHtcbiAgICAgICAgICBlbGVtZW50cy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUobmV4dENQKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dENQIC09IDB4MTAwMDA7XG4gICAgICAgICAgZWxlbWVudHMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKChuZXh0Q1AgPj4gMTApICsgMHhEODAwKSk7XG4gICAgICAgICAgZWxlbWVudHMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKChuZXh0Q1AgJSAweDQwMCkgKyAweERDMDApKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0SW5kZXggKz0gMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50cy5qb2luKCcnKTtcbiAgICB9KTtcblxuICAvLyAyMS4xLjIuMyBTdHJpbmcucHJvdG90eXBlXG5cbiAgLy8gMjEuMS4yLjQgU3RyaW5nLnJhdyAoIHRlbXBsYXRlICwgLi4uc3Vic3RpdHV0aW9ucyApXG4gIGRlZmluZShcbiAgICBTdHJpbmcsICdyYXcnLFxuICAgIGZ1bmN0aW9uIHJhdyh0ZW1wbGF0ZSAvKiwgLi4uc3Vic3RpdHV0aW9ucyovKSB7XG4gICAgICB2YXIgc3Vic3RpdHV0aW9ucyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblxuICAgICAgdmFyIGNvb2tlZCA9IE9iamVjdCh0ZW1wbGF0ZSk7XG4gICAgICB2YXIgcmF3VmFsdWUgPSBjb29rZWRbJ3JhdyddO1xuICAgICAgdmFyIHJhdyA9IE9iamVjdChyYXdWYWx1ZSk7XG4gICAgICB2YXIgbGVuID0gcmF3WydsZW5ndGgnXTtcbiAgICAgIHZhciBsaXRlcmFsU2VnbWVudHMgPSBUb0xlbmd0aChsZW4pO1xuICAgICAgaWYgKGxpdGVyYWxTZWdtZW50cyA8PSAwKSByZXR1cm4gJyc7XG4gICAgICB2YXIgc3RyaW5nRWxlbWVudHMgPSBbXTtcbiAgICAgIHZhciBuZXh0SW5kZXggPSAwO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIG5leHQgPSByYXdbbmV4dEluZGV4XTtcbiAgICAgICAgdmFyIG5leHRTZWcgPSBTdHJpbmcobmV4dCk7XG4gICAgICAgIHN0cmluZ0VsZW1lbnRzLnB1c2gobmV4dFNlZyk7XG4gICAgICAgIGlmIChuZXh0SW5kZXggKyAxID09PSBsaXRlcmFsU2VnbWVudHMpXG4gICAgICAgICAgcmV0dXJuIHN0cmluZ0VsZW1lbnRzLmpvaW4oJycpO1xuICAgICAgICBuZXh0ID0gc3Vic3RpdHV0aW9uc1tuZXh0SW5kZXhdO1xuICAgICAgICB2YXIgbmV4dFN1YiA9IFN0cmluZyhuZXh0KTtcbiAgICAgICAgc3RyaW5nRWxlbWVudHMucHVzaChuZXh0U3ViKTtcbiAgICAgICAgbmV4dEluZGV4ID0gbmV4dEluZGV4ICsgMTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAvLyBTZWUgaHR0cHM6Ly9naXRoaWIuY29tL2luZXhvcmFibGV0YXNoL3VhdGUgZm9yIGEgbW9yZSB1c2VmdWwgdmVyc2lvbi5cblxuICAvLyAyMS4xLjMgUHJvcGVydGllcyBvZiB0aGUgU3RyaW5nIFByb3RvdHlwZSBPYmplY3RcbiAgLy8gMjEuMS4zLjEgU3RyaW5nLnByb3RvdHlwZS5jaGFyQXQgKCBwb3MgKVxuICAvLyAyMS4xLjMuMiBTdHJpbmcucHJvdG90eXBlLmNoYXJDb2RlQXQgKCBwb3MgKVxuXG4gIC8vIDIxLjEuMy4zIFN0cmluZy5wcm90b3R5cGUuY29kZVBvaW50QXQgKCBwb3MgKVxuICBkZWZpbmUoXG4gICAgU3RyaW5nLnByb3RvdHlwZSwgJ2NvZGVQb2ludEF0JyxcbiAgICBmdW5jdGlvbiBjb2RlUG9pbnRBdChwb3MpIHtcbiAgICAgIHZhciBvID0gc3RyaWN0KHRoaXMpO1xuICAgICAgdmFyIHMgPSBTdHJpbmcobyk7XG4gICAgICB2YXIgcG9zaXRpb24gPSBUb0ludGVnZXIocG9zKTtcbiAgICAgIHZhciBzaXplID0gcy5sZW5ndGg7XG4gICAgICBpZiAocG9zaXRpb24gPCAwIHx8IHBvc2l0aW9uID49IHNpemUpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB2YXIgZmlyc3QgPSBzLmNoYXJDb2RlQXQocG9zaXRpb24pO1xuICAgICAgaWYgKGZpcnN0IDwgMHhEODAwIHx8IGZpcnN0ID4gMHhEQkZGIHx8IHBvc2l0aW9uICsgMSA9PT0gc2l6ZSkgcmV0dXJuIGZpcnN0O1xuICAgICAgdmFyIHNlY29uZCA9IHMuY2hhckNvZGVBdChwb3NpdGlvbiArIDEpO1xuICAgICAgaWYgKHNlY29uZCA8IDB4REMwMCB8fCBzZWNvbmQgPiAweERGRkYpIHJldHVybiBmaXJzdDtcbiAgICAgIHJldHVybiAoKGZpcnN0IC0gMHhEODAwKSAqIDEwMjQpICsgKHNlY29uZCAtIDB4REMwMCkgKyAweDEwMDAwO1xuICAgIH0pO1xuXG4gIC8vIDIxLjEuMy40IFN0cmluZy5wcm90b3R5cGUuY29uY2F0ICggLi4uYXJncyApXG4gIC8vIDIxLjEuMy41IFN0cmluZy5wcm90b3R5cGUuY29uc3RydWN0b3JcblxuICAvLyAyMS4xLjMuNiBTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoICggc2VhcmNoU3RyaW5nIFsgLCBlbmRQb3NpdGlvbl0gKVxuICBkZWZpbmUoXG4gICAgU3RyaW5nLnByb3RvdHlwZSwgJ2VuZHNXaXRoJyxcbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzZWFyY2hTdHJpbmcpIHtcbiAgICAgIHZhciBlbmRQb3NpdGlvbiA9IGFyZ3VtZW50c1sxXTtcblxuICAgICAgdmFyIG8gPSBzdHJpY3QodGhpcyk7XG4gICAgICB2YXIgcyA9IFN0cmluZyhvKTtcbiAgICAgIHZhciBzZWFyY2hTdHIgPSBTdHJpbmcoc2VhcmNoU3RyaW5nKTtcbiAgICAgIHZhciBsZW4gPSBzLmxlbmd0aDtcbiAgICAgIHZhciBwb3MgPSAoZW5kUG9zaXRpb24gPT09IHVuZGVmaW5lZCkgPyBsZW4gOiBUb0ludGVnZXIoZW5kUG9zaXRpb24pO1xuICAgICAgdmFyIGVuZCA9IG1pbihtYXgocG9zLCAwKSwgbGVuKTtcbiAgICAgIHZhciBzZWFyY2hMZW5ndGggPSBzZWFyY2hTdHIubGVuZ3RoO1xuICAgICAgdmFyIHN0YXJ0ID0gZW5kIC0gc2VhcmNoTGVuZ3RoO1xuICAgICAgaWYgKHN0YXJ0IDwgMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHMuc3Vic3RyaW5nKHN0YXJ0LCBzdGFydCArIHNlYXJjaExlbmd0aCkgPT09IHNlYXJjaFN0cikgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgLy8gMjEuMS4zLjcgU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcyAoIHNlYXJjaFN0cmluZyBbICwgcG9zaXRpb24gXSApXG4gIGRlZmluZShcbiAgICBTdHJpbmcucHJvdG90eXBlLCAnaW5jbHVkZXMnLFxuICAgIGZ1bmN0aW9uIGluY2x1ZGVzKHNlYXJjaFN0cmluZykge1xuICAgICAgdmFyIHBvc2l0aW9uID0gYXJndW1lbnRzWzFdO1xuXG4gICAgICB2YXIgbyA9IHN0cmljdCh0aGlzKTtcbiAgICAgIHZhciBzID0gU3RyaW5nKG8pO1xuICAgICAgdmFyIHNlYXJjaFN0ciA9IFN0cmluZyhzZWFyY2hTdHJpbmcpO1xuICAgICAgdmFyIHBvcyA9IFRvSW50ZWdlcihwb3NpdGlvbik7XG4gICAgICB2YXIgbGVuID0gcy5sZW5ndGg7XG4gICAgICB2YXIgc3RhcnQgPSBtaW4obWF4KHBvcywgMCksIGxlbik7XG4gICAgICByZXR1cm4gcy5pbmRleE9mKHNlYXJjaFN0ciwgc3RhcnQpICE9PSAtMTtcbiAgICB9KTtcblxuICAvLyAyMS4xLjMuOCBTdHJpbmcucHJvdG90eXBlLmluZGV4T2YgKCBzZWFyY2hTdHJpbmcgWyAsIHBvc2l0aW9uIF0gKVxuICAvLyAyMS4xLjMuOSBTdHJpbmcucHJvdG90eXBlLmxhc3RJbmRleE9mICggc2VhcmNoU3RyaW5nIFsgLCBwb3NpdGlvbiBdIClcbiAgLy8gMjEuMS4zLjEwIFN0cmluZy5wcm90b3R5cGUubG9jYWxlQ29tcGFyZSAoIHRoYXQgWywgcmVzZXJ2ZWQxIFsgLCByZXNlcnZlZDIgXSBdIClcbiAgLy8gMjEuMS4zLjExIFN0cmluZy5wcm90b3R5cGUubWF0Y2ggKCByZWdleHAgKVxuICBkZWZpbmUoXG4gICAgU3RyaW5nLnByb3RvdHlwZSwgJ21hdGNoJyxcbiAgICBmdW5jdGlvbiBtYXRjaChyZWdleHApIHtcbiAgICAgIHZhciBvID0gc3RyaWN0KHRoaXMpO1xuICAgICAgdmFyIHMgPSBTdHJpbmcobyk7XG4gICAgICBpZiAoSGFzUHJvcGVydHkocmVnZXhwLCAkJG1hdGNoKSkgdmFyIHJ4ID0gcmVnZXhwO1xuICAgICAgZWxzZSByeCA9IG5ldyBSZWdFeHAocmVnZXhwKTtcbiAgICAgIHJldHVybiByeFskJG1hdGNoXShzKTtcbiAgICB9LCAhc3RyaW5nX3JlZ2V4cF9kaXNwYXRjaCk7XG5cbiAgLy8gMjEuMS4zLjEyIFN0cmluZy5wcm90b3R5cGUubm9ybWFsaXplICggWyBmb3JtIF0gKVxuXG4gIC8vIE5vdCBwcmFjdGljYWwgZHVlIHRvIHRhYmxlIHNpemVzOyBpZiBuZWVkZWQsIHB1bGwgaW46XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93YWxsaW5nL3Vub3JtL1xuXG4gIC8vIDIxLjEuMy4xMyBTdHJpbmcucHJvdG90eXBlLnJlcGVhdCAoIGNvdW50IClcbiAgZGVmaW5lKFxuICAgIFN0cmluZy5wcm90b3R5cGUsICdyZXBlYXQnLFxuICAgIGZ1bmN0aW9uIHJlcGVhdChjb3VudCkge1xuICAgICAgdmFyIG8gPSBzdHJpY3QodGhpcyk7XG4gICAgICB2YXIgcyA9IFN0cmluZyhvKTtcbiAgICAgIHZhciBuID0gVG9JbnRlZ2VyKGNvdW50KTtcbiAgICAgIGlmIChuIDwgMCkgdGhyb3cgUmFuZ2VFcnJvcigpO1xuICAgICAgaWYgKG4gPT09IEluZmluaXR5KSB0aHJvdyBSYW5nZUVycm9yKCk7XG4gICAgICB2YXIgdCA9IG5ldyBBcnJheShuICsgMSkuam9pbihzKTtcbiAgICAgIHJldHVybiB0O1xuICAgIH0pO1xuXG4gIC8vIDIxLjEuMy4xNCBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2UgKHNlYXJjaFZhbHVlLCByZXBsYWNlVmFsdWUgKVxuICBkZWZpbmUoXG4gICAgU3RyaW5nLnByb3RvdHlwZSwgJ3JlcGxhY2UnLFxuICAgIGZ1bmN0aW9uIHJlcGxhY2Uoc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSkge1xuICAgICAgdmFyIG8gPSBzdHJpY3QodGhpcyk7XG4gICAgICBpZiAoSGFzUHJvcGVydHkoc2VhcmNoVmFsdWUsICQkcmVwbGFjZSkpXG4gICAgICAgIHJldHVybiBzZWFyY2hWYWx1ZVskJHJlcGxhY2VdKG8sIHJlcGxhY2VWYWx1ZSk7XG4gICAgICByZXR1cm4gb3JpZ19yZXBsYWNlLmNhbGwobywgc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSk7XG4gICAgfSwgIXN0cmluZ19yZWdleHBfZGlzcGF0Y2gpO1xuXG4gIC8vIDIxLjEuMy4xNSBTdHJpbmcucHJvdG90eXBlLnNlYXJjaCAoIHJlZ2V4cCApXG4gIGRlZmluZShcbiAgICBTdHJpbmcucHJvdG90eXBlLCAnc2VhcmNoJyxcbiAgICBmdW5jdGlvbiBzZWFyY2gocmVnZXhwKSB7XG4gICAgICB2YXIgbyA9IHN0cmljdCh0aGlzKTtcbiAgICAgIHZhciBzdHJpbmcgPSBTdHJpbmcobyk7XG4gICAgICBpZiAoSGFzUHJvcGVydHkocmVnZXhwLCAkJHNlYXJjaCkpIHZhciByeCA9IHJlZ2V4cDtcbiAgICAgIGVsc2UgcnggPSBuZXcgUmVnRXhwKHJlZ2V4cCk7XG4gICAgICByZXR1cm4gcnhbJCRzZWFyY2hdKHN0cmluZyk7XG4gICAgfSwgIXN0cmluZ19yZWdleHBfZGlzcGF0Y2gpO1xuXG4gIC8vIDIxLjEuMy4xNiBTdHJpbmcucHJvdG90eXBlLnNsaWNlICggc3RhcnQsIGVuZCApXG4gIC8vIDIxLjEuMy4xNyBTdHJpbmcucHJvdG90eXBlLnNwbGl0ICggc2VwYXJhdG9yLCBsaW1pdCApXG4gIGRlZmluZShcbiAgICBTdHJpbmcucHJvdG90eXBlLCAnc3BsaXQnLFxuICAgIGZ1bmN0aW9uIHNwbGl0KHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgIHZhciBvID0gc3RyaWN0KHRoaXMpO1xuICAgICAgaWYgKEhhc1Byb3BlcnR5KHNlcGFyYXRvciwgJCRzcGxpdCkpXG4gICAgICAgIHJldHVybiBzZXBhcmF0b3JbJCRzcGxpdF0obywgbGltaXQpO1xuICAgICAgcmV0dXJuIG9yaWdfc3BsaXQuY2FsbChvLCBzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9LCAhc3RyaW5nX3JlZ2V4cF9kaXNwYXRjaCk7XG5cbiAgLy8gMjEuMS4zLjE4IFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCAoIHNlYXJjaFN0cmluZyBbLCBwb3NpdGlvbiBdIClcbiAgZGVmaW5lKFxuICAgIFN0cmluZy5wcm90b3R5cGUsICdzdGFydHNXaXRoJyxcbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHNlYXJjaFN0cmluZykge1xuICAgICAgdmFyIHBvc2l0aW9uID0gYXJndW1lbnRzWzFdO1xuXG4gICAgICB2YXIgbyA9IHN0cmljdCh0aGlzKTtcbiAgICAgIHZhciBzID0gU3RyaW5nKG8pO1xuICAgICAgdmFyIHNlYXJjaFN0ciA9IFN0cmluZyhzZWFyY2hTdHJpbmcpO1xuICAgICAgdmFyIHBvcyA9IFRvSW50ZWdlcihwb3NpdGlvbik7XG4gICAgICB2YXIgbGVuID0gcy5sZW5ndGg7XG4gICAgICB2YXIgc3RhcnQgPSBtaW4obWF4KHBvcywgMCksIGxlbik7XG4gICAgICB2YXIgc2VhcmNoTGVuZ3RoID0gc2VhcmNoU3RyLmxlbmd0aDtcbiAgICAgIGlmIChzZWFyY2hMZW5ndGggKyBzdGFydCA+IGxlbikgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHMuc3Vic3RyaW5nKHN0YXJ0LCBzdGFydCArIHNlYXJjaExlbmd0aCkgPT09IHNlYXJjaFN0cikgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgLy8gMjEuMS4zLjE5IFN0cmluZy5wcm90b3R5cGUuc3Vic3RyaW5nICggc3RhcnQsIGVuZCApXG4gIC8vIDIxLjEuMy4yMCBTdHJpbmcucHJvdG90eXBlLnRvTG9jYWxlTG93ZXJDYXNlICggWyByZXNlcnZlZDEgWyAsIHJlc2VydmVkMiBdIF0gKVxuICAvLyAyMS4xLjMuMjEgU3RyaW5nLnByb3RvdHlwZS50b0xvY2FsZVVwcGVyQ2FzZSAoWyByZXNlcnZlZDEgWyAsIHJlc2VydmVkMiBdIF0gKVxuICAvLyAyMS4xLjMuMjIgU3RyaW5nLnByb3RvdHlwZS50b0xvd2VyQ2FzZSAoIClcbiAgLy8gMjEuMS4zLjIzIFN0cmluZy5wcm90b3R5cGUudG9TdHJpbmcgKCApXG4gIC8vIDIxLjEuMy4yNCBTdHJpbmcucHJvdG90eXBlLnRvVXBwZXJDYXNlICggKVxuICAvLyAyMS4xLjMuMjUgU3RyaW5nLnByb3RvdHlwZS50cmltICggKVxuICAvLyAyMS4xLjMuMjYgU3RyaW5nLnByb3RvdHlwZS52YWx1ZU9mICggKVxuXG4gIC8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlIFsgQEBpdGVyYXRvciBdKCApXG4gIGRlZmluZShcbiAgICBTdHJpbmcucHJvdG90eXBlLCAkJGl0ZXJhdG9yLFxuICAgIGZ1bmN0aW9uIGVudHJpZXMoKSB7XG4gICAgICByZXR1cm4gQ3JlYXRlU3RyaW5nSXRlcmF0b3IodGhpcywgJ3ZhbHVlJyk7XG4gICAgfSk7XG5cbiAgLy8gMjEuMS40IFByb3BlcnRpZXMgb2YgU3RyaW5nIEluc3RhbmNlc1xuICAvLyAyMS4xLjQuMSBsZW5ndGhcblxuICAvLyAyMS4xLjUgU3RyaW5nIEl0ZXJhdG9yIE9iamVjdHNcbiAgLyoqIEBjb25zdHJ1Y3RvciAqL1xuICBmdW5jdGlvbiBTdHJpbmdJdGVyYXRvcigpIHt9XG5cbiAgLy8gMjEuMS41LjEgQ3JlYXRlU3RyaW5nSXRlcmF0b3IgQWJzdHJhY3QgT3BlcmF0aW9uXG4gIGZ1bmN0aW9uIENyZWF0ZVN0cmluZ0l0ZXJhdG9yKHN0cmluZywga2luZCkge1xuICAgIHZhciBzID0gU3RyaW5nKHN0cmluZyk7XG4gICAgdmFyIGl0ZXJhdG9yID0gbmV3IFN0cmluZ0l0ZXJhdG9yO1xuICAgIHNldF9pbnRlcm5hbChpdGVyYXRvciwgJ1tbSXRlcmF0ZWRTdHJpbmddXScsIHMpO1xuICAgIHNldF9pbnRlcm5hbChpdGVyYXRvciwgJ1tbU3RyaW5nSXRlcmF0b3JOZXh0SW5kZXhdXScsIDApO1xuICAgIHNldF9pbnRlcm5hbChpdGVyYXRvciwgJ1tbU3RyaW5nSXRlcmF0aW9uS2luZF1dJywga2luZCk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yO1xuICB9XG5cbiAgLy8gMjEuMS41LjIgVGhlICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUgT2JqZWN0XG4gIHZhciAkU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUkID0gT2JqZWN0LmNyZWF0ZSgkSXRlcmF0b3JQcm90b3R5cGUkKTtcbiAgU3RyaW5nSXRlcmF0b3IucHJvdG90eXBlID0gJFN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJDtcblxuICAvLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCAoIClcbiAgZGVmaW5lKFxuICAgICRTdHJpbmdJdGVyYXRvclByb3RvdHlwZSQsICduZXh0JyxcbiAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgdmFyIG8gPSBUb09iamVjdCh0aGlzKTtcbiAgICAgIHZhciBzID0gU3RyaW5nKG9bJ1tbSXRlcmF0ZWRTdHJpbmddXSddKSxcbiAgICAgICAgICBpbmRleCA9IG9bJ1tbU3RyaW5nSXRlcmF0b3JOZXh0SW5kZXhdXSddLFxuICAgICAgICAgIGxlbiA9IHMubGVuZ3RoO1xuICAgICAgaWYgKGluZGV4ID49IGxlbikge1xuICAgICAgICBzZXRfaW50ZXJuYWwobywgJ1tbU3RyaW5nSXRlcmF0b3JOZXh0SW5kZXhdXScsIEluZmluaXR5KTtcbiAgICAgICAgcmV0dXJuIENyZWF0ZUl0ZXJSZXN1bHRPYmplY3QodW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHZhciBjcCA9IHMuY29kZVBvaW50QXQoaW5kZXgpO1xuICAgICAgc2V0X2ludGVybmFsKG8sICdbW1N0cmluZ0l0ZXJhdG9yTmV4dEluZGV4XV0nLCBpbmRleCArIChjcCA+IDB4RkZGRiA/IDIgOiAxKSk7XG4gICAgICByZXR1cm4gQ3JlYXRlSXRlclJlc3VsdE9iamVjdChTdHJpbmcuZnJvbUNvZGVQb2ludChjcCksIGZhbHNlKTtcbiAgICB9KTtcblxuICAvLyAyMS4xLjUuMi4yICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUgWyBAQHRvU3RyaW5nVGFnIF1cbiAgZGVmaW5lKCRTdHJpbmdJdGVyYXRvclByb3RvdHlwZSQsICQkdG9TdHJpbmdUYWcsICdTdHJpbmcgSXRlcmF0b3InKTtcblxuICAvLyAyMS4xLjUuMyBQcm9wZXJ0aWVzIG9mIFN0cmluZyBJdGVyYXRvciBJbnN0YW5jZXNcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMjEuMiBSZWdFeHAgKFJlZ3VsYXIgRXhwcmVzc2lvbikgT2JqZWN0c1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyAyMS4yLjEgUGF0dGVybnNcbiAgLy8gMjEuMi4yIFBhdHRlcm4gU2VtYW50aWNzXG4gIC8vIDIxLjIuMi4xIE5vdGF0aW9uXG4gIC8vIDIxLjIuMi4yIFBhdHRlcm5cbiAgLy8gMjEuMi4yLjMgRGlzanVuY3Rpb25cbiAgLy8gMjEuMi4yLjQgQWx0ZXJuYXRpdmVcbiAgLy8gMjEuMi4yLjUgVGVybVxuICAvLyAyMS4yLjIuNiBBc3NlcnRpb25cbiAgLy8gMjEuMi4yLjcgUXVhbnRpZmllclxuICAvLyAyMS4yLjIuOCBBdG9tXG4gIC8vIDIxLjIuMi45IEF0b21Fc2NhcGVcbiAgLy8gMjEuMi4yLjEwIENoYXJhY3RlckVzY2FwZVxuICAvLyAyMS4yLjIuMTEgRGVjaW1hbEVzY2FwZVxuICAvLyAyMS4yLjIuMTIgQ2hhcmFjdGVyQ2xhc3NFc2NhcGVcbiAgLy8gMjEuMi4yLjEzIENoYXJhY3RlckNsYXNzXG4gIC8vIDIxLjIuMi4xNCBDbGFzc1Jhbmdlc1xuICAvLyAyMS4yLjIuMTUgTm9uZW1wdHlDbGFzc1Jhbmdlc1xuICAvLyAyMS4yLjIuMTYgTm9uZW1wdHlDbGFzc1Jhbmdlc05vRGFzaFxuICAvLyAyMS4yLjIuMTcgQ2xhc3NBdG9tXG4gIC8vIDIxLjIuMi4xOCBDbGFzc0F0b21Ob0Rhc2hcbiAgLy8gMjEuMi4yLjE5IENsYXNzRXNjYXBlXG4gIC8vIDIxLjIuMyBUaGUgUmVnRXhwIENvbnN0cnVjdG9yXG4gIC8vIDIxLjIuMy4xIFJlZ0V4cCAoIHBhdHRlcm4sIGZsYWdzIClcbiAgLy8gMjEuMi4zLjIgbmV3IFJlZ0V4cCggLi4uYXJndW1lbnRzTGlzdCApXG4gIC8vIDIxLjIuMy4zIEFic3RyYWN0IE9wZXJhdGlvbnMgZm9yIHRoZSBSZWdFeHAgQ29uc3RydWN0b3JcbiAgLy8gMjEuMi40IFByb3BlcnRpZXMgb2YgdGhlIFJlZ0V4cCBDb25zdHJ1Y3RvclxuICAvLyAyMS4yLjQuMSBSZWdFeHAucHJvdG90eXBlXG4gIC8vIDIxLjIuNSBQcm9wZXJ0aWVzIG9mIHRoZSBSZWdFeHAgUHJvdG90eXBlIE9iamVjdFxuICAvLyAyMS4yLjUuMSBSZWdFeHAucHJvdG90eXBlLmNvbnN0cnVjdG9yXG4gIC8vIDIxLjIuNS4yIFJlZ0V4cC5wcm90b3R5cGUuZXhlYyAoIHN0cmluZyApXG5cbiAgLy8gMjEuMi41LjMgZ2V0IFJlZ0V4cC5wcm90b3R5cGUuZmxhZ3NcbiAgaWYgKCEoJ2ZsYWdzJyBpbiBSZWdFeHAucHJvdG90eXBlKSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgIFJlZ0V4cC5wcm90b3R5cGUsICdmbGFncycsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcyA9IFN0cmluZyh0aGlzKTtcbiAgICAgICAgICByZXR1cm4gcy5zdWJzdHJpbmcocy5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgLy8gMjEuMi41LjQgZ2V0IFJlZ0V4cC5wcm90b3R5cGUuZ2xvYmFsXG4gIC8vIDIxLjIuNS41IGdldCBSZWdFeHAucHJvdG90eXBlLmlnbm9yZUNhc2VcblxuICAvLyAyMS4yLjUuNiBSZWdFeHAucHJvdG90eXBlIFsgQEBtYXRjaCBdICggc3RyaW5nIClcbiAgZGVmaW5lKFJlZ0V4cC5wcm90b3R5cGUsICQkbWF0Y2gsIGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHZhciBvID0gc3RyaWN0KHRoaXMpO1xuICAgIHJldHVybiBvcmlnX21hdGNoLmNhbGwoc3RyaW5nLCBvKTtcbiAgfSk7XG5cbiAgLy8gMjEuMi41LjcgZ2V0IFJlZ0V4cC5wcm90b3R5cGUubXVsdGlsaW5lXG5cbiAgLy8gMjEuMi41LjggUmVnRXhwLnByb3RvdHlwZSBbIEBAcmVwbGFjZSBdICggc3RyaW5nLCByZXBsYWNlVmFsdWUgKVxuICBkZWZpbmUoUmVnRXhwLnByb3RvdHlwZSwgJCRyZXBsYWNlLCBmdW5jdGlvbihzdHJpbmcsIHJlcGxhY2VWYWx1ZSkge1xuICAgIHZhciBvID0gc3RyaWN0KHRoaXMpO1xuICAgIHJldHVybiBvcmlnX3JlcGxhY2UuY2FsbChzdHJpbmcsIG8sIHJlcGxhY2VWYWx1ZSk7XG4gIH0pO1xuXG4gIC8vIDIxLjIuNS45IFJlZ0V4cC5wcm90b3R5cGUgWyBAQHNlYXJjaCBdICggc3RyaW5nIClcbiAgZGVmaW5lKFJlZ0V4cC5wcm90b3R5cGUsICQkc2VhcmNoLCBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICB2YXIgbyA9IHN0cmljdCh0aGlzKTtcbiAgICByZXR1cm4gb3JpZ19zZWFyY2guY2FsbChzdHJpbmcsIG8pO1xuICB9KTtcblxuICAvLyAyMS4yLjUuMTAgZ2V0IFJlZ0V4cC5wcm90b3R5cGUuc291cmNlXG5cbiAgLy8gMjEuMi41LjExIFJlZ0V4cC5wcm90b3R5cGUgWyBAQHNwbGl0IF0gKCBzdHJpbmcsIGxpbWl0IClcbiAgZGVmaW5lKFJlZ0V4cC5wcm90b3R5cGUsICQkc3BsaXQsIGZ1bmN0aW9uKHN0cmluZywgbGltaXQpIHtcbiAgICB2YXIgbyA9IHN0cmljdCh0aGlzKTtcbiAgICByZXR1cm4gb3JpZ19zcGxpdC5jYWxsKHN0cmluZywgbywgbGltaXQpO1xuICB9KTtcblxuICAvLyAyMS4yLjUuMTIgZ2V0IFJlZ0V4cC5wcm90b3R5cGUuc3RpY2t5XG4gIC8vIDIxLjIuNS4xMyBSZWdFeHAucHJvdG90eXBlLnRlc3QoIFMgKVxuICAvLyAyMS4yLjUuMTQgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZyAoIClcbiAgLy8gMjEuMi41LjE1IGdldCBSZWdFeHAucHJvdG90eXBlLnVuaWNvZGVcblxuICAvLyAyMS4yLjYgUHJvcGVydGllcyBvZiBSZWdFeHAgSW5zdGFuY2VzXG4gIC8vIDIxLjIuNi4xIGxhc3RJbmRleFxuXG4gIC8vIChObyBwb2x5ZmlsbGFibGUgY2hhbmdlcyBmcm9tIEVTNSlcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMjIgSW5kZXhlZCBDb2xsZWN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMjIuMSBBcnJheSBPYmplY3RzXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIDIyLjEuMSBUaGUgQXJyYXkgQ29uc3RydWN0b3JcbiAgLy8gMjIuMS4xLjEgQXJyYXkgKCApXG4gIC8vIDIyLjEuMS4yIEFycmF5IChsZW4pXG4gIC8vIDIyLjEuMS4zIEFycmF5ICguLi5pdGVtcyApXG5cbiAgLy8gMjIuMS4yIFByb3BlcnRpZXMgb2YgdGhlIEFycmF5IENvbnN0cnVjdG9yXG5cbiAgLy8gMjIuMS4yLjEgQXJyYXkuZnJvbSAoIGl0ZW1zIFsgLCBtYXBmbiBbICwgdGhpc0FyZyBdIF0gKVxuICBkZWZpbmUoXG4gICAgQXJyYXksICdmcm9tJyxcbiAgICBmdW5jdGlvbiBmcm9tKGl0ZW1zKSB7XG4gICAgICB2YXIgbWFwZm4gPSBhcmd1bWVudHNbMV07XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50c1syXTtcblxuICAgICAgdmFyIGMgPSBzdHJpY3QodGhpcyk7XG4gICAgICBpZiAobWFwZm4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgbWFwcGluZyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFJc0NhbGxhYmxlKG1hcGZuKSkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIHZhciB0ID0gdGhpc0FyZztcbiAgICAgICAgbWFwcGluZyA9IHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgdXNpbmdJdGVyYXRvciA9IEdldE1ldGhvZChpdGVtcywgJCRpdGVyYXRvcik7XG4gICAgICBpZiAodXNpbmdJdGVyYXRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICBpZiAoSXNDb25zdHJ1Y3RvcihjKSkge1xuICAgICAgICAgIHZhciBhID0gbmV3IGMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhID0gbmV3IEFycmF5KDApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpdGVyYXRvciA9IEdldEl0ZXJhdG9yKGl0ZW1zLCB1c2luZ0l0ZXJhdG9yKTtcbiAgICAgICAgdmFyIGsgPSAwO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIHZhciBuZXh0ID0gSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKTtcbiAgICAgICAgICBpZiAobmV4dCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGEubGVuZ3RoID0gaztcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gSXRlcmF0b3JWYWx1ZShuZXh0KTtcbiAgICAgICAgICBpZiAobWFwcGluZylcbiAgICAgICAgICAgIHZhciBtYXBwZWRWYWx1ZSA9IG1hcGZuLmNhbGwodCwgbmV4dFZhbHVlKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBtYXBwZWRWYWx1ZSA9IG5leHRWYWx1ZTtcbiAgICAgICAgICBhW2tdID0gbWFwcGVkVmFsdWU7XG4gICAgICAgICAgayArPSAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgYXJyYXlMaWtlID0gVG9PYmplY3QoaXRlbXMpO1xuICAgICAgdmFyIGxlblZhbHVlID0gYXJyYXlMaWtlLmxlbmd0aDtcbiAgICAgIHZhciBsZW4gPSBUb0xlbmd0aChsZW5WYWx1ZSk7XG4gICAgICBpZiAoSXNDb25zdHJ1Y3RvcihjKSkge1xuICAgICAgICBhID0gbmV3IGMobGVuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGEgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgIH1cbiAgICAgIGsgPSAwO1xuICAgICAgd2hpbGUgKGsgPCBsZW4pIHtcbiAgICAgICAgdmFyIGtWYWx1ZSA9IGFycmF5TGlrZVtrXTtcbiAgICAgICAgaWYgKG1hcHBpbmcpXG4gICAgICAgICAgbWFwcGVkVmFsdWUgPSBtYXBmbi5jYWxsKHQsIGtWYWx1ZSwgayk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBtYXBwZWRWYWx1ZSA9IGtWYWx1ZTtcbiAgICAgICAgYVtrXSA9IG1hcHBlZFZhbHVlO1xuICAgICAgICBrICs9IDE7XG4gICAgICB9XG4gICAgICBhLmxlbmd0aCA9IGxlbjtcbiAgICAgIHJldHVybiBhO1xuICAgIH0pO1xuXG4gIC8vIDIyLjEuMi4yIEFycmF5LmlzQXJyYXkgKCBhcmcgKVxuXG4gIC8vIDIyLjEuMi4zIEFycmF5Lm9mICggLi4uaXRlbXMgKVxuICBkZWZpbmUoXG4gICAgQXJyYXksICdvZicsXG4gICAgZnVuY3Rpb24gb2YoKSB7XG4gICAgICB2YXIgaXRlbXMgPSBhcmd1bWVudHM7XG5cbiAgICAgIHZhciBsZW5WYWx1ZSA9IGl0ZW1zLmxlbmd0aDtcbiAgICAgIHZhciBsZW4gPSBUb1VpbnQzMihsZW5WYWx1ZSk7XG4gICAgICB2YXIgYyA9IHN0cmljdCh0aGlzKSwgYTtcbiAgICAgIGlmIChJc0NvbnN0cnVjdG9yKGMpKSB7XG4gICAgICAgIGEgPSBuZXcgYyhsZW4pO1xuICAgICAgICBhID0gVG9PYmplY3QoYSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhID0gbmV3IEFycmF5KGxlbik7XG4gICAgICB9XG4gICAgICB2YXIgayA9IDA7XG4gICAgICB3aGlsZSAoayA8IGxlbikge1xuICAgICAgICBhW2tdID0gaXRlbXNba107XG4gICAgICAgIGsgKz0gMTtcbiAgICAgIH1cbiAgICAgIGEubGVuZ3RoID0gbGVuO1xuICAgICAgcmV0dXJuIGE7XG4gICAgfSk7XG5cbiAgLy8gMjIuMS4yLjQgQXJyYXkucHJvdG90eXBlXG4gIC8vIDIyLjEuMi41IGdldCBBcnJheSBbIEBAc3BlY2llcyBdXG4gIC8vIDIyLjEuMyBQcm9wZXJ0aWVzIG9mIHRoZSBBcnJheSBQcm90b3R5cGUgT2JqZWN0XG4gIC8vIDIyLjEuMy4xIEFycmF5LnByb3RvdHlwZS5jb25jYXQgKCAuLi5hcmd1bWVudHMgKVxuICAvLyAyMi4xLjMuMS4xIFJ1bnRpbWUgU2VtYW50aWNzOiBJc0NvbmNhdFNwcmVhZGFibGUgKCBPIClcbiAgLy8gMjIuMS4zLjIgQXJyYXkucHJvdG90eXBlLmNvbnN0cnVjdG9yXG4gIC8vIDIyLjEuMy4zIEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluICh0YXJnZXQsIHN0YXJ0IFsgLCBlbmQgXSApXG4gIGRlZmluZShcbiAgICBBcnJheS5wcm90b3R5cGUsICdjb3B5V2l0aGluJyxcbiAgICBmdW5jdGlvbiBjb3B5V2l0aGluKHRhcmdldCwgc3RhcnQvKiwgZW5kKi8pIHtcbiAgICAgIHZhciBlbmQgPSBhcmd1bWVudHNbMl07XG5cbiAgICAgIHZhciBvID0gVG9PYmplY3QodGhpcyk7XG4gICAgICB2YXIgbGVuVmFsID0gby5sZW5ndGg7XG4gICAgICB2YXIgbGVuID0gVG9MZW5ndGgobGVuVmFsKTtcbiAgICAgIGxlbiA9IG1heChsZW4sIDApO1xuICAgICAgdmFyIHJlbGF0aXZlVGFyZ2V0ID0gVG9JbnRlZ2VyKHRhcmdldCk7XG4gICAgICB2YXIgdG87XG4gICAgICBpZiAocmVsYXRpdmVUYXJnZXQgPCAwKVxuICAgICAgICB0byA9IG1heChsZW4gKyByZWxhdGl2ZVRhcmdldCwgMCk7XG4gICAgICBlbHNlXG4gICAgICAgIHRvID0gbWluKHJlbGF0aXZlVGFyZ2V0LCBsZW4pO1xuICAgICAgdmFyIHJlbGF0aXZlU3RhcnQgPSBUb0ludGVnZXIoc3RhcnQpO1xuICAgICAgdmFyIGZyb207XG4gICAgICBpZiAocmVsYXRpdmVTdGFydCA8IDApXG4gICAgICAgIGZyb20gPSBtYXgobGVuICsgcmVsYXRpdmVTdGFydCwgMCk7XG4gICAgICBlbHNlXG4gICAgICAgIGZyb20gPSBtaW4ocmVsYXRpdmVTdGFydCwgbGVuKTtcbiAgICAgIHZhciByZWxhdGl2ZUVuZDtcbiAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmVsYXRpdmVFbmQgPSBsZW47XG4gICAgICBlbHNlXG4gICAgICAgIHJlbGF0aXZlRW5kID0gVG9JbnRlZ2VyKGVuZCk7XG4gICAgICB2YXIgZmluYWw7XG4gICAgICBpZiAocmVsYXRpdmVFbmQgPCAwKVxuICAgICAgICBmaW5hbCA9IG1heChsZW4gKyByZWxhdGl2ZUVuZCwgMCk7XG4gICAgICBlbHNlXG4gICAgICAgIGZpbmFsID0gbWluKHJlbGF0aXZlRW5kLCBsZW4pO1xuICAgICAgdmFyIGNvdW50ID0gbWluKGZpbmFsIC0gZnJvbSwgbGVuIC0gdG8pO1xuICAgICAgdmFyIGRpcmVjdGlvbjtcbiAgICAgIGlmIChmcm9tIDwgdG8gJiYgdG8gPCBmcm9tICsgY291bnQpIHtcbiAgICAgICAgZGlyZWN0aW9uID0gLTE7XG4gICAgICAgIGZyb20gPSBmcm9tICsgY291bnQgLSAxO1xuICAgICAgICB0byA9IHRvICsgY291bnQgLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlyZWN0aW9uID0gMTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChjb3VudCA+IDApIHtcbiAgICAgICAgdmFyIGZyb21LZXkgPSBTdHJpbmcoZnJvbSk7XG4gICAgICAgIHZhciB0b0tleSA9IFN0cmluZyh0byk7XG4gICAgICAgIHZhciBmcm9tUHJlc2VudCA9IEhhc1Byb3BlcnR5KG8sIGZyb21LZXkpO1xuICAgICAgICBpZiAoZnJvbVByZXNlbnQpIHtcbiAgICAgICAgICB2YXIgZnJvbVZhbCA9IG9bZnJvbUtleV07XG4gICAgICAgICAgb1t0b0tleV0gPSBmcm9tVmFsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBvW3RvS2V5XTtcbiAgICAgICAgfVxuICAgICAgICBmcm9tID0gZnJvbSArIGRpcmVjdGlvbjtcbiAgICAgICAgdG8gPSB0byArIGRpcmVjdGlvbjtcbiAgICAgICAgY291bnQgPSBjb3VudCAtIDE7XG4gICAgICB9XG4gICAgICByZXR1cm4gbztcbiAgICB9KTtcblxuICAvLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcyAoIClcbiAgdmFyIG5hdGl2ZUFycmF5SXRlcmF0b3JNZXRob2RzID1cbiAgICAgICAgKCdlbnRyaWVzJyBpbiBBcnJheS5wcm90b3R5cGUgJiYgJ25leHQnIGluIFtdLmVudHJpZXMoKSk7XG5cbiAgZGVmaW5lKFxuICAgIEFycmF5LnByb3RvdHlwZSwgJ2VudHJpZXMnLFxuICAgIGZ1bmN0aW9uIGVudHJpZXMoKSB7XG4gICAgICByZXR1cm4gQ3JlYXRlQXJyYXlJdGVyYXRvcih0aGlzLCAna2V5K3ZhbHVlJyk7XG4gICAgfSwgIW5hdGl2ZUFycmF5SXRlcmF0b3JNZXRob2RzKTtcblxuICAvLyAyMi4xLjMuNSBBcnJheS5wcm90b3R5cGUuZXZlcnkgKCBjYWxsYmFja2ZuIFsgLCB0aGlzQXJnXSApXG5cbiAgLy8gMjIuMS4zLjYgQXJyYXkucHJvdG90eXBlLmZpbGwgKHZhbHVlIFsgLCBzdGFydCBbICwgZW5kIF0gXSApXG4gIGRlZmluZShcbiAgICBBcnJheS5wcm90b3R5cGUsICdmaWxsJyxcbiAgICBmdW5jdGlvbiBmaWxsKHZhbHVlLyosIHN0YXJ0LCBlbmQqLykge1xuICAgICAgdmFyIHN0YXJ0ID0gYXJndW1lbnRzWzFdLFxuICAgICAgICAgIGVuZCA9IGFyZ3VtZW50c1syXTtcblxuICAgICAgdmFyIG8gPSBUb09iamVjdCh0aGlzKTtcbiAgICAgIHZhciBsZW5WYWwgPSBvLmxlbmd0aDtcbiAgICAgIHZhciBsZW4gPSBUb0xlbmd0aChsZW5WYWwpO1xuICAgICAgbGVuID0gbWF4KGxlbiwgMCk7XG4gICAgICB2YXIgcmVsYXRpdmVTdGFydCA9IFRvSW50ZWdlcihzdGFydCk7XG4gICAgICB2YXIgaztcbiAgICAgIGlmIChyZWxhdGl2ZVN0YXJ0IDwgMClcbiAgICAgICAgayA9IG1heCgobGVuICsgcmVsYXRpdmVTdGFydCksIDApO1xuICAgICAgZWxzZVxuICAgICAgICBrID0gbWluKHJlbGF0aXZlU3RhcnQsIGxlbik7XG4gICAgICB2YXIgcmVsYXRpdmVFbmQ7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJlbGF0aXZlRW5kID0gbGVuO1xuICAgICAgZWxzZVxuICAgICAgICByZWxhdGl2ZUVuZCA9IFRvSW50ZWdlcihlbmQpO1xuICAgICAgdmFyIGZpbmFsO1xuICAgICAgaWYgKHJlbGF0aXZlRW5kIDwgMClcbiAgICAgICAgZmluYWwgPSBtYXgoKGxlbiArIHJlbGF0aXZlRW5kKSwgMCk7XG4gICAgICBlbHNlXG4gICAgICAgIGZpbmFsID0gbWluKHJlbGF0aXZlRW5kLCBsZW4pO1xuICAgICAgd2hpbGUgKGsgPCBmaW5hbCkge1xuICAgICAgICB2YXIgcGsgPSBTdHJpbmcoayk7XG4gICAgICAgIG9bcGtdID0gdmFsdWU7XG4gICAgICAgIGsgKz0gMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvO1xuICAgIH0pO1xuXG4gIC8vIDIyLjEuMy43IEFycmF5LnByb3RvdHlwZS5maWx0ZXIgKCBjYWxsYmFja2ZuIFsgLCB0aGlzQXJnIF0gKVxuXG4gIC8vIDIyLjEuMy44IEFycmF5LnByb3RvdHlwZS5maW5kICggcHJlZGljYXRlIFsgLCB0aGlzQXJnIF0gKVxuICBkZWZpbmUoXG4gICAgQXJyYXkucHJvdG90eXBlLCAnZmluZCcsXG4gICAgZnVuY3Rpb24gZmluZChwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBvID0gVG9PYmplY3QodGhpcyk7XG4gICAgICB2YXIgbGVuVmFsdWUgPSBvLmxlbmd0aDtcbiAgICAgIHZhciBsZW4gPSBUb0ludGVnZXIobGVuVmFsdWUpO1xuICAgICAgaWYgKCFJc0NhbGxhYmxlKHByZWRpY2F0ZSkpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgdmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciBrID0gMDtcbiAgICAgIHdoaWxlIChrIDwgbGVuKSB7XG4gICAgICAgIHZhciBwayA9IFN0cmluZyhrKTtcbiAgICAgICAgdmFyIGtQcmVzZW50ID0gSGFzUHJvcGVydHkobywgcGspO1xuICAgICAgICBpZiAoa1ByZXNlbnQpIHtcbiAgICAgICAgICB2YXIga1ZhbHVlID0gb1twa107XG4gICAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBwcmVkaWNhdGUuY2FsbCh0LCBrVmFsdWUsIGssIG8pO1xuICAgICAgICAgIGlmIChCb29sZWFuKHRlc3RSZXN1bHQpKSB7XG4gICAgICAgICAgICByZXR1cm4ga1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICArK2s7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xuXG4gIC8vIDIyLjEuMy45IEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXggKCBwcmVkaWNhdGUgWyAsIHRoaXNBcmcgXSApXG4gIGRlZmluZShcbiAgICBBcnJheS5wcm90b3R5cGUsICdmaW5kSW5kZXgnLFxuICAgIGZ1bmN0aW9uIGZpbmRJbmRleChwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBvID0gVG9PYmplY3QodGhpcyk7XG4gICAgICB2YXIgbGVuVmFsdWUgPSBvLmxlbmd0aDtcbiAgICAgIHZhciBsZW4gPSBUb0xlbmd0aChsZW5WYWx1ZSk7XG4gICAgICBpZiAoIUlzQ2FsbGFibGUocHJlZGljYXRlKSkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICB2YXIgdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIGsgPSAwO1xuICAgICAgd2hpbGUgKGsgPCBsZW4pIHtcbiAgICAgICAgdmFyIHBrID0gU3RyaW5nKGspO1xuICAgICAgICB2YXIga1ByZXNlbnQgPSBIYXNQcm9wZXJ0eShvLCBwayk7XG4gICAgICAgIGlmIChrUHJlc2VudCkge1xuICAgICAgICAgIHZhciBrVmFsdWUgPSBvW3BrXTtcbiAgICAgICAgICB2YXIgdGVzdFJlc3VsdCA9IHByZWRpY2F0ZS5jYWxsKHQsIGtWYWx1ZSwgaywgbyk7XG4gICAgICAgICAgaWYgKEJvb2xlYW4odGVzdFJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICArK2s7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfSk7XG5cbiAgLy8gMjIuMS4zLjEwIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoICggY2FsbGJhY2tmbiBbICwgdGhpc0FyZyBdIClcbiAgLy8gMjIuMS4zLjExIEFycmF5LnByb3RvdHlwZS5pbmRleE9mICggc2VhcmNoRWxlbWVudCBbICwgZnJvbUluZGV4IF0gKVxuICAvLyAyMi4xLjMuMTIgQXJyYXkucHJvdG90eXBlLmpvaW4gKHNlcGFyYXRvcilcblxuICAvLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMgKCApXG4gIGRlZmluZShcbiAgICBBcnJheS5wcm90b3R5cGUsICdrZXlzJyxcbiAgICBmdW5jdGlvbiBrZXlzKCkge1xuICAgICAgcmV0dXJuIENyZWF0ZUFycmF5SXRlcmF0b3IodGhpcywgJ2tleScpO1xuICAgIH0sICFuYXRpdmVBcnJheUl0ZXJhdG9yTWV0aG9kcyk7XG5cbiAgLy8gMjIuMS4zLjE0IEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiAoIHNlYXJjaEVsZW1lbnQgWyAsIGZyb21JbmRleCBdIClcbiAgLy8gMjIuMS4zLjE1IEFycmF5LnByb3RvdHlwZS5tYXAgKCBjYWxsYmFja2ZuIFsgLCB0aGlzQXJnIF0gKVxuICAvLyAyMi4xLjMuMTYgQXJyYXkucHJvdG90eXBlLnBvcCAoIClcbiAgLy8gMjIuMS4zLjE3IEFycmF5LnByb3RvdHlwZS5wdXNoICggLi4uaXRlbXMgKVxuICAvLyAyMi4xLjMuMTggQXJyYXkucHJvdG90eXBlLnJlZHVjZSAoIGNhbGxiYWNrZm4gWyAsIGluaXRpYWxWYWx1ZSBdIClcbiAgLy8gMjIuMS4zLjE5IEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCAoIGNhbGxiYWNrZm4gWyAsIGluaXRpYWxWYWx1ZSBdIClcbiAgLy8gMjIuMS4zLjIwIEFycmF5LnByb3RvdHlwZS5yZXZlcnNlICggKVxuICAvLyAyMi4xLjMuMjEgQXJyYXkucHJvdG90eXBlLnNoaWZ0ICggKVxuICAvLyAyMi4xLjMuMjIgQXJyYXkucHJvdG90eXBlLnNsaWNlIChzdGFydCwgZW5kKVxuICAvLyAyMi4xLjMuMjMgQXJyYXkucHJvdG90eXBlLnNvbWUgKCBjYWxsYmFja2ZuIFsgLCB0aGlzQXJnIF0gKVxuICAvLyAyMi4xLjMuMjQgQXJyYXkucHJvdG90eXBlLnNvcnQgKGNvbXBhcmVmbilcbiAgLy8gMjIuMS4zLjI1IEFycmF5LnByb3RvdHlwZS5zcGxpY2UgKHN0YXJ0LCBkZWxldGVDb3VudCAsIC4uLml0ZW1zIClcbiAgLy8gMjIuMS4zLjI2IEFycmF5LnByb3RvdHlwZS50b0xvY2FsZVN0cmluZyAoIFsgcmVzZXJ2ZWQxIFsgLCByZXNlcnZlZDIgXSBdIClcbiAgLy8gMjIuMS4zLjI3IEFycmF5LnByb3RvdHlwZS50b1N0cmluZyAoIClcbiAgLy8gMjIuMS4zLjI4IEFycmF5LnByb3RvdHlwZS51bnNoaWZ0ICggLi4uaXRlbXMgKVxuXG4gIC8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzICggKVxuICBkZWZpbmUoXG4gICAgQXJyYXkucHJvdG90eXBlLCAndmFsdWVzJyxcbiAgICBmdW5jdGlvbiB2YWx1ZXMoKSB7XG4gICAgICByZXR1cm4gQ3JlYXRlQXJyYXlJdGVyYXRvcih0aGlzLCAndmFsdWUnKTtcbiAgICB9LCAhbmF0aXZlQXJyYXlJdGVyYXRvck1ldGhvZHMpO1xuXG4gIC8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGUgWyBAQGl0ZXJhdG9yIF0gKCApXG4gIGRlZmluZShcbiAgICBBcnJheS5wcm90b3R5cGUsICQkaXRlcmF0b3IsXG4gICAgQXJyYXkucHJvdG90eXBlLnZhbHVlc1xuICAgICk7XG5cbiAgLy8gMjIuMS4zLjMxIEFycmF5LnByb3RvdHlwZSBbIEBAdW5zY29wYWJsZXMgXVxuICAvLyAyMi4xLjQgUHJvcGVydGllcyBvZiBBcnJheSBJbnN0YW5jZXNcbiAgLy8gMjIuMS40LjEgbGVuZ3RoXG5cbiAgLy8gMjIuMS41IEFycmF5IEl0ZXJhdG9yIE9iamVjdHNcbiAgZnVuY3Rpb24gQXJyYXlJdGVyYXRvcigpIHt9XG5cbiAgLy8gMjIuMS41LjEgQ3JlYXRlQXJyYXlJdGVyYXRvciBBYnN0cmFjdCBPcGVyYXRpb25cbiAgZnVuY3Rpb24gQ3JlYXRlQXJyYXlJdGVyYXRvcihhcnJheSwga2luZCkge1xuICAgIHZhciBvID0gVG9PYmplY3QoYXJyYXkpO1xuICAgIHZhciBpdGVyYXRvciA9IG5ldyBBcnJheUl0ZXJhdG9yO1xuICAgIHNldF9pbnRlcm5hbChpdGVyYXRvciwgJ1tbSXRlcmF0ZWRPYmplY3RdXScsIG8pO1xuICAgIHNldF9pbnRlcm5hbChpdGVyYXRvciwgJ1tbQXJyYXlJdGVyYXRvck5leHRJbmRleF1dJywgMCk7XG4gICAgc2V0X2ludGVybmFsKGl0ZXJhdG9yLCAnW1tBcnJheUl0ZXJhdGlvbktpbmRdXScsIGtpbmQpO1xuICAgIHJldHVybiBpdGVyYXRvcjtcbiAgfVxuXG4gIC8vIDIyLjEuNS4yIFRoZSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUgT2JqZWN0XG4gIHZhciAkQXJyYXlJdGVyYXRvclByb3RvdHlwZSQgPSBPYmplY3QuY3JlYXRlKCRJdGVyYXRvclByb3RvdHlwZSQpO1xuICBBcnJheUl0ZXJhdG9yLnByb3RvdHlwZSA9ICRBcnJheUl0ZXJhdG9yUHJvdG90eXBlJDtcblxuICAvLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS4gbmV4dCggKVxuICBkZWZpbmUoXG4gICAgJEFycmF5SXRlcmF0b3JQcm90b3R5cGUkLCAnbmV4dCcsXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHZhciBvID0gc3RyaWN0KHRoaXMpO1xuICAgICAgaWYgKFR5cGUobykgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgIHZhciBhID0gb1snW1tJdGVyYXRlZE9iamVjdF1dJ10sXG4gICAgICAgICAgaW5kZXggPSBvWydbW0FycmF5SXRlcmF0b3JOZXh0SW5kZXhdXSddLFxuICAgICAgICAgIGl0ZW1LaW5kID0gb1snW1tBcnJheUl0ZXJhdGlvbktpbmRdXSddLFxuICAgICAgICAgIGxlblZhbHVlID0gYS5sZW5ndGgsXG4gICAgICAgICAgbGVuID0gVG9VaW50MzIobGVuVmFsdWUpLFxuICAgICAgICAgIGVsZW1lbnRLZXksXG4gICAgICAgICAgZWxlbWVudFZhbHVlO1xuICAgICAgaWYgKGl0ZW1LaW5kLmluZGV4T2YoJ3NwYXJzZScpICE9PSAtMSkge1xuICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKCFmb3VuZCAmJiBpbmRleCA8IGxlbikge1xuICAgICAgICAgIGVsZW1lbnRLZXkgPSBTdHJpbmcoaW5kZXgpO1xuICAgICAgICAgIGZvdW5kID0gSGFzUHJvcGVydHkoYSwgZWxlbWVudEtleSk7XG4gICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpbmRleCA+PSBsZW4pIHtcbiAgICAgICAgc2V0X2ludGVybmFsKG8sICdbW0FycmF5SXRlcmF0b3JOZXh0SW5kZXhdXScsIEluZmluaXR5KTtcbiAgICAgICAgcmV0dXJuIENyZWF0ZUl0ZXJSZXN1bHRPYmplY3QodW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnRLZXkgPSBpbmRleDtcbiAgICAgIHNldF9pbnRlcm5hbChvLCAnW1tBcnJheUl0ZXJhdG9yTmV4dEluZGV4XV0nLCBpbmRleCArIDEpO1xuICAgICAgaWYgKGl0ZW1LaW5kLmluZGV4T2YoJ3ZhbHVlJykgIT09IC0xKVxuICAgICAgICBlbGVtZW50VmFsdWUgPSBhW2VsZW1lbnRLZXldO1xuICAgICAgaWYgKGl0ZW1LaW5kLmluZGV4T2YoJ2tleSt2YWx1ZScpICE9PSAtMSlcbiAgICAgICAgcmV0dXJuIENyZWF0ZUl0ZXJSZXN1bHRPYmplY3QoW2VsZW1lbnRLZXksIGVsZW1lbnRWYWx1ZV0sIGZhbHNlKTtcbiAgICAgIGlmIChpdGVtS2luZC5pbmRleE9mKCdrZXknKSAhPT0gLTEpXG4gICAgICAgIHJldHVybiBDcmVhdGVJdGVyUmVzdWx0T2JqZWN0KGVsZW1lbnRLZXksIGZhbHNlKTtcbiAgICAgIGlmIChpdGVtS2luZCA9PT0gJ3ZhbHVlJylcbiAgICAgICAgcmV0dXJuIENyZWF0ZUl0ZXJSZXN1bHRPYmplY3QoZWxlbWVudFZhbHVlLCBmYWxzZSk7XG4gICAgICB0aHJvdyBFcnJvcignSW50ZXJuYWwgZXJyb3InKTtcbiAgICB9KTtcblxuICAvLyAyMi4xLjUuMi4yICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJSBbIEBAdG9TdHJpbmdUYWcgXVxuICBkZWZpbmUoJEFycmF5SXRlcmF0b3JQcm90b3R5cGUkLCAkJHRvU3RyaW5nVGFnLCAnQXJyYXkgSXRlcmF0b3InKTtcblxuICAvLyAyMi4xLjUuMyBQcm9wZXJ0aWVzIG9mIEFycmF5IEl0ZXJhdG9yIEluc3RhbmNlc1xuXG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIDIyLjIgVHlwZWRBcnJheSBPYmplY3RzXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFNlZSB0eXBlZGFycmF5LmpzIGZvciBUeXBlZEFycmF5IHBvbHlmaWxsXG5cbiAgWydJbnQ4QXJyYXknLCAnVWludDhBcnJheScsICdVaW50OENsYW1wZWRBcnJheScsXG4gICAnSW50MTZBcnJheScsICdVaW50MTZBcnJheScsXG4gICAnSW50MzJBcnJheScsICdVaW50MzJBcnJheScsXG4gICAnRmxvYXQzMkFycmF5JywgJ0Zsb2F0NjRBcnJheSddLmZvckVhY2goZnVuY3Rpb24gKCRUeXBlZEFycmF5TmFtZSQpIHtcbiAgICAgaWYgKCEoJFR5cGVkQXJyYXlOYW1lJCBpbiBnbG9iYWwpKVxuICAgICAgIHJldHVybjtcbiAgICAgdmFyICRUeXBlZEFycmF5JCA9IGdsb2JhbFskVHlwZWRBcnJheU5hbWUkXTtcblxuICAgICAvLyAyMi4yLjEgVGhlICVUeXBlZEFycmF5JSBJbnRyaW5zaWMgT2JqZWN0XG4gICAgIC8vIDIyLjIuMS4xICVUeXBlZEFycmF5JSAoIGxlbmd0aCApXG4gICAgIC8vIDIyLjIuMS4yICVUeXBlZEFycmF5JSAoIHR5cGVkQXJyYXkgKVxuICAgICAvLyAyMi4yLjEuMyAlVHlwZWRBcnJheSUgKCBvYmplY3QgKVxuICAgICAvLyAyMi4yLjEuNCAlVHlwZWRBcnJheSUgKCBidWZmZXIgWyAsIGJ5dGVPZmZzZXQgWyAsIGxlbmd0aCBdIF0gKVxuICAgICAvLyAyMi4yLjEuNSAlVHlwZWRBcnJheSUgKCBhbGwgb3RoZXIgYXJndW1lbnQgY29tYmluYXRpb25zIClcbiAgICAgLy8gMjIuMi4yIFByb3BlcnRpZXMgb2YgdGhlICVUeXBlZEFycmF5JSBJbnRyaW5zaWMgT2JqZWN0XG5cbiAgICAgLy8gMjIuMi4yLjEgJVR5cGVkQXJyYXklLmZyb20gKCBzb3VyY2UgWyAsIG1hcGZuIFsgLCB0aGlzQXJnIF0gXSApXG4gICAgIGRlZmluZShcbiAgICAgICAkVHlwZWRBcnJheSQsICdmcm9tJyxcbiAgICAgICBmdW5jdGlvbiBmcm9tKHNvdXJjZSkge1xuICAgICAgICAgdmFyIG1hcGZuID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHNbMl07XG5cbiAgICAgICAgIHZhciBjID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICAgaWYgKCFJc0NvbnN0cnVjdG9yKGMpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgIGlmIChtYXBmbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgIHZhciBtYXBwaW5nID0gZmFsc2U7XG4gICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICBpZiAoSXNDYWxsYWJsZShtYXBmbikpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICAgICB2YXIgdCA9IHRoaXNBcmc7XG4gICAgICAgICAgIG1hcHBpbmcgPSB0cnVlO1xuICAgICAgICAgfVxuICAgICAgICAgdmFyIHVzaW5nSXRlcmF0b3IgPSBHZXRNZXRob2Qoc291cmNlLCAkJGl0ZXJhdG9yKTtcbiAgICAgICAgIGlmICh1c2luZ0l0ZXJhdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gR2V0SXRlcmF0b3Ioc291cmNlLCB1c2luZ0l0ZXJhdG9yKTtcbiAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICAgICB2YXIgbmV4dCA9IHRydWU7XG4gICAgICAgICAgIHdoaWxlIChuZXh0ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgIG5leHQgPSBJdGVyYXRvclN0ZXAoaXRlcmF0b3IpO1xuICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgdmFyIG5leHRWYWx1ZSA9IEl0ZXJhdG9yVmFsdWUobmV4dCk7XG4gICAgICAgICAgICAgICB2YWx1ZXMucHVzaChuZXh0VmFsdWUpO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgfVxuICAgICAgICAgICB2YXIgbGVuID0gdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgdmFyIG5ld09iaiA9IG5ldyBjKGxlbik7XG4gICAgICAgICAgIHZhciBrID0gMDtcbiAgICAgICAgICAgd2hpbGUgKGsgPCBsZW4pIHtcbiAgICAgICAgICAgICB2YXIga1ZhbHVlID0gdmFsdWVzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgaWYgKG1hcHBpbmcpIHtcbiAgICAgICAgICAgICAgIHZhciBtYXBwZWRWYWx1ZSA9IG1hcGZuLmNhbGwodCwga1ZhbHVlKTtcbiAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgbWFwcGVkVmFsdWUgPSBrVmFsdWU7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgIG5ld09ialtrXSA9IG1hcHBlZFZhbHVlO1xuICAgICAgICAgICAgICsraztcbiAgICAgICAgICAgfVxuICAgICAgICAgICBjb25zb2xlLmFzc2VydCh2YWx1ZXMubGVuZ3RoID09PSAwKTtcbiAgICAgICAgICAgcmV0dXJuIG5ld09iajtcbiAgICAgICAgIH1cbiAgICAgICAgIHZhciBhcnJheUxpa2UgPSBUb09iamVjdChzb3VyY2UpO1xuICAgICAgICAgdmFyIGxlblZhbHVlID0gYXJyYXlMaWtlLmxlbmd0aDtcbiAgICAgICAgIGxlbiA9IFRvTGVuZ3RoKGxlblZhbHVlKTtcbiAgICAgICAgIG5ld09iaiA9IG5ldyBjKGxlbik7XG4gICAgICAgICBrID0gMDtcbiAgICAgICAgIHdoaWxlIChrIDwgbGVuKSB7XG4gICAgICAgICAgIGtWYWx1ZSA9IGFycmF5TGlrZVtrXTtcbiAgICAgICAgICAgaWYgKG1hcHBpbmcpIHtcbiAgICAgICAgICAgICBtYXBwZWRWYWx1ZSA9IG1hcGZuLmNhbGwodCwga1ZhbHVlLCBrKTtcbiAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICBtYXBwZWRWYWx1ZSA9IGtWYWx1ZTtcbiAgICAgICAgICAgfVxuICAgICAgICAgICBuZXdPYmpba10gPSBtYXBwZWRWYWx1ZTtcbiAgICAgICAgICAgKytrO1xuICAgICAgICAgfVxuICAgICAgICAgcmV0dXJuIG5ld09iajtcbiAgICAgICB9KTtcblxuICAgICAvLyAyMi4yLjIuMiAlVHlwZWRBcnJheSUub2YgKCAuLi5pdGVtcyApXG4gICAgIGRlZmluZShcbiAgICAgICAkVHlwZWRBcnJheSQsICdvZicsXG4gICAgICAgZnVuY3Rpb24gb2YoKSB7XG4gICAgICAgICB2YXIgaXRlbXMgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgIHZhciBsZW4gPSBpdGVtcy5sZW5ndGg7XG4gICAgICAgICB2YXIgYyA9IHN0cmljdCh0aGlzKTtcbiAgICAgICAgIHZhciBuZXdPYmogPSBuZXcgYyhsZW4pO1xuICAgICAgICAgdmFyIGsgPSAwO1xuICAgICAgICAgd2hpbGUgKGsgPCBsZW4pIHtcbiAgICAgICAgICAgbmV3T2JqW2tdID0gaXRlbXNba107XG4gICAgICAgICAgICsraztcbiAgICAgICAgIH1cbiAgICAgICAgIHJldHVybiBuZXdPYmo7XG4gICAgICAgfSk7XG5cbiAgICAgLy8gMjIuMi4yLjMgJVR5cGVkQXJyYXklLnByb3RvdHlwZVxuICAgICAvLyAyMi4yLjIuNCBnZXQgJVR5cGVkQXJyYXklIFsgQEBzcGVjaWVzIF1cbiAgICAgLy8gMjIuMi4zIFByb3BlcnRpZXMgb2YgdGhlICVUeXBlZEFycmF5UHJvdG90eXBlJSBPYmplY3RcbiAgICAgLy8gMjIuMi4zLjEgZ2V0ICVUeXBlZEFycmF5JS5wcm90b3R5cGUuYnVmZmVyXG4gICAgIC8vIDIyLjIuMy4yIGdldCAlVHlwZWRBcnJheSUucHJvdG90eXBlLmJ5dGVMZW5ndGhcbiAgICAgLy8gMjIuMi4zLjMgZ2V0ICVUeXBlZEFycmF5JS5wcm90b3R5cGUuYnl0ZU9mZnNldFxuICAgICAvLyAyMi4yLjMuNCAlVHlwZWRBcnJheSUucHJvdG90eXBlLmNvbnN0cnVjdG9yXG5cbiAgICAgLy8gMjIuMi4zLjUgJVR5cGVkQXJyYXklLnByb3RvdHlwZS5jb3B5V2l0aGluICh0YXJnZXQsIHN0YXJ0IFssIGVuZCBdIClcbiAgICAgZGVmaW5lKCRUeXBlZEFycmF5JC5wcm90b3R5cGUsICdjb3B5V2l0aGluJywgQXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4pO1xuXG4gICAgIC8vIDIyLjIuMy42ICVUeXBlZEFycmF5JS5wcm90b3R5cGUuZW50cmllcyAoIClcbiAgICAgZGVmaW5lKCRUeXBlZEFycmF5JC5wcm90b3R5cGUsICdlbnRyaWVzJywgQXJyYXkucHJvdG90eXBlLmVudHJpZXMpO1xuXG4gICAgIC8vIDIyLjIuMy43ICVUeXBlZEFycmF5JS5wcm90b3R5cGUuZXZlcnkgKCBjYWxsYmFja2ZuIFsgLCB0aGlzQXJnIF0gKVxuICAgICBkZWZpbmUoJFR5cGVkQXJyYXkkLnByb3RvdHlwZSwgJ2V2ZXJ5JywgQXJyYXkucHJvdG90eXBlLmV2ZXJ5KTtcblxuICAgICAvLyAyMi4yLjMuOCAlVHlwZWRBcnJheSUucHJvdG90eXBlLmZpbGwgKHZhbHVlIFsgLCBzdGFydCBbICwgZW5kIF0gXSApXG4gICAgIGRlZmluZShcbiAgICAgICAkVHlwZWRBcnJheSQucHJvdG90eXBlLCAnZmlsbCcsXG4gICAgICAgLy9BcnJheS5wcm90b3R5cGUuZmlsbCAvLyBEb2Vzbid0IHdvcmsgaW4gU2FmYXJpIDdcbiAgICAgICBmdW5jdGlvbiBmaWxsKHZhbHVlLyosIHN0YXJ0LCBlbmQqLykge1xuICAgICAgICAgdmFyIHN0YXJ0ID0gYXJndW1lbnRzWzFdLFxuICAgICAgICAgICAgIGVuZCA9IGFyZ3VtZW50c1syXTtcblxuICAgICAgICAgdmFyIG8gPSBUb09iamVjdCh0aGlzKTtcbiAgICAgICAgIHZhciBsZW5WYWwgPSBvLmxlbmd0aDtcbiAgICAgICAgIHZhciBsZW4gPSBUb0xlbmd0aChsZW5WYWwpO1xuICAgICAgICAgbGVuID0gbWF4KGxlbiwgMCk7XG4gICAgICAgICB2YXIgcmVsYXRpdmVTdGFydCA9IFRvSW50ZWdlcihzdGFydCk7XG4gICAgICAgICB2YXIgaztcbiAgICAgICAgIGlmIChyZWxhdGl2ZVN0YXJ0IDwgMCkgayA9IG1heCgobGVuICsgcmVsYXRpdmVTdGFydCksIDApO1xuICAgICAgICAgZWxzZSBrID0gbWluKHJlbGF0aXZlU3RhcnQsIGxlbik7XG4gICAgICAgICB2YXIgcmVsYXRpdmVFbmQ7XG4gICAgICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHJlbGF0aXZlRW5kID0gbGVuO1xuICAgICAgICAgZWxzZSByZWxhdGl2ZUVuZCA9IFRvSW50ZWdlcihlbmQpO1xuICAgICAgICAgdmFyIGZpbmFsO1xuICAgICAgICAgaWYgKHJlbGF0aXZlRW5kIDwgMCkgZmluYWwgPSBtYXgoKGxlbiArIHJlbGF0aXZlRW5kKSwgMCk7XG4gICAgICAgICBlbHNlIGZpbmFsID0gbWluKHJlbGF0aXZlRW5kLCBsZW4pO1xuICAgICAgICAgd2hpbGUgKGsgPCBmaW5hbCkge1xuICAgICAgICAgICB2YXIgcGsgPSBTdHJpbmcoayk7XG4gICAgICAgICAgIG9bcGtdID0gdmFsdWU7XG4gICAgICAgICAgIGsgKz0gMTtcbiAgICAgICAgIH1cbiAgICAgICAgIHJldHVybiBvO1xuICAgICAgIH0pO1xuXG4gICAgIC8vIDIyLjIuMy45ICVUeXBlZEFycmF5JS5wcm90b3R5cGUuZmlsdGVyICggY2FsbGJhY2tmbiBbICwgdGhpc0FyZyBdIClcbiAgICAgZGVmaW5lKFxuICAgICAgICRUeXBlZEFycmF5JC5wcm90b3R5cGUsICdmaWx0ZXInLFxuICAgICAgIGZ1bmN0aW9uIGZpbHRlcihjYWxsYmFja2ZuKSB7XG4gICAgICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50c1sxXTtcblxuICAgICAgICAgdmFyIG8gPSBUb09iamVjdCh0aGlzKTtcbiAgICAgICAgIHZhciBsZW5WYWwgPSBvLmxlbmd0aDtcbiAgICAgICAgIHZhciBsZW4gPSBUb0xlbmd0aChsZW5WYWwpO1xuICAgICAgICAgaWYgKCFJc0NhbGxhYmxlKGNhbGxiYWNrZm4pKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgIHZhciB0ID0gdGhpc0FyZztcbiAgICAgICAgIHZhciBjID0gby5jb25zdHJ1Y3RvcjtcbiAgICAgICAgIHZhciBrZXB0ID0gW107XG4gICAgICAgICB2YXIgayA9IDA7XG4gICAgICAgICB2YXIgY2FwdHVyZWQgPSAwO1xuICAgICAgICAgd2hpbGUgKGsgPCBsZW4pIHtcbiAgICAgICAgICAgdmFyIGtWYWx1ZSA9IG9ba107XG4gICAgICAgICAgIHZhciBzZWxlY3RlZCA9IGNhbGxiYWNrZm4uY2FsbCh0LCBrVmFsdWUsIGssIG8pO1xuICAgICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICBrZXB0LnB1c2goa1ZhbHVlKTtcbiAgICAgICAgICAgICArK2NhcHR1cmVkO1xuICAgICAgICAgICB9XG4gICAgICAgICAgICsraztcbiAgICAgICAgIH1cbiAgICAgICAgIHZhciBhID0gbmV3IGMoY2FwdHVyZWQpO1xuICAgICAgICAgdmFyIG4gPSAwO1xuICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXB0Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgIHZhciBlID0ga2VwdFtpXTtcbiAgICAgICAgICAgYVtuXSA9IGU7XG4gICAgICAgICAgICsrbjtcbiAgICAgICAgIH1cbiAgICAgICAgIHJldHVybiBhO1xuICAgICAgIH0pO1xuXG4gICAgIC8vIDIyLjIuMy4xMCAlVHlwZWRBcnJheSUucHJvdG90eXBlLmZpbmQgKHByZWRpY2F0ZSBbICwgdGhpc0FyZyBdIClcbiAgICAgZGVmaW5lKCRUeXBlZEFycmF5JC5wcm90b3R5cGUsICdmaW5kJywgQXJyYXkucHJvdG90eXBlLmZpbmQpO1xuXG4gICAgIC8vIDIyLjIuMy4xMSAlVHlwZWRBcnJheSUucHJvdG90eXBlLmZpbmRJbmRleCAoIHByZWRpY2F0ZSBbICwgdGhpc0FyZyBdIClcbiAgICAgZGVmaW5lKCRUeXBlZEFycmF5JC5wcm90b3R5cGUsICdmaW5kSW5kZXgnLCBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4KTtcblxuICAgICAvLyAyMi4yLjMuMTIgJVR5cGVkQXJyYXklLnByb3RvdHlwZS5mb3JFYWNoICggY2FsbGJhY2tmbiBbICwgdGhpc0FyZyBdIClcbiAgICAgZGVmaW5lKCRUeXBlZEFycmF5JC5wcm90b3R5cGUsICdmb3JFYWNoJywgQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO1xuXG4gICAgIC8vIDIyLjIuMy4xMyAlVHlwZWRBcnJheSUucHJvdG90eXBlLmluZGV4T2YgKHNlYXJjaEVsZW1lbnQgWyAsIGZyb21JbmRleCBdIClcbiAgICAgZGVmaW5lKCRUeXBlZEFycmF5JC5wcm90b3R5cGUsICdpbmRleE9mJywgQXJyYXkucHJvdG90eXBlLmluZGV4T2YpO1xuXG4gICAgIC8vIDIyLjIuMy4xNCAlVHlwZWRBcnJheSUucHJvdG90eXBlLmpvaW4gKCBzZXBhcmF0b3IgKVxuICAgICBkZWZpbmUoJFR5cGVkQXJyYXkkLnByb3RvdHlwZSwgJ2pvaW4nLCBBcnJheS5wcm90b3R5cGUuam9pbik7XG5cbiAgICAgLy8gMjIuMi4zLjE1ICVUeXBlZEFycmF5JS5wcm90b3R5cGUua2V5cyAoIClcbiAgICAgZGVmaW5lKCRUeXBlZEFycmF5JC5wcm90b3R5cGUsICdrZXlzJywgQXJyYXkucHJvdG90eXBlLmtleXMpO1xuXG4gICAgIC8vIDIyLjIuMy4xNiAlVHlwZWRBcnJheSUucHJvdG90eXBlLmxhc3RJbmRleE9mICggc2VhcmNoRWxlbWVudCBbICwgZnJvbUluZGV4IF0gKVxuICAgICBkZWZpbmUoJFR5cGVkQXJyYXkkLnByb3RvdHlwZSwgJ2xhc3RJbmRleE9mJywgQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mKTtcblxuICAgICAvLyAyMi4yLjMuMTcgZ2V0ICVUeXBlZEFycmF5JS5wcm90b3R5cGUubGVuZ3RoXG5cbiAgICAgLy8gMjIuMi4zLjE4ICVUeXBlZEFycmF5JS5wcm90b3R5cGUubWFwICggY2FsbGJhY2tmbiBbICwgdGhpc0FyZyBdIClcbiAgICAgZGVmaW5lKFxuICAgICAgICRUeXBlZEFycmF5JC5wcm90b3R5cGUsICdtYXAnLFxuICAgICAgIGZ1bmN0aW9uIG1hcChjYWxsYmFja2ZuKSB7XG4gICAgICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50c1sxXTtcblxuICAgICAgICAgdmFyIG8gPSBUb09iamVjdCh0aGlzKTtcbiAgICAgICAgIHZhciBsZW5WYWx1ZSA9IG8ubGVuZ3RoO1xuICAgICAgICAgdmFyIGxlbiA9IFRvTGVuZ3RoKGxlblZhbHVlKTtcbiAgICAgICAgIGlmICghSXNDYWxsYWJsZShjYWxsYmFja2ZuKSkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgICB2YXIgdCA9IHRoaXNBcmc7XG4gICAgICAgICB2YXIgYSA9IHVuZGVmaW5lZDtcbiAgICAgICAgIHZhciBjID0gby5jb25zdHJ1Y3RvcjtcbiAgICAgICAgIGlmIChJc0NvbnN0cnVjdG9yKGMpKVxuICAgICAgICAgICBhID0gbmV3IGMobGVuKTtcbiAgICAgICAgIGlmIChhID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgIGEgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgIHZhciBrID0gMDtcbiAgICAgICAgIHdoaWxlIChrIDwgbGVuKSB7XG4gICAgICAgICAgIHZhciBrUHJlc2VudCA9IEhhc1Byb3BlcnR5KG8sIGspO1xuICAgICAgICAgICBpZiAoa1ByZXNlbnQpIHtcbiAgICAgICAgICAgICB2YXIga1ZhbHVlID0gb1trXTtcbiAgICAgICAgICAgICB2YXIgbWFwcGVkVmFsdWUgPSBjYWxsYmFja2ZuLmNhbGwodCwga1ZhbHVlLCBrLCBvKTtcbiAgICAgICAgICAgICBhW2tdID0gbWFwcGVkVmFsdWU7XG4gICAgICAgICAgIH1cbiAgICAgICAgICAgKytrO1xuICAgICAgICAgfVxuICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgfSk7XG5cbiAgICAgLy8gMjIuMi4zLjE5ICVUeXBlZEFycmF5JS5wcm90b3R5cGUucmVkdWNlICggY2FsbGJhY2tmbiBbLCBpbml0aWFsVmFsdWVdIClcbiAgICAgZGVmaW5lKCRUeXBlZEFycmF5JC5wcm90b3R5cGUsICdyZWR1Y2UnLCBBcnJheS5wcm90b3R5cGUucmVkdWNlKTtcblxuICAgICAvLyAyMi4yLjMuMjAgJVR5cGVkQXJyYXklLnByb3RvdHlwZS5yZWR1Y2VSaWdodCAoIGNhbGxiYWNrZm4gWywgaW5pdGlhbFZhbHVlXSApXG4gICAgIGRlZmluZSgkVHlwZWRBcnJheSQucHJvdG90eXBlLCAncmVkdWNlUmlnaHQnLCBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpO1xuXG4gICAgIC8vIDIyLjIuMy4yMSAlVHlwZWRBcnJheSUucHJvdG90eXBlLnJldmVyc2UgKCApXG4gICAgIGRlZmluZSgkVHlwZWRBcnJheSQucHJvdG90eXBlLCAncmV2ZXJzZScsIEFycmF5LnByb3RvdHlwZS5yZXZlcnNlKTtcblxuICAgICAvLyAyMi4yLjMuMjIgJVR5cGVkQXJyYXklLnByb3RvdHlwZS5zZXQgKCBvdmVybG9hZGVkIFsgLCBvZmZzZXQgXSlcbiAgICAgLy8gMjIuMi4zLjIyLjEgJVR5cGVkQXJyYXklLnByb3RvdHlwZS5zZXQgKGFycmF5IFsgLCBvZmZzZXQgXSApXG4gICAgIC8vIDIyLjIuMy4yMi4yICVUeXBlZEFycmF5JS5wcm90b3R5cGUuc2V0KHR5cGVkQXJyYXkgWywgb2Zmc2V0IF0gKVxuXG4gICAgIC8vIDIyLjIuMy4yMyAlVHlwZWRBcnJheSUucHJvdG90eXBlLnNsaWNlICggc3RhcnQsIGVuZCApXG4gICAgIGRlZmluZShcbiAgICAgICAkVHlwZWRBcnJheSQucHJvdG90eXBlLCAnc2xpY2UnLFxuICAgICAgIGZ1bmN0aW9uIHNsaWNlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgIHZhciBvID0gVG9PYmplY3QodGhpcyk7XG4gICAgICAgICB2YXIgbGVuVmFsID0gby5sZW5ndGg7XG4gICAgICAgICB2YXIgbGVuID0gVG9MZW5ndGgobGVuVmFsKTtcbiAgICAgICAgIHZhciByZWxhdGl2ZVN0YXJ0ID0gVG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgICAgIHZhciBrID0gKHJlbGF0aXZlU3RhcnQgPCAwKSA/IG1heChsZW4gKyByZWxhdGl2ZVN0YXJ0LCAwKSA6IG1pbihyZWxhdGl2ZVN0YXJ0LCBsZW4pO1xuICAgICAgICAgdmFyIHJlbGF0aXZlRW5kID0gKGVuZCA9PT0gdW5kZWZpbmVkKSA/IGxlbiA6IFRvSW50ZWdlcihlbmQpO1xuICAgICAgICAgdmFyIGZpbmFsID0gKHJlbGF0aXZlRW5kIDwgMCkgPyBtYXgobGVuICsgcmVsYXRpdmVFbmQsIDApIDogbWluKHJlbGF0aXZlRW5kLCBsZW4pO1xuICAgICAgICAgdmFyIGNvdW50ID0gZmluYWwgLSBrO1xuICAgICAgICAgdmFyIGMgPSBvLmNvbnN0cnVjdG9yO1xuICAgICAgICAgaWYgKElzQ29uc3RydWN0b3IoYykpIHtcbiAgICAgICAgICAgdmFyIGEgPSBuZXcgYyhjb3VudCk7XG4gICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgIH1cbiAgICAgICAgIHZhciBuID0gMDtcbiAgICAgICAgIHdoaWxlIChrIDwgZmluYWwpIHtcbiAgICAgICAgICAgdmFyIGtWYWx1ZSA9IG9ba107XG4gICAgICAgICAgIGFbbl0gPSBrVmFsdWU7XG4gICAgICAgICAgICsraztcbiAgICAgICAgICAgKytuO1xuICAgICAgICAgfVxuICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgfSk7XG5cbiAgICAgLy8gMjIuMi4zLjI0ICVUeXBlZEFycmF5JS5wcm90b3R5cGUuc29tZSAoIGNhbGxiYWNrZm4gWyAsIHRoaXNBcmcgXSApXG4gICAgIGRlZmluZSgkVHlwZWRBcnJheSQucHJvdG90eXBlLCAnc29tZScsIEFycmF5LnByb3RvdHlwZS5zb21lKTtcblxuICAgICAvLyAyMi4yLjMuMjUgJVR5cGVkQXJyYXklLnByb3RvdHlwZS5zb3J0ICggY29tcGFyZWZuIClcbiAgICAgZGVmaW5lKFxuICAgICAgICRUeXBlZEFycmF5JC5wcm90b3R5cGUsICdzb3J0JyxcbiAgICAgICBmdW5jdGlvbiBzb3J0KCkge1xuICAgICAgICAgdmFyIGNvbXBhcmVmbiA9IGFyZ3VtZW50c1swXTtcblxuICAgICAgICAgZnVuY3Rpb24gc29ydENvbXBhcmUoeCwgeSkge1xuICAgICAgICAgICBjb25zb2xlLmFzc2VydChUeXBlKHgpID09PSAnbnVtYmVyJyAmJiBUeXBlKHkpID09PSAnbnVtYmVyJyk7XG4gICAgICAgICAgIGlmICh4ICE9PSB4ICYmIHkgIT09IHkpIHJldHVybiArMDtcbiAgICAgICAgICAgaWYgKHggIT09IHgpIHJldHVybiAxO1xuICAgICAgICAgICBpZiAoeSAhPT0geSkgcmV0dXJuIC0xO1xuICAgICAgICAgICBpZiAoY29tcGFyZWZuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICByZXR1cm4gY29tcGFyZWZuKHgsIHkpO1xuICAgICAgICAgICB9XG4gICAgICAgICAgIGlmICh4IDwgeSkgcmV0dXJuIC0xO1xuICAgICAgICAgICBpZiAoeCA+IHkpIHJldHVybiAxO1xuICAgICAgICAgICByZXR1cm4gKzA7XG4gICAgICAgICB9XG4gICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNvcnQuY2FsbCh0aGlzLCBzb3J0Q29tcGFyZSk7XG4gICAgICAgfSk7XG5cbiAgICAgLy8gMjIuMi4zLjI2ICVUeXBlZEFycmF5JS5wcm90b3R5cGUuc3ViYXJyYXkoIFsgYmVnaW4gWyAsIGVuZCBdIF0gKVxuICAgICAvLyAyMi4yLjMuMjcgJVR5cGVkQXJyYXklLnByb3RvdHlwZS50b0xvY2FsZVN0cmluZyAoWyByZXNlcnZlZDEgWyAsIHJlc2VydmVkMiBdIF0pXG4gICAgIC8vIDIyLjIuMy4yOCAlVHlwZWRBcnJheSUucHJvdG90eXBlLnRvU3RyaW5nICggKVxuXG4gICAgIC8vIDIyLjIuMy4yOSAlVHlwZWRBcnJheSUucHJvdG90eXBlLnZhbHVlcyAoIClcbiAgICAgZGVmaW5lKCRUeXBlZEFycmF5JC5wcm90b3R5cGUsICd2YWx1ZXMnLCBBcnJheS5wcm90b3R5cGUudmFsdWVzKTtcblxuICAgICAvLyAyMi4yLjMuMzAgJVR5cGVkQXJyYXklLnByb3RvdHlwZSBbIEBAaXRlcmF0b3IgXSAoIClcbiAgICAgZGVmaW5lKFxuICAgICAgICRUeXBlZEFycmF5JC5wcm90b3R5cGUsICQkaXRlcmF0b3IsXG4gICAgICAgJFR5cGVkQXJyYXkkLnByb3RvdHlwZS52YWx1ZXNcbiAgICAgKTtcblxuICAgICAvLyAyMi4yLjMuMzEgZ2V0ICVUeXBlZEFycmF5JS5wcm90b3R5cGUgWyBAQHRvU3RyaW5nVGFnIF1cbiAgICAgZGVmaW5lKCRUeXBlZEFycmF5JC5wcm90b3R5cGUsICQkdG9TdHJpbmdUYWcsICRUeXBlZEFycmF5TmFtZSQpO1xuXG4gICAgIC8vIDIyLjIuNCBUaGUgVHlwZWRBcnJheSBDb25zdHJ1Y3RvcnNcbiAgICAgLy8gMjIuMi40LjFUeXBlZEFycmF5KCAuLi4gYXJndW1lbnRzTGlzdClcbiAgICAgLy8gMjIuMi41IFByb3BlcnRpZXMgb2YgdGhlIFR5cGVkQXJyYXkgQ29uc3RydWN0b3JzXG4gICAgIC8vIDIyLjIuNS4xIFR5cGVkQXJyYXkuQllURVNfUEVSX0VMRU1FTlRcbiAgICAgLy8gMjIuMi41LjIgVHlwZWRBcnJheS5wcm90b3R5cGVcbiAgICAgLy8gMjIuMi42IFByb3BlcnRpZXMgb2YgVHlwZWRBcnJheSBQcm90b3R5cGUgT2JqZWN0c1xuICAgICAvLyAyMi4yLjYuMSBUeXBlZEFycmF5LnByb3RvdHlwZS5CWVRFU19QRVJfRUxFTUVOVFxuICAgICAvLyAyMi4yLjYuMiBUeXBlZEFycmF5LnByb3RvdHlwZS5jb25zdHJ1Y3RvclxuICAgICAvLyAyMi4yLjcgUHJvcGVydGllcyBvZiBUeXBlZEFycmF5IEluc3RhbmNlc1xuICAgfSk7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIDIzIEtleWVkIENvbGxlY3Rpb25cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIDIzLjEgTWFwIE9iamVjdHNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgKGZ1bmN0aW9uKCkge1xuICAgIC8vIDIzLjEuMSBUaGUgTWFwIENvbnN0cnVjdG9yXG5cbiAgICAvLyAyMy4xLjEuMSBNYXAgKCBbIGl0ZXJhYmxlIF0gKVxuICAgIC8qKiBAY29uc3RydWN0b3IgKi9cbiAgICBmdW5jdGlvbiBNYXAoLyppdGVyYWJsZSovKSB7XG4gICAgICB2YXIgbWFwID0gc3RyaWN0KHRoaXMpO1xuICAgICAgdmFyIGl0ZXJhYmxlID0gYXJndW1lbnRzWzBdO1xuXG4gICAgICBpZiAoVHlwZShtYXApICE9PSAnb2JqZWN0JykgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICBpZiAoJ1tbTWFwRGF0YV1dJyBpbiBtYXApIHRocm93IFR5cGVFcnJvcigpO1xuXG4gICAgICBpZiAoaXRlcmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgYWRkZXIgPSBtYXBbJ3NldCddO1xuICAgICAgICBpZiAoIUlzQ2FsbGFibGUoYWRkZXIpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgdmFyIGl0ZXIgPSBHZXRJdGVyYXRvcihUb09iamVjdChpdGVyYWJsZSkpO1xuICAgICAgfVxuICAgICAgc2V0X2ludGVybmFsKG1hcCwgJ1tbTWFwRGF0YV1dJywgeyBrZXlzOiBbXSwgdmFsdWVzOiBbXSB9KTtcbiAgICAgIGlmIChpdGVyID09PSB1bmRlZmluZWQpIHJldHVybiBtYXA7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgbmV4dCA9IEl0ZXJhdG9yU3RlcChpdGVyKTtcbiAgICAgICAgaWYgKG5leHQgPT09IGZhbHNlKVxuICAgICAgICAgIHJldHVybiBtYXA7XG4gICAgICAgIHZhciBuZXh0SXRlbSA9IEl0ZXJhdG9yVmFsdWUobmV4dCk7XG4gICAgICAgIGlmIChUeXBlKG5leHRJdGVtKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICB2YXIgayA9IG5leHRJdGVtWzBdO1xuICAgICAgICB2YXIgdiA9IG5leHRJdGVtWzFdO1xuICAgICAgICBhZGRlci5jYWxsKG1hcCwgaywgdik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuXG4gICAgaWYgKCEoJ01hcCcgaW4gZ2xvYmFsKSB8fCBPVkVSUklERV9OQVRJVkVfRk9SX1RFU1RJTkcgfHxcbiAgICAgICAgKGZ1bmN0aW9uKCkgeyB0cnkgeyBuZXcgZ2xvYmFsLk1hcChbXSk7IHJldHVybiBmYWxzZTsgfSBjYXRjaCAoXykgeyByZXR1cm4gdHJ1ZTsgfSB9KCkpIHx8XG4gICAgICAgIChmdW5jdGlvbigpIHsgdHJ5IHsgcmV0dXJuICFuZXcgZ2xvYmFsLk1hcCgpLmVudHJpZXMoKS5uZXh0OyB9IGNhdGNoIChfKSB7IHJldHVybiB0cnVlOyB9IH0oKSkgfHxcbiAgICAgICAgKG5ldyBnbG9iYWwuTWFwKFtbJ2EnLCAxXV0pLnNpemUgIT09IDEpKVxuICAgICAgZ2xvYmFsLk1hcCA9IE1hcDtcblxuXG4gICAgZnVuY3Rpb24gTWFwRGF0YUluZGV4T2YobWFwRGF0YSwga2V5KSB7XG4gICAgICB2YXIgaTtcbiAgICAgIGlmIChrZXkgPT09IGtleSkgcmV0dXJuIG1hcERhdGEua2V5cy5pbmRleE9mKGtleSk7XG4gICAgICAvLyBTbG93IGNhc2UgZm9yIE5hTlxuICAgICAgZm9yIChpID0gMDsgaSA8IG1hcERhdGEua2V5cy5sZW5ndGg7IGkgKz0gMSlcbiAgICAgICAgaWYgKFNhbWVWYWx1ZVplcm8obWFwRGF0YS5rZXlzW2ldLCBrZXkpKSByZXR1cm4gaTtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvLyAyMy4xLjEuMiBuZXcgTWFwICggLi4uIGFyZ3VtZW50c0xpc3QgKVxuICAgIC8vIDIzLjEuMiBQcm9wZXJ0aWVzIG9mIHRoZSBNYXAgQ29uc3RydWN0b3JcbiAgICAvLyAyMy4xLjIuMSBNYXAucHJvdG90eXBlXG4gICAgdmFyICRNYXBQcm90b3R5cGUkID0ge307XG4gICAgTWFwLnByb3RvdHlwZSA9ICRNYXBQcm90b3R5cGUkO1xuXG4gICAgLy8gMjMuMS4yLjIgZ2V0IE1hcCBbIEBAc3BlY2llcyBdXG5cbiAgICAvLyAyMy4xLjMgUHJvcGVydGllcyBvZiB0aGUgTWFwIFByb3RvdHlwZSBPYmplY3RcbiAgICAvLyAyMy4xLjMuMSBNYXAucHJvdG90eXBlLmNsZWFyICgpXG4gICAgZGVmaW5lKFxuICAgICAgTWFwLnByb3RvdHlwZSwgJ2NsZWFyJyxcbiAgICAgIGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICB2YXIgbSA9IHN0cmljdCh0aGlzKTtcbiAgICAgICAgaWYgKFR5cGUobSkgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgaWYgKCEoJ1tbTWFwRGF0YV1dJyBpbiBtKSkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIGlmIChtWydbW01hcERhdGFdXSddID09PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICB2YXIgZW50cmllcyA9IG1bJ1tbTWFwRGF0YV1dJ107XG4gICAgICAgIGVudHJpZXMua2V5cy5sZW5ndGggPSAwO1xuICAgICAgICBlbnRyaWVzLnZhbHVlcy5sZW5ndGggPSAwO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSk7XG5cbiAgICAvLyAyMy4xLjMuMiBNYXAucHJvdG90eXBlLmNvbnN0cnVjdG9yXG5cbiAgICAvLyAyMy4xLjMuMyBNYXAucHJvdG90eXBlLmRlbGV0ZSAoIGtleSApXG4gICAgZGVmaW5lKFxuICAgICAgTWFwLnByb3RvdHlwZSwgJ2RlbGV0ZScsXG4gICAgICBmdW5jdGlvbiBkZWxldGVfKGtleSkge1xuICAgICAgICB2YXIgbSA9IHN0cmljdCh0aGlzKTtcbiAgICAgICAgaWYgKFR5cGUobSkgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgaWYgKCEoJ1tbTWFwRGF0YV1dJyBpbiBtKSkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIGlmIChtWydbW01hcERhdGFdXSddID09PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICB2YXIgZW50cmllcyA9IG1bJ1tbTWFwRGF0YV1dJ107XG4gICAgICAgIHZhciBpID0gTWFwRGF0YUluZGV4T2YoZW50cmllcywga2V5KTtcbiAgICAgICAgaWYgKGkgPCAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGVudHJpZXMua2V5c1tpXSA9IGVtcHR5O1xuICAgICAgICBlbnRyaWVzLnZhbHVlc1tpXSA9IGVtcHR5O1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuXG4gICAgLy8gMjMuMS4zLjQgTWFwLnByb3RvdHlwZS5lbnRyaWVzICggKVxuICAgIGRlZmluZShcbiAgICAgIE1hcC5wcm90b3R5cGUsICdlbnRyaWVzJyxcbiAgICAgIGZ1bmN0aW9uIGVudHJpZXMoKSB7XG4gICAgICAgIHZhciBtID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShtKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICByZXR1cm4gQ3JlYXRlTWFwSXRlcmF0b3IobSwgJ2tleSt2YWx1ZScpO1xuICAgICAgfSk7XG5cbiAgICAvLyAyMy4xLjMuNSBNYXAucHJvdG90eXBlLmZvckVhY2ggKCBjYWxsYmFja2ZuIFsgLCB0aGlzQXJnIF0gKVxuICAgIGRlZmluZShcbiAgICAgIE1hcC5wcm90b3R5cGUsICdmb3JFYWNoJyxcbiAgICAgIGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2tmbiAvKiwgdGhpc0FyZyovKSB7XG4gICAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzWzFdO1xuXG4gICAgICAgIHZhciBtID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShtKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBpZiAoISgnW1tNYXBEYXRhXV0nIGluIG0pKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgaWYgKG1bJ1tbTWFwRGF0YV1dJ10gPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIHZhciBlbnRyaWVzID0gbVsnW1tNYXBEYXRhXV0nXTtcblxuICAgICAgICBpZiAoIUlzQ2FsbGFibGUoY2FsbGJhY2tmbikpIHtcbiAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IHRvIGZvckVhY2ggaXMgbm90IGNhbGxhYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW50cmllcy5rZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgaWYgKGVudHJpZXMua2V5c1tpXSAhPT0gZW1wdHkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrZm4uY2FsbCh0aGlzQXJnLCBlbnRyaWVzLnZhbHVlc1tpXSwgZW50cmllcy5rZXlzW2ldLCBtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0pO1xuXG4gICAgLy8gMjMuMS4zLjYgTWFwLnByb3RvdHlwZS5nZXQgKCBrZXkgKVxuICAgIGRlZmluZShcbiAgICAgIE1hcC5wcm90b3R5cGUsICdnZXQnLFxuICAgICAgZnVuY3Rpb24gZ2V0KGtleSkge1xuICAgICAgICB2YXIgbSA9IHN0cmljdCh0aGlzKTtcbiAgICAgICAgaWYgKFR5cGUobSkgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgaWYgKCEoJ1tbTWFwRGF0YV1dJyBpbiBtKSkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIGlmIChtWydbW01hcERhdGFdXSddID09PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICB2YXIgZW50cmllcyA9IG1bJ1tbTWFwRGF0YV1dJ107XG4gICAgICAgIHZhciBpID0gTWFwRGF0YUluZGV4T2YoZW50cmllcywga2V5KTtcbiAgICAgICAgaWYgKGkgPj0gMCkgcmV0dXJuIGVudHJpZXMudmFsdWVzW2ldO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSk7XG5cbiAgICAvLyAyMy4xLjMuNyBNYXAucHJvdG90eXBlLmhhcyAoIGtleSApXG4gICAgZGVmaW5lKFxuICAgICAgTWFwLnByb3RvdHlwZSwgJ2hhcycsXG4gICAgICBmdW5jdGlvbiBoYXMoa2V5KSB7XG4gICAgICAgIHZhciBtID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShtKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBpZiAoISgnW1tNYXBEYXRhXV0nIGluIG0pKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgaWYgKG1bJ1tbTWFwRGF0YV1dJ10gPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIHZhciBlbnRyaWVzID0gbVsnW1tNYXBEYXRhXV0nXTtcbiAgICAgICAgaWYgKE1hcERhdGFJbmRleE9mKGVudHJpZXMsIGtleSkgPj0gMCkgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgLy8gMjMuMS4zLjggTWFwLnByb3RvdHlwZS5rZXlzICggKVxuICAgIGRlZmluZShcbiAgICAgIE1hcC5wcm90b3R5cGUsICdrZXlzJyxcbiAgICAgIGZ1bmN0aW9uIGtleXMoKSB7XG4gICAgICAgIHZhciBtID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShtKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICByZXR1cm4gQ3JlYXRlTWFwSXRlcmF0b3IobSwgJ2tleScpO1xuICAgICAgfSk7XG5cbiAgICAvLyAyMy4xLjMuOSBNYXAucHJvdG90eXBlLnNldCAoIGtleSAsIHZhbHVlIClcbiAgICBkZWZpbmUoXG4gICAgICBNYXAucHJvdG90eXBlLCAnc2V0JyxcbiAgICAgIGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBtID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShtKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBpZiAoISgnW1tNYXBEYXRhXV0nIGluIG0pKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgaWYgKG1bJ1tbTWFwRGF0YV1dJ10gPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIHZhciBlbnRyaWVzID0gbVsnW1tNYXBEYXRhXV0nXTtcbiAgICAgICAgdmFyIGkgPSBNYXBEYXRhSW5kZXhPZihlbnRyaWVzLCBrZXkpO1xuICAgICAgICBpZiAoaSA8IDApIGkgPSBlbnRyaWVzLmtleXMubGVuZ3RoO1xuICAgICAgICBpZiAoU2FtZVZhbHVlKGtleSwgLTApKSBrZXkgPSAwO1xuICAgICAgICBlbnRyaWVzLmtleXNbaV0gPSBrZXk7XG4gICAgICAgIGVudHJpZXMudmFsdWVzW2ldID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBtO1xuICAgICAgfSk7XG5cbiAgICAvLyAyMy4xLjMuMTAgZ2V0IE1hcC5wcm90b3R5cGUuc2l6ZVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgIE1hcC5wcm90b3R5cGUsICdzaXplJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBtID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICAgIGlmIChUeXBlKG0pICE9PSAnb2JqZWN0JykgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgICAgaWYgKCEoJ1tbTWFwRGF0YV1dJyBpbiBtKSkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgICAgaWYgKG1bJ1tbTWFwRGF0YV1dJ10gPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgICAgdmFyIGVudHJpZXMgPSBtWydbW01hcERhdGFdXSddO1xuICAgICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyaWVzLmtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChlbnRyaWVzLmtleXNbaV0gIT09IGVtcHR5KVxuICAgICAgICAgICAgICBjb3VudCA9IGNvdW50ICsgMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIC8vIDIzLjEuMy4xMSBNYXAucHJvdG90eXBlLnZhbHVlcyAoIClcbiAgICBkZWZpbmUoXG4gICAgICBNYXAucHJvdG90eXBlLCAndmFsdWVzJyxcbiAgICAgIGZ1bmN0aW9uIHZhbHVlcygpIHtcbiAgICAgICAgdmFyIG0gPSBzdHJpY3QodGhpcyk7XG4gICAgICAgIGlmIChUeXBlKG0pICE9PSAnb2JqZWN0JykgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIHJldHVybiBDcmVhdGVNYXBJdGVyYXRvcihtLCAndmFsdWUnKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gMjMuMS4zLjEyIE1hcC5wcm90b3R5cGUgWyBAQGl0ZXJhdG9yIF0oIClcbiAgICBkZWZpbmUoXG4gICAgICBNYXAucHJvdG90eXBlLCAkJGl0ZXJhdG9yLFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShtKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICByZXR1cm4gQ3JlYXRlTWFwSXRlcmF0b3IobSwgJ2tleSt2YWx1ZScpO1xuICAgICAgfSk7XG5cbiAgICAvLyAyMy4xLjMuMTMgTWFwLnByb3RvdHlwZSBbIEBAdG9TdHJpbmdUYWcgXVxuICAgIGRlZmluZShnbG9iYWwuTWFwLnByb3RvdHlwZSwgJCR0b1N0cmluZ1RhZywgJ01hcCcpO1xuXG4gICAgLy8gMjMuMS40IFByb3BlcnRpZXMgb2YgTWFwIEluc3RhbmNlc1xuICAgIC8vIDIzLjEuNSBNYXAgSXRlcmF0b3IgT2JqZWN0c1xuXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqL1xuICAgIGZ1bmN0aW9uIE1hcEl0ZXJhdG9yKCkge31cblxuICAgIC8vIDIzLjEuNS4xIENyZWF0ZU1hcEl0ZXJhdG9yIEFic3RyYWN0IE9wZXJhdGlvblxuICAgIGZ1bmN0aW9uIENyZWF0ZU1hcEl0ZXJhdG9yKG1hcCwga2luZCkge1xuICAgICAgaWYgKFR5cGUobWFwKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgaWYgKCEoJ1tbTWFwRGF0YV1dJyBpbiBtYXApKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgIGlmIChtYXBbJ1tbTWFwRGF0YV1dJ10gPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgTWFwSXRlcmF0b3I7XG4gICAgICBzZXRfaW50ZXJuYWwoaXRlcmF0b3IsICdbW01hcF1dJywgbWFwKTtcbiAgICAgIHNldF9pbnRlcm5hbChpdGVyYXRvciwgJ1tbTWFwTmV4dEluZGV4XV0nLCAwKTtcbiAgICAgIHNldF9pbnRlcm5hbChpdGVyYXRvciwgJ1tbTWFwSXRlcmF0aW9uS2luZF1dJywga2luZCk7XG4gICAgICByZXR1cm4gaXRlcmF0b3I7XG4gICAgfVxuXG4gICAgLy8gMjMuMS41LjIgVGhlICVNYXBJdGVyYXRvclByb3RvdHlwZSUgT2JqZWN0XG4gICAgdmFyICRNYXBJdGVyYXRvclByb3RvdHlwZSQgPSBPYmplY3QuY3JlYXRlKCRJdGVyYXRvclByb3RvdHlwZSQpO1xuICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZSA9ICRNYXBJdGVyYXRvclByb3RvdHlwZSQ7XG5cbiAgICAvLyAyMy4xLjUuMi4xICVNYXBJdGVyYXRvclByb3RvdHlwZSUubmV4dCAoIClcbiAgICBkZWZpbmUoXG4gICAgICAkTWFwSXRlcmF0b3JQcm90b3R5cGUkLCAnbmV4dCcsXG4gICAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICB2YXIgbyA9IHN0cmljdCh0aGlzKTtcbiAgICAgICAgaWYgKFR5cGUobykgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgdmFyIG0gPSBvWydbW01hcF1dJ10sXG4gICAgICAgICAgICBpbmRleCA9IG9bJ1tbTWFwTmV4dEluZGV4XV0nXSxcbiAgICAgICAgICAgIGl0ZW1LaW5kID0gb1snW1tNYXBJdGVyYXRpb25LaW5kXV0nXSxcbiAgICAgICAgICAgIGVudHJpZXMgPSBtWydbW01hcERhdGFdXSddO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBlbnRyaWVzLmtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGUgPSB7a2V5OiBlbnRyaWVzLmtleXNbaW5kZXhdLCB2YWx1ZTogZW50cmllcy52YWx1ZXNbaW5kZXhdfTtcbiAgICAgICAgICBpbmRleCA9IGluZGV4ICs9IDE7XG4gICAgICAgICAgc2V0X2ludGVybmFsKG8sICdbW01hcE5leHRJbmRleF1dJywgaW5kZXgpO1xuICAgICAgICAgIGlmIChlLmtleSAhPT0gZW1wdHkpIHtcbiAgICAgICAgICAgIGlmIChpdGVtS2luZCA9PT0gJ2tleScpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIENyZWF0ZUl0ZXJSZXN1bHRPYmplY3QoZS5rZXksIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbUtpbmQgPT09ICd2YWx1ZScpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIENyZWF0ZUl0ZXJSZXN1bHRPYmplY3QoZS52YWx1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIENyZWF0ZUl0ZXJSZXN1bHRPYmplY3QoW2Uua2V5LCBlLnZhbHVlXSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQ3JlYXRlSXRlclJlc3VsdE9iamVjdCh1bmRlZmluZWQsIHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAvLyAyMy4xLjUuMi4yICVNYXBJdGVyYXRvclByb3RvdHlwZSUgWyBAQHRvU3RyaW5nVGFnIF1cbiAgICBkZWZpbmUoJE1hcEl0ZXJhdG9yUHJvdG90eXBlJCwgJCR0b1N0cmluZ1RhZywgJ01hcCBJdGVyYXRvcicpO1xuXG4gICAgLy8gMjMuMS41LjMgUHJvcGVydGllcyBvZiBNYXAgSXRlcmF0b3IgSW5zdGFuY2VzXG4gIH0oKSk7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIDIzLjIgU2V0IE9iamVjdHNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgKGZ1bmN0aW9uKCkge1xuICAgIC8vIDIzLjIuMSBUaGUgU2V0IENvbnN0cnVjdG9yXG4gICAgLy8gMjMuMi4xLjEgU2V0ICggWyBpdGVyYWJsZSBdIClcblxuICAgIC8qKiBAY29uc3RydWN0b3IgKi9cbiAgICBmdW5jdGlvbiBTZXQoLyppdGVyYWJsZSovKSB7XG4gICAgICB2YXIgc2V0ID0gc3RyaWN0KHRoaXMpO1xuICAgICAgdmFyIGl0ZXJhYmxlID0gYXJndW1lbnRzWzBdO1xuXG4gICAgICBpZiAoVHlwZShzZXQpICE9PSAnb2JqZWN0JykgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICBpZiAoJ1tbU2V0RGF0YV1dJyBpbiBzZXQpIHRocm93IFR5cGVFcnJvcigpO1xuXG4gICAgICBpZiAoaXRlcmFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgYWRkZXIgPSBzZXRbJ2FkZCddO1xuICAgICAgICBpZiAoIUlzQ2FsbGFibGUoYWRkZXIpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgdmFyIGl0ZXIgPSBHZXRJdGVyYXRvcihUb09iamVjdChpdGVyYWJsZSkpO1xuICAgICAgfVxuICAgICAgc2V0X2ludGVybmFsKHNldCwgJ1tbU2V0RGF0YV1dJywgW10pO1xuICAgICAgaWYgKGl0ZXIgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHNldDtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBuZXh0ID0gSXRlcmF0b3JTdGVwKGl0ZXIpO1xuICAgICAgICBpZiAobmV4dCA9PT0gZmFsc2UpXG4gICAgICAgICAgcmV0dXJuIHNldDtcbiAgICAgICAgdmFyIG5leHRWYWx1ZSA9IEl0ZXJhdG9yVmFsdWUobmV4dCk7XG4gICAgICAgIGFkZGVyLmNhbGwoc2V0LCBuZXh0VmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0O1xuICAgIH1cblxuICAgIGlmICghKCdTZXQnIGluIGdsb2JhbCkgfHwgT1ZFUlJJREVfTkFUSVZFX0ZPUl9URVNUSU5HIHx8XG4gICAgICAgIChmdW5jdGlvbigpIHsgdHJ5IHsgcmV0dXJuICFuZXcgZ2xvYmFsLlNldCgpLmVudHJpZXMoKS5uZXh0OyB9IGNhdGNoIChfKSB7IHJldHVybiB0cnVlOyB9IH0oKSkgfHxcbiAgICAgICAgKG5ldyBnbG9iYWwuU2V0KFsxXSkuc2l6ZSAhPT0gMSkpXG4gICAgICBnbG9iYWwuU2V0ID0gU2V0O1xuXG4gICAgZnVuY3Rpb24gU2V0RGF0YUluZGV4T2Yoc2V0RGF0YSwga2V5KSB7XG4gICAgICB2YXIgaTtcbiAgICAgIGlmIChrZXkgPT09IGtleSlcbiAgICAgICAgcmV0dXJuIHNldERhdGEuaW5kZXhPZihrZXkpO1xuICAgICAgLy8gU2xvdyBjYXNlIGZvciBOYU5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzZXREYXRhLmxlbmd0aDsgaSArPSAxKVxuICAgICAgICBpZiAoU2FtZVZhbHVlWmVybyhzZXREYXRhW2ldLCBrZXkpKSByZXR1cm4gaTtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvLyAyMy4yLjEuMiBuZXcgU2V0ICggLi4uYXJndW1lbnRzTGlzdCApXG4gICAgLy8gMjMuMi4yIFByb3BlcnRpZXMgb2YgdGhlIFNldCBDb25zdHJ1Y3RvclxuXG4gICAgLy8gMjMuMi4yLjEgU2V0LnByb3RvdHlwZVxuICAgIHZhciAkU2V0UHJvdG90eXBlJCA9ICB7fTtcbiAgICBTZXQucHJvdG90eXBlID0gJFNldFByb3RvdHlwZSQ7XG5cbiAgICAvLyAyMy4yLjIuMiBnZXQgU2V0IFsgQEBzcGVjaWVzIF1cbiAgICAvLyAyMy4yLjMgUHJvcGVydGllcyBvZiB0aGUgU2V0IFByb3RvdHlwZSBPYmplY3RcblxuICAgIC8vIDIzLjIuMy4xIFNldC5wcm90b3R5cGUuYWRkICh2YWx1ZSApXG4gICAgZGVmaW5lKFxuICAgICAgU2V0LnByb3RvdHlwZSwgJ2FkZCcsXG4gICAgICBmdW5jdGlvbiBhZGQodmFsdWUpIHtcbiAgICAgICAgdmFyIHMgPSBzdHJpY3QodGhpcyk7XG4gICAgICAgIGlmIChUeXBlKHMpICE9PSAnb2JqZWN0JykgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIGlmICghKCdbW1NldERhdGFdXScgaW4gcykpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBpZiAoc1snW1tTZXREYXRhXV0nXSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgaWYgKFNhbWVWYWx1ZSh2YWx1ZSwgLTApKSB2YWx1ZSA9IDA7XG4gICAgICAgIHZhciBlbnRyaWVzID0gc1snW1tTZXREYXRhXV0nXTtcbiAgICAgICAgdmFyIGkgPSBTZXREYXRhSW5kZXhPZihlbnRyaWVzLCB2YWx1ZSk7XG4gICAgICAgIGlmIChpIDwgMCkgaSA9IHNbJ1tbU2V0RGF0YV1dJ10ubGVuZ3RoO1xuICAgICAgICBzWydbW1NldERhdGFdXSddW2ldID0gdmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgICB9KTtcblxuICAgIC8vIDIzLjIuMy4yIFNldC5wcm90b3R5cGUuY2xlYXIgKClcbiAgICBkZWZpbmUoXG4gICAgICBTZXQucHJvdG90eXBlLCAnY2xlYXInLFxuICAgICAgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIHZhciBzID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShzKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBpZiAoISgnW1tTZXREYXRhXV0nIGluIHMpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgaWYgKHNbJ1tbU2V0RGF0YV1dJ10gPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIHZhciBlbnRyaWVzID0gc1snW1tTZXREYXRhXV0nXTtcbiAgICAgICAgZW50cmllcy5sZW5ndGggPSAwO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSk7XG5cbiAgICAvLyAyMy4yLjMuMyBTZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yXG4gICAgLy8gMjMuMi4zLjQgU2V0LnByb3RvdHlwZS5kZWxldGUgKCB2YWx1ZSApXG4gICAgZGVmaW5lKFxuICAgICAgU2V0LnByb3RvdHlwZSwgJ2RlbGV0ZScsXG4gICAgICBmdW5jdGlvbiBkZWxldGVfKHZhbHVlKSB7XG4gICAgICAgIHZhciBzID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShzKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBpZiAoISgnW1tTZXREYXRhXV0nIGluIHMpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgaWYgKHNbJ1tbU2V0RGF0YV1dJ10gPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIHZhciBlbnRyaWVzID0gc1snW1tTZXREYXRhXV0nXTtcbiAgICAgICAgdmFyIGkgPSBTZXREYXRhSW5kZXhPZihlbnRyaWVzLCB2YWx1ZSk7XG4gICAgICAgIGlmIChpIDwgMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBlbnRyaWVzW2ldID0gZW1wdHk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAvLyAyMy4yLjMuNSBTZXQucHJvdG90eXBlLmVudHJpZXMgKCApXG4gICAgZGVmaW5lKFxuICAgICAgU2V0LnByb3RvdHlwZSwgJ2VudHJpZXMnLFxuICAgICAgZnVuY3Rpb24gZW50cmllcygpIHtcbiAgICAgICAgdmFyIHMgPSBzdHJpY3QodGhpcyk7XG4gICAgICAgIGlmIChUeXBlKHMpICE9PSAnb2JqZWN0JykgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIHJldHVybiBDcmVhdGVTZXRJdGVyYXRvcihzLCAna2V5K3ZhbHVlJyk7XG4gICAgICB9KTtcblxuICAgIC8vIDIzLjIuMy42IFNldC5wcm90b3R5cGUuZm9yRWFjaCAoIGNhbGxiYWNrZm4gWyAsIHRoaXNBcmcgXSApXG4gICAgZGVmaW5lKFxuICAgICAgU2V0LnByb3RvdHlwZSwgJ2ZvckVhY2gnLFxuICAgICAgZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFja2ZuLyosIHRoaXNBcmcqLykge1xuICAgICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50c1sxXTtcblxuICAgICAgICB2YXIgcyA9IHN0cmljdCh0aGlzKTtcbiAgICAgICAgaWYgKFR5cGUocykgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgaWYgKCEoJ1tbU2V0RGF0YV1dJyBpbiBzKSkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIGlmIChzWydbW1NldERhdGFdXSddID09PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICB2YXIgZW50cmllcyA9IHNbJ1tbU2V0RGF0YV1dJ107XG5cbiAgICAgICAgaWYgKCFJc0NhbGxhYmxlKGNhbGxiYWNrZm4pKSB7XG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCB0byBmb3JFYWNoIGlzIG5vdCBjYWxsYWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBpZiAoZW50cmllc1tpXSAhPT0gZW1wdHkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrZm4uY2FsbCh0aGlzQXJnLCBlbnRyaWVzW2ldLCBlbnRyaWVzW2ldLCBzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gMjMuMi4zLjcgU2V0LnByb3RvdHlwZS5oYXMgKCB2YWx1ZSApXG4gICAgZGVmaW5lKFxuICAgICAgU2V0LnByb3RvdHlwZSwgJ2hhcycsXG4gICAgICBmdW5jdGlvbiBoYXMoa2V5KSB7XG4gICAgICAgIHZhciBzID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShzKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBpZiAoISgnW1tTZXREYXRhXV0nIGluIHMpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgaWYgKHNbJ1tbU2V0RGF0YV1dJ10gPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIHZhciBlbnRyaWVzID0gc1snW1tTZXREYXRhXV0nXTtcbiAgICAgICAgcmV0dXJuIFNldERhdGFJbmRleE9mKGVudHJpZXMsIGtleSkgIT09IC0xO1xuICAgICAgfSk7XG5cbiAgICAvLyAyMy4yLjMuOCBTZXQucHJvdG90eXBlLmtleXMgKCApXG4gICAgLy8gU2VlIFNldC5wcm90b3R5cGUudmFsdWVzXG5cbiAgICAvLyAyMy4yLjMuOSBnZXQgU2V0LnByb3RvdHlwZS5zaXplXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgU2V0LnByb3RvdHlwZSwgJ3NpemUnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHMgPSBzdHJpY3QodGhpcyk7XG4gICAgICAgICAgaWYgKFR5cGUocykgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICBpZiAoISgnW1tTZXREYXRhXV0nIGluIHMpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICBpZiAoc1snW1tTZXREYXRhXV0nXSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICB2YXIgZW50cmllcyA9IHNbJ1tbU2V0RGF0YV1dJ107XG4gICAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChlbnRyaWVzW2ldICE9PSBlbXB0eSlcbiAgICAgICAgICAgICAgY291bnQgPSBjb3VudCArIDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjb3VudDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAvLyAyMy4yLjMuMTAgU2V0LnByb3RvdHlwZS52YWx1ZXMgKCApXG4gICAgZGVmaW5lKFxuICAgICAgU2V0LnByb3RvdHlwZSwgJ3ZhbHVlcycsXG4gICAgICBmdW5jdGlvbiB2YWx1ZXMoKSB7XG4gICAgICAgIHZhciBzID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShzKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICByZXR1cm4gQ3JlYXRlU2V0SXRlcmF0b3IocywgJ3ZhbHVlJyk7XG4gICAgICB9KTtcbiAgICAvLyBOT1RFOiBmdW5jdGlvbiBuYW1lIGlzIHN0aWxsICd2YWx1ZXMnOlxuICAgIFNldC5wcm90b3R5cGUua2V5cyA9IFNldC5wcm90b3R5cGUudmFsdWVzO1xuXG4gICAgLy8gMjMuMi4zLjExIFNldC5wcm90b3R5cGUgW0BAaXRlcmF0b3IgXSAoIClcbiAgICBkZWZpbmUoXG4gICAgICBTZXQucHJvdG90eXBlLCAkJGl0ZXJhdG9yLFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShzKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICByZXR1cm4gQ3JlYXRlU2V0SXRlcmF0b3Iocyk7XG4gICAgICB9KTtcblxuICAgIC8vIDIzLjIuMy4xMiBTZXQucHJvdG90eXBlIFsgQEB0b1N0cmluZ1RhZyBdXG4gICAgZGVmaW5lKGdsb2JhbC5TZXQucHJvdG90eXBlLCAkJHRvU3RyaW5nVGFnLCAnU2V0Jyk7XG5cbiAgICAvLyAyMy4yLjQgUHJvcGVydGllcyBvZiBTZXQgSW5zdGFuY2VzXG4gICAgLy8gMjMuMi41IFNldCBJdGVyYXRvciBPYmplY3RzXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqL1xuICAgIGZ1bmN0aW9uIFNldEl0ZXJhdG9yKCkge31cblxuICAgIC8vIDIzLjIuNS4xIENyZWF0ZVNldEl0ZXJhdG9yIEFic3RyYWN0IE9wZXJhdGlvblxuICAgIGZ1bmN0aW9uIENyZWF0ZVNldEl0ZXJhdG9yKHNldCwga2luZCkge1xuICAgICAgaWYgKFR5cGUoc2V0KSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgaWYgKCEoJ1tbU2V0RGF0YV1dJyBpbiBzZXQpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgIGlmIChzZXRbJ1tbU2V0RGF0YV1dJ10gPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgU2V0SXRlcmF0b3I7XG4gICAgICBzZXRfaW50ZXJuYWwoaXRlcmF0b3IsICdbW0l0ZXJhdGVkU2V0XV0nLCBzZXQpO1xuICAgICAgc2V0X2ludGVybmFsKGl0ZXJhdG9yLCAnW1tTZXROZXh0SW5kZXhdXScsIDApO1xuICAgICAgc2V0X2ludGVybmFsKGl0ZXJhdG9yLCAnW1tTZXRJdGVyYXRpb25LaW5kXV0nLCBraW5kKTtcbiAgICAgIHJldHVybiBpdGVyYXRvcjtcbiAgICB9XG5cbiAgICAvLyAyMy4yLjUuMiBUaGUgJVNldEl0ZXJhdG9yUHJvdG90eXBlJSBPYmplY3RcbiAgICB2YXIgJFNldEl0ZXJhdG9yUHJvdG90eXBlJCA9IE9iamVjdC5jcmVhdGUoJEl0ZXJhdG9yUHJvdG90eXBlJCk7XG4gICAgU2V0SXRlcmF0b3IucHJvdG90eXBlID0gJFNldEl0ZXJhdG9yUHJvdG90eXBlJDtcblxuICAgIC8vIDIzLjIuNS4yLjEgJVNldEl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KCApXG4gICAgZGVmaW5lKFxuICAgICAgJFNldEl0ZXJhdG9yUHJvdG90eXBlJCwgJ25leHQnLFxuICAgICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgdmFyIG8gPSBzdHJpY3QodGhpcyk7XG4gICAgICAgIGlmIChUeXBlKG8pICE9PSAnb2JqZWN0JykgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIHZhciBzID0gb1snW1tJdGVyYXRlZFNldF1dJ10sXG4gICAgICAgICAgICBpbmRleCA9IG9bJ1tbU2V0TmV4dEluZGV4XV0nXSxcbiAgICAgICAgICAgIGl0ZW1LaW5kID0gb1snW1tTZXRJdGVyYXRpb25LaW5kXV0nXSxcbiAgICAgICAgICAgIGVudHJpZXMgPSBzWydbW1NldERhdGFdXSddO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBlID0gZW50cmllc1tpbmRleF07XG4gICAgICAgICAgaW5kZXggPSBpbmRleCArPSAxO1xuICAgICAgICAgIHNldF9pbnRlcm5hbChvLCAnW1tTZXROZXh0SW5kZXhdXScsIGluZGV4KTtcbiAgICAgICAgICBpZiAoZSAhPT0gZW1wdHkpIHtcbiAgICAgICAgICAgIGlmIChpdGVtS2luZCA9PT0gJ2tleSt2YWx1ZScpXG4gICAgICAgICAgICAgIHJldHVybiBDcmVhdGVJdGVyUmVzdWx0T2JqZWN0KFtlLCBlXSwgZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIENyZWF0ZUl0ZXJSZXN1bHRPYmplY3QoZSwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQ3JlYXRlSXRlclJlc3VsdE9iamVjdCh1bmRlZmluZWQsIHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAvLyAyMy4yLjUuMi4yICVTZXRJdGVyYXRvclByb3RvdHlwZSUgWyBAQHRvU3RyaW5nVGFnIF1cbiAgICBkZWZpbmUoJFNldEl0ZXJhdG9yUHJvdG90eXBlJCwgJCR0b1N0cmluZ1RhZywgJ1NldCBJdGVyYXRvcicpO1xuXG4gICAgLy8gMjMuMi41LjMgUHJvcGVydGllcyBvZiBTZXQgSXRlcmF0b3IgSW5zdGFuY2VzXG5cbiAgfSgpKTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMjMuMyBXZWFrTWFwIE9iamVjdHNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgKGZ1bmN0aW9uKCkge1xuICAgIC8vIDIzLjMuMSBUaGUgV2Vha01hcCBDb25zdHJ1Y3RvclxuICAgIC8vIDIzLjMuMS4xIFdlYWtNYXAgKCBbIGl0ZXJhYmxlIF0gKVxuICAgIC8qKiBAY29uc3RydWN0b3IgKi9cbiAgICBmdW5jdGlvbiBXZWFrTWFwKC8qaXRlcmFibGUqLykge1xuICAgICAgdmFyIG1hcCA9IHN0cmljdCh0aGlzKTtcbiAgICAgIHZhciBpdGVyYWJsZSA9IGFyZ3VtZW50c1swXTtcblxuICAgICAgaWYgKFR5cGUobWFwKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgaWYgKCdbW1dlYWtNYXBEYXRhXV0nIGluIG1hcCkgdGhyb3cgVHlwZUVycm9yKCk7XG5cbiAgICAgIGlmIChpdGVyYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBhZGRlciA9IG1hcFsnc2V0J107XG4gICAgICAgIGlmICghSXNDYWxsYWJsZShhZGRlcikpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICB2YXIgaXRlciA9IEdldEl0ZXJhdG9yKFRvT2JqZWN0KGl0ZXJhYmxlKSk7XG4gICAgICB9XG4gICAgICBzZXRfaW50ZXJuYWwobWFwLCAnW1tXZWFrTWFwRGF0YV1dJywgbmV3IEVwaGVtZXJvblRhYmxlKTtcbiAgICAgIGlmIChpdGVyID09PSB1bmRlZmluZWQpIHJldHVybiBtYXA7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgbmV4dCA9IEl0ZXJhdG9yU3RlcChpdGVyKTtcbiAgICAgICAgaWYgKG5leHQgPT09IGZhbHNlKVxuICAgICAgICAgIHJldHVybiBtYXA7XG4gICAgICAgIHZhciBuZXh0VmFsdWUgPSBJdGVyYXRvclZhbHVlKG5leHQpO1xuICAgICAgICBpZiAoVHlwZShuZXh0VmFsdWUpICE9PSAnb2JqZWN0JykgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIHZhciBrID0gbmV4dFZhbHVlWzBdO1xuICAgICAgICB2YXIgdiA9IG5leHRWYWx1ZVsxXTtcbiAgICAgICAgYWRkZXIuY2FsbChtYXAsIGssIHYpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWFwO1xuICAgIH1cblxuICAgIGlmICghKCdXZWFrTWFwJyBpbiBnbG9iYWwpIHx8IE9WRVJSSURFX05BVElWRV9GT1JfVEVTVElORylcbiAgICAgIGdsb2JhbC5XZWFrTWFwID0gV2Vha01hcDtcblxuICAgIC8vIDIzLjMuMiBQcm9wZXJ0aWVzIG9mIHRoZSBXZWFrTWFwIENvbnN0cnVjdG9yXG4gICAgLy8gMjMuMy4yLjEgV2Vha01hcC5wcm90b3R5cGVcbiAgICB2YXIgJFdlYWtNYXBQcm90b3R5cGUkID0ge307XG4gICAgV2Vha01hcC5wcm90b3R5cGUgPSAkV2Vha01hcFByb3RvdHlwZSQ7XG5cblxuXG4gICAvLyAyMy4zLjIuMiBXZWFrTWFwWyBAQGNyZWF0ZSBdICggKVxuICAgIC8vIDIzLjMuMyBQcm9wZXJ0aWVzIG9mIHRoZSBXZWFrTWFwIFByb3RvdHlwZSBPYmplY3RcblxuICAgIC8vIDIzLjMuMy4xIFdlYWtNYXAucHJvdG90eXBlLmNvbnN0cnVjdG9yXG5cbiAgICAvLyAyMy4zLjMuMiBXZWFrTWFwLnByb3RvdHlwZS5kZWxldGUgKCBrZXkgKVxuICAgIGRlZmluZShcbiAgICAgIFdlYWtNYXAucHJvdG90eXBlLCAnZGVsZXRlJyxcbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZV8oa2V5KSB7XG4gICAgICAgIHZhciBNID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShNKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBpZiAoTVsnW1tXZWFrTWFwRGF0YV1dJ10gPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIGlmIChUeXBlKGtleSkgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoJ0V4cGVjdGVkIG9iamVjdCcpO1xuICAgICAgICByZXR1cm4gTVsnW1tXZWFrTWFwRGF0YV1dJ10ucmVtb3ZlKGtleSk7XG4gICAgICB9KTtcblxuICAgIC8vIDIzLjMuMy4zIFdlYWtNYXAucHJvdG90eXBlLmdldCAoIGtleSApXG4gICAgZGVmaW5lKFxuICAgICAgV2Vha01hcC5wcm90b3R5cGUsICdnZXQnLFxuICAgICAgZnVuY3Rpb24gZ2V0KGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHZhciBNID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShNKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBpZiAoTVsnW1tXZWFrTWFwRGF0YV1dJ10gPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIGlmIChUeXBlKGtleSkgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoJ0V4cGVjdGVkIG9iamVjdCcpO1xuICAgICAgICByZXR1cm4gTVsnW1tXZWFrTWFwRGF0YV1dJ10uZ2V0KGtleSwgZGVmYXVsdFZhbHVlKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gMjMuMy4zLjQgV2Vha01hcC5wcm90b3R5cGUuaGFzICgga2V5IClcbiAgICBkZWZpbmUoXG4gICAgICBXZWFrTWFwLnByb3RvdHlwZSwgJ2hhcycsXG4gICAgICBmdW5jdGlvbiBoYXMoa2V5KSB7XG4gICAgICAgIHZhciBNID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShNKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBpZiAoTVsnW1tXZWFrTWFwRGF0YV1dJ10gPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIGlmIChUeXBlKGtleSkgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoJ0V4cGVjdGVkIG9iamVjdCcpO1xuICAgICAgICByZXR1cm4gTVsnW1tXZWFrTWFwRGF0YV1dJ10uaGFzKGtleSk7XG4gICAgICB9KTtcblxuICAgIC8vIDIzLjMuMy41IFdlYWtNYXAucHJvdG90eXBlLnNldCAoIGtleSAsIHZhbHVlIClcbiAgICBkZWZpbmUoXG4gICAgICBXZWFrTWFwLnByb3RvdHlwZSwgJ3NldCcsXG4gICAgICBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICB2YXIgTSA9IHN0cmljdCh0aGlzKTtcbiAgICAgICAgaWYgKFR5cGUoTSkgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgaWYgKE1bJ1tbV2Vha01hcERhdGFdXSddID09PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBpZiAoVHlwZShrZXkpICE9PSAnb2JqZWN0JykgdGhyb3cgVHlwZUVycm9yKCdFeHBlY3RlZCBvYmplY3QnKTtcbiAgICAgICAgTVsnW1tXZWFrTWFwRGF0YV1dJ10uc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gTTtcbiAgICAgIH0pO1xuXG4gICAgLy8gMjMuMy4zLjYgV2Vha01hcC5wcm90b3R5cGUgWyBAQHRvU3RyaW5nVGFnIF1cbiAgICBkZWZpbmUoZ2xvYmFsLldlYWtNYXAucHJvdG90eXBlLCAkJHRvU3RyaW5nVGFnLCAnV2Vha01hcCcpO1xuXG4gICAgLy8gMjMuMy40IFByb3BlcnRpZXMgb2YgV2Vha01hcCBJbnN0YW5jZXNcblxuICAgIC8vIFBvbHlmaWxscyBmb3IgaW5jb21wbGV0ZSBuYXRpdmUgaW1wbGVtZW50YXRpb25zOlxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIHZhciB3bSA9IG5ldyBnbG9iYWwuV2Vha01hcCgpO1xuICAgICAgdmFyIG9yaWcgPSBnbG9iYWwuV2Vha01hcC5wcm90b3R5cGUuc2V0O1xuICAgICAgZGVmaW5lKGdsb2JhbC5XZWFrTWFwLnByb3RvdHlwZSwgJ3NldCcsIGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgb3JpZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sIHdtLnNldCh7fSwgMCkgIT09IHdtKTtcbiAgICB9KCkpO1xuICB9KCkpO1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAyMy40IFdlYWtTZXQgT2JqZWN0c1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAoZnVuY3Rpb24oKSB7XG4gICAgLy8gMjMuNC4xIFRoZSBXZWFrU2V0IENvbnN0cnVjdG9yXG4gICAgLy8gMjMuNC4xLjEgV2Vha1NldCAoIFsgaXRlcmFibGUgXSApXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqL1xuICAgIGZ1bmN0aW9uIFdlYWtTZXQoLyppdGVyYWJsZSovKSB7XG4gICAgICB2YXIgc2V0ID0gc3RyaWN0KHRoaXMpO1xuICAgICAgdmFyIGl0ZXJhYmxlID0gYXJndW1lbnRzWzBdO1xuXG4gICAgICBpZiAoVHlwZShzZXQpICE9PSAnb2JqZWN0JykgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICBpZiAoJ1tbV2Vha1NldERhdGFdXScgaW4gc2V0KSB0aHJvdyBUeXBlRXJyb3IoKTtcblxuICAgICAgaWYgKGl0ZXJhYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIGFkZGVyID0gc2V0WydhZGQnXTtcbiAgICAgICAgaWYgKCFJc0NhbGxhYmxlKGFkZGVyKSkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIHZhciBpdGVyID0gR2V0SXRlcmF0b3IoVG9PYmplY3QoaXRlcmFibGUpKTtcbiAgICAgIH1cbiAgICAgIHNldF9pbnRlcm5hbChzZXQsICdbW1dlYWtTZXREYXRhXV0nLCBuZXcgRXBoZW1lcm9uVGFibGUpO1xuICAgICAgaWYgKGl0ZXIgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHNldDtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBuZXh0ID0gSXRlcmF0b3JTdGVwKGl0ZXIpO1xuICAgICAgICBpZiAobmV4dCA9PT0gZmFsc2UpXG4gICAgICAgICAgcmV0dXJuIHNldDtcbiAgICAgICAgdmFyIG5leHRWYWx1ZSA9IEl0ZXJhdG9yVmFsdWUobmV4dCk7XG4gICAgICAgIGFkZGVyLmNhbGwoc2V0LCBuZXh0VmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0O1xuICAgIH1cblxuICAgIGlmICghKCdXZWFrU2V0JyBpbiBnbG9iYWwpIHx8IE9WRVJSSURFX05BVElWRV9GT1JfVEVTVElORylcbiAgICAgIGdsb2JhbC5XZWFrU2V0ID0gV2Vha1NldDtcblxuICAgIC8vIDIzLjQuMiBQcm9wZXJ0aWVzIG9mIHRoZSBXZWFrU2V0IENvbnN0cnVjdG9yXG4gICAgLy8gMjMuNC4yLjEgV2Vha1NldC5wcm90b3R5cGVcbiAgICB2YXIgJFdlYWtTZXRQcm90b3R5cGUkID0ge307XG4gICAgV2Vha1NldC5wcm90b3R5cGUgPSAkV2Vha1NldFByb3RvdHlwZSQ7XG5cbiAgICAvLyAyMy40LjMgUHJvcGVydGllcyBvZiB0aGUgV2Vha1NldCBQcm90b3R5cGUgT2JqZWN0XG4gICAgLy8gMjMuNC4zLjEgV2Vha1NldC5wcm90b3R5cGUuYWRkICh2YWx1ZSApXG4gICAgZGVmaW5lKFxuICAgICAgV2Vha1NldC5wcm90b3R5cGUsICdhZGQnLFxuICAgICAgZnVuY3Rpb24gYWRkKHZhbHVlKSB7XG4gICAgICAgIHZhciBTID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShTKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBpZiAoU1snW1tXZWFrU2V0RGF0YV1dJ10gPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIGlmIChUeXBlKHZhbHVlKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcignRXhwZWN0ZWQgb2JqZWN0Jyk7XG4gICAgICAgIFNbJ1tbV2Vha1NldERhdGFdXSddLnNldCh2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBTO1xuICAgICAgfSk7XG5cbiAgICAvLyAyMy40LjMuMiBXZWFrU2V0LnByb3RvdHlwZS5jb25zdHJ1Y3RvclxuICAgIC8vIDIzLjQuMy4zIFdlYWtTZXQucHJvdG90eXBlLmRlbGV0ZSAoIHZhbHVlIClcbiAgICBkZWZpbmUoXG4gICAgICBXZWFrU2V0LnByb3RvdHlwZSwgJ2RlbGV0ZScsXG4gICAgICBmdW5jdGlvbiBkZWxldGVfKHZhbHVlKSB7XG4gICAgICAgIHZhciBTID0gc3RyaWN0KHRoaXMpO1xuICAgICAgICBpZiAoVHlwZShTKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBpZiAoU1snW1tXZWFrU2V0RGF0YV1dJ10gPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIGlmIChUeXBlKHZhbHVlKSAhPT0gJ29iamVjdCcpIHRocm93IFR5cGVFcnJvcignRXhwZWN0ZWQgb2JqZWN0Jyk7XG4gICAgICAgIHJldHVybiBTWydbW1dlYWtTZXREYXRhXV0nXS5yZW1vdmUodmFsdWUpO1xuICAgICAgfSk7XG5cbiAgICAvLyAyMy40LjMuNCBXZWFrU2V0LnByb3RvdHlwZS5oYXMgKCB2YWx1ZSApXG4gICAgZGVmaW5lKFxuICAgICAgV2Vha1NldC5wcm90b3R5cGUsICdoYXMnLFxuICAgICAgZnVuY3Rpb24gaGFzKGtleSkge1xuICAgICAgICB2YXIgUyA9IHN0cmljdCh0aGlzKTtcbiAgICAgICAgaWYgKFR5cGUoUykgIT09ICdvYmplY3QnKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgaWYgKFNbJ1tbV2Vha1NldERhdGFdXSddID09PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBpZiAoVHlwZShrZXkpICE9PSAnb2JqZWN0JykgdGhyb3cgVHlwZUVycm9yKCdFeHBlY3RlZCBvYmplY3QnKTtcbiAgICAgICAgcmV0dXJuIFNbJ1tbV2Vha1NldERhdGFdXSddLmhhcyhrZXkpO1xuICAgICAgfSk7XG5cbiAgICAvLyAyMy40LjMuNSBXZWFrU2V0LnByb3RvdHlwZSBbIEBAdG9TdHJpbmdUYWcgXVxuICAgIGRlZmluZShnbG9iYWwuV2Vha1NldC5wcm90b3R5cGUsICQkdG9TdHJpbmdUYWcsICdXZWFrU2V0Jyk7XG5cbiAgICAvLyAyMy40LjQgUHJvcGVydGllcyBvZiBXZWFrU2V0IEluc3RhbmNlc1xuXG4gICAgLy8gUG9seWZpbGxzIGZvciBpbmNvbXBsZXRlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnM6XG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHdzID0gbmV3IGdsb2JhbC5XZWFrU2V0KCk7XG4gICAgICB2YXIgb3JpZyA9IGdsb2JhbC5XZWFrU2V0LnByb3RvdHlwZS5hZGQ7XG4gICAgICBkZWZpbmUoZ2xvYmFsLldlYWtTZXQucHJvdG90eXBlLCAnYWRkJywgZnVuY3Rpb24gYWRkKCkge1xuICAgICAgICBvcmlnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSwgd3MuYWRkKHt9KSAhPT0gd3MpO1xuICAgIH0oKSk7XG4gIH0oKSk7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIDI0IFN0cnVjdHVyZWQgRGF0YVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMjQuMSBBcnJheUJ1ZmZlciBPYmplY3RzXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFNlZSB0eXBlZGFycmF5LmpzIGZvciBUeXBlZEFycmF5IHBvbHlmaWxsXG5cbiAgKGZ1bmN0aW9uKCkge1xuICAgIGlmICghKCdBcnJheUJ1ZmZlcicgaW4gZ2xvYmFsKSlcbiAgICAgIHJldHVybjtcblxuICAgIC8vIDI0LjEuMSBBYnN0cmFjdCBPcGVyYXRpb25zIEZvciBBcnJheUJ1ZmZlciBPYmplY3RzXG4gICAgLy8gMjQuMS4xLjEgQWxsb2NhdGVBcnJheUJ1ZmZlciggY29uc3RydWN0b3IsIGJ5dGVMZW5ndGggKVxuICAgIC8vIDI0LjEuMS4yIElzRGV0YWNoZWRCdWZmZXIoIGFycmF5QnVmZmVyIClcbiAgICAvLyAyNC4xLjEuMyBEZXRhY2hBcnJheUJ1ZmZlciggYXJyYXlCdWZmZXIgKVxuICAgIC8vIDI0LjEuMS40IENsb25lQXJyYXlCdWZmZXIoIHNyY0J1ZmZlciwgc3JjQnl0ZU9mZnNldCBbLCBjbG9uZUNvbnN0cnVjdG9yXSApXG4gICAgLy8gMjQuMS4xLjUgR2V0VmFsdWVGcm9tQnVmZmVyICggYXJyYXlCdWZmZXIsIGJ5dGVJbmRleCwgdHlwZSwgaXNMaXR0bGVFbmRpYW4gKVxuICAgIC8vIDI0LjEuMS42IFNldFZhbHVlSW5CdWZmZXIgKCBhcnJheUJ1ZmZlciwgYnl0ZUluZGV4LCB0eXBlLCB2YWx1ZSwgaXNMaXR0bGVFbmRpYW4gKVxuICAgIC8vIDI0LjEuMiBUaGUgQXJyYXlCdWZmZXIgQ29uc3RydWN0b3JcbiAgICAvLyAyNC4xLjIuMSBBcnJheUJ1ZmZlciggbGVuZ3RoIClcbiAgICAvLyAyNC4xLjMgUHJvcGVydGllcyBvZiB0aGUgQXJyYXlCdWZmZXIgQ29uc3RydWN0b3JcblxuICAgIC8vIDI0LjEuMy4xIEFycmF5QnVmZmVyLmlzVmlldyAoIGFyZyApXG4gICAgZGVmaW5lKFxuICAgICAgQXJyYXlCdWZmZXIsICdpc1ZpZXcnLFxuICAgICAgZnVuY3Rpb24gaXNWaWV3KGFyZykge1xuICAgICAgICBpZiAoVHlwZShhcmcpICE9PSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoJ2J1ZmZlcicgaW4gYXJnICYmIGFyZy5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgLy8gMjQuMS4zLjIgQXJyYXlCdWZmZXIucHJvdG90eXBlXG4gICAgLy8gMjQuMS4zLjMgZ2V0IEFycmF5QnVmZmVyIFsgQEBzcGVjaWVzIF1cbiAgICAvLyAyNC4xLjQgUHJvcGVydGllcyBvZiB0aGUgQXJyYXlCdWZmZXIgUHJvdG90eXBlIE9iamVjdFxuICAgIC8vIDI0LjEuNC4xIGdldCBBcnJheUJ1ZmZlci5wcm90b3R5cGUuYnl0ZUxlbmd0aFxuICAgIC8vIDI0LjEuNC4yIEFycmF5QnVmZmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvclxuICAgIC8vIDI0LjEuNC4zIEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSAoIHN0YXJ0ICwgZW5kKVxuXG4gICAgLy8gMjQuMS40LjQgQXJyYXlCdWZmZXIucHJvdG90eXBlIFsgQEB0b1N0cmluZ1RhZyBdXG4gICAgZGVmaW5lKEFycmF5QnVmZmVyLnByb3RvdHlwZSwgJCR0b1N0cmluZ1RhZywgJ0FycmF5QnVmZmVyJyk7XG5cbiAgICAvLyAyNC4xLjUgUHJvcGVydGllcyBvZiB0aGUgQXJyYXlCdWZmZXIgSW5zdGFuY2VzXG4gIH0oKSk7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIDI0LjIgRGF0YVZpZXcgT2JqZWN0c1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBTZWUgdHlwZWRhcnJheS5qcyBmb3IgVHlwZWRBcnJheSBwb2x5ZmlsbFxuXG4gIChmdW5jdGlvbigpIHtcbiAgICBpZiAoISgnRGF0YVZpZXcnIGluIGdsb2JhbCkpXG4gICAgICByZXR1cm47XG5cbiAgICAvLyAyNC4yLjEgQWJzdHJhY3QgT3BlcmF0aW9ucyBGb3IgRGF0YVZpZXcgT2JqZWN0c1xuICAgIC8vIDI0LjIuMS4xIEdldFZpZXdWYWx1ZSh2aWV3LCByZXF1ZXN0SW5kZXgsIGlzTGl0dGxlRW5kaWFuLCB0eXBlKVxuICAgIC8vIDI0LjIuMS4yIFNldFZpZXdWYWx1ZSh2aWV3LCByZXF1ZXN0SW5kZXgsIGlzTGl0dGxlRW5kaWFuLCB0eXBlLCB2YWx1ZSlcbiAgICAvLyAyNC4yLjIgVGhlIERhdGFWaWV3IENvbnN0cnVjdG9yXG4gICAgLy8gMjQuMi4yLjEgRGF0YVZpZXcgKGJ1ZmZlciBbICwgYnl0ZU9mZnNldCBbICwgYnl0ZUxlbmd0aCBdIF0gKVxuICAgIC8vIDI0LjIuMyBQcm9wZXJ0aWVzIG9mIHRoZSBEYXRhVmlldyBDb25zdHJ1Y3RvclxuICAgIC8vIDI0LjIuMy4xIERhdGFWaWV3LnByb3RvdHlwZVxuICAgIC8vIDI0LjIuNCBQcm9wZXJ0aWVzIG9mIHRoZSBEYXRhVmlldyBQcm90b3R5cGUgT2JqZWN0XG4gICAgLy8gMjQuMi40LjEgZ2V0IERhdGFWaWV3LnByb3RvdHlwZS5idWZmZXJcbiAgICAvLyAyNC4yLjQuMiBnZXQgRGF0YVZpZXcucHJvdG90eXBlLmJ5dGVMZW5ndGhcbiAgICAvLyAyNC4yLjQuMyBnZXQgRGF0YVZpZXcucHJvdG90eXBlLmJ5dGVPZmZzZXRcbiAgICAvLyAyNC4yLjQuNCBEYXRhVmlldy5wcm90b3R5cGUuY29uc3RydWN0b3JcbiAgICAvLyAyNC4yLjQuNSBEYXRhVmlldy5wcm90b3R5cGUuZ2V0RmxvYXQzMiAoIGJ5dGVPZmZzZXQgWyAsIGxpdHRsZUVuZGlhbiBdIClcbiAgICAvLyAyNC4yLjQuNiBEYXRhVmlldy5wcm90b3R5cGUuZ2V0RmxvYXQ2NCAoIGJ5dGVPZmZzZXQgWyAsIGxpdHRsZUVuZGlhbiBdIClcbiAgICAvLyAyNC4yLjQuNyBEYXRhVmlldy5wcm90b3R5cGUuZ2V0SW50OCAoIGJ5dGVPZmZzZXQgKVxuICAgIC8vIDI0LjIuNC44IERhdGFWaWV3LnByb3RvdHlwZS5nZXRJbnQxNiAoIGJ5dGVPZmZzZXQgWyAsIGxpdHRsZUVuZGlhbiBdIClcbiAgICAvLyAyNC4yLjQuOSBEYXRhVmlldy5wcm90b3R5cGUuZ2V0SW50MzIgKCBieXRlT2Zmc2V0IFsgLCBsaXR0bGVFbmRpYW4gXSApXG4gICAgLy8gMjQuMi40LjEwIERhdGFWaWV3LnByb3RvdHlwZS5nZXRVaW50OCAoIGJ5dGVPZmZzZXQgKVxuICAgIC8vIDI0LjIuNC4xMSBEYXRhVmlldy5wcm90b3R5cGUuZ2V0VWludDE2ICggYnl0ZU9mZnNldCBbICwgbGl0dGxlRW5kaWFuIF0gKVxuICAgIC8vIDI0LjIuNC4xMiBEYXRhVmlldy5wcm90b3R5cGUuZ2V0VWludDMyICggYnl0ZU9mZnNldCBbICwgbGl0dGxlRW5kaWFuIF0gKVxuICAgIC8vIDI0LjIuNC4xMyBEYXRhVmlldy5wcm90b3R5cGUuc2V0RmxvYXQzMiAoIGJ5dGVPZmZzZXQsIHZhbHVlIFsgLCBsaXR0bGVFbmRpYW4gXSApXG4gICAgLy8gMjQuMi40LjE0IERhdGFWaWV3LnByb3RvdHlwZS5zZXRGbG9hdDY0ICggYnl0ZU9mZnNldCwgdmFsdWUgWyAsIGxpdHRsZUVuZGlhbiBdIClcbiAgICAvLyAyNC4yLjQuMTUgRGF0YVZpZXcucHJvdG90eXBlLnNldEludDggKCBieXRlT2Zmc2V0LCB2YWx1ZSApXG4gICAgLy8gMjQuMi40LjE2IERhdGFWaWV3LnByb3RvdHlwZS5zZXRJbnQxNiAoIGJ5dGVPZmZzZXQsIHZhbHVlIFsgLCBsaXR0bGVFbmRpYW4gXSApXG4gICAgLy8gMjQuMi40LjE3IERhdGFWaWV3LnByb3RvdHlwZS5zZXRJbnQzMiAoIGJ5dGVPZmZzZXQsIHZhbHVlIFsgLCBsaXR0bGVFbmRpYW4gXSApXG4gICAgLy8gMjQuMi40LjE4IERhdGFWaWV3LnByb3RvdHlwZS5zZXRVaW50OCAoIGJ5dGVPZmZzZXQsIHZhbHVlIClcbiAgICAvLyAyNC4yLjQuMTkgRGF0YVZpZXcucHJvdG90eXBlLnNldFVpbnQxNiAoIGJ5dGVPZmZzZXQsIHZhbHVlIFsgLCBsaXR0bGVFbmRpYW4gXSApXG4gICAgLy8gMjQuMi40LjIwIERhdGFWaWV3LnByb3RvdHlwZS5zZXRVaW50MzIgKCBieXRlT2Zmc2V0LCB2YWx1ZSBbICwgbGl0dGxlRW5kaWFuIF0gKVxuXG4gICAgLy8gMjQuMi40LjIxIERhdGFWaWV3LnByb3RvdHlwZVsgQEB0b1N0cmluZ1RhZyBdXG4gICAgZGVmaW5lKERhdGFWaWV3LnByb3RvdHlwZSwgJCR0b1N0cmluZ1RhZywgJ0RhdGFWaWV3Jyk7XG5cbiAgICAvLyAyNC4yLjUgUHJvcGVydGllcyBvZiBEYXRhVmlldyBJbnN0YW5jZXNcbiAgfSgpKTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMjQuMyBUaGUgSlNPTiBPYmplY3RcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gMjQuMy4xIEpTT04ucGFyc2UgKCB0ZXh0IFsgLCByZXZpdmVyIF0gKVxuICAvLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkgKCB2YWx1ZSBbICwgcmVwbGFjZXIgWyAsIHNwYWNlIF0gXSApXG4gIC8vIDI0LjMuMyBKU09OIFsgQEB0b1N0cmluZ1RhZyBdXG4gIGRlZmluZShKU09OLCAkJHRvU3RyaW5nVGFnLCAnSlNPTicpO1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAyNS4xIEl0ZXJhdGlvblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyAyNS4xLjEgQ29tbW9uIEl0ZXJhdGlvbiBJbnRlcmZhY2VzXG4gIC8vIDI1LjEuMS4xIFRoZSBJdGVyYWJsZSBJbnRlcmZhY2VcbiAgLy8gMjUuMS4xLjIgVGhlIEl0ZXJhdG9yIEludGVyZmFjZVxuICAvLyAyNS4xLjEuMyBUaGUgSXRlcmF0b3JSZXN1bHQgSW50ZXJmYWNlXG5cbiAgLy8gMjUuMS4yIFRoZSAlSXRlcmF0b3JQcm90b3R5cGUlIE9iamVjdFxuICAvLyBEZWZpbmVkIGVhcmxpZXIsIHNvIG90aGVyIHByb3RvdHlwZXMgY2FuIHJlZmVyZW5jZSBpdC5cbiAgLy8gMjUuMS4yLjEgJUl0ZXJhdG9yUHJvdG90eXBlJSBbIEBAaXRlcmF0b3IgXSAoIClcbiAgZGVmaW5lKCRJdGVyYXRvclByb3RvdHlwZSQsICQkaXRlcmF0b3IsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAyNS40IFByb21pc2UgT2JqZWN0c1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAoZnVuY3Rpb24oKSB7XG4gICAgLy8gMjUuNCBQcm9taXNlIE9iamVjdHNcblxuICAgIC8vIDI1LjQuMSBQcm9taXNlIEFic3RyYWN0IE9wZXJhdGlvbnNcblxuICAgIC8vIDI1LjQuMS4xIFByb21pc2VDYXBhYmlsaXR5IFJlY29yZHNcbiAgICAvLyAyNS40LjEuMS4xIElmQWJydXB0UmVqZWN0UHJvbWlzZSAoIHZhbHVlLCBjYXBhYmlsaXR5IClcblxuICAgIGZ1bmN0aW9uIElmQWJydXB0UmVqZWN0UHJvbWlzZSh2YWx1ZSwgY2FwYWJpbGl0eSkge1xuICAgICAgdmFyIHJlamVjdFJlc3VsdCA9IGNhcGFiaWxpdHlbJ1tbUmVqZWN0XV0nXS5jYWxsKHVuZGVmaW5lZCwgdmFsdWUpO1xuICAgICAgcmV0dXJuIGNhcGFiaWxpdHlbJ1tbUHJvbWlzZV1dJ107XG4gICAgfVxuXG4gICAgLy8gMjUuNC4xLjIgUHJvbWlzZVJlYWN0aW9uIFJlY29yZHNcblxuICAgIC8vIDI1LjQuMS4zIENyZWF0ZVJlc29sdmluZ0Z1bmN0aW9ucyAoIHByb21pc2UgKVxuXG4gICAgZnVuY3Rpb24gQ3JlYXRlUmVzb2x2aW5nRnVuY3Rpb25zKHByb21pc2UpIHtcbiAgICAgIHZhciBhbHJlYWR5UmVzb2x2ZWQgPSB7J1tbdmFsdWVdXSc6IGZhbHNlfTtcbiAgICAgIHZhciByZXNvbHZlID0gUHJvbWlzZVJlc29sdmVGdW5jdGlvbigpO1xuICAgICAgc2V0X2ludGVybmFsKHJlc29sdmUsICdbW1Byb21pc2VdXScsICBwcm9taXNlKTtcbiAgICAgIHNldF9pbnRlcm5hbChyZXNvbHZlLCAnW1tBbHJlYWR5UmVzb2x2ZWRdXScsIGFscmVhZHlSZXNvbHZlZCk7XG4gICAgICB2YXIgcmVqZWN0ID0gUHJvbWlzZVJlamVjdEZ1bmN0aW9uKCk7XG4gICAgICBzZXRfaW50ZXJuYWwocmVqZWN0LCAnW1tQcm9taXNlXV0nLCBwcm9taXNlKTtcbiAgICAgIHNldF9pbnRlcm5hbChyZWplY3QsICdbW0FscmVhZHlSZXNvbHZlZF1dJywgYWxyZWFkeVJlc29sdmVkKTtcbiAgICAgIHJldHVybiB7ICdbW1Jlc29sdmVdXSc6IHJlc29sdmUsICdbW1JlamVjdF1dJzogcmVqZWN0fTtcbiAgICB9XG5cbiAgICAvLyAyNS40LjEuMy4xIFByb21pc2UgUmVqZWN0IEZ1bmN0aW9uc1xuXG4gICAgZnVuY3Rpb24gUHJvbWlzZVJlamVjdEZ1bmN0aW9uKCkge1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgY29uc29sZS5hc3NlcnQoVHlwZShGWydbW1Byb21pc2VdXSddKSA9PT0gJ29iamVjdCcpO1xuICAgICAgICB2YXIgcHJvbWlzZSA9IEZbJ1tbUHJvbWlzZV1dJ107XG4gICAgICAgIHZhciBhbHJlYWR5UmVzb2x2ZWQgPSBGWydbW0FscmVhZHlSZXNvbHZlZF1dJ107XG4gICAgICAgIGlmIChhbHJlYWR5UmVzb2x2ZWRbJ1tbdmFsdWVdXSddKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBzZXRfaW50ZXJuYWwoYWxyZWFkeVJlc29sdmVkLCAnW1t2YWx1ZV1dJywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBSZWplY3RQcm9taXNlKHByb21pc2UsIHJlYXNvbik7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIEY7XG4gICAgfVxuXG4gICAgLy8gMjUuNC4xLjMuMiBQcm9taXNlIFJlc29sdmUgRnVuY3Rpb25zXG5cbiAgICBmdW5jdGlvbiBQcm9taXNlUmVzb2x2ZUZ1bmN0aW9uKCkge1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbihyZXNvbHV0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KFR5cGUoRlsnW1tQcm9taXNlXV0nXSkgPT09ICdvYmplY3QnKTtcbiAgICAgICAgdmFyIHByb21pc2UgPSBGWydbW1Byb21pc2VdXSddO1xuICAgICAgICB2YXIgYWxyZWFkeVJlc29sdmVkID0gRlsnW1tBbHJlYWR5UmVzb2x2ZWRdXSddO1xuICAgICAgICBpZiAoYWxyZWFkeVJlc29sdmVkWydbW3ZhbHVlXV0nXSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgc2V0X2ludGVybmFsKGFscmVhZHlSZXNvbHZlZCwgJ1tbdmFsdWVdXScsIHRydWUpO1xuXG4gICAgICAgIGlmIChTYW1lVmFsdWUocmVzb2x1dGlvbiwgcHJvbWlzZSkpICB7XG4gICAgICAgICAgdmFyIHNlbGZSZXNvbHV0aW9uRXJyb3IgPSBUeXBlRXJyb3IoKTtcbiAgICAgICAgICByZXR1cm4gUmVqZWN0UHJvbWlzZShwcm9taXNlLCBzZWxmUmVzb2x1dGlvbkVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVHlwZShyZXNvbHV0aW9uKSAhPT0gJ29iamVjdCcpXG4gICAgICAgICAgcmV0dXJuIEZ1bGZpbGxQcm9taXNlKHByb21pc2UsIHJlc29sdXRpb24pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciB0aGVuID0gcmVzb2x1dGlvblsndGhlbiddO1xuICAgICAgICB9IGNhdGNoKHRoZW4pIHtcbiAgICAgICAgICByZXR1cm4gUmVqZWN0UHJvbWlzZShwcm9taXNlLCB0aGVuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUlzQ2FsbGFibGUodGhlbikpXG4gICAgICAgICAgcmV0dXJuIEZ1bGZpbGxQcm9taXNlKHByb21pc2UsIHJlc29sdXRpb24pO1xuICAgICAgICBFbnF1ZXVlSm9iKCdQcm9taXNlSm9icycsIFByb21pc2VSZXNvbHZlVGhlbmFibGVKb2IsIFtwcm9taXNlLCByZXNvbHV0aW9uLCB0aGVuXSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIEY7XG4gICAgfVxuXG4gICAgLy8gMjUuNC4xLjQgRnVsZmlsbFByb21pc2UgKCBwcm9taXNlLCB2YWx1ZSApXG5cbiAgICBmdW5jdGlvbiBGdWxmaWxsUHJvbWlzZShwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgY29uc29sZS5hc3NlcnQocHJvbWlzZVsnW1tQcm9taXNlU3RhdGVdXSddID09PSAncGVuZGluZycpO1xuICAgICAgdmFyIHJlYWN0aW9ucyA9IHByb21pc2VbJ1tbUHJvbWlzZUZ1bGZpbGxSZWFjdGlvbnNdXSddO1xuICAgICAgc2V0X2ludGVybmFsKHByb21pc2UsICdbW1Byb21pc2VSZXN1bHRdXScsIHZhbHVlKTtcbiAgICAgIHNldF9pbnRlcm5hbChwcm9taXNlLCAnW1tQcm9taXNlRnVsZmlsbFJlYWN0aW9uc11dJywgdW5kZWZpbmVkKTtcbiAgICAgIHNldF9pbnRlcm5hbChwcm9taXNlLCAnW1tQcm9taXNlUmVqZWN0UmVhY3Rpb25zXV0nLCB1bmRlZmluZWQpO1xuICAgICAgc2V0X2ludGVybmFsKHByb21pc2UsICdbW1Byb21pc2VTdGF0ZV1dJywgJ2Z1bGZpbGxlZCcpO1xuICAgICAgcmV0dXJuIFRyaWdnZXJQcm9taXNlUmVhY3Rpb25zKHJlYWN0aW9ucywgdmFsdWUpO1xuICAgIH1cblxuICAgIC8vIDI1LjQuMS41IE5ld1Byb21pc2VDYXBhYmlsaXR5ICggQyApXG5cbiAgICBmdW5jdGlvbiBOZXdQcm9taXNlQ2FwYWJpbGl0eShjKSB7XG4gICAgICAvLyBUbyBrZWVwIFByb21pc2UgaGVybWV0aWMsIHRoaXMgZG9lc24ndCBsb29rIG11Y2ggbGlrZSB0aGUgc3BlYy5cbiAgICAgIHJldHVybiBDcmVhdGVQcm9taXNlQ2FwYWJpbGl0eVJlY29yZCh1bmRlZmluZWQsIGMpO1xuICAgIH1cblxuICAgIC8vIDI1LjQuMS41LjEgQ3JlYXRlUHJvbWlzZUNhcGFiaWxpdHlSZWNvcmQgKCBwcm9taXNlLCBjb25zdHJ1Y3RvciApXG5cbiAgICBmdW5jdGlvbiBDcmVhdGVQcm9taXNlQ2FwYWJpbGl0eVJlY29yZChwcm9taXNlLCBjb25zdHJ1Y3Rvcikge1xuICAgICAgLy8gVG8ga2VlcCBQcm9taXNlIGhlcm1ldGljLCB0aGlzIGRvZXNuJ3QgbG9vayBtdWNoIGxpa2UgdGhlIHNwZWMuXG4gICAgICBjb25zb2xlLmFzc2VydChJc0NvbnN0cnVjdG9yKGNvbnN0cnVjdG9yKSk7XG4gICAgICB2YXIgcHJvbWlzZUNhcGFiaWxpdHkgPSB7fTtcbiAgICAgIHNldF9pbnRlcm5hbChwcm9taXNlQ2FwYWJpbGl0eSwgJ1tbUHJvbWlzZV1dJywgcHJvbWlzZSk7XG4gICAgICBzZXRfaW50ZXJuYWwocHJvbWlzZUNhcGFiaWxpdHksICdbW1Jlc29sdmVdXScsIHVuZGVmaW5lZCk7XG4gICAgICBzZXRfaW50ZXJuYWwocHJvbWlzZUNhcGFiaWxpdHksICdbW1JlamVjdF1dJywgdW5kZWZpbmVkKTtcbiAgICAgIHZhciBleGVjdXRvciA9IEdldENhcGFiaWxpdGllc0V4ZWN1dG9yKCk7XG4gICAgICBzZXRfaW50ZXJuYWwoZXhlY3V0b3IsICdbW0NhcGFiaWxpdHldXScsIHByb21pc2VDYXBhYmlsaXR5KTtcblxuICAgICAgLy8gTk9URTogRGlmZmVycyBmcm9tIHNwZWM7IG9iamVjdCBpcyBjb25zdHJ1Y3RlZCBoZXJlXG4gICAgICB2YXIgY29uc3RydWN0b3JSZXN1bHQgPSBwcm9taXNlID0gbmV3IGNvbnN0cnVjdG9yKGV4ZWN1dG9yKTtcbiAgICAgIHNldF9pbnRlcm5hbChwcm9taXNlQ2FwYWJpbGl0eSwgJ1tbUHJvbWlzZV1dJywgcHJvbWlzZSk7XG5cbiAgICAgIGlmICghSXNDYWxsYWJsZShwcm9taXNlQ2FwYWJpbGl0eVsnW1tSZXNvbHZlXV0nXSkpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgaWYgKCFJc0NhbGxhYmxlKHByb21pc2VDYXBhYmlsaXR5WydbW1JlamVjdF1dJ10pKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgIGlmIChUeXBlKGNvbnN0cnVjdG9yUmVzdWx0KSA9PT0gJ29iamVjdCcgJiYgIVNhbWVWYWx1ZShwcm9taXNlLCBjb25zdHJ1Y3RvclJlc3VsdCkpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5O1xuICAgIH1cblxuICAgIC8vIDI1LjQuMS41LjIgR2V0Q2FwYWJpbGl0aWVzRXhlY3V0b3IgRnVuY3Rpb25zXG5cbiAgICBmdW5jdGlvbiBHZXRDYXBhYmlsaXRpZXNFeGVjdXRvcigpIHtcbiAgICAgIHZhciBGID0gZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KEZbJ1tbQ2FwYWJpbGl0eV1dJ10pO1xuICAgICAgICB2YXIgcHJvbWlzZUNhcGFiaWxpdHkgPSBGWydbW0NhcGFiaWxpdHldXSddO1xuICAgICAgICBpZiAocHJvbWlzZUNhcGFiaWxpdHlbJ1tbUmVzb2x2ZV1dJ10gIT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgIGlmIChwcm9taXNlQ2FwYWJpbGl0eVsnW1tSZWplY3RdXSddICE9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBzZXRfaW50ZXJuYWwocHJvbWlzZUNhcGFiaWxpdHksICdbW1Jlc29sdmVdXScsIHJlc29sdmUpO1xuICAgICAgICBzZXRfaW50ZXJuYWwocHJvbWlzZUNhcGFiaWxpdHksICdbW1JlamVjdF1dJywgcmVqZWN0KTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgICByZXR1cm4gRjtcbiAgICB9XG5cbiAgICAvLyAyNS40LjEuNiBJc1Byb21pc2UgKCB4IClcblxuICAgIGZ1bmN0aW9uIElzUHJvbWlzZSh4KSB7XG4gICAgICBpZiAoVHlwZSh4KSAhPT0gJ29iamVjdCcpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICghKCdbW1Byb21pc2VTdGF0ZV1dJyBpbiB4KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHhbJ1tbUHJvbWlzZVN0YXRlXV0nXSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyAyNS40LjEuNyBSZWplY3RQcm9taXNlICggcHJvbWlzZSwgcmVhc29uIClcblxuICAgIGZ1bmN0aW9uIFJlamVjdFByb21pc2UocHJvbWlzZSwgcmVhc29uKSB7XG4gICAgICBjb25zb2xlLmFzc2VydChwcm9taXNlWydbW1Byb21pc2VTdGF0ZV1dJ10gPT09ICdwZW5kaW5nJyk7XG4gICAgICB2YXIgcmVhY3Rpb25zID0gcHJvbWlzZVsnW1tQcm9taXNlUmVqZWN0UmVhY3Rpb25zXV0nXTtcbiAgICAgIHNldF9pbnRlcm5hbChwcm9taXNlLCAnW1tQcm9taXNlUmVzdWx0XV0nLCByZWFzb24pO1xuICAgICAgc2V0X2ludGVybmFsKHByb21pc2UsICdbW1Byb21pc2VGdWxmaWxsUmVhY3Rpb25zXV0nLCB1bmRlZmluZWQpO1xuICAgICAgc2V0X2ludGVybmFsKHByb21pc2UsICdbW1Byb21pc2VSZWplY3RSZWFjdGlvbnNdXScsIHVuZGVmaW5lZCk7XG4gICAgICBzZXRfaW50ZXJuYWwocHJvbWlzZSwgJ1tbUHJvbWlzZVN0YXRlXV0nLCAncmVqZWN0ZWQnKTtcbiAgICAgIHJldHVybiBUcmlnZ2VyUHJvbWlzZVJlYWN0aW9ucyhyZWFjdGlvbnMsIHJlYXNvbik7XG4gICAgfVxuXG4gICAgLy8gMjUuNC4xLjggVHJpZ2dlclByb21pc2VSZWFjdGlvbnMgKCByZWFjdGlvbnMsIGFyZ3VtZW50IClcblxuICAgIGZ1bmN0aW9uIFRyaWdnZXJQcm9taXNlUmVhY3Rpb25zKHJlYWN0aW9ucywgYXJndW1lbnQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByZWFjdGlvbnMubGVuZ3RoOyBpIDwgbGVuOyArK2kpXG4gICAgICAgIEVucXVldWVKb2IoJ1Byb21pc2VKb2JzJywgUHJvbWlzZVJlYWN0aW9uSm9iLCBbcmVhY3Rpb25zW2ldLCBhcmd1bWVudF0pO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyAyNS40LjIgUHJvbWlzZSBKb2JzXG5cbiAgICAvLyAyNS40LjIuMSBQcm9taXNlUmVhY3Rpb25Kb2IgKCByZWFjdGlvbiwgYXJndW1lbnQgKVxuXG4gICAgZnVuY3Rpb24gUHJvbWlzZVJlYWN0aW9uSm9iKHJlYWN0aW9uLCBhcmd1bWVudCkge1xuICAgICAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gcmVhY3Rpb25bJ1tbQ2FwYWJpbGl0aWVzXV0nXTtcbiAgICAgIHZhciBoYW5kbGVyID0gcmVhY3Rpb25bJ1tbSGFuZGxlcl1dJ107XG4gICAgICB2YXIgaGFuZGxlclJlc3VsdCwgc3RhdHVzO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGhhbmRsZXIgPT09ICdJZGVudGl0eScpIGhhbmRsZXJSZXN1bHQgPSBhcmd1bWVudDtcbiAgICAgICAgZWxzZSBpZiAoaGFuZGxlciA9PT0gJ1Rocm93ZXInKSB0aHJvdyBhcmd1bWVudDtcbiAgICAgICAgZWxzZSBoYW5kbGVyUmVzdWx0ID0gaGFuZGxlci5jYWxsKHVuZGVmaW5lZCwgYXJndW1lbnQpO1xuICAgICAgfSBjYXRjaCAoaGFuZGxlclJlc3VsdCkge1xuICAgICAgICBzdGF0dXMgPSBwcm9taXNlQ2FwYWJpbGl0eVsnW1tSZWplY3RdXSddLmNhbGwodW5kZWZpbmVkLCBoYW5kbGVyUmVzdWx0KTtcbiAgICAgICAgTmV4dEpvYihzdGF0dXMpOyByZXR1cm47XG4gICAgICB9XG4gICAgICBzdGF0dXMgPSBwcm9taXNlQ2FwYWJpbGl0eVsnW1tSZXNvbHZlXV0nXS5jYWxsKHVuZGVmaW5lZCwgaGFuZGxlclJlc3VsdCk7XG4gICAgICBOZXh0Sm9iKHN0YXR1cyk7XG4gICAgfVxuXG4gICAgLy8gMjUuNC4yLjIgUHJvbWlzZVJlc29sdmVUaGVuYWJsZUpvYiAoIHByb21pc2VUb1Jlc29sdmUsIHRoZW5hYmxlLCB0aGVuKVxuXG4gICAgZnVuY3Rpb24gUHJvbWlzZVJlc29sdmVUaGVuYWJsZUpvYihwcm9taXNlVG9SZXNvbHZlLCB0aGVuYWJsZSwgdGhlbikge1xuICAgICAgLy8gU1BFQyBCVUc6IHByb21pc2UgdnMuIHByb21pc2VUb1Jlc29sdmVcbiAgICAgIHZhciByZXNvbHZpbmdGdW5jdGlvbnMgPSBDcmVhdGVSZXNvbHZpbmdGdW5jdGlvbnMocHJvbWlzZVRvUmVzb2x2ZSk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdGhlbkNhbGxSZXN1bHQgPSB0aGVuLmNhbGwodGhlbmFibGUsIHJlc29sdmluZ0Z1bmN0aW9uc1snW1tSZXNvbHZlXV0nXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmluZ0Z1bmN0aW9uc1snW1tSZWplY3RdXSddKTtcbiAgICAgIH0gY2F0Y2ggKHRoZW5DYWxsUmVzdWx0KSB7XG4gICAgICAgIHZhciBzdGF0dXMgPSByZXNvbHZpbmdGdW5jdGlvbnNbJ1tbUmVqZWN0XV0nXS5jYWxsKHVuZGVmaW5lZCwgdGhlbkNhbGxSZXN1bHQpO1xuICAgICAgICBOZXh0Sm9iKHN0YXR1cyk7IHJldHVybjtcbiAgICAgIH1cbiAgICAgIE5leHRKb2IodGhlbkNhbGxSZXN1bHQpO1xuICAgIH1cblxuICAgIC8vIDI1LjQuMyBUaGUgUHJvbWlzZSBDb25zdHJ1Y3RvclxuXG4gICAgLy8gMjUuNC4zLjEgUHJvbWlzZSAoIGV4ZWN1dG9yIClcblxuICAgIGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICAgIHZhciBjb25maWcgPSB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdbW1Byb21pc2VTdGF0ZV1dJywgY29uZmlnKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnW1tQcm9taXNlQ29uc3RydWN0b3JdXScsIGNvbmZpZyk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ1tbUHJvbWlzZVJlc3VsdF1dJywgY29uZmlnKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnW1tQcm9taXNlRnVsZmlsbFJlYWN0aW9uc11dJywgY29uZmlnKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnW1tQcm9taXNlUmVqZWN0UmVhY3Rpb25zXV0nLCBjb25maWcpO1xuXG4gICAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgICBpZiAoVHlwZShwcm9taXNlKSAhPT0gJ29iamVjdCcpIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgIGlmICghKCdbW1Byb21pc2VTdGF0ZV1dJyBpbiBwcm9taXNlKSkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICBpZiAocHJvbWlzZVsnW1tQcm9taXNlU3RhdGVdXSddICE9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgaWYgKCFJc0NhbGxhYmxlKGV4ZWN1dG9yKSkgdGhyb3cgVHlwZUVycm9yKCk7XG5cbiAgICAgIHNldF9pbnRlcm5hbChwcm9taXNlLCAnW1tQcm9taXNlQ29uc3RydWN0b3JdXScsIFByb21pc2UpO1xuXG4gICAgICByZXR1cm4gSW5pdGlhbGl6ZVByb21pc2UocHJvbWlzZSwgZXhlY3V0b3IpO1xuICAgIH1cblxuICAgIC8vIDI1LjQuMy4xLjEgSW5pdGlhbGl6ZVByb21pc2UgKCBwcm9taXNlLCBleGVjdXRvciApXG5cbiAgICBmdW5jdGlvbiBJbml0aWFsaXplUHJvbWlzZShwcm9taXNlLCBleGVjdXRvcikge1xuICAgICAgY29uc29sZS5hc3NlcnQoJ1tbUHJvbWlzZVN0YXRlXV0nIGluIHByb21pc2UpO1xuICAgICAgY29uc29sZS5hc3NlcnQoSXNDYWxsYWJsZShleGVjdXRvcikpO1xuICAgICAgc2V0X2ludGVybmFsKHByb21pc2UsICdbW1Byb21pc2VTdGF0ZV1dJywgJ3BlbmRpbmcnKTtcbiAgICAgIHNldF9pbnRlcm5hbChwcm9taXNlLCAnW1tQcm9taXNlRnVsZmlsbFJlYWN0aW9uc11dJywgW10pO1xuICAgICAgc2V0X2ludGVybmFsKHByb21pc2UsICdbW1Byb21pc2VSZWplY3RSZWFjdGlvbnNdXScsIFtdKTtcbiAgICAgIHZhciByZXNvbHZpbmdGdW5jdGlvbnMgPSBDcmVhdGVSZXNvbHZpbmdGdW5jdGlvbnMocHJvbWlzZSk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgY29tcGxldGlvbiA9IGV4ZWN1dG9yLmNhbGwodW5kZWZpbmVkLCByZXNvbHZpbmdGdW5jdGlvbnNbJ1tbUmVzb2x2ZV1dJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZpbmdGdW5jdGlvbnNbJ1tbUmVqZWN0XV0nXSk7XG4gICAgICB9IGNhdGNoIChjb21wbGV0aW9uKSB7XG4gICAgICAgIHZhciBzdGF0dXMgPSByZXNvbHZpbmdGdW5jdGlvbnNbJ1tbUmVqZWN0XV0nXS5jYWxsKHVuZGVmaW5lZCwgY29tcGxldGlvbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICAvLyAyNS40LjQgUHJvcGVydGllcyBvZiB0aGUgUHJvbWlzZSBDb25zdHJ1Y3RvclxuICAgIC8vIDI1LjQuNC4xIFByb21pc2UuYWxsICggaXRlcmFibGUgKVxuXG4gICAgZGVmaW5lKFByb21pc2UsICdhbGwnLCBmdW5jdGlvbiBhbGwoaXRlcmFibGUpIHtcbiAgICAgIHZhciBjID0gc3RyaWN0KHRoaXMpO1xuICAgICAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gTmV3UHJvbWlzZUNhcGFiaWxpdHkoYyk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBHZXRJdGVyYXRvcihpdGVyYWJsZSk7XG4gICAgICB9IGNhdGNoICh2YWx1ZSkge1xuICAgICAgICBwcm9taXNlQ2FwYWJpbGl0eVsnW1tSZWplY3RdXSddLmNhbGwodW5kZWZpbmVkLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlQ2FwYWJpbGl0eVsnW1tQcm9taXNlXV0nXTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgIHZhciByZW1haW5pbmdFbGVtZW50c0NvdW50ID0geyB2YWx1ZTogMSB9O1xuICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIG5leHQgPSBJdGVyYXRvclN0ZXAoaXRlcmF0b3IpO1xuICAgICAgICB9IGNhdGNoICh2YWx1ZSkge1xuICAgICAgICAgIHByb21pc2VDYXBhYmlsaXR5WydbW1JlamVjdF1dJ10uY2FsbCh1bmRlZmluZWQsIHZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHlbJ1tbUHJvbWlzZV1dJ107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgcmVtYWluaW5nRWxlbWVudHNDb3VudC52YWx1ZSAtPSAxO1xuICAgICAgICAgIGlmIChyZW1haW5pbmdFbGVtZW50c0NvdW50LnZhbHVlID09PSAwKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x2ZVJlc3VsdCA9IHByb21pc2VDYXBhYmlsaXR5WydbW1Jlc29sdmVdXSddLmFwcGx5KHVuZGVmaW5lZCwgdmFsdWVzKTtcblxuXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcm9taXNlQ2FwYWJpbGl0eVsnW1tQcm9taXNlXV0nXTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBuZXh0VmFsdWUgPSBJdGVyYXRvclZhbHVlKG5leHQpO1xuICAgICAgICB9IGNhdGNoICh2YWx1ZSkge1xuICAgICAgICAgIHByb21pc2VDYXBhYmlsaXR5WydbW1JlamVjdF1dJ10uY2FsbCh1bmRlZmluZWQsIHZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHlbJ1tbUHJvbWlzZV1dJ107XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgbmV4dFByb21pc2UgPSBjLnJlc29sdmUobmV4dFZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAodmFsdWUpIHtcbiAgICAgICAgICBwcm9taXNlQ2FwYWJpbGl0eVsnW1tSZWplY3RdXSddLmNhbGwodW5kZWZpbmVkLCB2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5WydbW1Byb21pc2VdXSddO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNvbHZlRWxlbWVudCA9IFByb21pc2VBbGxSZXNvbHZlRWxlbWVudEZ1bmN0aW9uKCk7XG4gICAgICAgIHNldF9pbnRlcm5hbChyZXNvbHZlRWxlbWVudCwgJ1tbQWxyZWFkeUNhbGxlZF1dJywgeyB2YWx1ZTogZmFsc2UgfSk7XG4gICAgICAgIHNldF9pbnRlcm5hbChyZXNvbHZlRWxlbWVudCwgJ1tbSW5kZXhdXScsIGluZGV4KTtcbiAgICAgICAgc2V0X2ludGVybmFsKHJlc29sdmVFbGVtZW50LCAnW1tWYWx1ZXNdXScsIHZhbHVlcyk7XG4gICAgICAgIHNldF9pbnRlcm5hbChyZXNvbHZlRWxlbWVudCwgJ1tbQ2FwYWJpbGl0aWVzXV0nLCBwcm9taXNlQ2FwYWJpbGl0eSk7XG4gICAgICAgIHNldF9pbnRlcm5hbChyZXNvbHZlRWxlbWVudCwgJ1tbUmVtYWluaW5nRWxlbWVudHNdXScsIHJlbWFpbmluZ0VsZW1lbnRzQ291bnQpO1xuICAgICAgICByZW1haW5pbmdFbGVtZW50c0NvdW50LnZhbHVlICs9IDE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IG5leHRQcm9taXNlLnRoZW4ocmVzb2x2ZUVsZW1lbnQsIHByb21pc2VDYXBhYmlsaXR5WydbW1JlamVjdF1dJ10pO1xuICAgICAgICB9IGNhdGNoICh2YWx1ZSkge1xuICAgICAgICAgIHByb21pc2VDYXBhYmlsaXR5WydbW1JlamVjdF1dJ10uY2FsbCh1bmRlZmluZWQsIHZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHlbJ1tbUHJvbWlzZV1dJ107XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIDI1LjQuNC4xLjEgUHJvbWlzZS5hbGwgUmVzb2x2ZSBFbGVtZW50IEZ1bmN0aW9uc1xuXG4gICAgZnVuY3Rpb24gUHJvbWlzZUFsbFJlc29sdmVFbGVtZW50RnVuY3Rpb24oKSB7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgdmFyIGFscmVhZHlDYWxsZWQgPSBGWydbW0FscmVhZHlDYWxsZWRdXSddO1xuICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZC52YWx1ZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgYWxyZWFkeUNhbGxlZC52YWx1ZSA9IHRydWU7XG4gICAgICAgIHZhciBpbmRleCA9IEZbJ1tbSW5kZXhdXSddO1xuICAgICAgICB2YXIgdmFsdWVzID0gRlsnW1tWYWx1ZXNdXSddO1xuICAgICAgICB2YXIgcHJvbWlzZUNhcGFiaWxpdHkgPSBGWydbW0NhcGFiaWxpdGllc11dJ107XG4gICAgICAgIHZhciByZW1haW5pbmdFbGVtZW50c0NvdW50ID0gRlsnW1tSZW1haW5pbmdFbGVtZW50c11dJ107XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFsdWVzW2luZGV4XSA9IHg7XG4gICAgICAgIH0gY2F0Y2ggKHJlc3VsdCkge1xuICAgICAgICAgIHByb21pc2VDYXBhYmlsaXR5WydbW1JlamVjdF1dJ10uY2FsbCh1bmRlZmluZWQsIHJlc3VsdCk7XG4gICAgICAgICAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5WydbW1Byb21pc2VdXSddO1xuICAgICAgICB9XG4gICAgICAgIHJlbWFpbmluZ0VsZW1lbnRzQ291bnQudmFsdWUgLT0gMTtcbiAgICAgICAgaWYgKHJlbWFpbmluZ0VsZW1lbnRzQ291bnQudmFsdWUgPT09IDApXG4gICAgICAgICAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5WydbW1Jlc29sdmVdXSddLmNhbGwodW5kZWZpbmVkLCB2YWx1ZXMpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBGO1xuICAgIH1cblxuICAgIC8vIDI1LjQuNC4yIFByb21pc2UucHJvdG90eXBlXG5cbiAgICBQcm9taXNlLnByb3RvdHlwZSA9IHt9O1xuXG4gICAgLy8gMjUuNC40LjMgUHJvbWlzZS5yYWNlICggaXRlcmFibGUgKVxuXG4gICAgZGVmaW5lKFByb21pc2UsICdyYWNlJywgZnVuY3Rpb24gcmFjZShpdGVyYWJsZSkge1xuICAgICAgdmFyIGMgPSBzdHJpY3QodGhpcyk7XG4gICAgICB2YXIgcHJvbWlzZUNhcGFiaWxpdHkgPSBOZXdQcm9taXNlQ2FwYWJpbGl0eShjKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IEdldEl0ZXJhdG9yKGl0ZXJhYmxlKTtcbiAgICAgIH0gY2F0Y2ggKHZhbHVlKSB7XG4gICAgICAgIHByb21pc2VDYXBhYmlsaXR5WydbW1JlamVjdF1dJ10uY2FsbCh1bmRlZmluZWQsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5WydbW1Byb21pc2VdXSddO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgbmV4dCA9IEl0ZXJhdG9yU3RlcChpdGVyYXRvcik7XG4gICAgICAgIH0gY2F0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgcHJvbWlzZUNhcGFiaWxpdHlbJ1tbUmVqZWN0XV0nXS5jYWxsKHVuZGVmaW5lZCwgdmFsdWUpO1xuICAgICAgICAgIHJldHVybiBwcm9taXNlQ2FwYWJpbGl0eVsnW1tQcm9taXNlXV0nXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5leHQpIHJldHVybiBwcm9taXNlQ2FwYWJpbGl0eVsnW1tQcm9taXNlXV0nXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gSXRlcmF0b3JWYWx1ZShuZXh0KTtcbiAgICAgICAgfSBjYXRjaCAodmFsdWUpIHtcbiAgICAgICAgICBwcm9taXNlQ2FwYWJpbGl0eVsnW1tSZWplY3RdXSddLmNhbGwodW5kZWZpbmVkLCB2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5WydbW1Byb21pc2VdXSddO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIG5leHRQcm9taXNlID0gYy5yZXNvbHZlKG5leHRWYWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgcHJvbWlzZUNhcGFiaWxpdHlbJ1tbUmVqZWN0XV0nXS5jYWxsKHVuZGVmaW5lZCwgdmFsdWUpO1xuICAgICAgICAgIHJldHVybiBwcm9taXNlQ2FwYWJpbGl0eVsnW1tQcm9taXNlXV0nXTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIG5leHRQcm9taXNlLnRoZW4ocHJvbWlzZUNhcGFiaWxpdHlbJ1tbUmVzb2x2ZV1dJ10sIHByb21pc2VDYXBhYmlsaXR5WydbW1JlamVjdF1dJ10pO1xuICAgICAgICB9IGNhdGNoICh2YWx1ZSkge1xuICAgICAgICAgIHByb21pc2VDYXBhYmlsaXR5WydbW1JlamVjdF1dJ10uY2FsbCh1bmRlZmluZWQsIHZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHlbJ1tbUHJvbWlzZV1dJ107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIDI1LjQuNC40IFByb21pc2UucmVqZWN0ICggciApXG5cbiAgICBkZWZpbmUoUHJvbWlzZSwgJ3JlamVjdCcsIGZ1bmN0aW9uIHJlamVjdChyKSB7XG4gICAgICB2YXIgYyA9IHN0cmljdCh0aGlzKTtcbiAgICAgIHZhciBwcm9taXNlQ2FwYWJpbGl0eSA9IE5ld1Byb21pc2VDYXBhYmlsaXR5KGMpO1xuICAgICAgdmFyIHJlamVjdFJlc3VsdCA9IHByb21pc2VDYXBhYmlsaXR5WydbW1JlamVjdF1dJ10uY2FsbCh1bmRlZmluZWQsIHIpO1xuICAgICAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5WydbW1Byb21pc2VdXSddO1xuICAgIH0pO1xuXG4gICAgLy8gMjUuNC40LjUgUHJvbWlzZS5yZXNvbHZlICggeCApXG5cbiAgICBkZWZpbmUoUHJvbWlzZSwgJ3Jlc29sdmUnLCBmdW5jdGlvbiByZXNvbHZlKHgpIHtcbiAgICAgIHZhciBjID0gc3RyaWN0KHRoaXMpO1xuICAgICAgaWYgKElzUHJvbWlzZSh4KSkge1xuICAgICAgICB2YXIgY29uc3RydWN0b3IgPSB4WydbW1Byb21pc2VDb25zdHJ1Y3Rvcl1dJ107XG4gICAgICAgIGlmIChTYW1lVmFsdWUoY29uc3RydWN0b3IsIGMpKSByZXR1cm4geDtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9taXNlQ2FwYWJpbGl0eSA9IE5ld1Byb21pc2VDYXBhYmlsaXR5KGMpO1xuICAgICAgdmFyIHJlc29sdmVSZXN1bHQgPSBwcm9taXNlQ2FwYWJpbGl0eVsnW1tSZXNvbHZlXV0nXS5jYWxsKHVuZGVmaW5lZCwgeCk7XG4gICAgICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHlbJ1tbUHJvbWlzZV1dJ107XG4gICAgfSk7XG5cbiAgICAvLyAyNS40LjQuNiBQcm9taXNlIFsgQEBjcmVhdGUgXSAoIClcbiAgICAvLyAyNS40LjQuNi4xIEFsbG9jYXRlUHJvbWlzZSAoIGNvbnN0cnVjdG9yIClcbiAgICAvLyAyNS40LjUgUHJvcGVydGllcyBvZiB0aGUgUHJvbWlzZSBQcm90b3R5cGUgT2JqZWN0XG4gICAgLy8gMjUuNC41LjEgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggKCBvblJlamVjdGVkIClcblxuICAgIGRlZmluZShQcm9taXNlLnByb3RvdHlwZSwgJ2NhdGNoJywgZnVuY3Rpb24gY2F0Y2hfKG9uUmVqZWN0ZWQpIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgICB9KTtcblxuICAgIC8vIDI1LjQuNS4yIFByb21pc2UucHJvdG90eXBlLmNvbnN0cnVjdG9yXG5cbiAgICBQcm9taXNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByb21pc2U7XG5cbiAgICAvLyAyNS40LjUuMyBQcm9taXNlLnByb3RvdHlwZS50aGVuICggb25GdWxmaWxsZWQgLCBvblJlamVjdGVkIClcblxuICAgIGRlZmluZShQcm9taXNlLnByb3RvdHlwZSwgJ3RoZW4nLCBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgICBpZiAoIUlzUHJvbWlzZShwcm9taXNlKSkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICBpZiAoIUlzQ2FsbGFibGUob25GdWxmaWxsZWQpKSBvbkZ1bGZpbGxlZCA9ICdJZGVudGl0eSc7XG4gICAgICBpZiAoIUlzQ2FsbGFibGUob25SZWplY3RlZCkpIG9uUmVqZWN0ZWQgPSAnVGhyb3dlcic7XG4gICAgICB2YXIgYyA9IHByb21pc2UuY29uc3RydWN0b3I7XG4gICAgICB2YXIgcHJvbWlzZUNhcGFiaWxpdHkgPSBOZXdQcm9taXNlQ2FwYWJpbGl0eShjKTtcbiAgICAgIHZhciBmdWxmaWxsUmVhY3Rpb24gPSB7ICdbW0NhcGFiaWxpdGllc11dJzogcHJvbWlzZUNhcGFiaWxpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnW1tIYW5kbGVyXV0nOiBvbkZ1bGZpbGxlZCB9O1xuICAgICAgdmFyIHJlamVjdFJlYWN0aW9uID0geyAnW1tDYXBhYmlsaXRpZXNdXSc6IHByb21pc2VDYXBhYmlsaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnW1tIYW5kbGVyXV0nOiBvblJlamVjdGVkIH07XG4gICAgICBpZiAocHJvbWlzZVsnW1tQcm9taXNlU3RhdGVdXSddID09PSAncGVuZGluZycpIHtcbiAgICAgICAgcHJvbWlzZVsnW1tQcm9taXNlRnVsZmlsbFJlYWN0aW9uc11dJ10ucHVzaChmdWxmaWxsUmVhY3Rpb24pO1xuICAgICAgICBwcm9taXNlWydbW1Byb21pc2VSZWplY3RSZWFjdGlvbnNdXSddLnB1c2gocmVqZWN0UmVhY3Rpb24pO1xuICAgICAgfSBlbHNlIGlmIChwcm9taXNlWydbW1Byb21pc2VTdGF0ZV1dJ10gPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHByb21pc2VbJ1tbUHJvbWlzZVJlc3VsdF1dJ107XG4gICAgICAgIEVucXVldWVKb2IoJ1Byb21pc2VKb2JzJywgUHJvbWlzZVJlYWN0aW9uSm9iLCBbZnVsZmlsbFJlYWN0aW9uLCB2YWx1ZV0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9taXNlWydbW1Byb21pc2VTdGF0ZV1dJ10gPT09ICdyZWplY3RlZCcpIHtcbiAgICAgICAgdmFyIHJlYXNvbiA9IHByb21pc2VbJ1tbUHJvbWlzZVJlc3VsdF1dJ107XG4gICAgICAgIEVucXVldWVKb2IoJ1Byb21pc2VKb2JzJywgUHJvbWlzZVJlYWN0aW9uSm9iLCBbcmVqZWN0UmVhY3Rpb24sIHJlYXNvbl0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5WydbW1Byb21pc2VdXSddO1xuICAgIH0pO1xuXG4gICAgLy8gMjUuNC42IFByb3BlcnRpZXMgb2YgUHJvbWlzZSBJbnN0YW5jZXNcblxuICAgIGlmICghKCdQcm9taXNlJyBpbiBnbG9iYWwpIHx8IE9WRVJSSURFX05BVElWRV9GT1JfVEVTVElORylcbiAgICAgIGdsb2JhbC5Qcm9taXNlID0gUHJvbWlzZTtcblxuICAgIC8vIFBhdGNoIGVhcmx5IFByb21pc2UuY2FzdCB2cy4gUHJvbWlzZS5yZXNvbHZlIGltcGxlbWVudGF0aW9uc1xuICAgIGlmICgnY2FzdCcgaW4gZ2xvYmFsLlByb21pc2UpIGdsb2JhbC5Qcm9taXNlLnJlc29sdmUgPSBnbG9iYWwuUHJvbWlzZS5jYXN0O1xuICB9KCkpO1xuXG4gIC8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlIFsgQEB0b1N0cmluZ1RhZyBdXG4gIGRlZmluZShQcm9taXNlLnByb3RvdHlwZSwgJCR0b1N0cmluZ1RhZywgJ1Byb21pc2UnKTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMjYgUmVmbGVjdGlvblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAoZnVuY3Rpb24oKSB7XG4gICAgLy8gMjYuMSBUaGUgUmVmbGVjdCBPYmplY3RcbiAgICBpZiAoISgnUmVmbGVjdCcgaW4gZ2xvYmFsKSB8fCBPVkVSUklERV9OQVRJVkVfRk9SX1RFU1RJTkcpXG4gICAgICBnbG9iYWwuUmVmbGVjdCA9IHt9O1xuXG4gICAgLy8gMjYuMS4xIFJlZmxlY3QuYXBwbHkgKCB0YXJnZXQsIHRoaXNBcmd1bWVudCwgYXJndW1lbnRzTGlzdCApXG4gICAgZGVmaW5lKFxuICAgICAgUmVmbGVjdCwgJ2FwcGx5JyxcbiAgICAgIGZ1bmN0aW9uIGFwcGx5KHRhcmdldCwgdGhpc0FyZ3VtZW50LCBhcmd1bWVudHNMaXN0KSB7XG4gICAgICAgIGlmICghSXNDYWxsYWJsZSh0YXJnZXQpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHRhcmdldCwgdGhpc0FyZ3VtZW50LCBhcmd1bWVudHNMaXN0KTtcbiAgICAgIH0pO1xuXG4gICAgLy8gMjYuMS4yIFJlZmxlY3QuY29uc3RydWN0ICggdGFyZ2V0LCBhcmd1bWVudHNMaXN0IFssIG5ld1RhcmdldF0gKVxuICAgIGRlZmluZShcbiAgICAgIFJlZmxlY3QsICdjb25zdHJ1Y3QnLFxuICAgICAgZnVuY3Rpb24gY29uc3RydWN0KHRhcmdldCwgYXJndW1lbnRzTGlzdCkge1xuICAgICAgICByZXR1cm4gX19jb25zKHRhcmdldCwgYXJndW1lbnRzTGlzdCk7XG4gICAgICB9KTtcblxuICAgIC8vIDI2LjEuMyBSZWZsZWN0LmRlZmluZVByb3BlcnR5ICggdGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcyApXG4gICAgZGVmaW5lKFxuICAgICAgUmVmbGVjdCwgJ2RlZmluZVByb3BlcnR5JyxcbiAgICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlLZXksIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcyk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gMjYuMS40IFJlZmxlY3QuZGVsZXRlUHJvcGVydHkgKCB0YXJnZXQsIHByb3BlcnR5S2V5IClcbiAgICBkZWZpbmUoXG4gICAgICBSZWZsZWN0LCAnZGVsZXRlUHJvcGVydHknLFxuICAgICAgZnVuY3Rpb24gZGVsZXRlUHJvcGVydHkodGFyZ2V0LG5hbWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkZWxldGUgdGFyZ2V0W25hbWVdO1xuICAgICAgICAgIHJldHVybiAhSGFzT3duUHJvcGVydHkodGFyZ2V0LCBuYW1lKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAvLyAyNi4xLjUgUmVmbGVjdC5lbnVtZXJhdGUgKCB0YXJnZXQgKVxuICAgIGRlZmluZShcbiAgICAgIFJlZmxlY3QsICdlbnVtZXJhdGUnLFxuICAgICAgZnVuY3Rpb24gZW51bWVyYXRlKHRhcmdldCkge1xuICAgICAgICB0YXJnZXQgPSBUb09iamVjdCh0YXJnZXQpO1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBFbnVtZXJhdGUodGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgICAgfSk7XG5cbiAgICAvLyAyNi4xLjYgUmVmbGVjdC5nZXQgKCB0YXJnZXQsIHByb3BlcnR5S2V5IFsgLCByZWNlaXZlciBdKVxuICAgIGRlZmluZShcbiAgICAgIFJlZmxlY3QsICdnZXQnLFxuICAgICAgZnVuY3Rpb24gZ2V0KHRhcmdldCwgbmFtZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgdGFyZ2V0ID0gVG9PYmplY3QodGFyZ2V0KTtcbiAgICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKTtcbiAgICAgICAgcmVjZWl2ZXIgPSAocmVjZWl2ZXIgPT09IHVuZGVmaW5lZCkgPyB0YXJnZXQgOiBUb09iamVjdChyZWNlaXZlcik7XG4gICAgICAgIHZhciBkZXNjID0gZ2V0UHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgbmFtZSk7XG4gICAgICAgIGlmIChkZXNjICYmICdnZXQnIGluIGRlc2MpXG4gICAgICAgICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLmNhbGwoZGVzY1snZ2V0J10sIHJlY2VpdmVyKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldFtuYW1lXTtcbiAgICAgIH0pO1xuXG4gICAgLy8gMjYuMS43IFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICggdGFyZ2V0LCBwcm9wZXJ0eUtleSApXG4gICAgZGVmaW5lKFxuICAgICAgUmVmbGVjdCwgJ2dldE93blByb3BlcnR5RGVzY3JpcHRvcicsXG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKTtcblxuICAgIC8vIDI2LjEuOCBSZWZsZWN0LmdldFByb3RvdHlwZU9mICggdGFyZ2V0IClcbiAgICBkZWZpbmUoXG4gICAgICBSZWZsZWN0LCAnZ2V0UHJvdG90eXBlT2YnLFxuICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKTtcblxuICAgIC8vIDI2LjEuOSBSZWZsZWN0LmhhcyAoIHRhcmdldCwgcHJvcGVydHlLZXkgKVxuICAgIGRlZmluZShcbiAgICAgIFJlZmxlY3QsICdoYXMnLFxuICAgICAgZnVuY3Rpb24gaGFzKHRhcmdldCxuYW1lKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcobmFtZSkgaW4gVG9PYmplY3QodGFyZ2V0KTtcbiAgICAgIH0pO1xuXG4gICAgLy8gMjYuMS4xMCBSZWZsZWN0LmlzRXh0ZW5zaWJsZSAodGFyZ2V0KVxuICAgIGRlZmluZShcbiAgICAgIFJlZmxlY3QsICdpc0V4dGVuc2libGUnLFxuICAgICAgT2JqZWN0LmlzRXh0ZW5zaWJsZSk7XG5cbiAgICAvLyAyNi4xLjExIFJlZmxlY3Qub3duS2V5cyAoIHRhcmdldCApXG4gICAgZGVmaW5lKFxuICAgICAgUmVmbGVjdCwgJ293bktleXMnLFxuICAgICAgZnVuY3Rpb24gb3duS2V5cyh0YXJnZXQpIHtcbiAgICAgICAgdmFyIG9iaiA9IFRvT2JqZWN0KHRhcmdldCk7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopO1xuICAgICAgfSk7XG5cbiAgICAvLyAyNi4xLjEyIFJlZmxlY3QucHJldmVudEV4dGVuc2lvbnMgKCB0YXJnZXQgKVxuICAgIGRlZmluZShcbiAgICAgIFJlZmxlY3QsICdwcmV2ZW50RXh0ZW5zaW9ucycsXG4gICAgICBmdW5jdGlvbiBwcmV2ZW50RXh0ZW5zaW9ucyh0YXJnZXQpIHtcbiAgICAgICAgdHJ5IHsgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHRhcmdldCk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChfKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgfSk7XG5cbiAgICAvLyAyNi4xLjEzIFJlZmxlY3Quc2V0ICggdGFyZ2V0LCBwcm9wZXJ0eUtleSwgViBbICwgcmVjZWl2ZXIgXSApXG4gICAgZGVmaW5lKFxuICAgICAgUmVmbGVjdCwgJ3NldCcsXG4gICAgICBmdW5jdGlvbiBzZXQodGFyZ2V0LCBuYW1lLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgdGFyZ2V0ID0gVG9PYmplY3QodGFyZ2V0KTtcbiAgICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKTtcbiAgICAgICAgcmVjZWl2ZXIgPSAocmVjZWl2ZXIgPT09IHVuZGVmaW5lZCkgPyB0YXJnZXQgOiBUb09iamVjdChyZWNlaXZlcik7XG4gICAgICAgIHZhciBkZXNjID0gZ2V0UHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgbmFtZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGRlc2MgJiYgJ3NldCcgaW4gZGVzYylcbiAgICAgICAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLmNhbGwoZGVzY1snc2V0J10sIHJlY2VpdmVyLCB2YWx1ZSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gMjYuMS4xNCBSZWZsZWN0LnNldFByb3RvdHlwZU9mICggdGFyZ2V0LCBwcm90byApXG4gICAgZGVmaW5lKFxuICAgICAgUmVmbGVjdCwgJ3NldFByb3RvdHlwZU9mJyxcbiAgICAgIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKHRhcmdldCwgcHJvdG8pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0YXJnZXQuX19wcm90b19fID0gcHJvdG87XG4gICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KSA9PT0gcHJvdG87XG4gICAgICAgIH0gY2F0Y2goXykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgfSgpKTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMjYuMiBQcm94eSBPYmplY3RzXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIE5vdCBwb2x5ZmlsbGFibGUuXG5cbn0oc2VsZikpO1xuXG4vLyBUaGlzIGhlbHBlciBpcyBkZWZpbmVkIG91dHNpZGUgdGhlIG1haW4gc2NvcGUgc28gdGhhdCB0aGUgdXNlIG9mXG4vLyAnZXZhbCcgZG9lcyBub3QgdGFpbnQgdGhlIHNjb3BlIGZvciBtaW5pZmllcnMuXG5mdW5jdGlvbiBfX2NvbnModCwgYSkge1xuICByZXR1cm4gZXZhbCgnbmV3IHQoJyArIGEubWFwKGZ1bmN0aW9uKF8sIGkpIHsgcmV0dXJuICdhWycgKyBpICsgJ10nOyB9KS5qb2luKCcsJykgKyAnKScpO1xufVxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vL1xuLy8gRUNNQVNjcmlwdCAyMDE2IFBvbHlmaWxsc1xuLy9cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4oZnVuY3Rpb24gKGdsb2JhbCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgdmFyIHVuZGVmaW5lZCA9ICh2b2lkIDApOyAvLyBQYXJhbm9pYVxuXG4gIC8vIEhlbHBlcnNcblxuICBmdW5jdGlvbiBpc1N5bWJvbChzKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgcyA9PT0gJ3N5bWJvbCcpIHx8ICgnU3ltYm9sJyBpbiBnbG9iYWwgJiYgcyBpbnN0YW5jZW9mIGdsb2JhbC5TeW1ib2wpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVmaW5lKG8sIHAsIHYsIG92ZXJyaWRlKSB7XG4gICAgaWYgKHAgaW4gbyAmJiAhb3ZlcnJpZGUpXG4gICAgICByZXR1cm47XG5cbiAgICBpZiAodHlwZW9mIHYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIFNhbml0eSBjaGVjayB0aGF0IGZ1bmN0aW9ucyBhcmUgYXBwcm9wcmlhdGVseSBuYW1lZCAod2hlcmUgcG9zc2libGUpXG4gICAgICBjb25zb2xlLmFzc2VydChpc1N5bWJvbChwKSB8fCAhKCduYW1lJyBpbiB2KSB8fCB2Lm5hbWUgPT09IHAgfHwgdi5uYW1lID09PSBwICsgJ18nLCAnRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBcIicgKyBwLnRvU3RyaW5nKCkgKyAnXCIsIHdhcyBcIicgKyB2Lm5hbWUgKyAnXCInKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBwLCB7XG4gICAgICAgIHZhbHVlOiB2LFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBwLCB7XG4gICAgICAgIHZhbHVlOiB2LFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIFNuYXBzaG90IGludHJpbnNpYyBmdW5jdGlvbnNcbiAgdmFyICRpc05hTiA9IGdsb2JhbC5pc05hTjtcblxuICB2YXIgYWJzID0gTWF0aC5hYnMsXG4gICAgICBmbG9vciA9IE1hdGguZmxvb3IsXG4gICAgICBtYXggPSBNYXRoLm1heCxcbiAgICAgIG1pbiA9IE1hdGgubWluO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyA3IEFic3RyYWN0IE9wZXJhdGlvbnNcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gNy4xLjRcbiAgZnVuY3Rpb24gVG9JbnRlZ2VyKG4pIHtcbiAgICBuID0gTnVtYmVyKG4pO1xuICAgIGlmICgkaXNOYU4obikpIHJldHVybiAwO1xuICAgIGlmIChuID09PSAwIHx8IG4gPT09IEluZmluaXR5IHx8IG4gPT09IC1JbmZpbml0eSkgcmV0dXJuIG47XG4gICAgcmV0dXJuICgobiA8IDApID8gLTEgOiAxKSAqIGZsb29yKGFicyhuKSk7XG4gIH1cblxuICAvLyA3LjEuMTMgVG9PYmplY3RcbiAgZnVuY3Rpb24gVG9PYmplY3Qodikge1xuICAgIGlmICh2ID09PSBudWxsIHx8IHYgPT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgcmV0dXJuIE9iamVjdCh2KTtcbiAgfVxuXG4gIC8vIDcuMS4xNSBUb0xlbmd0aCAoIGFyZ3VtZW50IClcbiAgZnVuY3Rpb24gVG9MZW5ndGgodikge1xuICAgIHZhciBsZW4gPSBUb0ludGVnZXIodik7XG4gICAgaWYgKGxlbiA8PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIG1pbihsZW4sIDB4MjAwMDAwMDAwMDAwMDAgLSAxKTsgLy8gMl41My0xXG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gNy4yIFRlc3RpbmcgYW5kIENvbXBhcmlzb24gT3BlcmF0aW9uc1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyA3LjIuMTAgU2FtZVZhbHVlWmVybyh4LCB5KVxuICBmdW5jdGlvbiBTYW1lVmFsdWVaZXJvKHgsIHkpIHtcbiAgICBpZiAodHlwZW9mIHggIT09IHR5cGVvZiB5KSByZXR1cm4gZmFsc2U7XG4gICAgc3dpdGNoICh0eXBlb2YgeCkge1xuICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgaWYgKHggIT09IHggJiYgeSAhPT0geSkgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4geCA9PT0geTtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB4ID09PSB5O1xuICAgIH1cbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyBFQ01BU2NyaXB0IDIwMTZcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvQXJyYXkucHJvdG90eXBlLmluY2x1ZGVzL1xuICBkZWZpbmUoXG4gICAgQXJyYXkucHJvdG90eXBlLCAnaW5jbHVkZXMnLFxuICAgIGZ1bmN0aW9uIGluY2x1ZGVzKHRhcmdldCkge1xuICAgICAgdmFyIGZyb21JbmRleCA9IGFyZ3VtZW50c1sxXTtcblxuICAgICAgdmFyIG8gPSBUb09iamVjdCh0aGlzKTtcbiAgICAgIHZhciBsZW4gPSBUb0xlbmd0aChvW1wibGVuZ3RoXCJdKTtcbiAgICAgIGlmIChsZW4gPT09IDApIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciBuID0gVG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAobiA+PSAwKSB7XG4gICAgICAgIHZhciBrID0gbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGsgPSBsZW4gKyBuO1xuICAgICAgICBpZiAoayA8IDApIGsgPSAwO1xuICAgICAgfVxuICAgICAgd2hpbGUgKGsgPCBsZW4pIHtcbiAgICAgICAgdmFyIGVsZW1lbnRLID0gb1trXTtcbiAgICAgICAgaWYgKFNhbWVWYWx1ZVplcm8ob1trXSwgdGFyZ2V0KSlcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgayArPSAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG59KHRoaXMpKTtcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy9cbi8vIEVDTUFTY3JpcHQgMjAxNyBQb2x5ZmlsbHNcbi8vXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuKGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgdW5kZWZpbmVkID0gKHZvaWQgMCk7IC8vIFBhcmFub2lhXG5cbiAgLy8gSGVscGVyc1xuXG4gIGZ1bmN0aW9uIGlzU3ltYm9sKHMpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBzID09PSAnc3ltYm9sJykgfHwgKCdTeW1ib2wnIGluIGdsb2JhbCAmJiBzIGluc3RhbmNlb2YgZ2xvYmFsLlN5bWJvbCk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZpbmUobywgcCwgdiwgb3ZlcnJpZGUpIHtcbiAgICBpZiAocCBpbiBvICYmICFvdmVycmlkZSlcbiAgICAgIHJldHVybjtcblxuICAgIGlmICh0eXBlb2YgdiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gU2FuaXR5IGNoZWNrIHRoYXQgZnVuY3Rpb25zIGFyZSBhcHByb3ByaWF0ZWx5IG5hbWVkICh3aGVyZSBwb3NzaWJsZSlcbiAgICAgIGNvbnNvbGUuYXNzZXJ0KGlzU3ltYm9sKHApIHx8ICEoJ25hbWUnIGluIHYpIHx8IHYubmFtZSA9PT0gcCB8fCB2Lm5hbWUgPT09IHAgKyAnXycsICdFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIFwiJyArIHAudG9TdHJpbmcoKSArICdcIiwgd2FzIFwiJyArIHYubmFtZSArICdcIicpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIHAsIHtcbiAgICAgICAgdmFsdWU6IHYsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIHAsIHtcbiAgICAgICAgdmFsdWU6IHYsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNuYXBzaG90IGludHJpbnNpYyBmdW5jdGlvbnNcbiAgdmFyICRpc05hTiA9IGdsb2JhbC5pc05hTjtcblxuICB2YXIgYWJzID0gTWF0aC5hYnMsXG4gICAgICBmbG9vciA9IE1hdGguZmxvb3IsXG4gICAgICBtaW4gPSBNYXRoLm1pbjtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gNyBBYnN0cmFjdCBPcGVyYXRpb25zXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIDcuMS40XG4gIGZ1bmN0aW9uIFRvSW50ZWdlcihuKSB7XG4gICAgbiA9IE51bWJlcihuKTtcbiAgICBpZiAoJGlzTmFOKG4pKSByZXR1cm4gMDtcbiAgICBpZiAobiA9PT0gMCB8fCBuID09PSBJbmZpbml0eSB8fCBuID09PSAtSW5maW5pdHkpIHJldHVybiBuO1xuICAgIHJldHVybiAoKG4gPCAwKSA/IC0xIDogMSkgKiBmbG9vcihhYnMobikpO1xuICB9XG5cbiAgLy8gNy4xLjEzIFRvT2JqZWN0XG4gIGZ1bmN0aW9uIFRvT2JqZWN0KHYpIHtcbiAgICBpZiAodiA9PT0gbnVsbCB8fCB2ID09PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcigpO1xuICAgIHJldHVybiBPYmplY3Qodik7XG4gIH1cblxuICAvLyA3LjEuMTUgVG9MZW5ndGggKCBhcmd1bWVudCApXG4gIGZ1bmN0aW9uIFRvTGVuZ3RoKHYpIHtcbiAgICB2YXIgbGVuID0gVG9JbnRlZ2VyKHYpO1xuICAgIGlmIChsZW4gPD0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4obGVuLCAweDIwMDAwMDAwMDAwMDAwIC0gMSk7IC8vIDJeNTMtMVxuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIDcuMyBPcGVyYXRpb25zIG9uIE9iamVjdHNcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gNy4zLjRcbiAgZnVuY3Rpb24gQ3JlYXRlRGF0YVByb3BlcnR5KE8sIFAsIFYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwge1xuICAgICAgdmFsdWU6IFYsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIC8vIDcuMy4yMVxuICBmdW5jdGlvbiBFbnVtZXJhYmxlT3duUHJvcGVydGllcyhvLCBraW5kKSB7XG4gICAgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhvKTtcbiAgICB2YXIgcHJvcGVydGllcyA9IFtdO1xuICAgIG93bktleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLCBrZXkpO1xuICAgICAgaWYgKGRlc2MgJiYgZGVzYy5lbnVtZXJhYmxlKSB7XG4gICAgICAgIGlmIChraW5kID09PSAna2V5JykgcHJvcGVydGllcy5wdXNoKGtleSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG9ba2V5XTtcbiAgICAgICAgICBpZiAoa2luZCA9PT0gJ3ZhbHVlJykgcHJvcGVydGllcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICBlbHNlIHByb3BlcnRpZXMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gIH1cblxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAxOSBGdW5kYW1lbnRhbCBPYmplY3RzXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIDE5LjEgT2JqZWN0IE9iamVjdHNcbiAgLy8gMTkuMS4yIFByb3BlcnRpZXMgb2YgdGhlIE9iamVjdCBDb25zdHJ1Y3RvclxuXG4gIC8vIDE5LjEuMi41IE9iamVjdC5lbnRyaWVzXG4gIGRlZmluZShcbiAgICBPYmplY3QsICdlbnRyaWVzJyxcbiAgICBmdW5jdGlvbiBlbnRyaWVzKG8pIHtcbiAgICAgIHZhciBvYmogPSBUb09iamVjdChvKTtcbiAgICAgIHJldHVybiBFbnVtZXJhYmxlT3duUHJvcGVydGllcyhvYmosICdrZXkrdmFsdWUnKTtcbiAgICB9KTtcblxuICAvLyAxOS4xLjIuOCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyAoIE8gKVxuICBkZWZpbmUoXG4gICAgT2JqZWN0LCAnZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycycsXG4gICAgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSB7XG4gICAgICB2YXIgb2JqID0gVG9PYmplY3Qobyk7XG4gICAgICAvLyBSZXR1cm5JZkFicnVwdChvYmopXG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaik7XG4gICAgICAvLyBSZXR1cm5JZkFicnVwdChrZXlzKVxuICAgICAgdmFyIGRlc2NyaXB0b3JzID0ge307XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIG5leHRLZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBuZXh0S2V5KTtcbiAgICAgICAgLy8gUmV0dXJuSWZBYnJ1cHQoZGVzYylcbiAgICAgICAgLy8gUmV0dXJuSWZBYnJ1cHQoZGVzY3JpcHRvcilcbiAgICAgICAgQ3JlYXRlRGF0YVByb3BlcnR5KGRlc2NyaXB0b3JzLCBuZXh0S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXNjcmlwdG9ycztcbiAgICB9KTtcblxuICAvLyAxOS4xLjIuMjEgT2JqZWN0LnZhbHVlc1xuICBkZWZpbmUoXG4gICAgT2JqZWN0LCAndmFsdWVzJyxcbiAgICBmdW5jdGlvbiB2YWx1ZXMobykge1xuICAgICAgdmFyIG9iaiA9IFRvT2JqZWN0KG8pO1xuICAgICAgcmV0dXJuIEVudW1lcmFibGVPd25Qcm9wZXJ0aWVzKG9iaiwgJ3ZhbHVlJyk7XG4gICAgfSk7XG5cblxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAyMSBUZXh0IFByb2Nlc3NpbmdcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gMjEuMSBTdHJpbmcgT2JqZWN0c1xuICAvLyAyMS4xLjMgUHJvcGVydGllcyBvZiB0aGUgU3RyaW5nIFByb3RvdHlwZSBPYmplY3RcblxuICAvLyAyMS4xLjMuMTMgU3RyaW5nLnByb3RvdHlwZS5wYWRFbmQoIG1heExlbmd0aCBbICwgZmlsbFN0cmluZyBdIClcbiAgZGVmaW5lKFxuICAgIFN0cmluZy5wcm90b3R5cGUsICdwYWRFbmQnLFxuICAgIGZ1bmN0aW9uIHBhZEVuZChtYXhMZW5ndGgpIHtcbiAgICAgIHZhciBmaWxsU3RyaW5nID0gYXJndW1lbnRzWzFdO1xuXG4gICAgICB2YXIgbyA9IHRoaXM7XG4gICAgICAvLyBSZXR1cm5JZkFicnVwdChvKVxuICAgICAgdmFyIHMgPSBTdHJpbmcodGhpcyk7XG4gICAgICAvLyBSZXR1cm5JZkFicnVwdChzKVxuICAgICAgdmFyIHN0cmluZ0xlbmd0aCA9IHMubGVuZ3RoO1xuICAgICAgaWYgKGZpbGxTdHJpbmcgPT09IHVuZGVmaW5lZCkgdmFyIGZpbGxTdHIgPSAnJztcbiAgICAgIGVsc2UgZmlsbFN0ciA9IFN0cmluZyhmaWxsU3RyaW5nKTtcbiAgICAgIC8vIFJldHVybklmQWJydXB0KGZpbGxTdHIpXG4gICAgICBpZiAoZmlsbFN0ciA9PT0gJycpIGZpbGxTdHIgPSAnICc7XG4gICAgICB2YXIgaW50TWF4TGVuZ3RoID0gVG9MZW5ndGgobWF4TGVuZ3RoKTtcbiAgICAgIC8vIFJldHVybklmQWJydXB0KGludE1heExlbmd0aClcbiAgICAgIGlmIChpbnRNYXhMZW5ndGggPD0gc3RyaW5nTGVuZ3RoKSByZXR1cm4gcztcbiAgICAgIHZhciBmaWxsTGVuID0gaW50TWF4TGVuZ3RoIC0gc3RyaW5nTGVuZ3RoO1xuICAgICAgdmFyIHN0cmluZ0ZpbGxlciA9ICcnO1xuICAgICAgd2hpbGUgKHN0cmluZ0ZpbGxlci5sZW5ndGggPCBmaWxsTGVuKVxuICAgICAgICBzdHJpbmdGaWxsZXIgPSBzdHJpbmdGaWxsZXIgKyBmaWxsU3RyO1xuICAgICAgcmV0dXJuIHMgKyBzdHJpbmdGaWxsZXIuc3Vic3RyaW5nKDAsIGZpbGxMZW4pO1xuICAgIH0pO1xuXG4gIC8vIDIxLjEuMy4xNCBTdHJpbmcucHJvdG90eXBlLnBhZFN0YXJ0KCBtYXhMZW5ndGggWyAsIGZpbGxTdHJpbmcgXSApXG4gIGRlZmluZShcbiAgICBTdHJpbmcucHJvdG90eXBlLCAncGFkU3RhcnQnLFxuICAgIGZ1bmN0aW9uIHBhZFN0YXJ0KG1heExlbmd0aCkge1xuICAgICAgdmFyIGZpbGxTdHJpbmcgPSBhcmd1bWVudHNbMV07XG5cbiAgICAgIHZhciBvID0gdGhpcztcbiAgICAgIC8vIFJldHVybklmQWJydXB0KG8pXG4gICAgICB2YXIgcyA9IFN0cmluZyh0aGlzKTtcbiAgICAgIC8vIFJldHVybklmQWJydXB0KHMpXG4gICAgICB2YXIgc3RyaW5nTGVuZ3RoID0gcy5sZW5ndGg7XG4gICAgICBpZiAoZmlsbFN0cmluZyA9PT0gdW5kZWZpbmVkKSB2YXIgZmlsbFN0ciA9ICcnO1xuICAgICAgZWxzZSBmaWxsU3RyID0gU3RyaW5nKGZpbGxTdHJpbmcpO1xuICAgICAgLy8gUmV0dXJuSWZBYnJ1cHQoZmlsbFN0cilcbiAgICAgIGlmIChmaWxsU3RyID09PSAnJykgZmlsbFN0ciA9ICcgJztcbiAgICAgIHZhciBpbnRNYXhMZW5ndGggPSBUb0xlbmd0aChtYXhMZW5ndGgpO1xuICAgICAgLy8gUmV0dXJuSWZBYnJ1cHQoaW50TWF4TGVuZ3RoKVxuICAgICAgaWYgKGludE1heExlbmd0aCA8PSBzdHJpbmdMZW5ndGgpIHJldHVybiBzO1xuICAgICAgdmFyIGZpbGxMZW4gPSBpbnRNYXhMZW5ndGggLSBzdHJpbmdMZW5ndGg7XG4gICAgICB2YXIgc3RyaW5nRmlsbGVyID0gJyc7XG4gICAgICB3aGlsZSAoc3RyaW5nRmlsbGVyLmxlbmd0aCA8IGZpbGxMZW4pXG4gICAgICAgIHN0cmluZ0ZpbGxlciA9IHN0cmluZ0ZpbGxlciArIGZpbGxTdHI7XG4gICAgICByZXR1cm4gc3RyaW5nRmlsbGVyLnN1YnN0cmluZygwLCBmaWxsTGVuKSArIHM7XG4gICAgfSk7XG5cbn0odGhpcykpO1xuKGZ1bmN0aW9uKGdsb2JhbCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgaWYgKCEoJ3dpbmRvdycgaW4gZ2xvYmFsICYmICdkb2N1bWVudCcgaW4gZ2xvYmFsKSlcbiAgICByZXR1cm47XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vIEhUTUxcbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZ1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBkb2N1bWVudC5oZWFkIGF0dHJpYnV0ZVxuICAvLyBOZWVkZWQgZm9yOiBJRTgtXG4gIGlmICghKCdoZWFkJyBpbiBkb2N1bWVudCkpXG4gICAgZG9jdW1lbnQuaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG5cbiAgLy8gRW5zdXJlIGNvcnJlY3QgcGFyc2luZyBvZiBuZXdpc2ggZWxlbWVudHMgKFwic2hpdlwiKVxuICAvLyBOZWVkZWQgZm9yOiBJRTgtXG4gIFtcbiAgICAnYWJicicsICdhcnRpY2xlJywgJ2FzaWRlJywgJ2F1ZGlvJywgJ2JkaScsICdjYW52YXMnLCAnZGF0YScsICdkYXRhbGlzdCcsXG4gICAgJ2RldGFpbHMnLCAnZGlhbG9nJywgJ2ZpZ2NhcHRpb24nLCAnZmlndXJlJywgJ2Zvb3RlcicsICdoZWFkZXInLCAnaGdyb3VwJyxcbiAgICAnbWFpbicsICdtYXJrJywgJ21ldGVyJywgJ25hdicsICdvdXRwdXQnLCAncGljdHVyZScsICdwcm9ncmVzcycsICdzZWN0aW9uJyxcbiAgICAnc3VtbWFyeScsICd0ZW1wbGF0ZScsICd0aW1lJywgJ3ZpZGVvJ10uZm9yRWFjaChmdW5jdGlvbih0YWcpIHtcbiAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgfSk7XG5cbiAgLy8gSFRNTEVsZW1lbnQuZGF0YXNldFxuICAvLyBOZWVkZWQgZm9yOiBJRTEwLVxuICBpZiAoISgnZGF0YXNldCcgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpKSAmJlxuICAgICAgJ0VsZW1lbnQnIGluIGdsb2JhbCAmJiBFbGVtZW50LnByb3RvdHlwZSAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsICdkYXRhc2V0JywgeyBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgYXR0ciA9IHRoaXMuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgaWYgKGF0dHIuc3BlY2lmaWVkICYmIGF0dHIubmFtZS5zdWJzdHJpbmcoMCwgNSkgPT09ICdkYXRhLScpIHtcbiAgICAgICAgICAoZnVuY3Rpb24oZWxlbWVudCwgbmFtZSkge1xuICAgICAgICAgICAgdmFyIHByb3AgPSBuYW1lLnJlcGxhY2UoLy0oW2Etel0pL2csIGZ1bmN0aW9uKG0sIHApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHAudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzdWx0W3Byb3BdID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIG5hbWUpOyAvLyBSZWFkLW9ubHksIGZvciBJRTgtXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzdWx0LCBwcm9wLCB7XG4gICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLScgKyBuYW1lKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICAgIH19KTtcbiAgICAgICAgICB9KHRoaXMsIGF0dHIubmFtZS5zdWJzdHJpbmcoNSkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9fSk7XG4gIH1cblxuICAvLyBCYXNlNjQgdXRpbGl0eSBtZXRob2RzXG4gIC8vIE5lZWRlZCBmb3I6IElFOS1cbiAgKGZ1bmN0aW9uKCkge1xuICAgIGlmICgnYXRvYicgaW4gZ2xvYmFsICYmICdidG9hJyBpbiBnbG9iYWwpXG4gICAgICByZXR1cm47XG5cbiAgICB2YXIgQjY0X0FMUEhBQkVUID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiO1xuICAgIGZ1bmN0aW9uIGF0b2IoaW5wdXQpIHtcbiAgICAgIGlucHV0ID0gU3RyaW5nKGlucHV0KTtcbiAgICAgIHZhciBwb3NpdGlvbiA9IDAsXG4gICAgICAgICAgb3V0cHV0ID0gW10sXG4gICAgICAgICAgYnVmZmVyID0gMCwgYml0cyA9IDAsIG47XG5cbiAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvXFxzL2csICcnKTtcbiAgICAgIGlmICgoaW5wdXQubGVuZ3RoICUgNCkgPT09IDApIHsgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC89KyQvLCAnJyk7IH1cbiAgICAgIGlmICgoaW5wdXQubGVuZ3RoICUgNCkgPT09IDEpIHsgdGhyb3cgRXJyb3IoXCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3JcIik7IH1cbiAgICAgIGlmICgvW14rLzAtOUEtWmEtel0vLnRlc3QoaW5wdXQpKSB7IHRocm93IEVycm9yKFwiSW52YWxpZENoYXJhY3RlckVycm9yXCIpOyB9XG5cbiAgICAgIHdoaWxlIChwb3NpdGlvbiA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICBuID0gQjY0X0FMUEhBQkVULmluZGV4T2YoaW5wdXQuY2hhckF0KHBvc2l0aW9uKSk7XG4gICAgICAgIGJ1ZmZlciA9IChidWZmZXIgPDwgNikgfCBuO1xuICAgICAgICBiaXRzICs9IDY7XG5cbiAgICAgICAgaWYgKGJpdHMgPT09IDI0KSB7XG4gICAgICAgICAgb3V0cHV0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgoYnVmZmVyID4+IDE2KSAmIDB4RkYpKTtcbiAgICAgICAgICBvdXRwdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKChidWZmZXIgPj4gIDgpICYgMHhGRikpO1xuICAgICAgICAgIG91dHB1dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmZmVyICYgMHhGRikpO1xuICAgICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAgIGJ1ZmZlciA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcG9zaXRpb24gKz0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKGJpdHMgPT09IDEyKSB7XG4gICAgICAgIGJ1ZmZlciA9IGJ1ZmZlciA+PiA0O1xuICAgICAgICBvdXRwdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZmZlciAmIDB4RkYpKTtcbiAgICAgIH0gZWxzZSBpZiAoYml0cyA9PT0gMTgpIHtcbiAgICAgICAgYnVmZmVyID0gYnVmZmVyID4+IDI7XG4gICAgICAgIG91dHB1dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoKGJ1ZmZlciA+PiA4KSAmIDB4RkYpKTtcbiAgICAgICAgb3V0cHV0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShidWZmZXIgJiAweEZGKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvdXRwdXQuam9pbignJyk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGJ0b2EoaW5wdXQpIHtcbiAgICAgIGlucHV0ID0gU3RyaW5nKGlucHV0KTtcbiAgICAgIHZhciBwb3NpdGlvbiA9IDAsXG4gICAgICAgICAgb3V0ID0gW10sXG4gICAgICAgICAgbzEsIG8yLCBvMyxcbiAgICAgICAgICBlMSwgZTIsIGUzLCBlNDtcblxuICAgICAgaWYgKC9bXlxceDAwLVxceEZGXS8udGVzdChpbnB1dCkpIHsgdGhyb3cgRXJyb3IoXCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3JcIik7IH1cblxuICAgICAgd2hpbGUgKHBvc2l0aW9uIDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIG8xID0gaW5wdXQuY2hhckNvZGVBdChwb3NpdGlvbisrKTtcbiAgICAgICAgbzIgPSBpbnB1dC5jaGFyQ29kZUF0KHBvc2l0aW9uKyspO1xuICAgICAgICBvMyA9IGlucHV0LmNoYXJDb2RlQXQocG9zaXRpb24rKyk7XG5cbiAgICAgICAgLy8gMTExMTExIDExMjIyMiAyMjIyMzMgMzMzMzMzXG4gICAgICAgIGUxID0gbzEgPj4gMjtcbiAgICAgICAgZTIgPSAoKG8xICYgMHgzKSA8PCA0KSB8IChvMiA+PiA0KTtcbiAgICAgICAgZTMgPSAoKG8yICYgMHhmKSA8PCAyKSB8IChvMyA+PiA2KTtcbiAgICAgICAgZTQgPSBvMyAmIDB4M2Y7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSBpbnB1dC5sZW5ndGggKyAyKSB7XG4gICAgICAgICAgZTMgPSA2NDtcbiAgICAgICAgICBlNCA9IDY0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBvc2l0aW9uID09PSBpbnB1dC5sZW5ndGggKyAxKSB7XG4gICAgICAgICAgZTQgPSA2NDtcbiAgICAgICAgfVxuXG4gICAgICAgIG91dC5wdXNoKEI2NF9BTFBIQUJFVC5jaGFyQXQoZTEpLFxuICAgICAgICAgICAgICAgICBCNjRfQUxQSEFCRVQuY2hhckF0KGUyKSxcbiAgICAgICAgICAgICAgICAgQjY0X0FMUEhBQkVULmNoYXJBdChlMyksXG4gICAgICAgICAgICAgICAgIEI2NF9BTFBIQUJFVC5jaGFyQXQoZTQpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG91dC5qb2luKCcnKTtcbiAgICB9O1xuXG4gICAgZ2xvYmFsLmF0b2IgPSBhdG9iO1xuICAgIGdsb2JhbC5idG9hID0gYnRvYTtcbiAgfSgpKTtcblxuICAvLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgLSBuZWVkZWQgZm9yIElFOS1cbiAgKGZ1bmN0aW9uKCkge1xuICAgIGlmICgncmVxdWVzdEFuaW1hdGlvbkZyYW1lJyBpbiBnbG9iYWwpXG4gICAgICByZXR1cm47XG5cbiAgICB2YXIgVEFSR0VUX0ZQUyA9IDYwLFxuICAgICAgICByZXF1ZXN0cyA9IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgIHJhZl9oYW5kbGUgPSAwLFxuICAgICAgICB0aW1lb3V0X2hhbmRsZSA9IC0xO1xuXG4gICAgZnVuY3Rpb24gaXNWaXNpYmxlKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50Lm9mZnNldFdpZHRoID4gMCAmJiBlbGVtZW50Lm9mZnNldEhlaWdodCA+IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25GcmFtZVRpbWVyKCkge1xuICAgICAgdmFyIGN1cl9yZXF1ZXN0cyA9IHJlcXVlc3RzO1xuICAgICAgcmVxdWVzdHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgdGltZW91dF9oYW5kbGUgPSAtMTtcbiAgICAgIE9iamVjdC5rZXlzKGN1cl9yZXF1ZXN0cykuZm9yRWFjaChmdW5jdGlvbihpZCkge1xuICAgICAgICB2YXIgcmVxdWVzdCA9IGN1cl9yZXF1ZXN0c1tpZF07XG4gICAgICAgIGlmICghcmVxdWVzdC5lbGVtZW50IHx8IGlzVmlzaWJsZShyZXF1ZXN0LmVsZW1lbnQpKVxuICAgICAgICAgIHJlcXVlc3QuY2FsbGJhY2soRGF0ZS5ub3coKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2ssIGVsZW1lbnQpIHtcbiAgICAgIHZhciBjYl9oYW5kbGUgPSArK3JhZl9oYW5kbGU7XG4gICAgICByZXF1ZXN0c1tjYl9oYW5kbGVdID0ge2NhbGxiYWNrOiBjYWxsYmFjaywgZWxlbWVudDogZWxlbWVudH07XG4gICAgICBpZiAodGltZW91dF9oYW5kbGUgPT09IC0xKVxuICAgICAgICB0aW1lb3V0X2hhbmRsZSA9IGdsb2JhbC5zZXRUaW1lb3V0KG9uRnJhbWVUaW1lciwgMTAwMCAvIFRBUkdFVF9GUFMpO1xuICAgICAgcmV0dXJuIGNiX2hhbmRsZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5jZWxBbmltYXRpb25GcmFtZShoYW5kbGUpIHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0c1toYW5kbGVdO1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHJlcXVlc3RzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZ2xvYmFsLmNsZWFyVGltZW91dCh0aW1lb3V0X2hhbmRsZSk7XG4gICAgICAgIHRpbWVvdXRfaGFuZGxlID0gLTE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICBnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBjYW5jZWxBbmltYXRpb25GcmFtZTtcbiAgfSgpKTtcblxufShzZWxmKSk7XG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgaWYgKCEoJ3dpbmRvdycgaW4gZ2xvYmFsICYmICdkb2N1bWVudCcgaW4gZ2xvYmFsKSlcbiAgICByZXR1cm47XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vIERPTVxuICAvLyBodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcvXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIERvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgbWV0aG9kXG4gIC8vIGh0dHA6Ly9hamF4aWFuLmNvbS9hcmNoaXZlcy9jcmVhdGluZy1hLXF1ZXJ5c2VsZWN0b3ItZm9yLWllLXRoYXQtcnVucy1hdC1uYXRpdmUtc3BlZWRcbiAgLy8gTmVlZGVkIGZvcjogSUU3LVxuICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsID0gZnVuY3Rpb24oc2VsZWN0b3JzKSB7XG4gICAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpLCBlbGVtZW50cyA9IFtdLCBlbGVtZW50O1xuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmZpcnN0Q2hpbGQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgZG9jdW1lbnQuX3FzYSA9IFtdO1xuXG4gICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBzZWxlY3RvcnMgKyAne3gtcXNhOmV4cHJlc3Npb24oZG9jdW1lbnQuX3FzYSAmJiBkb2N1bWVudC5fcXNhLnB1c2godGhpcykpfSc7XG4gICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgMCk7XG4gICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuICAgICAgd2hpbGUgKGRvY3VtZW50Ll9xc2EubGVuZ3RoKSB7XG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5fcXNhLnNoaWZ0KCk7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUucmVtb3ZlQXR0cmlidXRlKCd4LXFzYScpO1xuICAgICAgICBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgZG9jdW1lbnQuX3FzYSA9IG51bGw7XG4gICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgfTtcbiAgfVxuXG4gIC8vIERvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgbWV0aG9kXG4gIC8vIE5lZWRlZCBmb3I6IElFNy1cbiAgaWYgKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvciA9IGZ1bmN0aW9uKHNlbGVjdG9ycykge1xuICAgICAgdmFyIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcnMpO1xuICAgICAgcmV0dXJuIChlbGVtZW50cy5sZW5ndGgpID8gZWxlbWVudHNbMF0gOiBudWxsO1xuICAgIH07XG4gIH1cblxuICAvLyBEb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIG1ldGhvZFxuICAvLyBOZWVkZWQgZm9yOiBJRTgtXG4gIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBmdW5jdGlvbihjbGFzc05hbWVzKSB7XG4gICAgICBjbGFzc05hbWVzID0gU3RyaW5nKGNsYXNzTmFtZXMpLnJlcGxhY2UoL158XFxzKy9nLCAnLicpO1xuICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY2xhc3NOYW1lcyk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIE5vZGUgaW50ZXJmYWNlIGNvbnN0YW50c1xuICAvLyBOZWVkZWQgZm9yOiBJRTgtXG4gIGdsb2JhbC5Ob2RlID0gZ2xvYmFsLk5vZGUgfHwgZnVuY3Rpb24oKSB7IHRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgY29uc3RydWN0b3JcIik7IH07XG4gIFtcbiAgICBbJ0VMRU1FTlRfTk9ERScsIDFdLFxuICAgIFsnQVRUUklCVVRFX05PREUnLCAyXSxcbiAgICBbJ1RFWFRfTk9ERScsIDNdLFxuICAgIFsnQ0RBVEFfU0VDVElPTl9OT0RFJywgNF0sXG4gICAgWydFTlRJVFlfUkVGRVJFTkNFX05PREUnLCA1XSxcbiAgICBbJ0VOVElUWV9OT0RFJywgNl0sXG4gICAgWydQUk9DRVNTSU5HX0lOU1RSVUNUSU9OX05PREUnLCA3XSxcbiAgICBbJ0NPTU1FTlRfTk9ERScsIDhdLFxuICAgIFsnRE9DVU1FTlRfTk9ERScsIDldLFxuICAgIFsnRE9DVU1FTlRfVFlQRV9OT0RFJywgMTBdLFxuICAgIFsnRE9DVU1FTlRfRlJBR01FTlRfTk9ERScsIDExXSxcbiAgICBbJ05PVEFUSU9OX05PREUnLCAxMl1cbiAgXS5mb3JFYWNoKGZ1bmN0aW9uKHApIHsgaWYgKCEocFswXSBpbiBnbG9iYWwuTm9kZSkpIGdsb2JhbC5Ob2RlW3BbMF1dID0gcFsxXTsgfSk7XG5cbiAgLy8gRE9NRXhjZXB0aW9uIGNvbnN0YW50c1xuICAvLyBOZWVkZWQgZm9yOiBJRTgtXG4gIGdsb2JhbC5ET01FeGNlcHRpb24gPSBnbG9iYWwuRE9NRXhjZXB0aW9uIHx8IGZ1bmN0aW9uKCkgeyB0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGNvbnN0cnVjdG9yXCIpOyB9O1xuICBbXG4gICAgWydJTkRFWF9TSVpFX0VSUicsIDFdLFxuICAgIFsnRE9NU1RSSU5HX1NJWkVfRVJSJywgMl0sXG4gICAgWydISUVSQVJDSFlfUkVRVUVTVF9FUlInLCAzXSxcbiAgICBbJ1dST05HX0RPQ1VNRU5UX0VSUicsIDRdLFxuICAgIFsnSU5WQUxJRF9DSEFSQUNURVJfRVJSJywgNV0sXG4gICAgWydOT19EQVRBX0FMTE9XRURfRVJSJywgNl0sXG4gICAgWydOT19NT0RJRklDQVRJT05fQUxMT1dFRF9FUlInLCA3XSxcbiAgICBbJ05PVF9GT1VORF9FUlInLCA4XSxcbiAgICBbJ05PVF9TVVBQT1JURURfRVJSJywgOV0sXG4gICAgWydJTlVTRV9BVFRSSUJVVEVfRVJSJywgMTBdLFxuICAgIFsnSU5WQUxJRF9TVEFURV9FUlInLCAxMV0sXG4gICAgWydTWU5UQVhfRVJSJywgMTJdLFxuICAgIFsnSU5WQUxJRF9NT0RJRklDQVRJT05fRVJSJywgMTNdLFxuICAgIFsnTkFNRVNQQUNFX0VSUicsIDE0XSxcbiAgICBbJ0lOVkFMSURfQUNDRVNTX0VSUicsIDE1XVxuICBdLmZvckVhY2goZnVuY3Rpb24ocCkgeyBpZiAoIShwWzBdIGluIGdsb2JhbC5ET01FeGNlcHRpb24pKSBnbG9iYWwuRE9NRXhjZXB0aW9uW3BbMF1dID0gcFsxXTsgfSk7XG5cbiAgLy8gRXZlbnQgYW5kIEV2ZW50VGFyZ2V0cyBpbnRlcmZhY2VzXG4gIC8vIE5lZWRlZCBmb3I6IElFOFxuICAoZnVuY3Rpb24oKXtcbiAgICBpZiAoISgnRWxlbWVudCcgaW4gZ2xvYmFsKSB8fCBFbGVtZW50LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyIHx8ICFPYmplY3QuZGVmaW5lUHJvcGVydHkpXG4gICAgICByZXR1cm47XG5cbiAgICAvLyBpbnRlcmZhY2UgRXZlbnRcblxuICAgIC8vIFBoYXNlVHlwZSAoY29uc3QgdW5zaWduZWQgc2hvcnQpXG4gICAgRXZlbnQuQ0FQVFVSSU5HX1BIQVNFID0gMTtcbiAgICBFdmVudC5BVF9UQVJHRVQgICAgICAgPSAyO1xuICAgIEV2ZW50LkJVQkJMSU5HX1BIQVNFICA9IDM7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhFdmVudC5wcm90b3R5cGUsIHtcbiAgICAgIENBUFRVUklOR19QSEFTRTogeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gMTsgfSB9LFxuICAgICAgQVRfVEFSR0VUOiAgICAgICB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiAyOyB9IH0sXG4gICAgICBCVUJCTElOR19QSEFTRTogICB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiAzOyB9IH0sXG4gICAgICB0YXJnZXQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zcmNFbGVtZW50O1xuICAgICAgICB9fSxcbiAgICAgIGN1cnJlbnRUYXJnZXQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudFRhcmdldDtcbiAgICAgICAgfX0sXG4gICAgICBldmVudFBoYXNlOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICh0aGlzLnNyY0VsZW1lbnQgPT09IHRoaXMuY3VycmVudFRhcmdldCkgPyBFdmVudC5BVF9UQVJHRVQgOiBFdmVudC5CVUJCTElOR19QSEFTRTtcbiAgICAgICAgfX0sXG4gICAgICBidWJibGVzOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIC8vIE1vdXNlXG4gICAgICAgICAgY2FzZSAnY2xpY2snOlxuICAgICAgICAgIGNhc2UgJ2RibGNsaWNrJzpcbiAgICAgICAgICBjYXNlICdtb3VzZWRvd24nOlxuICAgICAgICAgIGNhc2UgJ21vdXNldXAnOlxuICAgICAgICAgIGNhc2UgJ21vdXNlb3Zlcic6XG4gICAgICAgICAgY2FzZSAnbW91c2Vtb3ZlJzpcbiAgICAgICAgICBjYXNlICdtb3VzZW91dCc6XG4gICAgICAgICAgY2FzZSAnbW91c2V3aGVlbCc6XG4gICAgICAgICAgICAvLyBLZXlib2FyZFxuICAgICAgICAgIGNhc2UgJ2tleWRvd24nOlxuICAgICAgICAgIGNhc2UgJ2tleXByZXNzJzpcbiAgICAgICAgICBjYXNlICdrZXl1cCc6XG4gICAgICAgICAgICAvLyBGcmFtZS9PYmplY3RcbiAgICAgICAgICBjYXNlICdyZXNpemUnOlxuICAgICAgICAgIGNhc2UgJ3Njcm9sbCc6XG4gICAgICAgICAgICAvLyBGb3JtXG4gICAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgICBjYXNlICdjaGFuZ2UnOlxuICAgICAgICAgIGNhc2UgJ3N1Ym1pdCc6XG4gICAgICAgICAgY2FzZSAncmVzZXQnOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfX0sXG4gICAgICBjYW5jZWxhYmxlOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIC8vIE1vdXNlXG4gICAgICAgICAgY2FzZSAnY2xpY2snOlxuICAgICAgICAgIGNhc2UgJ2RibGNsaWNrJzpcbiAgICAgICAgICBjYXNlICdtb3VzZWRvd24nOlxuICAgICAgICAgIGNhc2UgJ21vdXNldXAnOlxuICAgICAgICAgIGNhc2UgJ21vdXNlb3Zlcic6XG4gICAgICAgICAgY2FzZSAnbW91c2VvdXQnOlxuICAgICAgICAgIGNhc2UgJ21vdXNld2hlZWwnOlxuICAgICAgICAgICAgLy8gS2V5Ym9hcmRcbiAgICAgICAgICBjYXNlICdrZXlkb3duJzpcbiAgICAgICAgICBjYXNlICdrZXlwcmVzcyc6XG4gICAgICAgICAgY2FzZSAna2V5dXAnOlxuICAgICAgICAgICAgLy8gRm9ybVxuICAgICAgICAgIGNhc2UgJ3N1Ym1pdCc6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9fSxcbiAgICAgIHRpbWVTdGFtcDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lU3RhbXA7XG4gICAgICAgIH19LFxuICAgICAgc3RvcFByb3BhZ2F0aW9uOiB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgIH19LFxuICAgICAgcHJldmVudERlZmF1bHQ6IHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoaXMucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfX0sXG4gICAgICBkZWZhdWx0UHJldmVudGVkOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuVmFsdWUgPT09IGZhbHNlO1xuICAgICAgICB9fVxuICAgIH0pO1xuXG4gICAgLy8gaW50ZXJmYWNlIEV2ZW50VGFyZ2V0XG5cbiAgICBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCB1c2VDYXB0dXJlKSB7XG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSByZXR1cm47XG4gICAgICBpZiAodHlwZSA9PT0gJ0RPTUNvbnRlbnRMb2FkZWQnKSB0eXBlID0gJ2xvYWQnO1xuICAgICAgdmFyIHRhcmdldCA9IHRoaXM7XG4gICAgICB2YXIgZiA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5fdGltZVN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgZS5fY3VycmVudFRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgZS5fY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICB9O1xuICAgICAgdGhpc1snXycgKyB0eXBlICsgbGlzdGVuZXJdID0gZjtcbiAgICAgIHRoaXMuYXR0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGYpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIHVzZUNhcHR1cmUpIHtcbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHJldHVybjtcbiAgICAgIGlmICh0eXBlID09PSAnRE9NQ29udGVudExvYWRlZCcpIHR5cGUgPSAnbG9hZCc7XG4gICAgICB2YXIgZiA9IHRoaXNbJ18nICsgdHlwZSArIGxpc3RlbmVyXTtcbiAgICAgIGlmIChmKSB7XG4gICAgICAgIHRoaXMuZGV0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGYpO1xuICAgICAgICB0aGlzWydfJyArIHR5cGUgKyBsaXN0ZW5lcl0gPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIFtXaW5kb3csIEhUTUxEb2N1bWVudCwgRWxlbWVudF0uZm9yRWFjaChmdW5jdGlvbihvKSB7XG4gICAgICBvLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcjtcbiAgICAgIG8ucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSByZW1vdmVFdmVudExpc3RlbmVyO1xuICAgIH0pO1xuICB9KCkpO1xuXG4gIC8vIEN1c3RvbUV2ZW50XG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudC9DdXN0b21FdmVudFxuICAvLyBOZWVkZWQgZm9yOiBJRVxuICAoZnVuY3Rpb24gKCkge1xuICAgIGlmICgnQ3VzdG9tRXZlbnQnIGluIGdsb2JhbCAmJiB0eXBlb2YgZ2xvYmFsLkN1c3RvbUV2ZW50ID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICByZXR1cm47XG4gICAgZnVuY3Rpb24gQ3VzdG9tRXZlbnQgKCBldmVudCwgcGFyYW1zICkge1xuICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlLCBkZXRhaWw6IHVuZGVmaW5lZCB9O1xuICAgICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCAnQ3VzdG9tRXZlbnQnICk7XG4gICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KCBldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsICk7XG4gICAgICByZXR1cm4gZXZ0O1xuICAgIH1cbiAgICBDdXN0b21FdmVudC5wcm90b3R5cGUgPSBnbG9iYWwuRXZlbnQucHJvdG90eXBlO1xuICAgIGdsb2JhbC5DdXN0b21FdmVudCA9IEN1c3RvbUV2ZW50O1xuICB9KSgpO1xuXG4gIC8vIFNoaW0gZm9yIERPTSBFdmVudHMgZm9yIElFNy1cbiAgLy8gaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9ibG9nL2FyY2hpdmVzLzIwMDUvMTAvX2FuZF90aGVfd2lubmVyXzEuaHRtbFxuICAvLyBVc2UgYWRkRXZlbnQob2JqZWN0LCBldmVudCwgaGFuZGxlcikgaW5zdGVhZCBvZiBvYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlcilcbiAgd2luZG93LmFkZEV2ZW50ID0gZnVuY3Rpb24ob2JqLCB0eXBlLCBmbikge1xuICAgIGlmIChvYmouYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm4sIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKG9iai5hdHRhY2hFdmVudCkge1xuICAgICAgb2JqW1wiZVwiICsgdHlwZSArIGZuXSA9IGZuO1xuICAgICAgb2JqW3R5cGUgKyBmbl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGUgPSB3aW5kb3cuZXZlbnQ7XG4gICAgICAgIGUuY3VycmVudFRhcmdldCA9IG9iajtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkgeyBlLnJldHVyblZhbHVlID0gZmFsc2U7IH07XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKSB7IGUuY2FuY2VsQnViYmxlID0gdHJ1ZTsgfTtcbiAgICAgICAgZS50YXJnZXQgPSBlLnNyY0VsZW1lbnQ7XG4gICAgICAgIGUudGltZVN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgb2JqW1wiZVwiICsgdHlwZSArIGZuXS5jYWxsKHRoaXMsIGUpO1xuICAgICAgfTtcbiAgICAgIG9iai5hdHRhY2hFdmVudChcIm9uXCIgKyB0eXBlLCBvYmpbdHlwZSArIGZuXSk7XG4gICAgfVxuICB9O1xuXG4gIHdpbmRvdy5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKG9iaiwgdHlwZSwgZm4pIHtcbiAgICBpZiAob2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIG9iai5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZuLCBmYWxzZSk7XG4gICAgfSBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHtcbiAgICAgIG9iai5kZXRhY2hFdmVudChcIm9uXCIgKyB0eXBlLCBvYmpbdHlwZSArIGZuXSk7XG4gICAgICBvYmpbdHlwZSArIGZuXSA9IG51bGw7XG4gICAgICBvYmpbXCJlXCIgKyB0eXBlICsgZm5dID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gRE9NVG9rZW5MaXN0IGludGVyZmFjZSBhbmQgRWxlbWVudC5jbGFzc0xpc3QgLyBFbGVtZW50LnJlbExpc3RcbiAgLy8gTmVlZGVkIGZvcjogSUU5LVxuICAvLyBVc2UgZ2V0Q2xhc3NMaXN0KGVsZW0pIGluc3RlYWQgb2YgZWxlbS5jbGFzc0xpc3QoKSBpZiBJRTctIHN1cHBvcnQgaXMgbmVlZGVkXG4gIC8vIFVzZSBnZXRSZWxMaXN0KGVsZW0pIGluc3RlYWQgb2YgZWxlbS5yZWxMaXN0KCkgaWYgSUU3LSBzdXBwb3J0IGlzIG5lZWRlZFxuICAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gRE9NVG9rZW5MaXN0U2hpbShvLCBwKSB7XG4gICAgICBmdW5jdGlvbiBzcGxpdChzKSB7IHJldHVybiBzLmxlbmd0aCA/IHMuc3BsaXQoL1xccysvZykgOiBbXTsgfVxuXG4gICAgICAvLyBOT1RFOiBUaGlzIGRvZXMgbm90IGV4YWN0bHkgbWF0Y2ggdGhlIHNwZWMuXG4gICAgICBmdW5jdGlvbiByZW1vdmVUb2tlbkZyb21TdHJpbmcodG9rZW4sIHN0cmluZykge1xuICAgICAgICB2YXIgdG9rZW5zID0gc3BsaXQoc3RyaW5nKSxcbiAgICAgICAgICAgIGluZGV4ID0gdG9rZW5zLmluZGV4T2YodG9rZW4pO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgdG9rZW5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2Vucy5qb2luKCcgJyk7XG4gICAgICB9XG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFxuICAgICAgICB0aGlzLFxuICAgICAgICB7XG4gICAgICAgICAgbGVuZ3RoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc3BsaXQob1twXSkubGVuZ3RoOyB9XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGl0ZW06IHtcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihpZHgpIHtcbiAgICAgICAgICAgICAgdmFyIHRva2VucyA9IHNwbGl0KG9bcF0pO1xuICAgICAgICAgICAgICByZXR1cm4gMCA8PSBpZHggJiYgaWR4IDwgdG9rZW5zLmxlbmd0aCA/IHRva2Vuc1tpZHhdIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgY29udGFpbnM6IHtcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbih0b2tlbikge1xuICAgICAgICAgICAgICB0b2tlbiA9IFN0cmluZyh0b2tlbik7XG4gICAgICAgICAgICAgIGlmICh0b2tlbi5sZW5ndGggPT09IDApIHsgdGhyb3cgU3ludGF4RXJyb3IoKTsgfVxuICAgICAgICAgICAgICBpZiAoL1xccy8udGVzdCh0b2tlbikpIHsgdGhyb3cgRXJyb3IoXCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3JcIik7IH1cbiAgICAgICAgICAgICAgdmFyIHRva2VucyA9IHNwbGl0KG9bcF0pO1xuXG4gICAgICAgICAgICAgIHJldHVybiB0b2tlbnMuaW5kZXhPZih0b2tlbikgIT09IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBhZGQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigvKnRva2Vucy4uLiovKSB7XG4gICAgICAgICAgICAgIHZhciB0b2tlbnMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLm1hcChTdHJpbmcpO1xuICAgICAgICAgICAgICBpZiAodG9rZW5zLnNvbWUoZnVuY3Rpb24odG9rZW4pIHsgcmV0dXJuIHRva2VuLmxlbmd0aCA9PT0gMDsgfSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBTeW50YXhFcnJvcigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0b2tlbnMuc29tZShmdW5jdGlvbih0b2tlbikgeyByZXR1cm4gKC9cXHMvKS50ZXN0KHRva2VuKTsgfSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWRDaGFyYWN0ZXJFcnJvclwiKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHVuZGVybHlpbmdfc3RyaW5nID0gb1twXTtcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW5fbGlzdCA9IHNwbGl0KHVuZGVybHlpbmdfc3RyaW5nKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMgPSB0b2tlbnMuZmlsdGVyKGZ1bmN0aW9uKHRva2VuKSB7IHJldHVybiB0b2tlbl9saXN0LmluZGV4T2YodG9rZW4pID09PSAtMTsgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHVuZGVybHlpbmdfc3RyaW5nLmxlbmd0aCAhPT0gMCAmJiAhKC9cXHMkLykudGVzdCh1bmRlcmx5aW5nX3N0cmluZykpIHtcbiAgICAgICAgICAgICAgICAgIHVuZGVybHlpbmdfc3RyaW5nICs9ICcgJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdW5kZXJseWluZ19zdHJpbmcgKz0gdG9rZW5zLmpvaW4oJyAnKTtcbiAgICAgICAgICAgICAgICBvW3BdID0gdW5kZXJseWluZ19zdHJpbmc7XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHNwbGl0KG9bcF0pLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sZW5ndGggIT09IGxlbmd0aCkgeyB0aGlzLmxlbmd0aCA9IGxlbmd0aDsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHJlbW92ZToge1xuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKC8qdG9rZW5zLi4uKi8pIHtcbiAgICAgICAgICAgICAgdmFyIHRva2VucyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykubWFwKFN0cmluZyk7XG4gICAgICAgICAgICAgIGlmICh0b2tlbnMuc29tZShmdW5jdGlvbih0b2tlbikgeyByZXR1cm4gdG9rZW4ubGVuZ3RoID09PSAwOyB9KSkge1xuICAgICAgICAgICAgICAgIHRocm93IFN5bnRheEVycm9yKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHRva2Vucy5zb21lKGZ1bmN0aW9uKHRva2VuKSB7IHJldHVybiAoL1xccy8pLnRlc3QodG9rZW4pOyB9KSkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZENoYXJhY3RlckVycm9yXCIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgdW5kZXJseWluZ19zdHJpbmcgPSBvW3BdO1xuICAgICAgICAgICAgICAgIHRva2Vucy5mb3JFYWNoKGZ1bmN0aW9uKHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICB1bmRlcmx5aW5nX3N0cmluZyA9IHJlbW92ZVRva2VuRnJvbVN0cmluZyh0b2tlbiwgdW5kZXJseWluZ19zdHJpbmcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG9bcF0gPSB1bmRlcmx5aW5nX3N0cmluZztcbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gc3BsaXQob1twXSkubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxlbmd0aCAhPT0gbGVuZ3RoKSB7IHRoaXMubGVuZ3RoID0gbGVuZ3RoOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgdG9nZ2xlOiB7XG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24odG9rZW4vKiwgZm9yY2UqLykge1xuICAgICAgICAgICAgICB2YXIgZm9yY2UgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSBTdHJpbmcodG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbi5sZW5ndGggPT09IDApIHsgdGhyb3cgU3ludGF4RXJyb3IoKTsgfVxuICAgICAgICAgICAgICAgIGlmICgvXFxzLy50ZXN0KHRva2VuKSkgeyB0aHJvdyBFcnJvcihcIkludmFsaWRDaGFyYWN0ZXJFcnJvclwiKTsgfVxuICAgICAgICAgICAgICAgIHZhciB0b2tlbnMgPSBzcGxpdChvW3BdKSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSB0b2tlbnMuaW5kZXhPZih0b2tlbik7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xICYmICghZm9yY2UgfHwgZm9yY2UgPT09ICh2b2lkIDApKSkge1xuICAgICAgICAgICAgICAgICAgb1twXSA9IHJlbW92ZVRva2VuRnJvbVN0cmluZyh0b2tlbiwgb1twXSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEgJiYgZm9yY2UpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdW5kZXJseWluZ19zdHJpbmcgPSBvW3BdO1xuICAgICAgICAgICAgICAgIGlmICh1bmRlcmx5aW5nX3N0cmluZy5sZW5ndGggIT09IDAgJiYgIS9cXHMkLy50ZXN0KHVuZGVybHlpbmdfc3RyaW5nKSkge1xuICAgICAgICAgICAgICAgICAgdW5kZXJseWluZ19zdHJpbmcgKz0gJyAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1bmRlcmx5aW5nX3N0cmluZyArPSB0b2tlbjtcbiAgICAgICAgICAgICAgICBvW3BdID0gdW5kZXJseWluZ19zdHJpbmc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHNwbGl0KG9bcF0pLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sZW5ndGggIT09IGxlbmd0aCkgeyB0aGlzLmxlbmd0aCA9IGxlbmd0aDsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHRvU3RyaW5nOiB7XG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvW3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICBpZiAoISgnbGVuZ3RoJyBpbiB0aGlzKSkge1xuICAgICAgICAvLyBJbiBjYXNlIGdldHRlcnMgYXJlIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgdGhpcy5sZW5ndGggPSBzcGxpdChvW3BdKS5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiB0aGV5IGFyZSwgc2hpbSBpbiBpbmRleCBnZXR0ZXJzICh1cCB0byAxMDApXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTAwOyArK2kpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgU3RyaW5nKGkpLCB7XG4gICAgICAgICAgICBnZXQ6IChmdW5jdGlvbihuKSB7IHJldHVybiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuaXRlbShuKTsgfTsgfShpKSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFRvRWxlbWVudFByb3RvdHlwZShwLCBmKSB7XG4gICAgICBpZiAoJ0VsZW1lbnQnIGluIGdsb2JhbCAmJiBFbGVtZW50LnByb3RvdHlwZSAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCBwLCB7IGdldDogZiB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIVE1MIC0gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZ1xuICAgIC8vIEVsZW1lbnQuY2xhc3NMaXN0XG4gICAgaWYgKCdjbGFzc0xpc3QnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSkge1xuICAgICAgd2luZG93LmdldENsYXNzTGlzdCA9IGZ1bmN0aW9uKGVsZW0pIHsgcmV0dXJuIGVsZW0uY2xhc3NMaXN0OyB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuZ2V0Q2xhc3NMaXN0ID0gZnVuY3Rpb24oZWxlbSkgeyByZXR1cm4gbmV3IERPTVRva2VuTGlzdFNoaW0oZWxlbSwgJ2NsYXNzTmFtZScpOyB9O1xuICAgICAgYWRkVG9FbGVtZW50UHJvdG90eXBlKCdjbGFzc0xpc3QnLCBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBET01Ub2tlbkxpc3RTaGltKHRoaXMsICdjbGFzc05hbWUnKTsgfSApO1xuICAgIH1cblxuICAgIC8vIEhUTUwgLSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnXG4gICAgLy8gSFRNTEFuY2hvckVsZW1lbnQucmVsTGlzdFxuICAgIC8vIEhUTUxMaW5rRWxlbWVudC5yZWxMaXN0XG4gICAgaWYgKCdyZWxMaXN0JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJykpIHtcbiAgICAgIHdpbmRvdy5nZXRSZWxMaXN0ID0gZnVuY3Rpb24oZWxlbSkgeyByZXR1cm4gZWxlbS5yZWxMaXN0OyB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuZ2V0UmVsTGlzdCA9IGZ1bmN0aW9uKGVsZW0pIHsgcmV0dXJuIG5ldyBET01Ub2tlbkxpc3RTaGltKGVsZW0sICdyZWwnKTsgfTtcbiAgICAgIGFkZFRvRWxlbWVudFByb3RvdHlwZSgncmVsTGlzdCcsIGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IERPTVRva2VuTGlzdFNoaW0odGhpcywgJ3JlbCcpOyB9ICk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHNlY29uZCBhcmd1bWVudCB0byBuYXRpdmUgRE9NVG9rZW5MaXN0LnRvZ2dsZSgpIGlmIG5lY2Vzc2FyeVxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIGlmICghKCdET01Ub2tlbkxpc3QnIGluIGdsb2JhbCkpIHJldHVybjtcbiAgICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgaWYgKCEoJ2NsYXNzTGlzdCcgaW4gZSkpIHJldHVybjtcbiAgICAgIGUuY2xhc3NMaXN0LnRvZ2dsZSgneCcsIGZhbHNlKTtcbiAgICAgIGlmICghZS5jbGFzc0xpc3QuY29udGFpbnMoJ3gnKSkgcmV0dXJuO1xuICAgICAgZ2xvYmFsLkRPTVRva2VuTGlzdC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKHRva2VuLyosIGZvcmNlKi8pIHtcbiAgICAgICAgdmFyIGZvcmNlID0gYXJndW1lbnRzWzFdO1xuICAgICAgICBpZiAoZm9yY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHZhciBhZGQgPSAhdGhpcy5jb250YWlucyh0b2tlbik7XG4gICAgICAgICAgdGhpc1thZGQgPyAnYWRkJyA6ICdyZW1vdmUnXSh0b2tlbik7XG4gICAgICAgICAgcmV0dXJuIGFkZDtcbiAgICAgICAgfVxuICAgICAgICBmb3JjZSA9ICEhZm9yY2U7XG4gICAgICAgIHRoaXNbZm9yY2UgPyAnYWRkJyA6ICdyZW1vdmUnXSh0b2tlbik7XG4gICAgICAgIHJldHVybiBmb3JjZTtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuXG4gICAgLy8gRE9NIC0gSW50ZXJmYWNlIE5vbkRvY3VtZW50VHlwZUNoaWxkTm9kZVxuICAgIC8vIEludGVyZmFjZSBOb25Eb2N1bWVudFR5cGVDaGlsZE5vZGVcbiAgICAvLyBwcmV2aW91c0VsZW1lbnRTaWJsaW5nIC8gbmV4dEVsZW1lbnRTaWJsaW5nIC0gZm9yIElFOFxuXG4gICAgaWYgKCEoJ3ByZXZpb3VzRWxlbWVudFNpYmxpbmcnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkpIHtcbiAgICAgIGFkZFRvRWxlbWVudFByb3RvdHlwZSgncHJldmlvdXNFbGVtZW50U2libGluZycsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbiA9IHRoaXMucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICB3aGlsZSAobiAmJiBuLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSlcbiAgICAgICAgICBuID0gbi5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgIHJldHVybiBuO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCEoJ25leHRFbGVtZW50U2libGluZycgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgYWRkVG9FbGVtZW50UHJvdG90eXBlKCduZXh0RWxlbWVudFNpYmxpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG4gPSB0aGlzLm5leHRTaWJsaW5nO1xuICAgICAgICB3aGlsZSAobiAmJiBuLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSlcbiAgICAgICAgICBuID0gbi5uZXh0U2libGluZztcbiAgICAgICAgcmV0dXJuIG47XG4gICAgICB9KTtcbiAgICB9XG4gIH0oKSk7XG5cbiAgLy8gRWxlbWVudC5tYXRjaGVzXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9FbGVtZW50L21hdGNoZXNcbiAgLy8gTmVlZGVkIGZvcjogSUUsIEZpcmVmb3ggMy42LCBlYXJseSBXZWJraXQgYW5kIE9wZXJhIDE1LjBcbiAgLy8gVXNlIG1zTWF0Y2hlc1NlbGVjdG9yKHNlbGVjdG9yKSBmb3IgSUVcbiAgLy8gVXNlIG9NYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpIGZvciBPcGVyYSAxNS4wXG4gIC8vIFVzZSBtb3pNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpIGZvciBGaXJlZm94IDMuNlxuICAvLyBVc2Ugd2Via2l0TWF0Y2hlc1NlbGVjdG9yKHNlbGVjdG9yKSBmb3IgZWFybHkgV2Via2l0XG4gIC8vIFVzZSBwb2x5ZmlsbCBpZiBubyBtYXRjaGVzKCkgc3VwcG9ydCwgYnV0IHF1ZXJ5U2VsZWN0b3JBbGwoKSBzdXBwb3J0XG4gIGlmICgnRWxlbWVudCcgaW4gZ2xvYmFsICYmICFFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKSB7XG4gICAgaWYgKEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yKSB7XG4gICAgICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID0gRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3I7XG4gICAgfSBlbHNlIGlmIChFbGVtZW50LnByb3RvdHlwZS5vTWF0Y2hlc1NlbGVjdG9yKSB7XG4gICAgICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID0gRWxlbWVudC5wcm90b3R5cGUub01hdGNoZXNTZWxlY3RvcjtcbiAgICB9IGVsc2UgaWYgKEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3Rvcikge1xuICAgICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9IEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3RvcjtcbiAgICB9IGVsc2UgaWYgKEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3Rvcikge1xuICAgICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9IEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvcjtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwpIHtcbiAgICAgIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPSBmdW5jdGlvbiBtYXRjaGVzKHNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBtYXRjaGVzID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSxcbiAgICAgICAgICAgIGkgPSBtYXRjaGVzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKC0taSA+PSAwICYmIG1hdGNoZXMuaXRlbShpKSAhPT0gdGhpcykge31cbiAgICAgICAgcmV0dXJuIGkgPiAtMTtcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gRWxlbWVudC5jbG9zZXN0XG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50L2Nsb3Nlc3RcbiAgaWYgKHdpbmRvdy5FbGVtZW50ICYmICFFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0KSB7XG4gICAgRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgIHZhciBtYXRjaGVzID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHMpLFxuICAgICAgICAgIGksXG4gICAgICAgICAgZWwgPSB0aGlzO1xuICAgICAgZG8ge1xuICAgICAgICBpID0gbWF0Y2hlcy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICgtLWkgPj0gMCAmJiBtYXRjaGVzLml0ZW0oaSkgIT09IGVsKSB7fTtcbiAgICAgIH0gd2hpbGUgKChpIDwgMCkgJiYgKGVsID0gZWwucGFyZW50RWxlbWVudCkpOyBcbiAgICAgIHJldHVybiBlbDtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbWl4aW4obywgcHMpIHtcbiAgICBpZiAoIW8pIHJldHVybjtcbiAgICBPYmplY3Qua2V5cyhwcykuZm9yRWFjaChmdW5jdGlvbihwKSB7XG4gICAgICBpZiAoKHAgaW4gbykgfHwgKHAgaW4gby5wcm90b3R5cGUpKSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgby5wcm90b3R5cGUsXG4gICAgICAgICAgcCxcbiAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHBzLCBwKVxuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgLy8gVGhyb3dzIGluIElFODsganVzdCBjb3B5IGl0XG4gICAgICAgIG9bcF0gPSBwc1twXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIE1peGluIFBhcmVudE5vZGVcbiAgLy8gaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnLyNpbnRlcmZhY2UtcGFyZW50bm9kZVxuXG4gIGZ1bmN0aW9uIGNvbnZlcnROb2Rlc0ludG9BTm9kZShub2Rlcykge1xuICAgIHZhciBub2RlID0gbnVsbDtcbiAgICBub2RlcyA9IG5vZGVzLm1hcChmdW5jdGlvbihub2RlKSB7XG4gICAgICByZXR1cm4gIShub2RlIGluc3RhbmNlb2YgTm9kZSkgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlKSA6IG5vZGU7XG4gICAgfSk7XG4gICAgaWYgKG5vZGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgbm9kZSA9IG5vZGVzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgbm9kZXMuZm9yRWFjaChmdW5jdGlvbihuKSB7IG5vZGUuYXBwZW5kQ2hpbGQobik7IH0pO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIHZhciBQYXJlbnROb2RlID0ge1xuICAgIHByZXBlbmQ6IGZ1bmN0aW9uKC8qLi4ubm9kZXMqLykge1xuICAgICAgdmFyIG5vZGVzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgbm9kZXMgPSBjb252ZXJ0Tm9kZXNJbnRvQU5vZGUobm9kZXMpO1xuICAgICAgdGhpcy5pbnNlcnRCZWZvcmUobm9kZXMsIHRoaXMuZmlyc3RDaGlsZCk7XG4gICAgfSxcbiAgICBhcHBlbmQ6IGZ1bmN0aW9uKC8qLi4ubm9kZXMqLykge1xuICAgICAgdmFyIG5vZGVzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgbm9kZXMgPSBjb252ZXJ0Tm9kZXNJbnRvQU5vZGUobm9kZXMpO1xuICAgICAgdGhpcy5hcHBlbmRDaGlsZChub2Rlcyk7XG4gICAgfVxuICB9O1xuXG4gIG1peGluKGdsb2JhbC5Eb2N1bWVudCB8fCBnbG9iYWwuSFRNTERvY3VtZW50LCBQYXJlbnROb2RlKTsgLy8gSFRNTERvY3VtZW50IGZvciBJRThcbiAgbWl4aW4oZ2xvYmFsLkRvY3VtZW50RnJhZ21lbnQsIFBhcmVudE5vZGUpO1xuICBtaXhpbihnbG9iYWwuRWxlbWVudCwgUGFyZW50Tm9kZSk7XG5cbiAgLy8gTWl4aW4gQ2hpbGROb2RlXG4gIC8vIGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZy8jaW50ZXJmYWNlLWNoaWxkbm9kZVxuXG4gIHZhciBDaGlsZE5vZGUgPSB7XG4gICAgYmVmb3JlOiBmdW5jdGlvbigvKi4uLm5vZGVzKi8pIHtcbiAgICAgIHZhciBub2RlcyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gICAgICBpZiAoIXBhcmVudCkgcmV0dXJuO1xuICAgICAgdmFyIHZpYWJsZVByZXZpb3VzU2libGluZyA9IHRoaXMucHJldmlvdXNTaWJsaW5nO1xuICAgICAgd2hpbGUgKG5vZGVzLmluZGV4T2YodmlhYmxlUHJldmlvdXNTaWJsaW5nKSAhPT0gLTEpXG4gICAgICAgIHZpYWJsZVByZXZpb3VzU2libGluZyA9IHZpYWJsZVByZXZpb3VzU2libGluZy5wcmV2aW91c1NpYmxpbmc7XG4gICAgICB2YXIgbm9kZSA9IGNvbnZlcnROb2Rlc0ludG9BTm9kZShub2Rlcyk7XG4gICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIHZpYWJsZVByZXZpb3VzU2libGluZyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZpYWJsZVByZXZpb3VzU2libGluZy5uZXh0U2libGluZyA6IHBhcmVudC5maXJzdENoaWxkKTtcbiAgICB9LFxuICAgIGFmdGVyOiBmdW5jdGlvbigvKi4uLm5vZGVzKi8pIHtcbiAgICAgIHZhciBub2RlcyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gICAgICBpZiAoIXBhcmVudCkgcmV0dXJuO1xuICAgICAgdmFyIHZpYWJsZU5leHRTaWJsaW5nID0gdGhpcy5uZXh0U2libGluZztcbiAgICAgIHdoaWxlIChub2Rlcy5pbmRleE9mKHZpYWJsZU5leHRTaWJsaW5nKSAhPT0gLTEpXG4gICAgICAgIHZpYWJsZU5leHRTaWJsaW5nID0gdmlhYmxlTmV4dFNpYmxpbmcubmV4dFNpYmxpbmc7XG4gICAgICB2YXIgbm9kZSA9IGNvbnZlcnROb2Rlc0ludG9BTm9kZShub2Rlcyk7XG4gICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIHZpYWJsZU5leHRTaWJsaW5nKTtcbiAgICB9LFxuICAgIHJlcGxhY2VXaXRoOiBmdW5jdGlvbigvKi4uLm5vZGVzKi8pIHtcbiAgICAgIHZhciBub2RlcyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gICAgICBpZiAoIXBhcmVudCkgcmV0dXJuO1xuICAgICAgdmFyIHZpYWJsZU5leHRTaWJsaW5nID0gdGhpcy5uZXh0U2libGluZztcbiAgICAgIHdoaWxlIChub2Rlcy5pbmRleE9mKHZpYWJsZU5leHRTaWJsaW5nKSAhPT0gLTEpXG4gICAgICAgIHZpYWJsZU5leHRTaWJsaW5nID0gdmlhYmxlTmV4dFNpYmxpbmcubmV4dFNpYmxpbmc7XG4gICAgICB2YXIgbm9kZSA9IGNvbnZlcnROb2Rlc0ludG9BTm9kZShub2Rlcyk7XG5cbiAgICAgIGlmICh0aGlzLnBhcmVudE5vZGUgPT09IHBhcmVudClcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChub2RlLCB0aGlzKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCB2aWFibGVOZXh0U2libGluZyk7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLnBhcmVudE5vZGUpIHJldHVybjtcbiAgICAgIHRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICB9XG4gIH07XG5cbiAgbWl4aW4oZ2xvYmFsLkRvY3VtZW50VHlwZSwgQ2hpbGROb2RlKTtcbiAgbWl4aW4oZ2xvYmFsLkVsZW1lbnQsIENoaWxkTm9kZSk7XG4gIG1peGluKGdsb2JhbC5DaGFyYWN0ZXJEYXRhLCBDaGlsZE5vZGUpO1xuXG59KHNlbGYpKTtcbihmdW5jdGlvbihnbG9iYWwpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmICghKCd3aW5kb3cnIGluIGdsb2JhbCAmJiAnZG9jdW1lbnQnIGluIGdsb2JhbCkpXG4gICAgcmV0dXJuO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyBYTUxIdHRwUmVxdWVzdFxuICAvLyBodHRwczovL3hoci5zcGVjLndoYXR3Zy5vcmdcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gWE1MSHR0cFJlcXVlc3QgaW50ZXJmYWNlXG4gIC8vIE5lZWRlZCBmb3I6IElFNy1cbiAgZ2xvYmFsLlhNTEh0dHBSZXF1ZXN0ID0gZ2xvYmFsLlhNTEh0dHBSZXF1ZXN0IHx8IGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7IHJldHVybiBuZXcgQWN0aXZlWE9iamVjdChcIk1zeG1sMi5YTUxIVFRQLjYuMFwiKTsgfSBjYXRjaCAoXykgeyB9XG4gICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KFwiTXN4bWwyLlhNTEhUVFAuMy4wXCIpOyB9IGNhdGNoIChfKSB7IH1cbiAgICB0cnkgeyByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoXCJNc3htbDIuWE1MSFRUUFwiKTsgfSBjYXRjaCAoXykgeyB9XG4gICAgdGhyb3cgRXJyb3IoXCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdC5cIik7XG4gIH07XG5cbiAgLy8gWE1MSHR0cFJlcXVlc3QgaW50ZXJmYWNlIGNvbnN0YW50c1xuICAvLyBOZWVkZWQgZm9yIElFOC1cbiAgW1xuICAgIFsnVU5TRU5UJywgMF0sXG4gICAgWydPUEVORUQnLCAxXSxcbiAgICBbJ0hFQURFUlNfUkVDRUlWRUQnLCAyXSxcbiAgICBbJ0xPQURJTkcnLCAzXSxcbiAgICBbJ0RPTkUnLCA0XSxcbiAgXS5mb3JFYWNoKGZ1bmN0aW9uKHApIHsgaWYgKCEocFswXSBpbiBnbG9iYWwuWE1MSHR0cFJlcXVlc3QpKSBnbG9iYWwuWE1MSHR0cFJlcXVlc3RbcFswXV0gPSBwWzFdOyB9KTtcblxuICAvLyBGb3JtRGF0YSBpbnRlcmZhY2VcbiAgLy8gTmVlZGVkIGZvcjogSUU5LVxuICAoZnVuY3Rpb24oKSB7XG4gICAgaWYgKCdGb3JtRGF0YScgaW4gZ2xvYmFsKVxuICAgICAgcmV0dXJuO1xuXG4gICAgZnVuY3Rpb24gRm9ybURhdGEoZm9ybSkge1xuICAgICAgdGhpcy5fZGF0YSA9IFtdO1xuICAgICAgaWYgKCFmb3JtKSByZXR1cm47XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm0uZWxlbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBmb3JtLmVsZW1lbnRzW2ldO1xuICAgICAgICBpZiAoZWxlbWVudC5uYW1lICE9PSAnJylcbiAgICAgICAgICB0aGlzLmFwcGVuZChlbGVtZW50Lm5hbWUsIGVsZW1lbnQudmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIEZvcm1EYXRhLnByb3RvdHlwZSA9IHtcbiAgICAgIGFwcGVuZDogZnVuY3Rpb24obmFtZSwgdmFsdWUgLyosIGZpbGVuYW1lICovKSB7XG4gICAgICAgIGlmICgnQmxvYicgaW4gZ2xvYmFsICYmIHZhbHVlIGluc3RhbmNlb2YgZ2xvYmFsLkJsb2IpXG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiQmxvYiBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICAgICAgICB0aGlzLl9kYXRhLnB1c2goW25hbWUsIHZhbHVlXSk7XG4gICAgICB9LFxuXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhLm1hcChmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgICAgfSkuam9pbignJicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBnbG9iYWwuRm9ybURhdGEgPSBGb3JtRGF0YTtcbiAgICB2YXIgc2VuZCA9IGdsb2JhbC5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZDtcbiAgICBnbG9iYWwuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICBpZiAoYm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgICAgIHRoaXMuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpO1xuICAgICAgICBhcmd1bWVudHNbMF0gPSBib2R5LnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VuZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0oKSk7XG5cbn0oc2VsZikpO1xuKGZ1bmN0aW9uKGdsb2JhbCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgaWYgKCEoJ3dpbmRvdycgaW4gZ2xvYmFsICYmICdkb2N1bWVudCcgaW4gZ2xvYmFsKSlcbiAgICByZXR1cm47XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vIENTU09NIFZpZXcgTW9kdWxlXG4gIC8vIGh0dHBzOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3NvbS12aWV3L1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBGaXggZm9yIElFOC0ncyBFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gIGlmICgnVGV4dFJlY3RhbmdsZScgaW4gZ2xvYmFsICYmICEoJ3dpZHRoJyBpbiBnbG9iYWwuVGV4dFJlY3RhbmdsZS5wcm90b3R5cGUpKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZ2xvYmFsLlRleHRSZWN0YW5nbGUucHJvdG90eXBlLCB7XG4gICAgICB3aWR0aDogeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5yaWdodCAtIHRoaXMubGVmdDsgfSB9LFxuICAgICAgaGVpZ2h0OiB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmJvdHRvbSAtIHRoaXMudG9wOyB9IH1cbiAgICB9KTtcbiAgfVxufShzZWxmKSk7XG4vLyBVUkwgUG9seWZpbGxcbi8vIERyYWZ0IHNwZWNpZmljYXRpb246IGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZ1xuXG4vLyBOb3Rlczpcbi8vIC0gUHJpbWFyaWx5IHVzZWZ1bCBmb3IgcGFyc2luZyBVUkxzIGFuZCBtb2RpZnlpbmcgcXVlcnkgcGFyYW1ldGVyc1xuLy8gLSBTaG91bGQgd29yayBpbiBJRTgrIGFuZCBldmVyeXRoaW5nIG1vcmUgbW9kZXJuLCB3aXRoIGVzNS5qcyBwb2x5ZmlsbHNcblxuKGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIGlzU2VxdWVuY2Uobykge1xuICAgIGlmICghbykgcmV0dXJuIGZhbHNlO1xuICAgIGlmICgnU3ltYm9sJyBpbiBnbG9iYWwgJiYgJ2l0ZXJhdG9yJyBpbiBnbG9iYWwuU3ltYm9sICYmXG4gICAgICAgIHR5cGVvZiBvW1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHJldHVybiB0cnVlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG8pKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiB0b0FycmF5KGl0ZXIpIHtcbiAgICByZXR1cm4gKCdmcm9tJyBpbiBBcnJheSkgPyBBcnJheS5mcm9tKGl0ZXIpIDogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaXRlcik7XG4gIH1cblxuICAoZnVuY3Rpb24oKSB7XG5cbiAgICAvLyBCcm93c2VycyBtYXkgaGF2ZTpcbiAgICAvLyAqIE5vIGdsb2JhbCBVUkwgb2JqZWN0XG4gICAgLy8gKiBVUkwgd2l0aCBzdGF0aWMgbWV0aG9kcyBvbmx5IC0gbWF5IGhhdmUgYSBkdW1teSBjb25zdHJ1Y3RvclxuICAgIC8vICogVVJMIHdpdGggbWVtYmVycyBleGNlcHQgc2VhcmNoUGFyYW1zXG4gICAgLy8gKiBGdWxsIFVSTCBBUEkgc3VwcG9ydFxuICAgIHZhciBvcmlnVVJMID0gZ2xvYmFsLlVSTDtcbiAgICB2YXIgbmF0aXZlVVJMO1xuICAgIHRyeSB7XG4gICAgICBpZiAob3JpZ1VSTCkge1xuICAgICAgICBuYXRpdmVVUkwgPSBuZXcgZ2xvYmFsLlVSTCgnaHR0cDovL2V4YW1wbGUuY29tJyk7XG4gICAgICAgIGlmICgnc2VhcmNoUGFyYW1zJyBpbiBuYXRpdmVVUkwpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoISgnaHJlZicgaW4gbmF0aXZlVVJMKSlcbiAgICAgICAgICBuYXRpdmVVUkwgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoXykge31cblxuICAgIC8vIE5PVEU6IERvZXNuJ3QgZG8gdGhlIGVuY29kaW5nL2RlY29kaW5nIGRhbmNlXG4gICAgZnVuY3Rpb24gdXJsZW5jb2RlZF9zZXJpYWxpemUocGFpcnMpIHtcbiAgICAgIHZhciBvdXRwdXQgPSAnJywgZmlyc3QgPSB0cnVlO1xuICAgICAgcGFpcnMuZm9yRWFjaChmdW5jdGlvbiAocGFpcikge1xuICAgICAgICB2YXIgbmFtZSA9IGVuY29kZVVSSUNvbXBvbmVudChwYWlyLm5hbWUpO1xuICAgICAgICB2YXIgdmFsdWUgPSBlbmNvZGVVUklDb21wb25lbnQocGFpci52YWx1ZSk7XG4gICAgICAgIGlmICghZmlyc3QpIG91dHB1dCArPSAnJic7XG4gICAgICAgIG91dHB1dCArPSBuYW1lICsgJz0nICsgdmFsdWU7XG4gICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvdXRwdXQucmVwbGFjZSgvJTIwL2csICcrJyk7XG4gICAgfVxuXG4gICAgLy8gTk9URTogRG9lc24ndCBkbyB0aGUgZW5jb2RpbmcvZGVjb2RpbmcgZGFuY2VcbiAgICBmdW5jdGlvbiB1cmxlbmNvZGVkX3BhcnNlKGlucHV0LCBpc2luZGV4KSB7XG4gICAgICB2YXIgc2VxdWVuY2VzID0gaW5wdXQuc3BsaXQoJyYnKTtcbiAgICAgIGlmIChpc2luZGV4ICYmIHNlcXVlbmNlc1swXS5pbmRleE9mKCc9JykgPT09IC0xKVxuICAgICAgICBzZXF1ZW5jZXNbMF0gPSAnPScgKyBzZXF1ZW5jZXNbMF07XG4gICAgICB2YXIgcGFpcnMgPSBbXTtcbiAgICAgIHNlcXVlbmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChieXRlcykge1xuICAgICAgICBpZiAoYnl0ZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIHZhciBpbmRleCA9IGJ5dGVzLmluZGV4T2YoJz0nKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHZhciBuYW1lID0gYnl0ZXMuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBieXRlcy5zdWJzdHJpbmcoaW5kZXggKyAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuYW1lID0gYnl0ZXM7XG4gICAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgICAgfVxuICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICAgICAgcGFpcnMucHVzaCh7IG5hbWU6IG5hbWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgIH0pO1xuICAgICAgdmFyIG91dHB1dCA9IFtdO1xuICAgICAgcGFpcnMuZm9yRWFjaChmdW5jdGlvbiAocGFpcikge1xuICAgICAgICBvdXRwdXQucHVzaCh7XG4gICAgICAgICAgbmFtZTogZGVjb2RlVVJJQ29tcG9uZW50KHBhaXIubmFtZSksXG4gICAgICAgICAgdmFsdWU6IGRlY29kZVVSSUNvbXBvbmVudChwYWlyLnZhbHVlKVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBVUkxVdGlscyh1cmwpIHtcbiAgICAgIGlmIChuYXRpdmVVUkwpXG4gICAgICAgIHJldHVybiBuZXcgb3JpZ1VSTCh1cmwpO1xuICAgICAgdmFyIGFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIGFuY2hvci5ocmVmID0gdXJsO1xuICAgICAgcmV0dXJuIGFuY2hvcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBVUkxTZWFyY2hQYXJhbXMoaW5pdCkge1xuICAgICAgdmFyICR0aGlzID0gdGhpcztcbiAgICAgIHRoaXMuX2xpc3QgPSBbXTtcblxuICAgICAgaWYgKGluaXQgPT09IHVuZGVmaW5lZCB8fCBpbml0ID09PSBudWxsKSB7XG4gICAgICAgIC8vIG5vLW9wXG4gICAgICB9IGVsc2UgaWYgKGluaXQgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMpIHtcbiAgICAgICAgLy8gSW4gRVM2IGluaXQgd291bGQgYmUgYSBzZXF1ZW5jZSwgYnV0IHNwZWNpYWwgY2FzZSBmb3IgRVM1LlxuICAgICAgICB0aGlzLl9saXN0ID0gdXJsZW5jb2RlZF9wYXJzZShTdHJpbmcoaW5pdCkpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5pdCA9PT0gJ29iamVjdCcgJiYgaXNTZXF1ZW5jZShpbml0KSkge1xuICAgICAgICB0b0FycmF5KGluaXQpLmZvckVhY2goZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGlmICghaXNTZXF1ZW5jZShlKSkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgICAgdmFyIG52ID0gdG9BcnJheShlKTtcbiAgICAgICAgICBpZiAobnYubGVuZ3RoICE9PSAyKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAkdGhpcy5fbGlzdC5wdXNoKHtuYW1lOiBTdHJpbmcobnZbMF0pLCB2YWx1ZTogU3RyaW5nKG52WzFdKX0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGluaXQgPT09ICdvYmplY3QnICYmIGluaXQpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoaW5pdCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAkdGhpcy5fbGlzdC5wdXNoKHtuYW1lOiBTdHJpbmcoa2V5KSwgdmFsdWU6IFN0cmluZyhpbml0W2tleV0pfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5pdCA9IFN0cmluZyhpbml0KTtcbiAgICAgICAgaWYgKGluaXQuc3Vic3RyaW5nKDAsIDEpID09PSAnPycpXG4gICAgICAgICAgaW5pdCA9IGluaXQuc3Vic3RyaW5nKDEpO1xuICAgICAgICB0aGlzLl9saXN0ID0gdXJsZW5jb2RlZF9wYXJzZShpbml0KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fdXJsX29iamVjdCA9IG51bGw7XG4gICAgICB0aGlzLl9zZXRMaXN0ID0gZnVuY3Rpb24gKGxpc3QpIHsgaWYgKCF1cGRhdGluZykgJHRoaXMuX2xpc3QgPSBsaXN0OyB9O1xuXG4gICAgICB2YXIgdXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3VwZGF0ZV9zdGVwcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodXBkYXRpbmcpIHJldHVybjtcbiAgICAgICAgdXBkYXRpbmcgPSB0cnVlO1xuXG4gICAgICAgIGlmICghJHRoaXMuX3VybF9vYmplY3QpIHJldHVybjtcblxuICAgICAgICAvLyBQYXJ0aWFsIHdvcmthcm91bmQgZm9yIElFIGlzc3VlIHdpdGggJ2Fib3V0OidcbiAgICAgICAgaWYgKCR0aGlzLl91cmxfb2JqZWN0LnByb3RvY29sID09PSAnYWJvdXQ6JyAmJlxuICAgICAgICAgICAgJHRoaXMuX3VybF9vYmplY3QucGF0aG5hbWUuaW5kZXhPZignPycpICE9PSAtMSkge1xuICAgICAgICAgICR0aGlzLl91cmxfb2JqZWN0LnBhdGhuYW1lID0gJHRoaXMuX3VybF9vYmplY3QucGF0aG5hbWUuc3BsaXQoJz8nKVswXTtcbiAgICAgICAgfVxuXG4gICAgICAgICR0aGlzLl91cmxfb2JqZWN0LnNlYXJjaCA9IHVybGVuY29kZWRfc2VyaWFsaXplKCR0aGlzLl9saXN0KTtcblxuICAgICAgICB1cGRhdGluZyA9IGZhbHNlO1xuICAgICAgfTtcbiAgICB9XG5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUsIHtcbiAgICAgIGFwcGVuZDoge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5fbGlzdC5wdXNoKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlIH0pO1xuICAgICAgICAgIHRoaXMuX3VwZGF0ZV9zdGVwcygpO1xuICAgICAgICB9LCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9LFxuXG4gICAgICAnZGVsZXRlJzoge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2xpc3QubGVuZ3RoOykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xpc3RbaV0ubmFtZSA9PT0gbmFtZSlcbiAgICAgICAgICAgICAgdGhpcy5fbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICsraTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fdXBkYXRlX3N0ZXBzKCk7XG4gICAgICAgIH0sIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0sXG5cbiAgICAgIGdldDoge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2xpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saXN0W2ldLm5hbWUgPT09IG5hbWUpXG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLl9saXN0W2ldLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSxcblxuICAgICAgZ2V0QWxsOiB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2xpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saXN0W2ldLm5hbWUgPT09IG5hbWUpXG4gICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuX2xpc3RbaV0udmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9LFxuXG4gICAgICBoYXM6IHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9saXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGlzdFtpXS5uYW1lID09PSBuYW1lKVxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9LFxuXG4gICAgICBzZXQ6IHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbGlzdC5sZW5ndGg7KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGlzdFtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saXN0W2ldLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saXN0LnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghZm91bmQpXG4gICAgICAgICAgICB0aGlzLl9saXN0LnB1c2goeyBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWUgfSk7XG5cbiAgICAgICAgICB0aGlzLl91cGRhdGVfc3RlcHMoKTtcbiAgICAgICAgfSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSxcblxuICAgICAgZW50cmllczoge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgSXRlcmF0b3IodGhpcy5fbGlzdCwgJ2tleSt2YWx1ZScpOyB9LFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9LFxuXG4gICAgICBrZXlzOiB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBJdGVyYXRvcih0aGlzLl9saXN0LCAna2V5Jyk7IH0sXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0sXG5cbiAgICAgIHZhbHVlczoge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgSXRlcmF0b3IodGhpcy5fbGlzdCwgJ3ZhbHVlJyk7IH0sXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0sXG5cbiAgICAgIGZvckVhY2g6IHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgdmFyIHRoaXNBcmcgPSAoYXJndW1lbnRzLmxlbmd0aCA+IDEpID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgICAgICAgIHRoaXMuX2xpc3QuZm9yRWFjaChmdW5jdGlvbihwYWlyLCBpbmRleCkge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBwYWlyLnZhbHVlLCBwYWlyLm5hbWUpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0sXG5cbiAgICAgIHRvU3RyaW5nOiB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHVybGVuY29kZWRfc2VyaWFsaXplKHRoaXMuX2xpc3QpO1xuICAgICAgICB9LCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gSXRlcmF0b3Ioc291cmNlLCBraW5kKSB7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdGhpc1snbmV4dCddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChpbmRleCA+PSBzb3VyY2UubGVuZ3RoKVxuICAgICAgICAgIHJldHVybiB7ZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZH07XG4gICAgICAgIHZhciBwYWlyID0gc291cmNlW2luZGV4KytdO1xuICAgICAgICByZXR1cm4ge2RvbmU6IGZhbHNlLCB2YWx1ZTpcbiAgICAgICAgICAgICAgICBraW5kID09PSAna2V5JyA/IHBhaXIubmFtZSA6XG4gICAgICAgICAgICAgICAga2luZCA9PT0gJ3ZhbHVlJyA/IHBhaXIudmFsdWUgOlxuICAgICAgICAgICAgICAgIFtwYWlyLm5hbWUsIHBhaXIudmFsdWVdfTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKCdTeW1ib2wnIGluIGdsb2JhbCAmJiAnaXRlcmF0b3InIGluIGdsb2JhbC5TeW1ib2wpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLCBnbG9iYWwuU3ltYm9sLml0ZXJhdG9yLCB7XG4gICAgICAgIHZhbHVlOiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmVudHJpZXMsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJdGVyYXRvci5wcm90b3R5cGUsIGdsb2JhbC5TeW1ib2wuaXRlcmF0b3IsIHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFVSTCh1cmwsIGJhc2UpIHtcbiAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBnbG9iYWwuVVJMKSlcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1VSTCc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLlwiKTtcblxuICAgICAgaWYgKGJhc2UpIHtcbiAgICAgICAgdXJsID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobmF0aXZlVVJMKSByZXR1cm4gbmV3IG9yaWdVUkwodXJsLCBiYXNlKS5ocmVmO1xuICAgICAgICAgIHZhciBpZnJhbWU7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBkb2M7XG4gICAgICAgICAgICAvLyBVc2UgYW5vdGhlciBkb2N1bWVudC9iYXNlIHRhZy9hbmNob3IgZm9yIHJlbGF0aXZlIFVSTCByZXNvbHV0aW9uLCBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cub3BlcmFtaW5pKSA9PT0gXCJbb2JqZWN0IE9wZXJhTWluaV1cIikge1xuICAgICAgICAgICAgICBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgICAgICAgICAgICBkb2MgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuaW1wbGVtZW50YXRpb24gJiYgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KSB7XG4gICAgICAgICAgICAgIGRvYyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmltcGxlbWVudGF0aW9uICYmIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KSB7XG4gICAgICAgICAgICAgIGRvYyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJywgJ2h0bWwnLCBudWxsKTtcbiAgICAgICAgICAgICAgZG9jLmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlRWxlbWVudCgnaGVhZCcpKTtcbiAgICAgICAgICAgICAgZG9jLmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlRWxlbWVudCgnYm9keScpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LkFjdGl2ZVhPYmplY3QpIHtcbiAgICAgICAgICAgICAgZG9jID0gbmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KCdodG1sZmlsZScpO1xuICAgICAgICAgICAgICBkb2Mud3JpdGUoJzxoZWFkPjxcXC9oZWFkPjxib2R5PjxcXC9ib2R5PicpO1xuICAgICAgICAgICAgICBkb2MuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkb2MpIHRocm93IEVycm9yKCdiYXNlIG5vdCBzdXBwb3J0ZWQnKTtcblxuICAgICAgICAgICAgdmFyIGJhc2VUYWcgPSBkb2MuY3JlYXRlRWxlbWVudCgnYmFzZScpO1xuICAgICAgICAgICAgYmFzZVRhZy5ocmVmID0gYmFzZTtcbiAgICAgICAgICAgIGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKGJhc2VUYWcpO1xuICAgICAgICAgICAgdmFyIGFuY2hvciA9IGRvYy5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICBhbmNob3IuaHJlZiA9IHVybDtcbiAgICAgICAgICAgIHJldHVybiBhbmNob3IuaHJlZjtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKGlmcmFtZSlcbiAgICAgICAgICAgICAgaWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0oKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFuIGlubmVyIG9iamVjdCBpbXBsZW1lbnRpbmcgVVJMVXRpbHMgKGVpdGhlciBhIG5hdGl2ZSBVUkxcbiAgICAgIC8vIG9iamVjdCBvciBhbiBIVE1MQW5jaG9yRWxlbWVudCBpbnN0YW5jZSkgaXMgdXNlZCB0byBwZXJmb3JtIHRoZVxuICAgICAgLy8gVVJMIGFsZ29yaXRobXMuIFdpdGggZnVsbCBFUzUgZ2V0dGVyL3NldHRlciBzdXBwb3J0LCByZXR1cm4gYVxuICAgICAgLy8gcmVndWxhciBvYmplY3QgRm9yIElFOCdzIGxpbWl0ZWQgZ2V0dGVyL3NldHRlciBzdXBwb3J0LCBhXG4gICAgICAvLyBkaWZmZXJlbnQgSFRNTEFuY2hvckVsZW1lbnQgaXMgcmV0dXJuZWQgd2l0aCBwcm9wZXJ0aWVzXG4gICAgICAvLyBvdmVycmlkZGVuXG5cbiAgICAgIHZhciBpbnN0YW5jZSA9IFVSTFV0aWxzKHVybCB8fCAnJyk7XG5cbiAgICAgIC8vIERldGVjdCBmb3IgRVM1IGdldHRlci9zZXR0ZXIgc3VwcG9ydFxuICAgICAgLy8gKGFuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIHBvbHlmaWxsIHRoYXQgZG9lc24ndCBzdXBwb3J0IGdldHRlcnMvc2V0dGVycyBtYXkgdGhyb3cpXG4gICAgICB2YXIgRVM1X0dFVF9TRVQgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghKCdkZWZpbmVQcm9wZXJ0aWVzJyBpbiBPYmplY3QpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwgeyBwcm9wOiB7ICdnZXQnOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9IH0gfSk7XG4gICAgICAgICAgcmV0dXJuIG9iai5wcm9wO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuXG4gICAgICB2YXIgc2VsZiA9IEVTNV9HRVRfU0VUID8gdGhpcyA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuXG5cbiAgICAgIHZhciBxdWVyeV9vYmplY3QgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKFxuICAgICAgICBpbnN0YW5jZS5zZWFyY2ggPyBpbnN0YW5jZS5zZWFyY2guc3Vic3RyaW5nKDEpIDogbnVsbCk7XG4gICAgICBxdWVyeV9vYmplY3QuX3VybF9vYmplY3QgPSBzZWxmO1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzZWxmLCB7XG4gICAgICAgIGhyZWY6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluc3RhbmNlLmhyZWY7IH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikgeyBpbnN0YW5jZS5ocmVmID0gdjsgdGlkeV9pbnN0YW5jZSgpOyB1cGRhdGVfc3RlcHMoKTsgfSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgb3JpZ2luOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoJ29yaWdpbicgaW4gaW5zdGFuY2UpIHJldHVybiBpbnN0YW5jZS5vcmlnaW47XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm90b2NvbCArICcvLycgKyB0aGlzLmhvc3Q7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgcHJvdG9jb2w6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluc3RhbmNlLnByb3RvY29sOyB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHsgaW5zdGFuY2UucHJvdG9jb2wgPSB2OyB9LFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICB1c2VybmFtZToge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5zdGFuY2UudXNlcm5hbWU7IH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikgeyBpbnN0YW5jZS51c2VybmFtZSA9IHY7IH0sXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbnN0YW5jZS5wYXNzd29yZDsgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7IGluc3RhbmNlLnBhc3N3b3JkID0gdjsgfSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgaG9zdDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gSUUgcmV0dXJucyBkZWZhdWx0IHBvcnQgaW4gfGhvc3R8XG4gICAgICAgICAgICB2YXIgcmUgPSB7J2h0dHA6JzogLzo4MCQvLCAnaHR0cHM6JzogLzo0NDMkLywgJ2Z0cDonOiAvOjIxJC99W2luc3RhbmNlLnByb3RvY29sXTtcbiAgICAgICAgICAgIHJldHVybiByZSA/IGluc3RhbmNlLmhvc3QucmVwbGFjZShyZSwgJycpIDogaW5zdGFuY2UuaG9zdDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHsgaW5zdGFuY2UuaG9zdCA9IHY7IH0sXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGhvc3RuYW1lOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbnN0YW5jZS5ob3N0bmFtZTsgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7IGluc3RhbmNlLmhvc3RuYW1lID0gdjsgfSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgcG9ydDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5zdGFuY2UucG9ydDsgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7IGluc3RhbmNlLnBvcnQgPSB2OyB9LFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBwYXRobmFtZToge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gSUUgZG9lcyBub3QgaW5jbHVkZSBsZWFkaW5nICcvJyBpbiB8cGF0aG5hbWV8XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UucGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHJldHVybiAnLycgKyBpbnN0YW5jZS5wYXRobmFtZTtcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZS5wYXRobmFtZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHsgaW5zdGFuY2UucGF0aG5hbWUgPSB2OyB9LFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBzZWFyY2g6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluc3RhbmNlLnNlYXJjaDsgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2Uuc2VhcmNoID09PSB2KSByZXR1cm47XG4gICAgICAgICAgICBpbnN0YW5jZS5zZWFyY2ggPSB2OyB0aWR5X2luc3RhbmNlKCk7IHVwZGF0ZV9zdGVwcygpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHNlYXJjaFBhcmFtczoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcXVlcnlfb2JqZWN0OyB9LFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBoYXNoOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbnN0YW5jZS5oYXNoOyB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHsgaW5zdGFuY2UuaGFzaCA9IHY7IHRpZHlfaW5zdGFuY2UoKTsgfSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgdG9TdHJpbmc6IHtcbiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7IHJldHVybiBpbnN0YW5jZS50b1N0cmluZygpOyB9LFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWVPZjoge1xuICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHsgcmV0dXJuIGluc3RhbmNlLnZhbHVlT2YoKTsgfSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiB0aWR5X2luc3RhbmNlKCkge1xuICAgICAgICB2YXIgaHJlZiA9IGluc3RhbmNlLmhyZWYucmVwbGFjZSgvIyR8XFw/JHxcXD8oPz0jKS9nLCAnJyk7XG4gICAgICAgIGlmIChpbnN0YW5jZS5ocmVmICE9PSBocmVmKVxuICAgICAgICAgIGluc3RhbmNlLmhyZWYgPSBocmVmO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVfc3RlcHMoKSB7XG4gICAgICAgIHF1ZXJ5X29iamVjdC5fc2V0TGlzdChpbnN0YW5jZS5zZWFyY2ggPyB1cmxlbmNvZGVkX3BhcnNlKGluc3RhbmNlLnNlYXJjaC5zdWJzdHJpbmcoMSkpIDogW10pO1xuICAgICAgICBxdWVyeV9vYmplY3QuX3VwZGF0ZV9zdGVwcygpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgaWYgKG9yaWdVUkwpIHtcbiAgICAgIGZvciAodmFyIGkgaW4gb3JpZ1VSTCkge1xuICAgICAgICBpZiAob3JpZ1VSTC5oYXNPd25Qcm9wZXJ0eShpKSAmJiB0eXBlb2Ygb3JpZ1VSTFtpXSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICBVUkxbaV0gPSBvcmlnVVJMW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdsb2JhbC5VUkwgPSBVUkw7XG4gICAgZ2xvYmFsLlVSTFNlYXJjaFBhcmFtcyA9IFVSTFNlYXJjaFBhcmFtcztcbiAgfSgpKTtcblxuICAvLyBQYXRjaCBuYXRpdmUgVVJMU2VhcmNoUGFyYW1zIGNvbnN0cnVjdG9yIHRvIGhhbmRsZSBzZXF1ZW5jZXMvcmVjb3Jkc1xuICAvLyBpZiBuZWNlc3NhcnkuXG4gIChmdW5jdGlvbigpIHtcbiAgICBpZiAobmV3IGdsb2JhbC5VUkxTZWFyY2hQYXJhbXMoW1snYScsIDFdXSkuZ2V0KCdhJykgPT09ICcxJyAmJlxuICAgICAgICBuZXcgZ2xvYmFsLlVSTFNlYXJjaFBhcmFtcyh7YTogMX0pLmdldCgnYScpID09PSAnMScpXG4gICAgICByZXR1cm47XG4gICAgdmFyIG9yaWcgPSBnbG9iYWwuVVJMU2VhcmNoUGFyYW1zO1xuICAgIGdsb2JhbC5VUkxTZWFyY2hQYXJhbXMgPSBmdW5jdGlvbihpbml0KSB7XG4gICAgICBpZiAoaW5pdCAmJiB0eXBlb2YgaW5pdCA9PT0gJ29iamVjdCcgJiYgaXNTZXF1ZW5jZShpbml0KSkge1xuICAgICAgICB2YXIgbyA9IG5ldyBvcmlnKCk7XG4gICAgICAgIHRvQXJyYXkoaW5pdCkuZm9yRWFjaChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgaWYgKCFpc1NlcXVlbmNlKGUpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICB2YXIgbnYgPSB0b0FycmF5KGUpO1xuICAgICAgICAgIGlmIChudi5sZW5ndGggIT09IDIpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICAgIG8uYXBwZW5kKG52WzBdLCBudlsxXSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbztcbiAgICAgIH0gZWxzZSBpZiAoaW5pdCAmJiB0eXBlb2YgaW5pdCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgbyA9IG5ldyBvcmlnKCk7XG4gICAgICAgIE9iamVjdC5rZXlzKGluaXQpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgby5zZXQoa2V5LCBpbml0W2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IG9yaWcoaW5pdCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSgpKTtcblxufShzZWxmKSk7XG4vLyBXb3JrLUluLVByb2dyZXNzICdwcm9sbHlmaWxsJyBmb3IgRmV0Y2ggQVBJXG4vLyBTdGFuZGFyZDogaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2ZldGNoLWFwaVxuLy9cbi8vIEFzIHVzdWFsLCB0aGUgaW50ZW50IGlzIHRvIHByb2R1Y2UgYSBmb3J3YXJkLWNvbXBhdGlibGVcbi8vIHN1YnNldCBzbyB0aGF0IGNvZGUgY2FuIGJlIHdyaXR0ZW4gdXNpbmcgZnV0dXJlIHN0YW5kYXJkXG4vLyBmdW5jdGlvbmFsaXR5OyBub3QgZXZlcnkgY2FzZSBpcyBjb25zaWRlcmVkIG9yIHN1cHBvcnRlZC5cblxuLy8gUmVxdWlyZXMgRVMyMDE1OiBQcm9taXNlLCBTeW1ib2wuaXRlcmF0b3IgKG9yIHBvbHlmaWxsKVxuLy8gUmVxdWlyZXM6IFVSTCAob3IgcG9seWZpbGwpXG5cbi8vIEV4YW1wbGU6XG4vLyAgIGZldGNoKCdSRUFETUUubWQnKVxuLy8gICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7IHJldHVybiByZXNwb25zZS50ZXh0KCk7IH0pXG4vLyAgICAgLnRoZW4oZnVuY3Rpb24odGV4dCkgeyBhbGVydCh0ZXh0KTsgfSk7XG5cbihmdW5jdGlvbihnbG9iYWwpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFdlYiBJREwgY29uY2VwdHNcblxuICAvLyBodHRwczovL2hleWNhbS5naXRodWIuaW8vd2ViaWRsLyNpZGwtQnl0ZVN0cmluZ1xuICBmdW5jdGlvbiBCeXRlU3RyaW5nKHZhbHVlKSB7XG4gICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpO1xuICAgIGlmICh2YWx1ZS5tYXRjaCgvW15cXHgwMC1cXHhGRl0vKSkgdGhyb3cgVHlwZUVycm9yKCdOb3QgYSB2YWxpZCBCeXRlU3RyaW5nJyk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLy8gaHR0cHM6Ly9oZXljYW0uZ2l0aHViLmlvL3dlYmlkbC8jaWRsLVVTVlN0cmluZ1xuICBmdW5jdGlvbiBVU1ZTdHJpbmcodmFsdWUpIHtcbiAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoXG4gICAgICAgIC8oW1xcdTAwMDAtXFx1RDdGRlxcdUUwMDAtXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXXxbXFx1RDgwMC1cXHVERkZGXSkvZyxcbiAgICAgIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIGlmICgvXltcXHVEODAwLVxcdURGRkZdJC8udGVzdChjKSkgcmV0dXJuICdcXHVGRkZEJztcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVzaG9ydCh4KSB7IHJldHVybiB4ICYgMHhGRkZGOyB9XG5cbiAgLy8gMiBUZXJtaW5vbG9neVxuXG4gIGZ1bmN0aW9uIGJ5dGVMb3dlckNhc2Uocykge1xuICAgIHJldHVybiBTdHJpbmcocykucmVwbGFjZSgvW0EtWl0vZywgZnVuY3Rpb24oYykgeyByZXR1cm4gYy50b0xvd2VyQ2FzZSgpOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ5dGVVcHBlckNhc2Uocykge1xuICAgIHJldHVybiBTdHJpbmcocykucmVwbGFjZSgvW2Etel0vZywgZnVuY3Rpb24oYykgeyByZXR1cm4gYy50b1VwcGVyQ2FzZSgpOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ5dGVDYXNlSW5zZW5zaXRpdmVNYXRjaChhLCBiKSB7XG4gICAgcmV0dXJuIGJ5dGVMb3dlckNhc2UoYSkgPT09IGJ5dGVMb3dlckNhc2UoYik7XG4gIH1cblxuICAvLyAyLjEgSFRUUFxuXG4gIC8vIDIuMS4xIE1ldGhvZHNcblxuICBmdW5jdGlvbiBpc0ZvcmJpZGRlbk1ldGhvZChtKSB7XG4gICAgbSA9IGJ5dGVVcHBlckNhc2UobSk7XG4gICAgcmV0dXJuIG0gPT09ICdDT05ORUNUJyB8fCBtID09PSAnVFJBQ0UnIHx8IG0gPT09ICdUUkFDSyc7XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobSkge1xuICAgIHZhciB1ID0gYnl0ZVVwcGVyQ2FzZShtKTtcbiAgICBpZiAodSA9PT0gJ0RFTEVURScgfHwgdSA9PT0gJ0dFVCcgfHwgdSA9PT0gJ0hFQUQnIHx8IHUgPT09ICdPUFRJT05TJyB8fFxuICAgICAgICB1ID09PSAnUE9TVCcgfHwgdSA9PT0gJ1BVVCcpIHJldHVybiB1O1xuICAgIHJldHVybiBtO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNOYW1lKHMpIHtcbiAgICByZXR1cm4gL15bISMkJSYnKitcXC0uMDlBLVpeX2BhLXp8fl0rJC8udGVzdChzKTtcbiAgfVxuICBmdW5jdGlvbiBpc1ZhbHVlKHMpIHtcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgbWVcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBpc0ZvcmJpZGRlbkhlYWRlck5hbWUobikge1xuICAgIG4gPSBTdHJpbmcobikudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgZm9yYmlkZGVuID0ge1xuICAgICAgJ2FjY2VwdC1jaGFyc2V0JzogdHJ1ZSxcbiAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiB0cnVlLFxuICAgICAgJ2FjY2Vzcy1jb250cm9sLXJlcXVlc3QtaGVhZGVycyc6IHRydWUsXG4gICAgICAnYWNjZXNzLWNvbnRyb2wtcmVxdWVzdC1tZXRob2QnOiB0cnVlLFxuICAgICAgJ2Nvbm5lY3Rpb24nOiB0cnVlLFxuICAgICAgJ2NvbnRlbnQtbGVuZ3RoJzogdHJ1ZSxcbiAgICAgICdjb29raWUnOiB0cnVlLFxuICAgICAgJ2Nvb2tpZTInOiB0cnVlLFxuICAgICAgJ2RhdGUnOiB0cnVlLFxuICAgICAgJ2RudCc6IHRydWUsXG4gICAgICAnZXhwZWN0JzogdHJ1ZSxcbiAgICAgICdob3N0JzogdHJ1ZSxcbiAgICAgICdrZWVwLWFsaXZlJzogdHJ1ZSxcbiAgICAgICdvcmlnaW4nOiB0cnVlLFxuICAgICAgJ3JlZmVyZXInOiB0cnVlLFxuICAgICAgJ3RlJzogdHJ1ZSxcbiAgICAgICd0cmFpbGVyJzogdHJ1ZSxcbiAgICAgICd0cmFuc2Zlci1lbmNvZGluZyc6IHRydWUsXG4gICAgICAndXBncmFkZSc6IHRydWUsXG4gICAgICAndXNlci1hZ2VudCc6IHRydWUsXG4gICAgICAndmlhJzogdHJ1ZVxuICAgIH07XG4gICAgcmV0dXJuIGZvcmJpZGRlbltuXSB8fCBuLnN1YnN0cmluZygwLCA2KSA9PT0gJ3Byb3h5LScgfHwgbi5zdWJzdHJpbmcoMCwgNCkgPT09ICdzZWMtJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRm9yYmlkZGVuUmVzcG9uc2VIZWFkZXJOYW1lKG4pIHtcbiAgICBuID0gU3RyaW5nKG4pLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIGZvcmJpZGRlbiA9IHtcbiAgICAgICdzZXQtY29va2llJzogdHJ1ZSxcbiAgICAgICdzZXQtY29va2llMic6IHRydWVcbiAgICB9O1xuICAgIHJldHVybiBmb3JiaWRkZW5bbl07XG4gIH1cblxuICBmdW5jdGlvbiBpc1NpbXBsZUhlYWRlcihuYW1lLCB2YWx1ZSkge1xuICAgIG5hbWUgPSBTdHJpbmcobmFtZSkudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gbmFtZSA9PT0gJ2FjY2VwdCcgfHwgbmFtZSA9PT0gJ2FjY2VwdC1sYW5ndWFnZScgfHwgbmFtZSA9PT0gJ2NvbnRlbnQtbGFuZ3VhZ2UnIHx8XG4gICAgICAobmFtZSA9PT0gJ2NvbnRlbnQtdHlwZScgJiZcbiAgICAgICBbJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tZW5jb2RlZCcsICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgJ3RleHQvcGxhaW4nXS5pbmRleE9mKHZhbHVlKSAhPT0gLTEpO1xuICB9XG5cbiAgLy9cbiAgLy8gNS4xIEhlYWRlcnMgY2xhc3NcbiAgLy9cblxuICAvLyB0eXBlZGVmIChIZWFkZXJzIG9yIHNlcXVlbmNlPHNlcXVlbmNlPEJ5dGVTdHJpbmc+PiBvciBPcGVuRW5kZWREaWN0aW9uYXJ5PEJ5dGVTdHJpbmc+KSBIZWFkZXJzSW5pdDtcblxuICAvLyBDb25zdHJ1Y3RvcihvcHRpb25hbCBIZWFkZXJzSW5pdCBpbml0KVxuICBmdW5jdGlvbiBIZWFkZXJzKGluaXQpIHtcbiAgICB0aGlzLl9ndWFyZCA9ICdub25lJztcbiAgICB0aGlzLl9oZWFkZXJMaXN0ID0gW107XG4gICAgaWYgKGluaXQpIGZpbGwodGhpcywgaW5pdCk7XG4gIH1cblxuICBmdW5jdGlvbiBmaWxsKGhlYWRlcnMsIGluaXQpIHtcbiAgICBpZiAoaW5pdCBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICAgIGluaXQuX2hlYWRlckxpc3QuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgICAgaGVhZGVycy5hcHBlbmQoaGVhZGVyWzBdLCBoZWFkZXJbMV0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGluaXQpKSB7XG4gICAgICBpbml0LmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShoZWFkZXIpIHx8IGhlYWRlci5sZW5ndGggIT09IDIpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICBoZWFkZXJzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdCA9IE9iamVjdChpbml0KTtcbiAgICAgIE9iamVjdC5rZXlzKGluaXQpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgaW5pdFtrZXldKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIGludGVyZmFjZSBIZWFkZXJzXG4gIEhlYWRlcnMucHJvdG90eXBlID0ge1xuICAgIC8vIHZvaWQgYXBwZW5kKEJ5dGVTdHJpbmcgbmFtZSwgQnl0ZVN0cmluZyB2YWx1ZSk7XG4gICAgYXBwZW5kOiBmdW5jdGlvbiBhcHBlbmQobmFtZSwgdmFsdWUpIHtcbiAgICAgIG5hbWUgPSBCeXRlU3RyaW5nKG5hbWUpO1xuICAgICAgaWYgKCFpc05hbWUobmFtZSkgfHwgIWlzVmFsdWUodmFsdWUpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgIGlmICh0aGlzLl9ndWFyZCA9PT0gJ2ltbXV0YWJsZScpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgZWxzZSBpZiAodGhpcy5fZ3VhcmQgPT09ICdyZXF1ZXN0JyAmJiBpc0ZvcmJpZGRlbkhlYWRlck5hbWUobmFtZSkpIHJldHVybjtcbiAgICAgIGVsc2UgaWYgKHRoaXMuX2d1YXJkID09PSAncmVxdWVzdC1uby1DT1JTJyAmJiAhaXNTaW1wbGVIZWFkZXIobmFtZSwgdmFsdWUpKSByZXR1cm47XG4gICAgICBlbHNlIGlmICh0aGlzLl9ndWFyZCA9PT0gJ3Jlc3BvbnNlJyAmJiBpc0ZvcmJpZGRlblJlc3BvbnNlSGVhZGVyTmFtZShuYW1lKSkgcmV0dXJuO1xuXG4gICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgdGhpcy5faGVhZGVyTGlzdC5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xuICAgIH0sXG5cbiAgICAvLyB2b2lkIGRlbGV0ZShCeXRlU3RyaW5nIG5hbWUpO1xuICAgICdkZWxldGUnOiBmdW5jdGlvbiBkZWxldGVfKG5hbWUpIHtcbiAgICAgIG5hbWUgPSBCeXRlU3RyaW5nKG5hbWUpO1xuICAgICAgaWYgKCFpc05hbWUobmFtZSkpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgaWYgKHRoaXMuX2d1YXJkID09PSAnaW1tdXRhYmxlJykgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICBlbHNlIGlmICh0aGlzLl9ndWFyZCA9PT0gJ3JlcXVlc3QnICYmIGlzRm9yYmlkZGVuSGVhZGVyTmFtZShuYW1lKSkgcmV0dXJuO1xuICAgICAgZWxzZSBpZiAodGhpcy5fZ3VhcmQgPT09ICdyZXF1ZXN0LW5vLUNPUlMnICYmICFpc1NpbXBsZUhlYWRlcihuYW1lLCAnaW52YWxpZCcpKSByZXR1cm47XG4gICAgICBlbHNlIGlmICh0aGlzLl9ndWFyZCA9PT0gJ3Jlc3BvbnNlJyAmJiBpc0ZvcmJpZGRlblJlc3BvbnNlSGVhZGVyTmFtZShuYW1lKSkgcmV0dXJuO1xuXG4gICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgIHdoaWxlIChpbmRleCA8IHRoaXMuX2hlYWRlckxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oZWFkZXJMaXN0W2luZGV4XVswXSA9PT0gbmFtZSlcbiAgICAgICAgICB0aGlzLl9oZWFkZXJMaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICArK2luZGV4O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBCeXRlU3RyaW5nPyBnZXQoQnl0ZVN0cmluZyBuYW1lKTtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldChuYW1lKSB7XG4gICAgICBuYW1lID0gQnl0ZVN0cmluZyhuYW1lKTtcbiAgICAgIGlmICghaXNOYW1lKG5hbWUpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5faGVhZGVyTGlzdC5sZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hlYWRlckxpc3RbaW5kZXhdWzBdID09PSBuYW1lKVxuICAgICAgICAgIHJldHVybiB0aGlzLl9oZWFkZXJMaXN0W2luZGV4XVsxXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvLyBzZXF1ZW5jZTxCeXRlU3RyaW5nPiBnZXRBbGwoQnl0ZVN0cmluZyBuYW1lKTtcbiAgICBnZXRBbGw6IGZ1bmN0aW9uIGdldEFsbChuYW1lKSB7XG4gICAgICBuYW1lID0gQnl0ZVN0cmluZyhuYW1lKTtcbiAgICAgIGlmICghaXNOYW1lKG5hbWUpKSB0aHJvdyBUeXBlRXJyb3IoKTtcbiAgICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICB2YXIgc2VxdWVuY2UgPSBbXTtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLl9oZWFkZXJMaXN0Lmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICBpZiAodGhpcy5faGVhZGVyTGlzdFtpbmRleF1bMF0gPT09IG5hbWUpXG4gICAgICAgICAgc2VxdWVuY2UucHVzaCh0aGlzLl9oZWFkZXJMaXN0W2luZGV4XVsxXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VxdWVuY2U7XG4gICAgfSxcblxuICAgIC8vIGJvb2xlYW4gaGFzKEJ5dGVTdHJpbmcgbmFtZSk7XG4gICAgaGFzOiBmdW5jdGlvbiBoYXMobmFtZSkge1xuICAgICAgbmFtZSA9IEJ5dGVTdHJpbmcobmFtZSk7XG4gICAgICBpZiAoIWlzTmFtZShuYW1lKSkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuX2hlYWRlckxpc3QubGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgIGlmICh0aGlzLl9oZWFkZXJMaXN0W2luZGV4XVswXSA9PT0gbmFtZSlcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8gdm9pZCBzZXQoQnl0ZVN0cmluZyBuYW1lLCBCeXRlU3RyaW5nIHZhbHVlKTtcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuYW1lLCB2YWx1ZSkge1xuICAgICAgbmFtZSA9IEJ5dGVTdHJpbmcobmFtZSk7XG4gICAgICBpZiAoIWlzTmFtZShuYW1lKSB8fCAhaXNWYWx1ZSh2YWx1ZSkpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgaWYgKHRoaXMuX2d1YXJkID09PSAnaW1tdXRhYmxlJykgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICBlbHNlIGlmICh0aGlzLl9ndWFyZCA9PT0gJ3JlcXVlc3QnICYmIGlzRm9yYmlkZGVuSGVhZGVyTmFtZShuYW1lKSkgcmV0dXJuO1xuICAgICAgZWxzZSBpZiAodGhpcy5fZ3VhcmQgPT09ICdyZXF1ZXN0LW5vLUNPUlMnICYmICFpc1NpbXBsZUhlYWRlcihuYW1lLCB2YWx1ZSkpIHJldHVybjtcbiAgICAgIGVsc2UgaWYgKHRoaXMuX2d1YXJkID09PSAncmVzcG9uc2UnICYmIGlzRm9yYmlkZGVuUmVzcG9uc2VIZWFkZXJOYW1lKG5hbWUpKSByZXR1cm47XG5cbiAgICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5faGVhZGVyTGlzdC5sZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hlYWRlckxpc3RbaW5kZXhdWzBdID09PSBuYW1lKSB7XG4gICAgICAgICAgdGhpcy5faGVhZGVyTGlzdFtpbmRleCsrXVsxXSA9IHZhbHVlO1xuICAgICAgICAgIHdoaWxlIChpbmRleCA8IHRoaXMuX2hlYWRlckxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faGVhZGVyTGlzdFtpbmRleF1bMF0gPT09IG5hbWUpXG4gICAgICAgICAgICAgIHRoaXMuX2hlYWRlckxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9oZWFkZXJMaXN0LnB1c2goW25hbWUsIHZhbHVlXSk7XG4gICAgfVxuICB9O1xuICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBIZWFkZXJzSXRlcmF0b3IodGhpcyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gSGVhZGVyc0l0ZXJhdG9yKGhlYWRlcnMpIHtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgICB0aGlzLl9pbmRleCA9IDA7XG4gIH1cbiAgSGVhZGVyc0l0ZXJhdG9yLnByb3RvdHlwZSA9IHt9O1xuICBIZWFkZXJzSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5faW5kZXggPj0gdGhpcy5faGVhZGVycy5faGVhZGVyTGlzdC5sZW5ndGgpXG4gICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgcmV0dXJuIHsgdmFsdWU6IHRoaXMuX2hlYWRlcnMuX2hlYWRlckxpc3RbdGhpcy5faW5kZXgrK10sIGRvbmU6IGZhbHNlIH07XG4gIH07XG4gIEhlYWRlcnNJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfTtcblxuXG4gIC8vXG4gIC8vIDUuMiBCb2R5IG1peGluXG4gIC8vXG5cbiAgZnVuY3Rpb24gQm9keShfc3RyZWFtKSB7XG4gICAgLy8gVE9ETzogSGFuZGxlIGluaXRpYWxpemF0aW9uIGZyb20gb3RoZXIgdHlwZXNcbiAgICB0aGlzLl9zdHJlYW0gPSBfc3RyZWFtO1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIGludGVyZmFjZSBGZXRjaEJvZHlTdHJlYW1cbiAgQm9keS5wcm90b3R5cGUgPSB7XG4gICAgLy8gUHJvbWlzZTxBcnJheUJ1ZmZlcj4gYXJyYXlCdWZmZXIoKTtcbiAgICBhcnJheUJ1ZmZlcjogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5ib2R5VXNlZCkgcmV0dXJuIFByb21pc2UucmVqZWN0KFR5cGVFcnJvcigpKTtcbiAgICAgIHRoaXMuYm9keVVzZWQgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMuX3N0cmVhbSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0cmVhbSk7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLl9zdHJlYW07XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciBvY3RldHMgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKS5zcGxpdCgnJykubWFwKGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICByZXR1cm4gYy5jaGFyQ29kZUF0KDApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzb2x2ZShuZXcgVWludDhBcnJheShvY3RldHMpLmJ1ZmZlcik7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIC8vIFByb21pc2U8QmxvYj4gYmxvYigpO1xuICAgIGJsb2I6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuYm9keVVzZWQpIHJldHVybiBQcm9taXNlLnJlamVjdChUeXBlRXJyb3IoKSk7XG4gICAgICB0aGlzLmJvZHlVc2VkID0gdHJ1ZTtcbiAgICAgIGlmICh0aGlzLl9zdHJlYW0gaW5zdGFuY2VvZiBCbG9iKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0cmVhbSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9zdHJlYW1dKSk7XG4gICAgfSxcbiAgICAvLyBQcm9taXNlPEZvcm1EYXRhPiBmb3JtRGF0YSgpO1xuICAgIGZvcm1EYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmJvZHlVc2VkKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoVHlwZUVycm9yKCkpO1xuICAgICAgdGhpcy5ib2R5VXNlZCA9IHRydWU7XG4gICAgICBpZiAodGhpcy5fc3RyZWFtIGluc3RhbmNlb2YgRm9ybURhdGEpIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RyZWFtKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcignTm90IHlldCBpbXBsZW1lbnRlZCcpKTtcbiAgICB9LFxuICAgIC8vIFByb21pc2U8SlNPTj4ganNvbigpO1xuICAgIGpzb246IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuYm9keVVzZWQpIHJldHVybiBQcm9taXNlLnJlamVjdChUeXBlRXJyb3IoKSk7XG4gICAgICB0aGlzLmJvZHlVc2VkID0gdHJ1ZTtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKHRoYXQuX3N0cmVhbSkpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICAvLyBQcm9taXNlPFVTVlN0cmluZz4gdGV4dCgpO1xuICAgIHRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuYm9keVVzZWQpIHJldHVybiBQcm9taXNlLnJlamVjdChUeXBlRXJyb3IoKSk7XG4gICAgICB0aGlzLmJvZHlVc2VkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoU3RyaW5nKHRoaXMuX3N0cmVhbSkpO1xuICAgIH1cbiAgfTtcblxuICAvL1xuICAvLyA1LjMgUmVxdWVzdCBjbGFzc1xuICAvL1xuXG4gIC8vIHR5cGVkZWYgKFJlcXVlc3Qgb3IgVVNWU3RyaW5nKSBSZXF1ZXN0SW5mbztcblxuICAvLyBDb25zdHJ1Y3RvcihSZXF1ZXN0SW5mbyBpbnB1dCwgb3B0aW9uYWwgUmVxdWVzdEluaXQgaW5pdClcbiAgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgaW5pdCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMSkgdGhyb3cgVHlwZUVycm9yKCdOb3QgZW5vdWdoIGFyZ3VtZW50cycpO1xuXG4gICAgQm9keS5jYWxsKHRoaXMsIG51bGwpO1xuXG4gICAgLy8gcmVhZG9ubHkgYXR0cmlidXRlIEJ5dGVTdHJpbmcgbWV0aG9kO1xuICAgIHRoaXMubWV0aG9kID0gJ0dFVCc7XG5cbiAgICAvLyByZWFkb25seSBhdHRyaWJ1dGUgVVNWU3RyaW5nIHVybDtcbiAgICB0aGlzLnVybCA9ICcnO1xuXG4gICAgLy8gcmVhZG9ubHkgYXR0cmlidXRlIEhlYWRlcnMgaGVhZGVycztcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgIHRoaXMuaGVhZGVycy5fZ3VhcmQgPSAncmVxdWVzdCc7XG5cbiAgICAvLyByZWFkb25seSBhdHRyaWJ1dGUgRE9NU3RyaW5nIHJlZmVycmVyO1xuICAgIHRoaXMucmVmZXJyZXIgPSBudWxsOyAvLyBUT0RPOiBJbXBsZW1lbnQuXG5cbiAgICAvLyByZWFkb25seSBhdHRyaWJ1dGUgUmVxdWVzdE1vZGUgbW9kZTtcbiAgICB0aGlzLm1vZGUgPSBudWxsOyAvLyBUT0RPOiBJbXBsZW1lbnQuXG5cbiAgICAvLyByZWFkb25seSBhdHRyaWJ1dGUgUmVxdWVzdENyZWRlbnRpYWxzIGNyZWRlbnRpYWxzO1xuICAgIHRoaXMuY3JlZGVudGlhbHMgPSAnb21pdCc7XG5cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlO1xuICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2Q7XG4gICAgICB0aGlzLnVybCA9IGlucHV0LnVybDtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpO1xuICAgICAgdGhpcy5oZWFkZXJzLl9ndWFyZCA9IGlucHV0LmhlYWRlcnMuX2d1YXJkO1xuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzO1xuICAgICAgdGhpcy5fc3RyZWFtID0gaW5wdXQuX3N0cmVhbTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXQgPSBVU1ZTdHJpbmcoaW5wdXQpO1xuICAgICAgdGhpcy51cmwgPSBTdHJpbmcobmV3IFVSTChpbnB1dCwgc2VsZi5sb2NhdGlvbikpO1xuICAgIH1cblxuICAgIGluaXQgPSBPYmplY3QoaW5pdCk7XG5cbiAgICBpZiAoJ21ldGhvZCcgaW4gaW5pdCkge1xuICAgICAgdmFyIG1ldGhvZCA9IEJ5dGVTdHJpbmcoaW5pdC5tZXRob2QpO1xuICAgICAgaWYgKGlzRm9yYmlkZGVuTWV0aG9kKG1ldGhvZCkpIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2QobWV0aG9kKTtcbiAgICB9XG5cbiAgICBpZiAoJ2hlYWRlcnMnIGluIGluaXQpIHtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgICBmaWxsKHRoaXMuaGVhZGVycywgaW5pdC5oZWFkZXJzKTtcbiAgICB9XG5cbiAgICBpZiAoJ2JvZHknIGluIGluaXQpXG4gICAgICB0aGlzLl9zdHJlYW0gPSBpbml0LmJvZHk7XG5cbiAgICBpZiAoJ2NyZWRlbnRpYWxzJyBpbiBpbml0ICYmXG4gICAgICAgIChbJ29taXQnLCAnc2FtZS1vcmlnaW4nLCAnaW5jbHVkZSddLmluZGV4T2YoaW5pdC5jcmVkZW50aWFscykgIT09IC0xKSlcbiAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbml0LmNyZWRlbnRpYWxzO1xuICB9XG5cbiAgLy8gaW50ZXJmYWNlIFJlcXVlc3RcbiAgUmVxdWVzdC5wcm90b3R5cGUgPSBCb2R5LnByb3RvdHlwZTtcblxuICAvL1xuICAvLyA1LjQgUmVzcG9uc2UgY2xhc3NcbiAgLy9cblxuICAvLyBDb25zdHJ1Y3RvcihvcHRpb25hbCBGZXRjaEJvZHlJbml0IGJvZHksIG9wdGlvbmFsIFJlc3BvbnNlSW5pdCBpbml0KVxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5LCBpbml0KSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKVxuICAgICAgYm9keSA9ICcnO1xuXG4gICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICB0aGlzLmhlYWRlcnMuX2d1YXJkID0gJ3Jlc3BvbnNlJztcblxuICAgIC8vIEludGVybmFsXG4gICAgaWYgKGJvZHkgaW5zdGFuY2VvZiBYTUxIdHRwUmVxdWVzdCAmJiAnX3VybCcgaW4gYm9keSkge1xuICAgICAgdmFyIHhociA9IGJvZHk7XG4gICAgICB0aGlzLnR5cGUgPSAnYmFzaWMnOyAvLyBUT0RPOiBSZXNwb25zZVR5cGVcbiAgICAgIHRoaXMudXJsID0gVVNWU3RyaW5nKHhoci5fdXJsKTtcbiAgICAgIHRoaXMuc3RhdHVzID0geGhyLnN0YXR1cztcbiAgICAgIHRoaXMub2sgPSAyMDAgPD0gdGhpcy5zdGF0dXMgJiYgdGhpcy5zdGF0dXMgPD0gMjk5O1xuICAgICAgdGhpcy5zdGF0dXNUZXh0ID0geGhyLnN0YXR1c1RleHQ7XG4gICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgLnNwbGl0KC9cXHI/XFxuLylcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbihoZWFkZXIpIHsgcmV0dXJuIGhlYWRlci5sZW5ndGg7IH0pXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICAgIHZhciBpID0gaGVhZGVyLmluZGV4T2YoJzonKTtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuYXBwZW5kKGhlYWRlci5zdWJzdHJpbmcoMCwgaSksIGhlYWRlci5zdWJzdHJpbmcoaSArIDIpKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICBCb2R5LmNhbGwodGhpcywgeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQm9keS5jYWxsKHRoaXMsIGJvZHkpO1xuXG4gICAgaW5pdCA9IE9iamVjdChpbml0KSB8fCB7fTtcblxuICAgIC8vIHJlYWRvbmx5IGF0dHJpYnV0ZSBVU1ZTdHJpbmcgdXJsO1xuICAgIHRoaXMudXJsID0gJyc7XG5cbiAgICAvLyByZWFkb25seSBhdHRyaWJ1dGUgdW5zaWduZWQgc2hvcnQgc3RhdHVzO1xuICAgIHZhciBzdGF0dXMgPSAnc3RhdHVzJyBpbiBpbml0ID8gdXNob3J0KGluaXQuc3RhdHVzKSA6IDIwMDtcbiAgICBpZiAoc3RhdHVzIDwgMjAwIHx8IHN0YXR1cyA+IDU5OSkgdGhyb3cgUmFuZ2VFcnJvcigpO1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuXG4gICAgLy8gcmVhZG9ubHkgYXR0cmlidXRlIGJvb2xlYW4gb2s7XG4gICAgdGhpcy5vayA9IDIwMCA8PSB0aGlzLnN0YXR1cyAmJiB0aGlzLnN0YXR1cyA8PSAyOTk7XG5cbiAgICAvLyByZWFkb25seSBhdHRyaWJ1dGUgQnl0ZVN0cmluZyBzdGF0dXNUZXh0O1xuICAgIHZhciBzdGF0dXNUZXh0ID0gJ3N0YXR1c1RleHQnIGluIGluaXQgPyBTdHJpbmcoaW5pdC5zdGF0dXNUZXh0KSA6ICdPSyc7XG4gICAgaWYgKC9bXlxceDAwLVxceEZGXS8udGVzdChzdGF0dXNUZXh0KSkgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gc3RhdHVzVGV4dDtcblxuICAgIC8vIHJlYWRvbmx5IGF0dHJpYnV0ZSBIZWFkZXJzIGhlYWRlcnM7XG4gICAgaWYgKCdoZWFkZXJzJyBpbiBpbml0KSBmaWxsKHRoaXMuaGVhZGVycywgaW5pdCk7XG5cbiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgdGhlc2VcbiAgICAvLyByZWFkb25seSBhdHRyaWJ1dGUgUmVzcG9uc2VUeXBlIHR5cGU7XG4gICAgdGhpcy50eXBlID0gJ2Jhc2ljJzsgLy8gVE9ETzogUmVzcG9uc2VUeXBlXG4gIH1cblxuICAvLyBpbnRlcmZhY2UgUmVzcG9uc2VcbiAgUmVzcG9uc2UucHJvdG90eXBlID0gQm9keS5wcm90b3R5cGU7XG5cbiAgUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnQ/XG4gICAgdGhyb3cgRXJyb3IoJ05vdCBzdXBwb3J0ZWQnKTtcbiAgfTtcblxuICAvL1xuICAvLyA1LjUgU3RydWN0dXJlZCBjbG9uaW5nIG9mIEhlYWRlcnMsIEZldGNoQm9keVN0cmVhbSwgUmVxdWVzdCwgUmVzcG9uc2VcbiAgLy9cblxuICAvL1xuICAvLyA1LjYgRmV0Y2ggbWV0aG9kXG4gIC8vXG5cbiAgLy8gUHJvbWlzZTxSZXNwb25zZT4gZmV0Y2goUmVxdWVzdEluZm8gaW5wdXQsIG9wdGlvbmFsIFJlcXVlc3RJbml0IGluaXQpO1xuICBmdW5jdGlvbiBmZXRjaChpbnB1dCwgaW5pdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpO1xuXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksIGFzeW5jID0gdHJ1ZTtcbiAgICAgIHhoci5fdXJsID0gci51cmw7XG5cbiAgICAgIHRyeSB7IHhoci5vcGVuKHIubWV0aG9kLCByLnVybCwgYXN5bmMpOyB9IGNhdGNoIChlKSB7IHRocm93IFR5cGVFcnJvcihlLm1lc3NhZ2UpOyB9XG5cbiAgICAgIGZvciAodmFyIGl0ZXIgPSByLmhlYWRlcnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBzdGVwID0gaXRlci5uZXh0KCk7XG4gICAgICAgICAgICFzdGVwLmRvbmU7IHN0ZXAgPSBpdGVyLm5leHQoKSlcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoc3RlcC52YWx1ZVswXSwgc3RlcC52YWx1ZVsxXSk7XG5cbiAgICAgIGlmIChyLmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpXG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuXG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSAhPT0gWE1MSHR0cFJlcXVlc3QuRE9ORSkgcmV0dXJuO1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMClcbiAgICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayBlcnJvcicpKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKHhocikpO1xuICAgICAgfTtcblxuICAgICAgeGhyLnNlbmQoci5fc3RyZWFtKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEV4cG9ydGVkXG4gIGlmICghKCdmZXRjaCcgaW4gZ2xvYmFsKSkge1xuICAgIGdsb2JhbC5IZWFkZXJzID0gSGVhZGVycztcbiAgICBnbG9iYWwuUmVxdWVzdCA9IFJlcXVlc3Q7XG4gICAgZ2xvYmFsLlJlc3BvbnNlID0gUmVzcG9uc2U7XG4gICAgZ2xvYmFsLmZldGNoID0gZmV0Y2g7XG4gIH1cblxufShzZWxmKSk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwidmFyIG5leHRUaWNrID0gcmVxdWlyZSgncHJvY2Vzcy9icm93c2VyLmpzJykubmV4dFRpY2s7XG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgaW1tZWRpYXRlSWRzID0ge307XG52YXIgbmV4dEltbWVkaWF0ZUlkID0gMDtcblxuLy8gRE9NIEFQSXMsIGZvciBjb21wbGV0ZW5lc3NcblxuZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbn07XG5leHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xufTtcbmV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cbmV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsgdGltZW91dC5jbG9zZSgpOyB9O1xuXG5mdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG4gIHRoaXMuX2lkID0gaWQ7XG4gIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xufVxuVGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuVGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdywgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIFRoYXQncyBub3QgaG93IG5vZGUuanMgaW1wbGVtZW50cyBpdCBidXQgdGhlIGV4cG9zZWQgYXBpIGlzIHRoZSBzYW1lLlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBzZXRJbW1lZGlhdGUgOiBmdW5jdGlvbihmbikge1xuICB2YXIgaWQgPSBuZXh0SW1tZWRpYXRlSWQrKztcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGZhbHNlIDogc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG4gIGltbWVkaWF0ZUlkc1tpZF0gPSB0cnVlO1xuXG4gIG5leHRUaWNrKGZ1bmN0aW9uIG9uTmV4dFRpY2soKSB7XG4gICAgaWYgKGltbWVkaWF0ZUlkc1tpZF0pIHtcbiAgICAgIC8vIGZuLmNhbGwoKSBpcyBmYXN0ZXIgc28gd2Ugb3B0aW1pemUgZm9yIHRoZSBjb21tb24gdXNlLWNhc2VcbiAgICAgIC8vIEBzZWUgaHR0cDovL2pzcGVyZi5jb20vY2FsbC1hcHBseS1zZWd1XG4gICAgICBpZiAoYXJncykge1xuICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZuLmNhbGwobnVsbCk7XG4gICAgICB9XG4gICAgICAvLyBQcmV2ZW50IGlkcyBmcm9tIGxlYWtpbmdcbiAgICAgIGV4cG9ydHMuY2xlYXJJbW1lZGlhdGUoaWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGlkO1xufTtcblxuZXhwb3J0cy5jbGVhckltbWVkaWF0ZSA9IHR5cGVvZiBjbGVhckltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiID8gY2xlYXJJbW1lZGlhdGUgOiBmdW5jdGlvbihpZCkge1xuICBkZWxldGUgaW1tZWRpYXRlSWRzW2lkXTtcbn07IiwiaW1wb3J0IEFycmF5VXRpbCBmcm9tICcuL2ZyYW1ld29yay9VdGlsaXRpZXMvQXJyYXlVdGlsJztcclxuaW1wb3J0IHsgQ3VzdG9tSW5wdXRFbGVtZW50IH0gZnJvbSAnLi9mcmFtZXdvcmsvQ3VzdG9tSW5wdXRFbGVtZW50JztcclxuaW1wb3J0IE1ha2VSZXF1ZXN0IGZyb20gJy4vZnJhbWV3b3JrL1V0aWxpdGllcy9NYWtlUmVxdWVzdCc7XHJcbmltcG9ydCB7IEZpbGVGaWVsZEVsZW1lbnQgfSBmcm9tICcuL2VsZW1lbnRzL0ZpbGVGaWVsZC9GaWxlRmllbGRFbGVtZW50JztcclxuXHJcbmV4cG9ydCBjbGFzcyBDdXN0b21Gb3JtIHtcclxuICAgIGFjdGlvbjogc3RyaW5nO1xyXG4gICAgbWV0aG9kOiBzdHJpbmc7XHJcbiAgICBfbmF0aXZlSW5wdXRzOiBIVE1MSW5wdXRFbGVtZW50W107XHJcblxyXG4gICAgcHVibGljIG9uc3VibWl0OiAoKHRoaXM6IEN1c3RvbUZvcm0sIHByb21pc2U6IFByb21pc2U8YW55PikgPT4gYW55KSB8IG51bGw7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBmb3JtOiBIVE1MRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmFjdGlvbiA9IGZvcm0uYWN0aW9uIHx8ICcnO1xyXG4gICAgICAgIHRoaXMubWV0aG9kID0gZm9ybS5tZXRob2QgfHwgJ2dldCc7XHJcbiAgICAgICAgdGhpcy5hdHRhY2hGb3JtKCk7XHJcbiAgICAgICAgdGhpcy5iaW5Hcm91cHNUb0RlcGVuZGVuY3koKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW5wdXRzKCk6IEN1c3RvbUlucHV0RWxlbWVudFtdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXlVdGlsLkZyb21Ob2RlTGlzdCh0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmdyb3VwLWNvbnRhaW5lcjpub3QoW2hpZGRlbl0pIFtjdXN0b20taW5wdXRdOm5vdChbaGlkZGVuXSknKSk7XHJcbiAgICB9XHJcbiAgICBnZXQgbmF0aXZlSW5wdXRzKCk6IEhUTUxJbnB1dEVsZW1lbnRbXSB7XHJcbiAgICAgICAgdGhpcy5fbmF0aXZlSW5wdXRzID1cclxuICAgICAgICAgICAgdGhpcy5fbmF0aXZlSW5wdXRzIHx8XHJcbiAgICAgICAgICAgIEFycmF5VXRpbC5Gcm9tTm9kZUxpc3QodGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVJbnB1dHM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGhhc0ZpbGVzKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0cy5zb21lKGlucHV0ID0+IGlucHV0IGluc3RhbmNlb2YgRmlsZUZpZWxkRWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoRm9ybSgpIHtcclxuICAgICAgICB0aGlzLmZvcm0ub25zdWJtaXQgPSBldmVudCA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGxldCB2YWxpZCA9IHRoaXMudmFsaWRhdGUoKTtcclxuICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbnN1Ym1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25zdWJtaXQodGhpcy5zdWJtaXQoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHRoaXMuaW5wdXRzLmZvckVhY2goaW5wdXQgPT4gKDxDdXN0b21JbnB1dEVsZW1lbnQ+aW5wdXQpLnZhbGlkYXRlKCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0cy5ldmVyeShpbnB1dCA9PiAoPEN1c3RvbUlucHV0RWxlbWVudD5pbnB1dCkudmFsaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN1Ym1pdCgpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGxldCBmb3JtRGF0YSA9IHt9O1xyXG4gICAgICAgIGNvbnN0IGhlYWRlcnM6IGFueSA9IHt9O1xyXG4gICAgICAgIHRoaXMuaW5wdXRzLm1hcChpID0+IChmb3JtRGF0YVtpLm5hbWVdID0gaS52YWx1ZSkpO1xyXG4gICAgICAgIGZvcm1EYXRhID0gdGhpcy5leHRyYWN0RGF0YSgpO1xyXG4gICAgICAgIHJldHVybiBuZXcgTWFrZVJlcXVlc3QodGhpcy5hY3Rpb24sIHRoaXMubWV0aG9kLCBoZWFkZXJzKS5zZW5kKFxyXG4gICAgICAgICAgICBmb3JtRGF0YSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBleHRyYWN0RGF0YSgpOiBGb3JtRGF0YSB7XHJcbiAgICAgICAgY29uc3QgZm9ybURhdGE6IEZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBpbnB1dCBvZiB0aGlzLmlucHV0cykge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBGaWxlRmllbGRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaW5wdXQudmFsdWUubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGlucHV0LnZhbHVlW2luZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoaW5wdXQubmFtZSwgZmlsZSwgZmlsZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChgVmFsdWVzWyR7aW5wdXQubmFtZX1dYCwgaW5wdXQudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3QgaW5wdXQgb2YgdGhpcy5uYXRpdmVJbnB1dHMpIHtcclxuICAgICAgICAgICAgaWYgKGlucHV0Lm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChpbnB1dC5uYW1lLCBpbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZvcm1EYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYmluR3JvdXBzVG9EZXBlbmRlbmN5KCkge1xyXG4gICAgICAgIGxldCBncm91cENvbnRhaW5lcnMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnZGl2Lmdyb3VwLWNvbnRhaW5lcjpub3QoW2RhdGEtZGVwZW5kcy1vbj1cIlwiXSknLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZ3JvdXBDb250YWluZXJzLmZvckVhY2goKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBkZXBlbmRlbnRGaWVsZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRlcGVuZHMtb24nKTtcclxuICAgICAgICAgICAgbGV0IGRlcGVuZGVudFZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGVwZW5kZW50LXZhbHVlJyk7XHJcbiAgICAgICAgICAgIGxldCBjdXN0b21FbGVtZW50OiBDdXN0b21JbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5mb3Jtc1swXS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7ZGVwZW5kZW50RmllbGR9XCJdYCkgYXMgQ3VzdG9tSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImhpZGRlblwiLCBcIlwiKTtcclxuICAgICAgICAgICAgY3VzdG9tRWxlbWVudC5vbkNoYW5nZS5vbihldmVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudmFsdWUgPT09IGRlcGVuZGVudFZhbHVlIHx8IGV2ZW50LnZhbHVlLmluY2x1ZGVzKGRlcGVuZGVudFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImhpZGRlblwiLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEN1c3RvbUVsZW1lbnQgZnJvbSAnLi4vLi4vZnJhbWV3b3JrL2N1c3RvbS1lbGVtZW50LmRlY29yYXRvcic7XHJcbmltcG9ydCB7IEN1c3RvbUlucHV0RWxlbWVudCB9IGZyb20gJy4uLy4uL2ZyYW1ld29yay9DdXN0b21JbnB1dEVsZW1lbnQnO1xyXG5pbXBvcnQgeyBDdXN0b21FbGVtZW50RXZlbnRBcmdzIH0gZnJvbSAnLi4vLi4vZnJhbWV3b3JrL0N1c3RvbUV2ZW50cyc7XHJcblxyXG5AQ3VzdG9tRWxlbWVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2FkZHJlc3MtZWxlbWVudCcsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwid3JhcHBlclwiPlxyXG5cdFx0XHRcdDxpbnB1dCBpZD0nYWRkcmVzcycgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj0nQWRkcmVzcycgcmVxdWlyZWQvPlxyXG5cdFx0XHRcdDxpbnB1dCBpZD0nY2l0eScgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj0nQ2l0eScvPlxyXG5cdFx0XHRcdDxpbnB1dCBpZD0nemlwJyB0eXBlPVwibnVtYmVyXCIgcGxhY2Vob2xkZXI9J1ppcCcvPlxyXG5cdFx0XHQ8L2Rpdj5gLFxyXG4gICAgc3R5bGU6IGAud3JhcHBlcntcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbnB1dHtcclxuICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmNGZmO1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luOiAycHg7XHJcbiAgICAgICAgICAgICAgICByZXNpemU6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDozMyU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICBgLFxyXG4gICAgdGVtcGxhdGVQYXRoOiAnLi9odG1sLmh0bWwnLFxyXG4gICAgdXNlU2hhZG93OiB0cnVlLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgQWRkcmVzc0VsZW1lbnQgZXh0ZW5kcyBDdXN0b21JbnB1dEVsZW1lbnQge1xyXG4gICAgYWRkcmVzczogSFRNTElucHV0RWxlbWVudDtcclxuICAgIGNpdHk6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICB6aXA6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsdWUoKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgYWRkcmVzcyA9IHRoaXMuYWRkcmVzcy52YWx1ZSB8fCAnJztcclxuICAgICAgICBsZXQgY2l0eSA9IHRoaXMuY2l0eS52YWx1ZSA/IGAsJHt0aGlzLmNpdHkudmFsdWV9YCA6ICcnO1xyXG4gICAgICAgIGxldCB6aXAgPSB0aGlzLnppcC52YWx1ZSA/IGAsJHt0aGlzLnppcC52YWx1ZX1gIDogJyc7XHJcbiAgICAgICAgcmV0dXJuIGAke2FkZHJlc3N9JHtjaXR5fSR7emlwfWA7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZhbHVlKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZXMgPSB2YWx1ZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgIHRoaXMuYWRkcmVzcy52YWx1ZSA9IHZhbHVlc1swXTtcclxuICAgICAgICB0aGlzLmNpdHkudmFsdWUgPSB2YWx1ZXNbMV07XHJcbiAgICAgICAgdGhpcy56aXAudmFsdWUgPSB2YWx1ZXNbMl07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZhbGlkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIHRoaXMuYWRkcmVzcy52YWxpZGl0eS52YWxpZCAmJlxyXG4gICAgICAgICAgICB0aGlzLmNpdHkudmFsaWRpdHkudmFsaWQgJiZcclxuICAgICAgICAgICAgdGhpcy56aXAudmFsaWRpdHkudmFsaWRcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENoaWxkSW5wdXRzKCkge1xyXG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IHN1cGVyLmdldENoaWxkSW5wdXQoJyNhZGRyZXNzJyk7XHJcbiAgICAgICAgdGhpcy5jaXR5ID0gc3VwZXIuZ2V0Q2hpbGRJbnB1dCgnI2NpdHknKTtcclxuICAgICAgICB0aGlzLnppcCA9IHN1cGVyLmdldENoaWxkSW5wdXQoJyN6aXAnKTtcclxuICAgICAgICB0aGlzLmFkZHJlc3MuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5jaGFuZ2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5jaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuY2hhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMuemlwLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuY2hhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGV2ZW50c1xyXG4gICAgcHVibGljIGNoYW5nZSgkZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRvdWNoZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2UuZW1pdChuZXcgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyh0aGlzLnZhbHVlLCAnY2hhbmdlJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2YWxpZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnZhbGlkO1xyXG4gICAgICAgIHRoaXMub25WYWxpZGF0ZS5lbWl0KFxyXG4gICAgICAgICAgICBuZXcgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyh0aGlzLnZhbHVlLCAndmFsaWRhdGUnKSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBDdXN0b21FbGVtZW50IGZyb20gJy4uLy4uL2ZyYW1ld29yay9jdXN0b20tZWxlbWVudC5kZWNvcmF0b3InO1xyXG5pbXBvcnQgeyBDdXN0b21JbnB1dEVsZW1lbnQgfSBmcm9tICcuLi8uLi9mcmFtZXdvcmsvQ3VzdG9tSW5wdXRFbGVtZW50JztcclxuaW1wb3J0IHsgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyB9IGZyb20gJy4uLy4uL2ZyYW1ld29yay9DdXN0b21FdmVudHMnO1xyXG5pbXBvcnQgQmFua0FjY291bnRWYWxpZGF0b3IgZnJvbSAnLi4vLi4vZnJhbWV3b3JrL1ZhbGlkYXRpb24vVmFsaWRhdG9ycy9CYW5rQWNjb3VudCc7XHJcbmltcG9ydCBCYW5rQWNjb3VudFJlZ2lzdHJhdGlvbk51bWJlclZhbGlkYXRvciBmcm9tICcuLi8uLi9mcmFtZXdvcmsvVmFsaWRhdGlvbi9WYWxpZGF0b3JzL0JhbmtBY2NvdW50UmVnaXN0cmF0aW9uTnVtYmVyJztcclxuXHJcbkBDdXN0b21FbGVtZW50KHtcclxuICAgIHNlbGVjdG9yOiAnYmFuay1lbGVtZW50JyxcclxuICAgIHRlbXBsYXRlOiBgXHJcblx0XHRcdDxkaXYgY2xhc3M9XCJ3cmFwcGVyXCI+XHJcblx0XHRcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9J2FjY291bnQtZmllbGQnIHBsYWNlaG9sZGVyPSdCYW5rIEFjY291bnQnLz5cclxuXHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiBpZD0ncmVnLW51bWJlci1maWVsZCcgcGxhY2Vob2xkZXI9J0JhbmsgQWNjb3VudCBSZWdpc3RyYXRpb24gTnVtYmVyJy8+XHJcblx0XHRcdDwvZGl2PmAsXHJcbiAgICBzdHlsZTogYFxyXG4gICAgOmhvc3R7XHJcbiAgICAgICAgICAgIHdpZHRoOjEwMCU7XHJcbiAgICB9XHJcbiAgICAud3JhcHBlcntcclxuICAgICAgICAgICAgZGlzcGxheTpmbGV4O1xyXG4gICAgfVxyXG4gICAgaW5wdXR7XHJcbiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjRmZjtcclxuICAgICAgICAgICAgbWFyZ2luOiAycHg7XHJcbiAgICAgICAgICAgIHJlc2l6ZTogbm9uZTtcclxuICAgIH1cclxuICAgICAgICAgICBgLFxyXG4gICAgdXNlU2hhZG93OiB0cnVlLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgQmFua0ZpZWxkRWxlbWVudCBleHRlbmRzIEN1c3RvbUlucHV0RWxlbWVudCB7XHJcbiAgICBhY2NvdW50OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgcmVnTnVtYmVyOiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgYmFua0FjY291bnRWYWxpZGF0b3I6IEJhbmtBY2NvdW50VmFsaWRhdG9yID0gbmV3IEJhbmtBY2NvdW50VmFsaWRhdG9yKCk7XHJcbiAgICByZWdOdW1iZXJWYWxpZGF0b3I6IEJhbmtBY2NvdW50UmVnaXN0cmF0aW9uTnVtYmVyVmFsaWRhdG9yID0gbmV3IEJhbmtBY2NvdW50UmVnaXN0cmF0aW9uTnVtYmVyVmFsaWRhdG9yKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsdWUoKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgYWNjb3VudCA9IHRoaXMuYWNjb3VudC52YWx1ZSB8fCAnJztcclxuICAgICAgICBsZXQgcmVnTnVtYmVyID0gdGhpcy5yZWdOdW1iZXIudmFsdWUgPyBgLCR7dGhpcy5yZWdOdW1iZXIudmFsdWV9YCA6ICcnO1xyXG4gICAgICAgIHJldHVybiBgJHthY2NvdW50fSR7cmVnTnVtYmVyfWA7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZhbHVlKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZXMgPSB2YWx1ZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgIHRoaXMuYWNjb3VudC52YWx1ZSA9IHZhbHVlc1swXTtcclxuICAgICAgICB0aGlzLnJlZ051bWJlci52YWx1ZSA9IHZhbHVlc1sxXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgdGhpcy5iYW5rQWNjb3VudFZhbGlkYXRvci5pc1NhdGlzZmllZEJ5KFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hY2NvdW50LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgIXRoaXMucmVxdWlyZWQsXHJcbiAgICAgICAgICAgICkgJiZcclxuICAgICAgICAgICAgdGhpcy5yZWdOdW1iZXJWYWxpZGF0b3IuaXNTYXRpc2ZpZWRCeShcclxuICAgICAgICAgICAgICAgIHRoaXMucmVnTnVtYmVyLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgIXRoaXMucmVxdWlyZWQsXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENoaWxkSW5wdXRzKCkge1xyXG4gICAgICAgIHRoaXMuYWNjb3VudCA9IHN1cGVyLmdldENoaWxkSW5wdXQoJyNhY2NvdW50LWZpZWxkJyk7XHJcbiAgICAgICAgdGhpcy5yZWdOdW1iZXIgPSBzdXBlci5nZXRDaGlsZElucHV0KCcjcmVnLW51bWJlci1maWVsZCcpO1xyXG4gICAgICAgIHRoaXMuYWNjb3VudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmNoYW5nZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLnJlZ051bWJlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmNoYW5nZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBpZiAodGhpcy5yZXF1aXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmFjY291bnQuc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsICcnKTtcclxuICAgICAgICAgICAgdGhpcy5yZWdOdW1iZXIuc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsICcnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZXZlbnRzXHJcbiAgICBwdWJsaWMgY2hhbmdlKCRldmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudG91Y2hlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZS5lbWl0KG5ldyBDdXN0b21FbGVtZW50RXZlbnRBcmdzKHRoaXMudmFsdWUsICdjaGFuZ2UnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZhbGlkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmFsaWQ7XHJcbiAgICAgICAgdGhpcy5vblZhbGlkYXRlLmVtaXQoXHJcbiAgICAgICAgICAgIG5ldyBDdXN0b21FbGVtZW50RXZlbnRBcmdzKHRoaXMudmFsdWUsICd2YWxpZGF0ZScpLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEN1c3RvbUVsZW1lbnQgZnJvbSAnLi4vLi4vZnJhbWV3b3JrL2N1c3RvbS1lbGVtZW50LmRlY29yYXRvcic7XHJcbmltcG9ydCB7IEN1c3RvbUlucHV0RWxlbWVudCB9IGZyb20gJy4uLy4uL2ZyYW1ld29yay9DdXN0b21JbnB1dEVsZW1lbnQnO1xyXG5pbXBvcnQgeyBDdXN0b21FbGVtZW50RXZlbnRBcmdzIH0gZnJvbSAnLi4vLi4vZnJhbWV3b3JrL0N1c3RvbUV2ZW50cyc7XHJcbmltcG9ydCBDcHJWYWxpZGF0b3IgZnJvbSAnLi4vLi4vZnJhbWV3b3JrL1ZhbGlkYXRpb24vVmFsaWRhdG9ycy9DUFInO1xyXG5cclxuQEN1c3RvbUVsZW1lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdjcHItZWxlbWVudCcsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwid3JhcHBlclwiPlxyXG5cdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPSdjcHItZmllbGQnIHBsYWNlaG9sZGVyPSdERE1NWVktU1NTUycvPlxyXG5cdFx0XHQ8L2Rpdj5gLFxyXG4gICAgc3R5bGU6IGBcclxuICAgIDpob3N0e1xyXG4gICAgICAgICAgICB3aWR0aDoxMDAlO1xyXG4gICAgfVxyXG4gICAgLndyYXBwZXJ7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgIH1cclxuICAgIGlucHV0e1xyXG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWY0ZmY7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMnB4O1xyXG4gICAgICAgICAgICByZXNpemU6IG5vbmU7XHJcbiAgICB9XHJcbiAgICAgICAgICAgYCxcclxuICAgIHVzZVNoYWRvdzogdHJ1ZSxcclxufSlcclxuZXhwb3J0IGNsYXNzIENQUkVsZW1lbnQgZXh0ZW5kcyBDdXN0b21JbnB1dEVsZW1lbnQge1xyXG4gICAgdGV4dDogSFRNTElucHV0RWxlbWVudDtcclxuICAgIHZhbGlkYXRvcjogQ3ByVmFsaWRhdG9yID0gbmV3IENwclZhbGlkYXRvcigpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZhbHVlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGAke3RoaXMudGV4dC52YWx1ZX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB2YWx1ZSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0LnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZhbGlkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRvci5pc1NhdGlzZmllZEJ5KHRoaXMudmFsdWUsICF0aGlzLnJlcXVpcmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRDaGlsZElucHV0cygpIHtcclxuICAgICAgICB0aGlzLnRleHQgPSBzdXBlci5nZXRDaGlsZElucHV0KCcjY3ByLWZpZWxkJyk7XHJcbiAgICAgICAgdGhpcy50ZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuY2hhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGlmICh0aGlzLnJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgJycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBldmVudHNcclxuICAgIHB1YmxpYyBjaGFuZ2UoJGV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50b3VjaGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlLmVtaXQobmV3IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3ModGhpcy52YWx1ZSwgJ2NoYW5nZScpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmFsaWRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy52YWxpZDtcclxuICAgICAgICB0aGlzLm9uVmFsaWRhdGUuZW1pdChcclxuICAgICAgICAgICAgbmV3IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3ModGhpcy52YWx1ZSwgJ3ZhbGlkYXRlJyksXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgQ3VzdG9tRWxlbWVudCBmcm9tICcuLi8uLi9mcmFtZXdvcmsvY3VzdG9tLWVsZW1lbnQuZGVjb3JhdG9yJztcclxuaW1wb3J0IHsgQ3VzdG9tSW5wdXRFbGVtZW50IH0gZnJvbSAnLi4vLi4vZnJhbWV3b3JrL0N1c3RvbUlucHV0RWxlbWVudCc7XHJcbmltcG9ydCB7IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3MgfSBmcm9tICcuLi8uLi9mcmFtZXdvcmsvQ3VzdG9tRXZlbnRzJztcclxuaW1wb3J0IENwclZhbGlkYXRvciBmcm9tICcuLi8uLi9mcmFtZXdvcmsvVmFsaWRhdGlvbi9WYWxpZGF0b3JzL0NQUic7XHJcbmltcG9ydCBDdnJWYWxpZGF0b3IgZnJvbSAnLi4vLi4vZnJhbWV3b3JrL1ZhbGlkYXRpb24vVmFsaWRhdG9ycy9DVlInO1xyXG5cclxuQEN1c3RvbUVsZW1lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdjdnItZWxlbWVudCcsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwid3JhcHBlclwiPlxyXG5cdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPSdjdnItZmllbGQnIHBsYWNlaG9sZGVyPSdERE1NWVktU1NTUycvPlxyXG5cdFx0XHQ8L2Rpdj5gLFxyXG4gICAgc3R5bGU6IGBcclxuICAgIDpob3N0e1xyXG4gICAgICAgICAgICB3aWR0aDoxMDAlO1xyXG4gICAgfVxyXG4gICAgLndyYXBwZXJ7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgIH1cclxuICAgIGlucHV0e1xyXG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWY0ZmY7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMnB4O1xyXG4gICAgICAgICAgICByZXNpemU6IG5vbmU7XHJcbiAgICB9XHJcbiAgICAgICAgICAgYCxcclxuICAgIHVzZVNoYWRvdzogdHJ1ZSxcclxufSlcclxuZXhwb3J0IGNsYXNzIENWUkVsZW1lbnQgZXh0ZW5kcyBDdXN0b21JbnB1dEVsZW1lbnQge1xyXG4gICAgdGV4dDogSFRNTElucHV0RWxlbWVudDtcclxuICAgIHZhbGlkYXRvcjogQ3ZyVmFsaWRhdG9yID0gbmV3IEN2clZhbGlkYXRvcigpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZhbHVlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGAke3RoaXMudGV4dC52YWx1ZX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB2YWx1ZSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0LnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZhbGlkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRvci5pc1NhdGlzZmllZEJ5KHRoaXMudmFsdWUsICF0aGlzLnJlcXVpcmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRDaGlsZElucHV0cygpIHtcclxuICAgICAgICB0aGlzLnRleHQgPSBzdXBlci5nZXRDaGlsZElucHV0KCcjY3ZyLWZpZWxkJyk7XHJcbiAgICAgICAgdGhpcy50ZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuY2hhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGlmICh0aGlzLnJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgJycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBldmVudHNcclxuICAgIHB1YmxpYyBjaGFuZ2UoJGV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50b3VjaGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlLmVtaXQobmV3IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3ModGhpcy52YWx1ZSwgJ2NoYW5nZScpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmFsaWRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy52YWxpZDtcclxuICAgICAgICB0aGlzLm9uVmFsaWRhdGUuZW1pdChcclxuICAgICAgICAgICAgbmV3IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3ModGhpcy52YWx1ZSwgJ3ZhbGlkYXRlJyksXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgQ3VzdG9tRWxlbWVudCBmcm9tICcuLi8uLi9mcmFtZXdvcmsvY3VzdG9tLWVsZW1lbnQuZGVjb3JhdG9yJztcclxuaW1wb3J0IHsgQ3VzdG9tSW5wdXRFbGVtZW50IH0gZnJvbSAnLi4vLi4vZnJhbWV3b3JrL0N1c3RvbUlucHV0RWxlbWVudCc7XHJcbmltcG9ydCB7IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3MgfSBmcm9tICcuLi8uLi9mcmFtZXdvcmsvQ3VzdG9tRXZlbnRzJztcclxuaW1wb3J0IHsgU3RyaW5nVXRpbCB9IGZyb20gJy4uLy4uL2ZyYW1ld29yay9VdGlsaXRpZXMvU3RyaW5nVXRpbCc7XHJcblxyXG5AQ3VzdG9tRWxlbWVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2NoZWNrYm94LWVsZW1lbnQnLFxyXG4gICAgdGVtcGxhdGU6IGBcclxuXHRcdFx0PGRpdiBjbGFzcz1cIndyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgXHJcblx0XHRcdDwvZGl2PmAsXHJcbiAgICBzdHlsZTogYFxyXG4gICAgICAgICAgICA6aG9zdHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOjEwMCU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLndyYXBwZXJ7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgIGZsZXgtd3JhcDp3cmFwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5jaGVja2JveCB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogYXV0bztcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogYXV0byAzcHg7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAgZmxleC1ncm93OiAwLjE7XHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbnB1dHtcclxuICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogYXV0byAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjRmZjtcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogMnB4O1xyXG4gICAgICAgICAgICAgICAgcmVzaXplOiBub25lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgYCxcclxuICAgIHVzZVNoYWRvdzogdHJ1ZSxcclxufSlcclxuZXhwb3J0IGNsYXNzIENoZWNrQm94RWxlbWVudCBleHRlbmRzIEN1c3RvbUlucHV0RWxlbWVudCB7XHJcbiAgICBjaGVja2JveDogSFRNTElucHV0RWxlbWVudFtdO1xyXG4gICAgY2hlY2tib3hUZW1wbGF0ZSA9IGBcclxuICAgIDxkaXYgY2xhc3M9J2NoZWNrYm94Jz5cclxuICAgICAgICA8bGFiZWwgZm9yPVwiezJ9XCI+ezF9PC9sYWJlbD5cclxuICAgICAgICA8aW5wdXQgdHlwZT0nY2hlY2tib3gnIG5hbWU9J3swfScgdmFsdWU9XCJ7MX1cIiBpZD1cInsyfVwiLz5cclxuICAgIDwvZGl2PmA7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsdWUoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrYm94LmZpbHRlcihjID0+IGMuY2hlY2tlZCkubWFwKGMgPT4gYy52YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZhbHVlKHZhbHVlczogc3RyaW5nW10pIHtcclxuICAgICAgICAvLyB0aGlzLmNoZWNrYm94LnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZhbGlkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh0aGlzLnJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENoaWxkSW5wdXRzKCkge1xyXG4gICAgICAgIHRoaXMuYWRkQ2hlY2tCb3hlcygpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tib3ggPSBzdXBlci5nZXRDaGlsZElucHV0cyhgW25hbWU9JHt0aGlzLm5hbWV9XWApO1xyXG4gICAgICAgIHRoaXMuY2hlY2tib3guZm9yRWFjaChjID0+XHJcbiAgICAgICAgICAgIGMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5jaGFuZ2UuYmluZCh0aGlzKSksXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZENoZWNrQm94ZXMoKSB7XHJcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IHN1cGVyLmdldENoaWxkRWxlbWVudCgnLndyYXBwZXInKTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgd3JhcHBlci5pbnNlcnRBZGphY2VudEhUTUwoXHJcbiAgICAgICAgICAgICAgICAnYmVmb3JlZW5kJyxcclxuICAgICAgICAgICAgICAgIFN0cmluZ1V0aWwuU3RyaW5nRm9ybWF0KFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tib3hUZW1wbGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICBgJHt0aGlzLm5hbWV9LSR7aW5kZXh9YCxcclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBldmVudHNcclxuICAgIHB1YmxpYyBjaGFuZ2UoJGV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50b3VjaGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlLmVtaXQobmV3IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3ModGhpcy52YWx1ZSwgJ2NoYW5nZScpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmFsaWRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy52YWxpZDtcclxuICAgICAgICB0aGlzLm9uVmFsaWRhdGUuZW1pdChcclxuICAgICAgICAgICAgbmV3IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3ModGhpcy52YWx1ZSwgJ3ZhbGlkYXRlJyksXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgQ3VzdG9tRWxlbWVudCBmcm9tICcuLi8uLi9mcmFtZXdvcmsvY3VzdG9tLWVsZW1lbnQuZGVjb3JhdG9yJztcclxuaW1wb3J0IHsgQ3VzdG9tSW5wdXRFbGVtZW50IH0gZnJvbSAnLi4vLi4vZnJhbWV3b3JrL0N1c3RvbUlucHV0RWxlbWVudCc7XHJcbmltcG9ydCB7IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3MgfSBmcm9tICcuLi8uLi9mcmFtZXdvcmsvQ3VzdG9tRXZlbnRzJztcclxuXHJcbkBDdXN0b21FbGVtZW50KHtcclxuICAgIHNlbGVjdG9yOiAncmVnZXgtZWxlbWVudCcsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwid3JhcHBlclwiPlxyXG5cdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPSdyZWdleC1maWVsZCcvPlxyXG5cdFx0XHQ8L2Rpdj5gLFxyXG4gICAgc3R5bGU6IGBcclxuICAgIDpob3N0e1xyXG4gICAgICAgICAgICB3aWR0aDoxMDAlO1xyXG4gICAgfVxyXG4gICAgLndyYXBwZXJ7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgIH1cclxuICAgIGlucHV0e1xyXG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWY0ZmY7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMnB4O1xyXG4gICAgICAgICAgICByZXNpemU6IG5vbmU7XHJcbiAgICB9XHJcbiAgICAgICAgICAgYCxcclxuICAgIHVzZVNoYWRvdzogdHJ1ZSxcclxufSlcclxuZXhwb3J0IGNsYXNzIEN1c3RvbVJlZ3VsYXJFeHByZXNzaW9uRWxlbWVudCBleHRlbmRzIEN1c3RvbUlucHV0RWxlbWVudCB7XHJcbiAgICB0ZXh0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZhbHVlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGAke3RoaXMudGV4dC52YWx1ZX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB2YWx1ZSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0LnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZhbGlkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRleHQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0Q2hpbGRJbnB1dHMoKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gc3VwZXIuZ2V0Q2hpbGRJbnB1dCgnI3JlZ2V4LWZpZWxkJyk7XHJcbiAgICAgICAgdGhpcy50ZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuY2hhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGlmICh0aGlzLnJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jdXN0b21WYWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRleHQuc2V0QXR0cmlidXRlKCdwYXR0ZXJuJywgdGhpcy5jdXN0b21WYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGV2ZW50c1xyXG4gICAgcHVibGljIGNoYW5nZSgkZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRvdWNoZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2UuZW1pdChuZXcgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyh0aGlzLnZhbHVlLCAnY2hhbmdlJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2YWxpZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnZhbGlkO1xyXG4gICAgICAgIHRoaXMub25WYWxpZGF0ZS5lbWl0KFxyXG4gICAgICAgICAgICBuZXcgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyh0aGlzLnZhbHVlLCAndmFsaWRhdGUnKSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBDdXN0b21FbGVtZW50IGZyb20gJy4uLy4uL2ZyYW1ld29yay9jdXN0b20tZWxlbWVudC5kZWNvcmF0b3InO1xyXG5pbXBvcnQgeyBDdXN0b21JbnB1dEVsZW1lbnQgfSBmcm9tICcuLi8uLi9mcmFtZXdvcmsvQ3VzdG9tSW5wdXRFbGVtZW50JztcclxuaW1wb3J0IHsgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyB9IGZyb20gJy4uLy4uL2ZyYW1ld29yay9DdXN0b21FdmVudHMnO1xyXG5cclxuQEN1c3RvbUVsZW1lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdkYXRlLWVsZW1lbnQnLFxyXG4gICAgdGVtcGxhdGU6IGBcclxuXHRcdFx0PGRpdiBjbGFzcz1cIndyYXBwZXJcIj5cclxuXHRcdFx0XHQ8aW5wdXQgdHlwZT1cImRhdGVcIiBpZD0nZGF0ZS1maWVsZCcvPlxyXG5cdFx0XHQ8L2Rpdj5gLFxyXG4gICAgc3R5bGU6IGBcclxuICAgIDpob3N0e1xyXG4gICAgICAgICAgICB3aWR0aDoxMDAlO1xyXG4gICAgfVxyXG4gICAgLndyYXBwZXJ7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgIH1cclxuICAgIGlucHV0e1xyXG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWY0ZmY7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMnB4O1xyXG4gICAgICAgICAgICByZXNpemU6IG5vbmU7XHJcbiAgICB9XHJcbiAgICAgICAgICAgYCxcclxuICAgIHVzZVNoYWRvdzogdHJ1ZSxcclxufSlcclxuZXhwb3J0IGNsYXNzIERhdGVGaWVsZEVsZW1lbnQgZXh0ZW5kcyBDdXN0b21JbnB1dEVsZW1lbnQge1xyXG4gICAgZGF0ZTogSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGUudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZhbHVlKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmRhdGUudmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZS52YWxpZGl0eS52YWxpZDtcclxuICAgIH1cclxuXHJcbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRDaGlsZElucHV0cygpIHtcclxuICAgICAgICB0aGlzLmRhdGUgPSBzdXBlci5nZXRDaGlsZElucHV0KCcjZGF0ZS1maWVsZCcpO1xyXG4gICAgICAgIHRoaXMuZGF0ZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmNoYW5nZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBpZiAodGhpcy5yZXF1aXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGUuc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubWF4KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZS5zZXRBdHRyaWJ1dGUoJ21heCcsIHRoaXMubWF4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubWluKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZS5zZXRBdHRyaWJ1dGUoJ21pbicsIHRoaXMubWluKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZXZlbnRzXHJcbiAgICBwdWJsaWMgY2hhbmdlKCRldmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudG91Y2hlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZS5lbWl0KG5ldyBDdXN0b21FbGVtZW50RXZlbnRBcmdzKHRoaXMudmFsdWUsICdjaGFuZ2UnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZhbGlkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmFsaWQ7XHJcbiAgICAgICAgdGhpcy5vblZhbGlkYXRlLmVtaXQoXHJcbiAgICAgICAgICAgIG5ldyBDdXN0b21FbGVtZW50RXZlbnRBcmdzKHRoaXMudmFsdWUsICd2YWxpZGF0ZScpLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEN1c3RvbUVsZW1lbnQgZnJvbSAnLi4vLi4vZnJhbWV3b3JrL2N1c3RvbS1lbGVtZW50LmRlY29yYXRvcic7XHJcbmltcG9ydCB7IEN1c3RvbUlucHV0RWxlbWVudCB9IGZyb20gJy4uLy4uL2ZyYW1ld29yay9DdXN0b21JbnB1dEVsZW1lbnQnO1xyXG5pbXBvcnQgeyBDdXN0b21FbGVtZW50RXZlbnRBcmdzIH0gZnJvbSAnLi4vLi4vZnJhbWV3b3JrL0N1c3RvbUV2ZW50cyc7XHJcbmltcG9ydCB7IFN0cmluZ1V0aWwgfSBmcm9tICcuLi8uLi9mcmFtZXdvcmsvVXRpbGl0aWVzL1N0cmluZ1V0aWwnO1xyXG5cclxuQEN1c3RvbUVsZW1lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdkcm9wLWRvd24tZWxlbWVudCcsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwid3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICA8c2VsZWN0IGlkPSdzZWxlY3QtbGlzdCc+XHJcbiAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG5cdFx0XHQ8L2Rpdj5gLFxyXG4gICAgc3R5bGU6IGBcclxuICAgICAgICAgICAgOmhvc3R7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDoxMDAlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC53cmFwcGVye1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTpmbGV4O1xyXG4gICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLnJhZGlvLWJ1dHRvbiB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogYXV0bztcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogYXV0byAzcHg7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAgZmxleC1ncm93OiAwLjE7XHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxlY3R7XHJcbiAgICAgICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWY0ZmY7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IDJweDtcclxuICAgICAgICAgICAgICAgIHJlc2l6ZTogbm9uZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIGAsXHJcbiAgICB1c2VTaGFkb3c6IHRydWUsXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBEcm9wRG93bkxpc3RFbGVtZW50IGV4dGVuZHMgQ3VzdG9tSW5wdXRFbGVtZW50IHtcclxuICAgIHNlbGVjdDogSFRNTElucHV0RWxlbWVudDtcclxuICAgIG9wdGlvblRlbXBsYXRlID0gYFxyXG4gICAgPG9wdGlvbiB2YWx1ZT0nezB9Jz5cclxuICAgICAgIHsxfVxyXG4gICAgPC9vcHRpb24+YDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgJHt0aGlzLnNlbGVjdC52YWx1ZX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB2YWx1ZSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3QudmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENoaWxkSW5wdXRzKCkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ID0gc3VwZXIuZ2V0Q2hpbGRJbnB1dChgI3NlbGVjdC1saXN0YCk7XHJcbiAgICAgICAgdGhpcy5hZGRPcHRpb25zKCk7XHJcbiAgICAgICAgaWYgKHRoaXMucmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3Quc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubXVsdGkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3Quc2V0QXR0cmlidXRlKCdtdWx0aXBsZScsICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5jaGFuZ2UuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHRoaXMub3B0aW9ucy5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdC5pbnNlcnRBZGphY2VudEhUTUwoXHJcbiAgICAgICAgICAgICAgICAnYmVmb3JlZW5kJyxcclxuICAgICAgICAgICAgICAgIFN0cmluZ1V0aWwuU3RyaW5nRm9ybWF0KHRoaXMub3B0aW9uVGVtcGxhdGUsIGVsZW1lbnQsIGVsZW1lbnQpLFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gZXZlbnRzXHJcbiAgICBwdWJsaWMgY2hhbmdlKCRldmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudG91Y2hlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZS5lbWl0KG5ldyBDdXN0b21FbGVtZW50RXZlbnRBcmdzKHRoaXMudmFsdWUsICdjaGFuZ2UnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZhbGlkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmFsaWQ7XHJcbiAgICAgICAgdGhpcy5vblZhbGlkYXRlLmVtaXQoXHJcbiAgICAgICAgICAgIG5ldyBDdXN0b21FbGVtZW50RXZlbnRBcmdzKHRoaXMudmFsdWUsICd2YWxpZGF0ZScpLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQWRkcmVzc0VsZW1lbnQgfSBmcm9tICcuL0FkZHJlc3MvQWRkcmVzc0VsZW1lbnQnO1xyXG5pbXBvcnQgeyBUZXh0RmllbGRFbGVtZW50IH0gZnJvbSAnLi9UZXh0RmllbGQvVGV4dEZpZWxkRWxlbWVudCc7XHJcbmltcG9ydCB7IEVtYWlsRmllbGRFbGVtZW50IH0gZnJvbSAnLi9FbWFpbEZpZWxkL0VtYWlsRmllbGRFbGVtZW50JztcclxuaW1wb3J0IHsgQ2hlY2tCb3hFbGVtZW50IH0gZnJvbSAnLi9DaGVja0JveEVsZW1lbnQvQ2hlY2tCb3hFbGVtZW50JztcclxuaW1wb3J0IHsgUmFkaW9CdXR0b25Hcm91cEVsZW1lbnQgfSBmcm9tICcuL1JhZGlvQnV0dG9uR3JvdXAvUmFkaW9CdXR0b25Hcm91cEVsZW1lbnQnO1xyXG5pbXBvcnQgeyBUZXh0QXJlYUVsZW1lbnQgfSBmcm9tICcuL1RleHRBcmVhRWxlbWVudC9UZXh0QXJlYUVsZW1lbnQnO1xyXG5pbXBvcnQgeyBEcm9wRG93bkxpc3RFbGVtZW50IH0gZnJvbSAnLi9Ecm9wRG93bkxpc3QvRHJvcERvd25MaXN0RWxlbWVudCc7XHJcbmltcG9ydCB7IEZpbGVGaWVsZEVsZW1lbnQgfSBmcm9tICcuL0ZpbGVGaWVsZC9GaWxlRmllbGRFbGVtZW50JztcclxuaW1wb3J0IHsgTnVtZXJpY0ZpZWxkRWxlbWVudCB9IGZyb20gJy4vTnVtZXJpY0ZpZWxkL051bWVyaWNGaWVsZEVsZW1lbnQnO1xyXG5pbXBvcnQgeyBDdXN0b21SZWd1bGFyRXhwcmVzc2lvbkVsZW1lbnQgfSBmcm9tICcuL0N1c3RvbVJlZ3VsYXJFeHByZXNzaW9uL0N1c3RvbVJlZ3VsYXJFeHByZXNzaW9uRWxlbWVudCc7XHJcbmltcG9ydCB7IERhdGVGaWVsZEVsZW1lbnQgfSBmcm9tICcuL0RhdGVGaWVsZC9EYXRlRmllbGRFbGVtZW50JztcclxuaW1wb3J0IHsgSW50UGhvbmVGaWVsZEVsZW1lbnQgfSBmcm9tICcuL0ludGVybmF0aW9uYVBob25lTnVtYmVyL0ludGVybmF0aW9uYVBob25lTnVtYmVyRWxlbWVudCc7XHJcbmltcG9ydCB7IENQUkVsZW1lbnQgfSBmcm9tICcuL0NQUkVsZW1lbnQvQ1BSRWxlbWVudCc7XHJcbmltcG9ydCB7IENWUkVsZW1lbnQgfSBmcm9tICcuL0NWUkVsZW1lbnQvQ1ZSRWxlbWVudCc7XHJcbmltcG9ydCB7IElkZW50aWZpY2F0aW9uRWxlbWVudCB9IGZyb20gJy4vSWRlbnRpZmljYXRpb25FbGVtZW50L0lkZW50aWZpY2F0aW9uRWxlbWVudCc7XHJcbmltcG9ydCB7IEJhbmtGaWVsZEVsZW1lbnQgfSBmcm9tICcuL0JhbmtGaWVsZC9CYW5rRmllbGRFbGVtZW50JztcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBBZGRyZXNzRWxlbWVudCxcclxuICAgIFRleHRGaWVsZEVsZW1lbnQsXHJcbiAgICBFbWFpbEZpZWxkRWxlbWVudCxcclxuICAgIENoZWNrQm94RWxlbWVudCxcclxuICAgIFJhZGlvQnV0dG9uR3JvdXBFbGVtZW50LFxyXG4gICAgVGV4dEFyZWFFbGVtZW50LFxyXG4gICAgRHJvcERvd25MaXN0RWxlbWVudCxcclxuICAgIEZpbGVGaWVsZEVsZW1lbnQsXHJcbiAgICBOdW1lcmljRmllbGRFbGVtZW50LFxyXG4gICAgQ3VzdG9tUmVndWxhckV4cHJlc3Npb25FbGVtZW50LFxyXG4gICAgRGF0ZUZpZWxkRWxlbWVudCxcclxuICAgIEludFBob25lRmllbGRFbGVtZW50LFxyXG4gICAgQ1BSRWxlbWVudCxcclxuICAgIENWUkVsZW1lbnQsXHJcbiAgICBJZGVudGlmaWNhdGlvbkVsZW1lbnQsXHJcbiAgICBCYW5rRmllbGRFbGVtZW50LFxyXG59O1xyXG4iLCJpbXBvcnQgQ3VzdG9tRWxlbWVudCBmcm9tICcuLi8uLi9mcmFtZXdvcmsvY3VzdG9tLWVsZW1lbnQuZGVjb3JhdG9yJztcclxuaW1wb3J0IHsgQ3VzdG9tSW5wdXRFbGVtZW50IH0gZnJvbSAnLi4vLi4vZnJhbWV3b3JrL0N1c3RvbUlucHV0RWxlbWVudCc7XHJcbmltcG9ydCB7IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3MgfSBmcm9tICcuLi8uLi9mcmFtZXdvcmsvQ3VzdG9tRXZlbnRzJztcclxuXHJcbkBDdXN0b21FbGVtZW50KHtcclxuICAgIHNlbGVjdG9yOiAnZW1haWwtZWxlbWVudCcsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwid3JhcHBlclwiPlxyXG5cdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPSdlbWFpbC1maWVsZCcvPlxyXG5cdFx0XHQ8L2Rpdj5gLFxyXG4gICAgc3R5bGU6IGBcclxuICAgIDpob3N0e1xyXG4gICAgICAgICAgICB3aWR0aDoxMDAlO1xyXG4gICAgfVxyXG4gICAgLndyYXBwZXJ7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgIH1cclxuICAgIGlucHV0e1xyXG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWY0ZmY7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMnB4O1xyXG4gICAgICAgICAgICByZXNpemU6IG5vbmU7XHJcbiAgICB9XHJcbiAgICAgICAgICAgYCxcclxuICAgIHVzZVNoYWRvdzogdHJ1ZSxcclxufSlcclxuZXhwb3J0IGNsYXNzIEVtYWlsRmllbGRFbGVtZW50IGV4dGVuZHMgQ3VzdG9tSW5wdXRFbGVtZW50IHtcclxuICAgIG1haWxSZWdleDogUmVnRXhwID0gbmV3IFJlZ0V4cChcclxuICAgICAgICAvXihbYS16QS1aMC05w4bDmMOFw6bDuMOlXy4rLV0pK1xcQCgoW2EtekEtWjAtOcOGw5jDhcOmw7jDpS1dKStcXC4pKyhbYS16QS1aMC05w4bDmMOFw6bDuMOlXXsyLDR9KSskLyxcclxuICAgICk7XHJcblxyXG4gICAgZW1haWw6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsdWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYCR7dGhpcy5lbWFpbC52YWx1ZX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB2YWx1ZSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5lbWFpbC52YWx1ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWxpZCgpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBwYXR0ZXJuVmFsaWQgPSAhdGhpcy52YWx1ZSB8fCB0aGlzLm1haWxSZWdleC50ZXN0KHRoaXMudmFsdWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVtYWlsLnZhbGlkaXR5LnZhbGlkICYmIHBhdHRlcm5WYWxpZDtcclxuICAgIH1cclxuXHJcbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmluaXRDaGlsZElucHV0cygpO1xyXG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENoaWxkSW5wdXRzKCkge1xyXG4gICAgICAgIHRoaXMuZW1haWwgPSBzdXBlci5nZXRDaGlsZElucHV0KCcjZW1haWwtZmllbGQnKTtcclxuICAgICAgICB0aGlzLmVtYWlsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuY2hhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGlmICh0aGlzLnJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1haWwuc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsICcnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZXZlbnRzXHJcbiAgICBwdWJsaWMgY2hhbmdlKCRldmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudG91Y2hlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZS5lbWl0KG5ldyBDdXN0b21FbGVtZW50RXZlbnRBcmdzKHRoaXMudmFsdWUsICdjaGFuZ2UnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZhbGlkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmFsaWQ7XHJcbiAgICAgICAgdGhpcy5vblZhbGlkYXRlLmVtaXQoXHJcbiAgICAgICAgICAgIG5ldyBDdXN0b21FbGVtZW50RXZlbnRBcmdzKHRoaXMudmFsdWUsICd2YWxpZGF0ZScpLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEN1c3RvbUVsZW1lbnQgZnJvbSAnLi4vLi4vZnJhbWV3b3JrL2N1c3RvbS1lbGVtZW50LmRlY29yYXRvcic7XHJcbmltcG9ydCB7IEN1c3RvbUlucHV0RWxlbWVudCB9IGZyb20gJy4uLy4uL2ZyYW1ld29yay9DdXN0b21JbnB1dEVsZW1lbnQnO1xyXG5pbXBvcnQgeyBDdXN0b21FbGVtZW50RXZlbnRBcmdzIH0gZnJvbSAnLi4vLi4vZnJhbWV3b3JrL0N1c3RvbUV2ZW50cyc7XHJcblxyXG5AQ3VzdG9tRWxlbWVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2ZpbGUtZWxlbWVudCcsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwid3JhcHBlclwiPlxyXG5cdFx0XHRcdDxpbnB1dCB0eXBlPVwiZmlsZVwiIGlkPSdmaWxlLWZpZWxkJyBhY2NlcHQ9XCJpbWFnZS8qLGFwcGxpY2F0aW9uL3BkZlwiLz5cclxuXHRcdFx0PC9kaXY+YCxcclxuICAgIHN0eWxlOiBgXHJcbiAgICA6aG9zdHtcclxuICAgICAgICAgICAgd2lkdGg6MTAwJTtcclxuICAgIH1cclxuICAgIC53cmFwcGVye1xyXG4gICAgICAgICAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICB9XHJcbiAgICBpbnB1dHtcclxuICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmNGZmO1xyXG4gICAgICAgICAgICBtYXJnaW46IDJweDtcclxuICAgICAgICAgICAgcmVzaXplOiBub25lO1xyXG4gICAgfVxyXG4gICAgICAgICAgIGAsXHJcbiAgICB1c2VTaGFkb3c6IHRydWUsXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBGaWxlRmllbGRFbGVtZW50IGV4dGVuZHMgQ3VzdG9tSW5wdXRFbGVtZW50IHtcclxuICAgIGZpbGU6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsdWUoKTogRmlsZUxpc3Qge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbGUuZmlsZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZhbHVlKGZpbGVzOiBGaWxlTGlzdCkge1xyXG4gICAgICAgIHRoaXMuZmlsZS5maWxlcyA9IGZpbGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWxpZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maWxlLnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW5pdENoaWxkSW5wdXRzKCk7XHJcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0Q2hpbGRJbnB1dHMoKSB7XHJcbiAgICAgICAgdGhpcy5maWxlID0gc3VwZXIuZ2V0Q2hpbGRJbnB1dCgnI2ZpbGUtZmllbGQnKTtcclxuICAgICAgICB0aGlzLmZpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5jaGFuZ2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgaWYgKHRoaXMucmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5maWxlLnNldEF0dHJpYnV0ZSgncmVxdWlyZWQnLCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm11bHRpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsZS5zZXRBdHRyaWJ1dGUoJ211bHRpcGxlJywgJycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBldmVudHNcclxuICAgIHB1YmxpYyBjaGFuZ2UoJGV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50b3VjaGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlLmVtaXQobmV3IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3ModGhpcy52YWx1ZSwgJ2NoYW5nZScpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmFsaWRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy52YWxpZDtcclxuICAgICAgICB0aGlzLm9uVmFsaWRhdGUuZW1pdChcclxuICAgICAgICAgICAgbmV3IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3ModGhpcy52YWx1ZSwgJ3ZhbGlkYXRlJyksXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgQ3VzdG9tRWxlbWVudCBmcm9tICcuLi8uLi9mcmFtZXdvcmsvY3VzdG9tLWVsZW1lbnQuZGVjb3JhdG9yJztcclxuaW1wb3J0IHsgQ3VzdG9tSW5wdXRFbGVtZW50IH0gZnJvbSAnLi4vLi4vZnJhbWV3b3JrL0N1c3RvbUlucHV0RWxlbWVudCc7XHJcbmltcG9ydCB7IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3MgfSBmcm9tICcuLi8uLi9mcmFtZXdvcmsvQ3VzdG9tRXZlbnRzJztcclxuaW1wb3J0IENwclZhbGlkYXRvciBmcm9tICcuLi8uLi9mcmFtZXdvcmsvVmFsaWRhdGlvbi9WYWxpZGF0b3JzL0NQUic7XHJcbmltcG9ydCBJVmFsaWRhdG9yIGZyb20gJy4uLy4uL2ZyYW1ld29yay9WYWxpZGF0aW9uL0lWYWxpZGF0b3IuaW50ZXJmYWNlJztcclxuaW1wb3J0IEN2clZhbGlkYXRvciBmcm9tICcuLi8uLi9mcmFtZXdvcmsvVmFsaWRhdGlvbi9WYWxpZGF0b3JzL0NWUic7XHJcbmltcG9ydCBCYW5rSWRTd2VkZW5WYWxpZGF0b3IgZnJvbSAnLi4vLi4vZnJhbWV3b3JrL1ZhbGlkYXRpb24vVmFsaWRhdG9ycy9CYW5rSWRTd2VkZW4nO1xyXG5pbXBvcnQgQmFua0lkTm9yd2F5VmFsaWRhdG9yIGZyb20gJy4uLy4uL2ZyYW1ld29yay9WYWxpZGF0aW9uL1ZhbGlkYXRvcnMvQmFua0lkTm9yd2F5JztcclxuXHJcbkBDdXN0b21FbGVtZW50KHtcclxuICAgIHNlbGVjdG9yOiAnaWQtZWxlbWVudCcsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwid3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0naWQtdHlwZSc+XHJcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nY3ZyJz5EYW5pc2ggQ1ZSPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nY3ByJz5EYW5pc2ggQ1BSPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nc3dlJz5Td2VkZW4gQmFuayBJZDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J25vcic+Tm9yd2F5IEJhbmsgSWQ8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG5cdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPSdpZC1maWVsZCcgcGxhY2Vob2xkZXI9JycvPlxyXG5cdFx0XHQ8L2Rpdj5gLFxyXG4gICAgc3R5bGU6IGBcclxuICAgIDpob3N0e1xyXG4gICAgICAgICAgICB3aWR0aDoxMDAlO1xyXG4gICAgfVxyXG4gICAgLndyYXBwZXJ7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgIH1cclxuICAgIGlucHV0LCBzZWxlY3R7XHJcbiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjRmZjtcclxuICAgICAgICAgICAgbWFyZ2luOiAycHg7XHJcbiAgICAgICAgICAgIHJlc2l6ZTogbm9uZTtcclxuICAgIH1cclxuICAgIGlucHV0e1xyXG4gICAgICAgICAgICB3aWR0aDogNzUlICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbiAgICBzZWxlY3R7XHJcbiAgICAgICAgICAgIHdpZHRoOiAyNSUgIWltcG9ydGFudDtcclxuICAgIH1cclxuICAgICAgICAgICBgLFxyXG4gICAgdXNlU2hhZG93OiB0cnVlLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgSWRlbnRpZmljYXRpb25FbGVtZW50IGV4dGVuZHMgQ3VzdG9tSW5wdXRFbGVtZW50IHtcclxuICAgIHR5cGVTZWxlY3RvcjogSFRNTElucHV0RWxlbWVudDtcclxuICAgIHRleHQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgdHlwZTogc3RyaW5nO1xyXG4gICAgdmFsaWRhdG9yczogeyBbaW5kZXg6IHN0cmluZ106IElWYWxpZGF0b3IgfSA9IHtcclxuICAgICAgICBjcHI6IG5ldyBDcHJWYWxpZGF0b3IoKSxcclxuICAgICAgICBjdnI6IG5ldyBDdnJWYWxpZGF0b3IoKSxcclxuICAgICAgICBzd2U6IG5ldyBCYW5rSWRTd2VkZW5WYWxpZGF0b3IoKSxcclxuICAgICAgICBub3I6IG5ldyBCYW5rSWROb3J3YXlWYWxpZGF0b3IoKSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsdWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYCR7dGhpcy50ZXh0LnZhbHVlfWA7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZhbHVlKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnRleHQudmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdG9yc1t0aGlzLnR5cGVdLmlzU2F0aXNmaWVkQnkoXHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUsXHJcbiAgICAgICAgICAgICF0aGlzLnJlcXVpcmVkLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0Q2hpbGRJbnB1dHMoKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gc3VwZXIuZ2V0Q2hpbGRJbnB1dCgnI2lkLWZpZWxkJyk7XHJcbiAgICAgICAgdGhpcy50eXBlU2VsZWN0b3IgPSBzdXBlci5nZXRDaGlsZElucHV0KCcjaWQtdHlwZScpO1xyXG4gICAgICAgIHRoaXMudGV4dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmNoYW5nZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLnR5cGVTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmNoYW5nZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBpZiAodGhpcy5yZXF1aXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnRleHQuc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50eXBlID0gdGhpcy50eXBlU2VsZWN0b3IudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZXZlbnRzXHJcbiAgICBwdWJsaWMgY2hhbmdlKCRldmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudG91Y2hlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdGhpcy50eXBlU2VsZWN0b3IudmFsdWU7XHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZS5lbWl0KG5ldyBDdXN0b21FbGVtZW50RXZlbnRBcmdzKHRoaXMudmFsdWUsICdjaGFuZ2UnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZhbGlkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmFsaWQ7XHJcbiAgICAgICAgdGhpcy5vblZhbGlkYXRlLmVtaXQoXHJcbiAgICAgICAgICAgIG5ldyBDdXN0b21FbGVtZW50RXZlbnRBcmdzKHRoaXMudmFsdWUsICd2YWxpZGF0ZScpLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEN1c3RvbUVsZW1lbnQgZnJvbSAnLi4vLi4vZnJhbWV3b3JrL2N1c3RvbS1lbGVtZW50LmRlY29yYXRvcic7XHJcbmltcG9ydCB7IEN1c3RvbUlucHV0RWxlbWVudCB9IGZyb20gJy4uLy4uL2ZyYW1ld29yay9DdXN0b21JbnB1dEVsZW1lbnQnO1xyXG5pbXBvcnQgeyBDdXN0b21FbGVtZW50RXZlbnRBcmdzIH0gZnJvbSAnLi4vLi4vZnJhbWV3b3JrL0N1c3RvbUV2ZW50cyc7XHJcbmltcG9ydCBNYWtlUmVxdWVzdCBmcm9tICcuLi8uLi9mcmFtZXdvcmsvVXRpbGl0aWVzL01ha2VSZXF1ZXN0JztcclxuaW1wb3J0ICogYXMgaW50bFRlbElucHV0IGZyb20gJ2ludGwtdGVsLWlucHV0JztcclxuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnaW50bC10ZWwtaW5wdXQnO1xyXG5cclxuQEN1c3RvbUVsZW1lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdpbnQtcGhvbmUtZWxlbWVudCcsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG4gICAgICAgICAgICA8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cImh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ludGwtdGVsLWlucHV0LzE2LjAuMC9jc3MvaW50bFRlbElucHV0LmNzc1wiID5cclxuXHRcdFx0PGRpdiBjbGFzcz1cIndyYXBwZXJcIj5cclxuXHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRlbFwiIGlkPVwicGhvbmUtZmllbGRcIiAgLz5cclxuXHRcdFx0PC9kaXY+YCxcclxuICAgIHN0eWxlOiBgXHJcbiAgICA6aG9zdHtcclxuICAgICAgICAgICAgd2lkdGg6MTAwJTtcclxuICAgIH1cclxuICAgIC53cmFwcGVye1xyXG4gICAgICAgICAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICB9XHJcbiAgICAuaXRpIHtcclxuICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gICAgaW5wdXR7XHJcbiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjRmZjtcclxuICAgICAgICAgICAgbWFyZ2luOiAycHg7XHJcbiAgICAgICAgICAgIHJlc2l6ZTogbm9uZTtcclxuICAgIH1cclxuICAgICAgICAgICBgLFxyXG4gICAgdXNlU2hhZG93OiB0cnVlLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgSW50UGhvbmVGaWVsZEVsZW1lbnQgZXh0ZW5kcyBDdXN0b21JbnB1dEVsZW1lbnQge1xyXG4gICAgcGhvbmU6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBmdWxsUGhvbmU6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBpbnRsVGVsSW5wdXQ6IFBsdWdpbjtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZhbHVlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50bFRlbElucHV0LmdldE51bWJlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB2YWx1ZSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5waG9uZS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWxpZCgpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBwYXR0ZXJuVmFsaWQgPVxyXG4gICAgICAgICAgICAhdGhpcy5pbnRsVGVsSW5wdXQuZ2V0TnVtYmVyKCkgfHwgdGhpcy5pbnRsVGVsSW5wdXQuaXNWYWxpZE51bWJlcigpO1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuVmFsaWQgJiYgdGhpcy5waG9uZS52YWxpZGl0eS52YWxpZDtcclxuICAgIH1cclxuXHJcbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldEludGxUZWxJbnB1dCgpO1xyXG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENoaWxkSW5wdXRzKCkge1xyXG4gICAgICAgIHRoaXMucGhvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5jaGFuZ2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgaWYgKHRoaXMucmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5waG9uZS5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgJycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldEludGxUZWxJbnB1dCgpIHtcclxuICAgICAgICB0aGlzLnBob25lID0gc3VwZXIuZ2V0Q2hpbGRJbnB1dCgnI3Bob25lLWZpZWxkJyk7XHJcbiAgICAgICAgdGhpcy5pbnRsVGVsSW5wdXQgPSBpbnRsVGVsSW5wdXQodGhpcy5waG9uZSwge1xyXG4gICAgICAgICAgICBnZW9JcExvb2t1cDogKHN1Y2Nlc3MsIGZhaWx1cmUpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTWFrZVJlcXVlc3QoXHJcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHBzOi8vaXBpbmZvLmlvL2pzb24/dG9rZW49ODIyNjEzODIxN2E2OGEnLFxyXG4gICAgICAgICAgICAgICAgICAgICdnZXQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZW5kKClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVxdWVzdDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IEpTT04ucGFyc2UocmVxdWVzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWNjZXNzKHJlcy5jb3VudHJ5KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3VjY2VzcygnREsnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGlkZGVuSW5wdXQ6ICdmdWxscGhvbmUnLFxyXG4gICAgICAgICAgICBpbml0aWFsQ291bnRyeTogJ2F1dG8nLFxyXG4gICAgICAgICAgICBuYXRpb25hbE1vZGU6IHRydWUsXHJcbiAgICAgICAgICAgIHV0aWxzU2NyaXB0OlxyXG4gICAgICAgICAgICAgICAgJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ludGwtdGVsLWlucHV0LzE1LjAuMS9qcy91dGlscy5qcycsXHJcbiAgICAgICAgfSBhcyBhbnkpO1xyXG4gICAgICAgIHRoaXMuaW50bFRlbElucHV0LnByb21pc2UudGhlbihlID0+IHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZ1bGxQaG9uZSA9IHN1cGVyLmdldENoaWxkSW5wdXQoJ1tuYW1lPVwiZnVsbHBob25lXCJdJyk7XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gZXZlbnRzXHJcbiAgICBwdWJsaWMgY2hhbmdlKCRldmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudG91Y2hlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZS5lbWl0KG5ldyBDdXN0b21FbGVtZW50RXZlbnRBcmdzKHRoaXMudmFsdWUsICdjaGFuZ2UnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZhbGlkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmFsaWQ7XHJcbiAgICAgICAgdGhpcy5vblZhbGlkYXRlLmVtaXQoXHJcbiAgICAgICAgICAgIG5ldyBDdXN0b21FbGVtZW50RXZlbnRBcmdzKHRoaXMudmFsdWUsICd2YWxpZGF0ZScpLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEN1c3RvbUVsZW1lbnQgZnJvbSAnLi4vLi4vZnJhbWV3b3JrL2N1c3RvbS1lbGVtZW50LmRlY29yYXRvcic7XHJcbmltcG9ydCB7IEN1c3RvbUlucHV0RWxlbWVudCB9IGZyb20gJy4uLy4uL2ZyYW1ld29yay9DdXN0b21JbnB1dEVsZW1lbnQnO1xyXG5pbXBvcnQgeyBDdXN0b21FbGVtZW50RXZlbnRBcmdzIH0gZnJvbSAnLi4vLi4vZnJhbWV3b3JrL0N1c3RvbUV2ZW50cyc7XHJcblxyXG5AQ3VzdG9tRWxlbWVudCh7XHJcbiAgICBzZWxlY3RvcjogJ251bWVyaWMtZWxlbWVudCcsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwid3JhcHBlclwiPlxyXG5cdFx0XHRcdDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgaWQ9J251bWVyaWMtZmllbGQnLz5cclxuXHRcdFx0PC9kaXY+YCxcclxuICAgIHN0eWxlOiBgXHJcbiAgICA6aG9zdHtcclxuICAgICAgICAgICAgd2lkdGg6MTAwJTtcclxuICAgIH1cclxuICAgIC53cmFwcGVye1xyXG4gICAgICAgICAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICB9XHJcbiAgICBpbnB1dHtcclxuICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmNGZmO1xyXG4gICAgICAgICAgICBtYXJnaW46IDJweDtcclxuICAgICAgICAgICAgcmVzaXplOiBub25lO1xyXG4gICAgfVxyXG4gICAgICAgICAgIGAsXHJcbiAgICB1c2VTaGFkb3c6IHRydWUsXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBOdW1lcmljRmllbGRFbGVtZW50IGV4dGVuZHMgQ3VzdG9tSW5wdXRFbGVtZW50IHtcclxuICAgIG51bWJlcjogSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWx1ZSgpOiBhbnkge1xyXG4gICAgICAgIGlmIChpc05hTih0aGlzLm51bWJlci52YWx1ZUFzTnVtYmVyKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm51bWJlci52YWx1ZUFzTnVtYmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB2YWx1ZSh2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgdGhpcy5udW1iZXIudmFsdWVBc051bWJlciA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWxpZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5udW1iZXIudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0Q2hpbGRJbnB1dHMoKSB7XHJcbiAgICAgICAgdGhpcy5udW1iZXIgPSBzdXBlci5nZXRDaGlsZElucHV0KCcjbnVtZXJpYy1maWVsZCcpO1xyXG4gICAgICAgIHRoaXMubnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuY2hhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGlmICh0aGlzLnJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubnVtYmVyLnNldEF0dHJpYnV0ZSgncmVxdWlyZWQnLCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm1heCkge1xyXG4gICAgICAgICAgICB0aGlzLm51bWJlci5zZXRBdHRyaWJ1dGUoJ21heCcsIHRoaXMubWF4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubWluKSB7XHJcbiAgICAgICAgICAgIHRoaXMubnVtYmVyLnNldEF0dHJpYnV0ZSgnbWluJywgdGhpcy5taW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zdGVwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubnVtYmVyLnNldEF0dHJpYnV0ZSgnc3RlcCcsIHRoaXMuc3RlcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGV2ZW50c1xyXG4gICAgcHVibGljIGNoYW5nZSgkZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRvdWNoZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2UuZW1pdChuZXcgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyh0aGlzLnZhbHVlLCAnY2hhbmdlJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2YWxpZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnZhbGlkO1xyXG4gICAgICAgIHRoaXMub25WYWxpZGF0ZS5lbWl0KFxyXG4gICAgICAgICAgICBuZXcgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyh0aGlzLnZhbHVlLCAndmFsaWRhdGUnKSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBDdXN0b21FbGVtZW50IGZyb20gJy4uLy4uL2ZyYW1ld29yay9jdXN0b20tZWxlbWVudC5kZWNvcmF0b3InO1xyXG5pbXBvcnQgeyBDdXN0b21JbnB1dEVsZW1lbnQgfSBmcm9tICcuLi8uLi9mcmFtZXdvcmsvQ3VzdG9tSW5wdXRFbGVtZW50JztcclxuaW1wb3J0IHsgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyB9IGZyb20gJy4uLy4uL2ZyYW1ld29yay9DdXN0b21FdmVudHMnO1xyXG5pbXBvcnQgeyBTdHJpbmdVdGlsIH0gZnJvbSAnLi4vLi4vZnJhbWV3b3JrL1V0aWxpdGllcy9TdHJpbmdVdGlsJztcclxuXHJcbkBDdXN0b21FbGVtZW50KHtcclxuICAgIHNlbGVjdG9yOiAncmFkaW8tZ3JvdXAtZWxlbWVudCcsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwid3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICBcclxuXHRcdFx0PC9kaXY+YCxcclxuICAgIHN0eWxlOiBgXHJcbiAgICAgICAgICAgIDpob3N0e1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6MTAwJTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAud3JhcHBlcntcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5yYWRpby1idXR0b24ge1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGF1dG87XHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IGF1dG8gM3B4O1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgIGZsZXgtZ3JvdzogMC4xO1xyXG4gICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5wdXR7XHJcbiAgICAgICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGF1dG8gIWltcG9ydGFudDtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWY0ZmY7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IDJweDtcclxuICAgICAgICAgICAgICAgIHJlc2l6ZTogbm9uZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIGAsXHJcbiAgICB1c2VTaGFkb3c6IHRydWUsXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBSYWRpb0J1dHRvbkdyb3VwRWxlbWVudCBleHRlbmRzIEN1c3RvbUlucHV0RWxlbWVudCB7XHJcbiAgICByYWRpb0J1dHRvbjogSFRNTElucHV0RWxlbWVudFtdO1xyXG4gICAgcmFkaW9CdXR0b25UZW1wbGF0ZSA9IGBcclxuICAgIDxkaXYgY2xhc3M9J3JhZGlvLWJ1dHRvbic+XHJcbiAgICAgICAgPGxhYmVsIGZvcj1cInsyfVwiPnsxfTwvbGFiZWw+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9J3JhZGlvJyBuYW1lPSd7MH0nIHZhbHVlPVwiezF9XCIgaWQ9XCJ7Mn1cIiB7M30vPlxyXG4gICAgPC9kaXY+YDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJhZGlvQnV0dG9uLmZpbHRlcihjID0+IGMuY2hlY2tlZCkubWFwKGMgPT4gYy52YWx1ZSlbMF07XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZhbHVlKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgbWF0Y2hlZFJhZGlvID0gdGhpcy5yYWRpb0J1dHRvbi5maWx0ZXIoYyA9PiBjLnZhbHVlID09PSB2YWx1ZSlbMF07XHJcbiAgICAgICAgaWYgKG1hdGNoZWRSYWRpbykge1xyXG4gICAgICAgICAgICBtYXRjaGVkUmFkaW8uc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmFkaW9CdXR0b24uZmlsdGVyKGMgPT4gYy5jaGVja2VkKS5sZW5ndGggPiAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRDaGlsZElucHV0cygpIHtcclxuICAgICAgICB0aGlzLmFkZFJhZGlvQnV0dG9ucygpO1xyXG4gICAgICAgIHRoaXMucmFkaW9CdXR0b24gPSBzdXBlci5nZXRDaGlsZElucHV0cyhgW25hbWU9JHt0aGlzLm5hbWV9XWApO1xyXG4gICAgICAgIHRoaXMucmFkaW9CdXR0b24uZm9yRWFjaChyYWRpbyA9PlxyXG4gICAgICAgICAgICByYWRpby5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmNoYW5nZS5iaW5kKHRoaXMpKSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkUmFkaW9CdXR0b25zKCkge1xyXG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSBzdXBlci5nZXRDaGlsZEVsZW1lbnQoJy53cmFwcGVyJyk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIHdyYXBwZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKFxyXG4gICAgICAgICAgICAgICAgJ2JlZm9yZWVuZCcsXHJcbiAgICAgICAgICAgICAgICBTdHJpbmdVdGlsLlN0cmluZ0Zvcm1hdChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhZGlvQnV0dG9uVGVtcGxhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgYCR7dGhpcy5uYW1lfS0ke2luZGV4fWAsXHJcbiAgICAgICAgICAgICAgICAgICAgYCR7dGhpcy5yZXF1aXJlZCA/ICdyZXF1aXJlZCcgOiAnJ31gLFxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIGV2ZW50c1xyXG4gICAgcHVibGljIGNoYW5nZSgkZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRvdWNoZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2UuZW1pdChuZXcgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyh0aGlzLnZhbHVlLCAnY2hhbmdlJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2YWxpZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnZhbGlkO1xyXG4gICAgICAgIHRoaXMub25WYWxpZGF0ZS5lbWl0KFxyXG4gICAgICAgICAgICBuZXcgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyh0aGlzLnZhbHVlLCAndmFsaWRhdGUnKSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBDdXN0b21FbGVtZW50IGZyb20gJy4uLy4uL2ZyYW1ld29yay9jdXN0b20tZWxlbWVudC5kZWNvcmF0b3InO1xyXG5pbXBvcnQgeyBDdXN0b21JbnB1dEVsZW1lbnQgfSBmcm9tICcuLi8uLi9mcmFtZXdvcmsvQ3VzdG9tSW5wdXRFbGVtZW50JztcclxuaW1wb3J0IHsgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyB9IGZyb20gJy4uLy4uL2ZyYW1ld29yay9DdXN0b21FdmVudHMnO1xyXG5cclxuQEN1c3RvbUVsZW1lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICd0ZXh0LWFyZWEtZWxlbWVudCcsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwid3JhcHBlclwiPlxyXG5cdFx0XHRcdDx0ZXh0YXJlYSByb3dzPTUgaWQ9J3RleHQtYXJlYS1maWVsZCc+PC90ZXh0YXJlYT5cclxuXHRcdFx0PC9kaXY+YCxcclxuICAgIHN0eWxlOiBgXHJcbiAgICA6aG9zdHtcclxuICAgICAgICAgICAgd2lkdGg6MTAwJTtcclxuICAgIH1cclxuICAgIC53cmFwcGVye1xyXG4gICAgICAgICAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICB9XHJcbiAgICB0ZXh0YXJlYXtcclxuICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmNGZmO1xyXG4gICAgICAgICAgICBtYXJnaW46IDJweDtcclxuICAgICAgICAgICAgcmVzaXplOiBub25lO1xyXG4gICAgfVxyXG4gICAgICAgICAgIGAsXHJcbiAgICB1c2VTaGFkb3c6IHRydWUsXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBUZXh0QXJlYUVsZW1lbnQgZXh0ZW5kcyBDdXN0b21JbnB1dEVsZW1lbnQge1xyXG4gICAgdGV4dDogSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgJHt0aGlzLnRleHQudmFsdWV9YDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgdmFsdWUodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMudGV4dC52YWx1ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWxpZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZXh0LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENoaWxkSW5wdXRzKCkge1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHN1cGVyLmdldENoaWxkSW5wdXQoJyN0ZXh0LWFyZWEtZmllbGQnKTtcclxuICAgICAgICB0aGlzLnRleHQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5jaGFuZ2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgaWYgKHRoaXMucmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgdGhpcy50ZXh0LnNldEF0dHJpYnV0ZSgncmVxdWlyZWQnLCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGV2ZW50c1xyXG4gICAgcHVibGljIGNoYW5nZSgkZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRvdWNoZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2UuZW1pdChuZXcgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyh0aGlzLnZhbHVlLCAnY2hhbmdlJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2YWxpZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnZhbGlkO1xyXG4gICAgICAgIHRoaXMub25WYWxpZGF0ZS5lbWl0KFxyXG4gICAgICAgICAgICBuZXcgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyh0aGlzLnZhbHVlLCAndmFsaWRhdGUnKSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBDdXN0b21FbGVtZW50IGZyb20gJy4uLy4uL2ZyYW1ld29yay9jdXN0b20tZWxlbWVudC5kZWNvcmF0b3InO1xyXG5pbXBvcnQgeyBDdXN0b21JbnB1dEVsZW1lbnQgfSBmcm9tICcuLi8uLi9mcmFtZXdvcmsvQ3VzdG9tSW5wdXRFbGVtZW50JztcclxuaW1wb3J0IHsgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyB9IGZyb20gJy4uLy4uL2ZyYW1ld29yay9DdXN0b21FdmVudHMnO1xyXG5cclxuQEN1c3RvbUVsZW1lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICd0ZXh0LWVsZW1lbnQnLFxyXG4gICAgdGVtcGxhdGU6IGBcclxuXHRcdFx0PGRpdiBjbGFzcz1cIndyYXBwZXJcIj5cclxuXHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiBpZD0ndGV4dC1maWVsZCcvPlxyXG5cdFx0XHQ8L2Rpdj5gLFxyXG4gICAgc3R5bGU6IGBcclxuICAgIDpob3N0e1xyXG4gICAgICAgICAgICB3aWR0aDoxMDAlO1xyXG4gICAgfVxyXG4gICAgLndyYXBwZXJ7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgIH1cclxuICAgIGlucHV0e1xyXG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWY0ZmY7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMnB4O1xyXG4gICAgICAgICAgICByZXNpemU6IG5vbmU7XHJcbiAgICB9XHJcbiAgICAgICAgICAgYCxcclxuICAgIHVzZVNoYWRvdzogdHJ1ZSxcclxufSlcclxuZXhwb3J0IGNsYXNzIFRleHRGaWVsZEVsZW1lbnQgZXh0ZW5kcyBDdXN0b21JbnB1dEVsZW1lbnQge1xyXG4gICAgdGV4dDogSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgJHt0aGlzLnRleHQudmFsdWV9YDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgdmFsdWUodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMudGV4dC52YWx1ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWxpZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZXh0LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENoaWxkSW5wdXRzKCkge1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHN1cGVyLmdldENoaWxkSW5wdXQoJyN0ZXh0LWZpZWxkJyk7XHJcbiAgICAgICAgdGhpcy50ZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuY2hhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGlmICh0aGlzLnJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dC5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgJycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBldmVudHNcclxuICAgIHB1YmxpYyBjaGFuZ2UoJGV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50b3VjaGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlLmVtaXQobmV3IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3ModGhpcy52YWx1ZSwgJ2NoYW5nZScpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmFsaWRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy52YWxpZDtcclxuICAgICAgICB0aGlzLm9uVmFsaWRhdGUuZW1pdChcclxuICAgICAgICAgICAgbmV3IEN1c3RvbUVsZW1lbnRFdmVudEFyZ3ModGhpcy52YWx1ZSwgJ3ZhbGlkYXRlJyksXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgaW50ZXJmYWNlIExpc3RlbmVyPFQ+IHtcclxuICAgIChldmVudDogVCk6IGFueTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEaXNwb3NhYmxlIHtcclxuICAgIGRpc3Bvc2UoKTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEN1c3RvbUVsZW1lbnRFdmVudEFyZ3Mge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHZhbHVlOiBhbnksIHB1YmxpYyBldmVudE5hbWU6IHN0cmluZykge31cclxufVxyXG4vKiogcGFzc2VzIHRocm91Z2ggZXZlbnRzIGFzIHRoZXkgaGFwcGVuLiBZb3Ugd2lsbCBub3QgZ2V0IGV2ZW50cyBmcm9tIGJlZm9yZSB5b3Ugc3RhcnQgbGlzdGVuaW5nICovXHJcbmV4cG9ydCBjbGFzcyBDdXN0b21FbGVtZW50RXZlbnQ8VD4ge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6IExpc3RlbmVyPFQ+W10gPSBbXTtcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzT25jZXI6IExpc3RlbmVyPFQ+W10gPSBbXTtcclxuXHJcbiAgICBvbiA9IChsaXN0ZW5lcjogTGlzdGVuZXI8VD4pOiBEaXNwb3NhYmxlID0+IHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkaXNwb3NlOiAoKSA9PiB0aGlzLm9mZihsaXN0ZW5lciksXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgb25jZSA9IChsaXN0ZW5lcjogTGlzdGVuZXI8VD4pOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVyc09uY2VyLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBvZmYgPSAobGlzdGVuZXI6IExpc3RlbmVyPFQ+KSA9PiB7XHJcbiAgICAgICAgdmFyIGNhbGxiYWNrSW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcclxuICAgICAgICBpZiAoY2FsbGJhY2tJbmRleCA+IC0xKSB0aGlzLmxpc3RlbmVycy5zcGxpY2UoY2FsbGJhY2tJbmRleCwgMSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGVtaXQgPSAoZXZlbnQ6IFQpID0+IHtcclxuICAgICAgICAvKiogVXBkYXRlIGFueSBnZW5lcmFsIGxpc3RlbmVycyAqL1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoZXZlbnQpKTtcclxuXHJcbiAgICAgICAgLyoqIENsZWFyIHRoZSBgb25jZWAgcXVldWUgKi9cclxuICAgICAgICBpZiAodGhpcy5saXN0ZW5lcnNPbmNlci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzT25jZXIuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihldmVudCkpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyc09uY2VyID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwaXBlID0gKHRlOiBDdXN0b21FbGVtZW50RXZlbnQ8VD4pOiBEaXNwb3NhYmxlID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vbihlID0+IHRlLmVtaXQoZSkpO1xyXG4gICAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBDdXN0b21FbGVtZW50RXZlbnQsIEN1c3RvbUVsZW1lbnRFdmVudEFyZ3MgfSBmcm9tIFwiLi9DdXN0b21FdmVudHNcIjtcclxuaW1wb3J0IERvbVV0aWwgZnJvbSBcIi4vVXRpbGl0aWVzL0RvbVV0aWxcIjtcclxuaW1wb3J0IEFycmF5VXRpbCBmcm9tIFwiLi9VdGlsaXRpZXMvQXJyYXlVdGlsXCI7XHJcblxyXG5jbGFzcyBJRGljdGlvbmFyeTxUVmFsdWU+IHtcclxuICAgIFtpbmRleDogc3RyaW5nXTogVFZhbHVlO1xyXG59XHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDdXN0b21JbnB1dEVsZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XHJcbiAgICBwcml2YXRlIGRlcGVuZGVudE9uTGlzdCA9IG5ldyBJRGljdGlvbmFyeTxib29sZWFuPigpO1xyXG4gICAgcHJpdmF0ZSB2aXNpYmlsaXR5U3RhdGUgPSB0cnVlO1xyXG5cclxuICAgIHByb3RlY3RlZCB0b3VjaGVkID0gZmFsc2U7XHJcbiAgICBwcm90ZWN0ZWQgZG9tVXRpbDogRG9tVXRpbDtcclxuXHJcbiAgICBwcm90ZWN0ZWQgaGFzVmFsdWVEZXBlbmRlbmN5OiBhbnk7XHJcbiAgICBwcm90ZWN0ZWQgbm9WYWx1ZURlcGVuZGVuY3k6IGFueTtcclxuICAgIHByb3RlY3RlZCBkZXBlbmRlbmNpZXM6IGFueVtdO1xyXG5cclxuICAgIHB1YmxpYyBvbkNoYW5nZSA9IG5ldyBDdXN0b21FbGVtZW50RXZlbnQ8Q3VzdG9tRWxlbWVudEV2ZW50QXJncz4oKTtcclxuICAgIHB1YmxpYyBvblZhbGlkYXRlID0gbmV3IEN1c3RvbUVsZW1lbnRFdmVudDxDdXN0b21FbGVtZW50RXZlbnRBcmdzPigpO1xyXG4gICAgcHVibGljIG9uVmlzaWJpbGl0eUNoYW5nZWQgPSBuZXcgQ3VzdG9tRWxlbWVudEV2ZW50PEN1c3RvbUVsZW1lbnRFdmVudEFyZ3M+KCk7XHJcblxyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyBvcHRpb25zOiBhbnlbXTtcclxuICAgIHB1YmxpYyByZXF1aXJlZDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBjdXN0b21WYWx1ZTogc3RyaW5nO1xyXG4gICAgcHVibGljIGFsbERlcGVuZGVuY2llc011c3RCZU1ldDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHVibGljIG11bHRpOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgbWF4OiBhbnk7XHJcbiAgICBwdWJsaWMgbWluOiBhbnk7XHJcbiAgICBwdWJsaWMgc3RlcDogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgZ2V0IHZhbHVlKCk6IGFueTtcclxuICAgIGFic3RyYWN0IHNldCB2YWx1ZSh2YWx1ZSk7XHJcbiAgICBhYnN0cmFjdCBnZXQgdmFsaWQoKTogYm9vbGVhbjtcclxuXHJcbiAgICBhYnN0cmFjdCBpbml0Q2hpbGRJbnB1dHMoKTogdm9pZDtcclxuICAgIGFic3RyYWN0IHZhbGlkYXRlKCk6IHZvaWQ7XHJcbiAgICBhYnN0cmFjdCBjaGFuZ2UoJGV2ZW50KTogdm9pZDtcclxuXHJcbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuICAgICAgICB0aGlzLmRvbVV0aWwgPSBuZXcgRG9tVXRpbCh0aGlzKTtcclxuICAgICAgICB0aGlzLnBhcnNlRGF0YSgpO1xyXG4gICAgICAgIHRoaXMuaW5pdENoaWxkSW5wdXRzKCk7XHJcbiAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XHJcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVzKCk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYmluZERlcGVuZGVuY2llcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcGFyc2VEYXRhKCk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZSh0aGlzLmNoaWxkcmVuWzBdLmlubmVySFRNTCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5jaGlsZHJlblswXSk7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IGRhdGEub3B0aW9ucztcclxuICAgICAgICAgICAgdGhpcy5oYXNWYWx1ZURlcGVuZGVuY3kgPSBkYXRhLmhhc1ZhbHVlRGVwZW5kZW5jeTtcclxuICAgICAgICAgICAgdGhpcy5ub1ZhbHVlRGVwZW5kZW5jeSA9IGRhdGEubm9WYWx1ZURlcGVuZGVuY3k7XHJcbiAgICAgICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGF0YS5kZXBlbmRlbmNpZXM7XHJcbiAgICAgICAgICAgIHRoaXMucmVxdWlyZWQgPSBkYXRhLnJlcXVpcmVkO1xyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuYWxsRGVwZW5kZW5jaWVzTXVzdEJlTWV0ID0gZGF0YS5hbGxEZXBlbmRlbmNpZXNNdXN0QmVNZXQ7XHJcbiAgICAgICAgICAgIHRoaXMubXVsdGkgPSBkYXRhLm11bHRpO1xyXG4gICAgICAgICAgICB0aGlzLm1heCA9IGRhdGEubWF4O1xyXG4gICAgICAgICAgICB0aGlzLm1pbiA9IGRhdGEubWluO1xyXG4gICAgICAgICAgICB0aGlzLnN0ZXAgPSBkYXRhLnN0ZXA7XHJcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tVmFsdWUgPSBkYXRhLnZhbHVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJpbmRFdmVudHMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5vblZhbGlkYXRlLm9uKGUgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5jbG9zZXN0KCcuY3VzdG9tLXZhbGlkYXRpb24tdGFyZ2V0Jykpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VzdCgnLmN1c3RvbS12YWxpZGF0aW9uLXRhcmdldCcpLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnZhbGlkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VzdCgnLmN1c3RvbS12YWxpZGF0aW9uLXRhcmdldCcpLmNsYXNzTGlzdC5hZGQoXCJ2YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuY2xvc2VzdCgnLmN1c3RvbS12YWxpZGF0aW9uLXRhcmdldCcpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3Nlc3QoJy5jdXN0b20tdmFsaWRhdGlvbi10YXJnZXQnKS5jbGFzc0xpc3QuYWRkKFwiaW52YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3Nlc3QoJy5jdXN0b20tdmFsaWRhdGlvbi10YXJnZXQnKS5jbGFzc0xpc3QucmVtb3ZlKFwidmFsaWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvbVV0aWwuZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2Uub24oZSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRvdWNoZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0QXR0cmlidXRlcygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcImN1c3RvbS1pbnB1dFwiLCBcIlwiKTtcclxuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgdGhpcy5uYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJpbmREZXBlbmRlbmNpZXMoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzVmFsdWVEZXBlbmRlbmN5ICYmIHRoaXMuaGFzVmFsdWVEZXBlbmRlbmN5Lml0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkTmFtZSBvZiB0aGlzLmhhc1ZhbHVlRGVwZW5kZW5jeS5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kRGVwZW5kZW5jeShmaWVsZE5hbWUsIFwiaGFzXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5ub1ZhbHVlRGVwZW5kZW5jeSAmJiB0aGlzLm5vVmFsdWVEZXBlbmRlbmN5Lml0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkTmFtZSBvZiB0aGlzLm5vVmFsdWVEZXBlbmRlbmN5Lml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJpbmREZXBlbmRlbmN5KGZpZWxkTmFtZSwgXCJub1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGVwZW5kZW5jaWVzICYmIHRoaXMuZGVwZW5kZW5jaWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGluZGV4IGluIHRoaXMuZGVwZW5kZW5jaWVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVwZW5kZW5jeSA9IHRoaXMuZGVwZW5kZW5jaWVzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkTmFtZSBvZiBkZXBlbmRlbmN5Lml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmluZERlcGVuZGVuY3koXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImN1c3RvbVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeS52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY3kuY3JpdGVyaWEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYmluZERlcGVuZGVuY3koZWxlbWVudE5hbWU6IHN0cmluZywgdHlwZTogc3RyaW5nLCB2YWx1ZT86IHN0cmluZywgY3JpdGVyaWE/OiBzdHJpbmcsICk6IHZvaWQge1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke2VsZW1lbnROYW1lfVwiXWApIGFzIEN1c3RvbUlucHV0RWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBDdXN0b21JbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGVwZW5kZW50T25MaXN0Lmhhc093blByb3BlcnR5KGVsZW1lbnQubmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgaXNWaXNpYmxlQnlEZWZhdWx0ID0gdHlwZSA9PT0gXCJub1wiO1xyXG4gICAgICAgICAgICBlbGVtZW50LlJlZ2lzdGVyRGVwZW5kZW50T24odGhpcy5uYW1lLCBpc1Zpc2libGVCeURlZmF1bHQpO1xyXG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlLm9uKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IElzQ29uZGl0aW9uTWF0Y2hlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwiaGFzXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBJc0NvbmRpdGlvbk1hdGNoZWQgPSAhIWUudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJub1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgSXNDb25kaXRpb25NYXRjaGVkID0gIWUudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJjdXN0b21cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjcml0ZXJpYSA9PT0gXCJFeGFjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIElzQ29uZGl0aW9uTWF0Y2hlZCA9IGUudmFsdWUgPT0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjcml0ZXJpYSA9PT0gXCJMZXNzVGhhblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIElzQ29uZGl0aW9uTWF0Y2hlZCA9IGUudmFsdWUgPCB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNyaXRlcmlhID09PSBcIk1vcmVUaGFuXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSXNDb25kaXRpb25NYXRjaGVkID0gZS52YWx1ZSA+IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuRGVwZW5kZW50T25TdGF0ZUNoYW5nZWQodGhpcy5uYW1lLCBJc0NvbmRpdGlvbk1hdGNoZWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2VkLm9uKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlzaWJpbGl0eVN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNoYW5nZS5lbWl0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyh0aGlzLnZhbHVlLCBcImNoYW5nZVwiKSxcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LkRlcGVuZGVudE9uU3RhdGVDaGFuZ2VkKHRoaXMubmFtZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRWaXNpYmlsaXR5KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmFsbERlcGVuZGVuY2llc011c3RCZU1ldCkge1xyXG4gICAgICAgICAgICB0aGlzLnZpc2liaWxpdHlTdGF0ZSA9IE9iamVjdC52YWx1ZXModGhpcy5kZXBlbmRlbnRPbkxpc3QpLmV2ZXJ5KHN0YXRlID0+IHN0YXRlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnZpc2liaWxpdHlTdGF0ZSA9IE9iamVjdC52YWx1ZXModGhpcy5kZXBlbmRlbnRPbkxpc3QpLnNvbWUoc3RhdGUgPT4gc3RhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMudmlzaWJpbGl0eVN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9uVmlzaWJpbGl0eUNoYW5nZWQuZW1pdChuZXcgQ3VzdG9tRWxlbWVudEV2ZW50QXJncyh0aGlzLnZhbHVlLCBcIlZpc2liaWxpdHlDaGFuZ2VkXCIpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhpZGUoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIiwgXCJcIik7XHJcbiAgICAgICAgaWYodGhpcy5jbG9zZXN0KCcuY3VzdG9tLXZhbGlkYXRpb24tdGFyZ2V0Jykpe1xyXG4gICAgICAgICAgICB0aGlzLmNsb3Nlc3QoJy5jdXN0b20tdmFsaWRhdGlvbi10YXJnZXQnKS5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIiwgXCJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvdygpIHtcclxuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImhpZGRlblwiKTtcclxuICAgICAgICBpZih0aGlzLmNsb3Nlc3QoJy5jdXN0b20tdmFsaWRhdGlvbi10YXJnZXQnKSl7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VzdCgnLmN1c3RvbS12YWxpZGF0aW9uLXRhcmdldCcpLnJlbW92ZUF0dHJpYnV0ZShcImhpZGRlblwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGdldENoaWxkSW5wdXQoc2VsZWN0b3I6IHN0cmluZyk6IEhUTUxJbnB1dEVsZW1lbnQge1xyXG4gICAgICAgIGxldCBlbGVtZW50OiBhbnkgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QpIHtcclxuICAgICAgICAgICAgZWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0Q2hpbGRJbnB1dHMoc2VsZWN0b3I6IHN0cmluZyk6IEhUTUxJbnB1dEVsZW1lbnRbXSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQ6IGFueSA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gdGhpcy5zaGFkb3dSb290O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQXJyYXlVdGlsLkZyb21Ob2RlTGlzdChcclxuICAgICAgICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSxcclxuICAgICAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnRbXTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0Q2hpbGRFbGVtZW50KHNlbGVjdG9yOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQ6IGFueSA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gdGhpcy5zaGFkb3dSb290O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWxlbWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSBhcyBIVE1MRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgUmVnaXN0ZXJEZXBlbmRlbnRPbihuYW1lOiBzdHJpbmcsIGluaXRpYWxWYWx1ZTogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy5kZXBlbmRlbnRPbkxpc3RbbmFtZV0gPSBpbml0aWFsVmFsdWU7XHJcbiAgICAgICAgdGhpcy5zZXRWaXNpYmlsaXR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIERlcGVuZGVudE9uU3RhdGVDaGFuZ2VkKG5hbWU6IHN0cmluZywgc3RhdGU6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodGhpcy5kZXBlbmRlbnRPbkxpc3QuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXBlbmRlbnRPbkxpc3RbbmFtZV0gPSBzdGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRWaXNpYmlsaXR5KCk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXJyYXlVdGlsIHtcclxuXHRwdWJsaWMgc3RhdGljIEZyb21Ob2RlTGlzdDxUIGV4dGVuZHMgTm9kZT4obGlzdDogTm9kZUxpc3RPZjxUPik6IFRbXSB7XHJcblx0XHRyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgbGlzdCBhcyBhbnkpO1xyXG5cdH1cclxuXHJcbn1cclxuIiwi77u/aW1wb3J0IHsgVmlld3BvcnRVdGlsIH0gZnJvbSAnLi9WaWV3cG9ydFV0aWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9tVXRpbCB7XHJcbiAgICBwcml2YXRlIHZpZXdQb3J0VXRpbDogVmlld3BvcnRVdGlsO1xyXG4gICAgcHVibGljIGVsZW1lbnQ6IEVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICB0aGlzLnZpZXdQb3J0VXRpbCA9IG5ldyBWaWV3cG9ydFV0aWwodGhpcy5lbGVtZW50IGFzIEhUTUxFbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGF0YUF0dHIoYXR0cjogc3RyaW5nLCBkZWZhdWx0dmFsdWU/OiBzdHJpbmcpOiBhbnkge1xyXG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoYGRhdGEtJHthdHRyfWApO1xyXG5cclxuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogZGVmYXVsdHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXREYXRhQXR0cihhdHRyOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiBhbnkge1xyXG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShgZGF0YS0ke2F0dHJ9YCwgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBdHRyKGF0dHI6IHN0cmluZywgZGVmYXVsdHZhbHVlPzogc3RyaW5nKTogYW55IHtcclxuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHIpO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBkZWZhdWx0dmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEF0dHIoYXR0cjogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ciwgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVBdHRyKGF0dHI6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVEYXRhQXR0cihhdHRyOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShgZGF0YS0ke2F0dHJ9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhhc0F0dHIoYXR0cjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuaGFzQXR0cmlidXRlKGF0dHIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaGFrZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFwcGVuZENsYXNzKCdzaGFrZScpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNsYXNzKCdzaGFrZScpO1xyXG4gICAgICAgICAgICAodGhpcy5lbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnJlYWRPbmx5ID0gZmFsc2U7XHJcbiAgICAgICAgfSwgNjAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXJyb3IoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hcHBlbmRDbGFzcygnZXJyb3InKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVDbGFzcygnZXJyb3InKTtcclxuICAgICAgICAgICAgKHRoaXMuZWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS5yZWFkT25seSA9IGZhbHNlO1xyXG4gICAgICAgIH0sIDUwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmb2N1cygpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMudmlld1BvcnRVdGlsLklzVmlzaWJsZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQ2xhc3MoY2xhc3NuYW1lKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXBwZW5kQ2xhc3MoY2xhc3NuYW1lKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVsZXRlRWxlbWVudCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRDaGlsZEVsZW1lbnRCeUF0dHJOYW1lKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGZpcnN0TGV0dGVyID0gbmFtZS5yZXBsYWNlKC9eXFx3LywgYyA9PiBjLnRvVXBwZXJDYXNlKCkpO1xyXG4gICAgICAgIGNvbnN0IFN1YkVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAgICAgYFtuYW1lPVwiJHtmaXJzdExldHRlcn1cIl1gLFxyXG4gICAgICAgICkgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBpZiAoU3ViRWxlbWVudCkge1xyXG4gICAgICAgICAgICBTdWJFbGVtZW50LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBoYXNDbGFzcyhjbGFzc05hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFN0eWxlKHJ1bGVOYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1lbnQpW3J1bGVOYW1lXTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNYWtlUmVxdWVzdCB7XHJcbiAgICBtZXRob2Q6IHN0cmluZztcclxuICAgIHVybDogc3RyaW5nO1xyXG4gICAgaGVhZGVyczogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVybDogc3RyaW5nLCBtZXRob2Q6IHN0cmluZyA9ICdnZXQnLCBoZWFkZXJzOiBhbnkgPSB7fSkge1xyXG4gICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xyXG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xyXG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRIZWFkZXJzKGh0dHBSZXF1ZXN0OiBYTUxIdHRwUmVxdWVzdCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgaGVhZGVyIGluIHRoaXMuaGVhZGVycykge1xyXG4gICAgICAgICAgICBodHRwUmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlciwgdGhpcy5oZWFkZXJzW2hlYWRlcl0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZW5kKGRhdGE6IGFueSA9IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB4bWxIdHRwUmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICB4bWxIdHRwUmVxdWVzdC5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVybCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SGVhZGVycyh4bWxIdHRwUmVxdWVzdCk7XHJcbiAgICAgICAgICAgIHhtbEh0dHBSZXF1ZXN0Lm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICB4bWxIdHRwUmVxdWVzdC5zdGF0dXMgPj0gMjAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgeG1sSHR0cFJlcXVlc3Quc3RhdHVzIDwgMzAwXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHhtbEh0dHBSZXF1ZXN0LnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB4bWxIdHRwUmVxdWVzdC5zdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6IHhtbEh0dHBSZXF1ZXN0LnN0YXR1c1RleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHhtbEh0dHBSZXF1ZXN0LnJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB4bWxIdHRwUmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHhtbEh0dHBSZXF1ZXN0LnN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiB4bWxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IHhtbEh0dHBSZXF1ZXN0LnJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHhtbEh0dHBSZXF1ZXN0LnNlbmQoZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFN0cmluZ1V0aWwge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFN0cmluZ0Zvcm1hdChzdHI6IHN0cmluZywgLi4uYXJnczogc3RyaW5nW10pIHtcclxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL3soXFxkKyl9L2csIChtYXRjaCwgaW5kZXgpID0+IGFyZ3NbaW5kZXhdIHx8ICcnKVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFZpZXdwb3J0VXRpbCB7XHJcbiAgICBwcml2YXRlIGVsZW1lbnQ/OiBIVE1MRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIElzVmlzaWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgKChib3VuZHMudG9wID4gMCAmJiBib3VuZHMudG9wIDwgaW5uZXJIZWlnaHQpIHx8XHJcbiAgICAgICAgICAgICAgICAoYm91bmRzLmJvdHRvbSA+IDAgJiYgYm91bmRzLmJvdHRvbSA8IGlubmVySGVpZ2h0KSkgJiZcclxuICAgICAgICAgICAgKChib3VuZHMubGVmdCA+IDAgJiYgYm91bmRzLmxlZnQgPCBpbm5lcldpZHRoKSB8fFxyXG4gICAgICAgICAgICAgICAgKGJvdW5kcy5yaWdodCA+IDAgJiYgYm91bmRzLnJpZ2h0IDwgaW5uZXJXaWR0aCkpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgSXNQYXJ0aWFsbHlWaXNpYmxlKCkge1xyXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICBib3VuZHMudG9wID49IDAgfHxcclxuICAgICAgICAgICAgYm91bmRzLmxlZnQgPj0gMCB8fFxyXG4gICAgICAgICAgICBib3VuZHMuYm90dG9tIDw9IGlubmVySGVpZ2h0IHx8XHJcbiAgICAgICAgICAgIGJvdW5kcy5yaWdodCA8PSBpbm5lcldpZHRoXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgSXNPZmZzZXRWaXNpYmxlKG9mZnNldDogbnVtYmVyID0gMzAwKSB7XHJcbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgYm91bmRzLnRvcCArIG9mZnNldCA+PSAwIHx8XHJcbiAgICAgICAgICAgIGJvdW5kcy5sZWZ0ICsgb2Zmc2V0ID49IDAgfHxcclxuICAgICAgICAgICAgYm91bmRzLmJvdHRvbSAtIG9mZnNldCA8PSBpbm5lckhlaWdodCB8fFxyXG4gICAgICAgICAgICBib3VuZHMucmlnaHQgLSBvZmZzZXQgPD0gaW5uZXJXaWR0aFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFdpbmRvd1RvcChvZmZzZXQ6IG51bWJlciA9IDApIHtcclxuICAgICAgICBjb25zdCBZT2Zmc2V0ID1cclxuICAgICAgICAgICAgd2luZG93LnBhZ2VZT2Zmc2V0IHx8XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHxcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgfHxcclxuICAgICAgICAgICAgMDtcclxuICAgICAgICByZXR1cm4gb2Zmc2V0IDw9IFlPZmZzZXQ7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IElWYWxpZGF0aW9uIGZyb20gJy4uL0lWYWxpZGF0b3IuaW50ZXJmYWNlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhbmtBY2NvdW50VmFsaWRhdG9yIGltcGxlbWVudHMgSVZhbGlkYXRpb24ge1xyXG4gICAgaXNTYXRpc2ZpZWRCeShpbnB1dDogc3RyaW5nLCBhbGxvd0VtcHR5OiBib29sZWFuID0gdHJ1ZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBJVmFsaWRhdGlvbiBmcm9tICcuLi9JVmFsaWRhdG9yLmludGVyZmFjZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYW5rQWNjb3VudFJlZ2lzdHJhdGlvbk51bWJlclZhbGlkYXRvclxyXG4gICAgaW1wbGVtZW50cyBJVmFsaWRhdGlvbiB7XHJcbiAgICBpc1NhdGlzZmllZEJ5KGlucHV0OiBzdHJpbmcsIGFsbG93RW1wdHk6IGJvb2xlYW4gPSB0cnVlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IElWYWxpZGF0aW9uIGZyb20gJy4uL0lWYWxpZGF0b3IuaW50ZXJmYWNlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhbmtJZE5vcndheVZhbGlkYXRvciBpbXBsZW1lbnRzIElWYWxpZGF0aW9uIHtcclxuICAgIGlzU2F0aXNmaWVkQnkoaW5wdXQ6IHN0cmluZywgYWxsb3dFbXB0eTogYm9vbGVhbiA9IHRydWUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jaGVja05vUGVyc29ubnVtbWVyKGlucHV0LCBhbGxvd0VtcHR5KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrTm9QZXJzb25udW1tZXIoXHJcbiAgICAgICAgaW5wdXQ6IHN0cmluZyxcclxuICAgICAgICBhbGxvd0VtcHR5OiBib29sZWFuID0gdHJ1ZSxcclxuICAgICk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghaW5wdXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFsbG93RW1wdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBlcnNvbm51bW1lcjogc3RyaW5nID0gaW5wdXQucmVwbGFjZSgnICcsICcnKS5yZXBsYWNlKCctJywgJycpO1xyXG4gICAgICAgIGNvbnN0IHJlZ2V4OiBSZWdFeHAgPSBuZXcgUmVnRXhwKFxyXG4gICAgICAgICAgICAvXigwWzEtOV18MVswLTldfDJbMC05XXwzWzAtMV0pKDBbMS05XXwxWzAtMl0pKFxcZHsyfSkoXFxkezV9KSQvLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QocGVyc29ubnVtbWVyKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgSVZhbGlkYXRpb24gZnJvbSAnLi4vSVZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFua0lkU3dlZGVuVmFsaWRhdG9yIGltcGxlbWVudHMgSVZhbGlkYXRpb24ge1xyXG4gICAgaXNTYXRpc2ZpZWRCeShpbnB1dDogc3RyaW5nLCBhbGxvd0VtcHR5OiBib29sZWFuID0gdHJ1ZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrU2VQZXJzb25udW1tZXIoaW5wdXQsIGFsbG93RW1wdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tTZVBlcnNvbm51bW1lcihcclxuICAgICAgICBpbnB1dDogc3RyaW5nLFxyXG4gICAgICAgIGFsbG93RW1wdHk6IGJvb2xlYW4gPSB0cnVlLFxyXG4gICAgKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCFpbnB1dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYWxsb3dFbXB0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGVyc29ubnVtbWVyOiBzdHJpbmcgPSBpbnB1dC5yZXBsYWNlKCcgJywgJycpLnJlcGxhY2UoJy0nLCAnJyk7XHJcbiAgICAgICAgY29uc3QgcmVnZXg6IFJlZ0V4cCA9IG5ldyBSZWdFeHAoXHJcbiAgICAgICAgICAgIC9eKDE5XFxkezJ9fDIwXFxkezJ9KSgwWzEtOV18MVswLTJdKSgwWzEtOV18MVswLTldfDJbMC05XXwzWzAtMV0pKFxcZHs0fSkkLyxcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiByZWdleC50ZXN0KHBlcnNvbm51bW1lcik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IElWYWxpZGF0aW9uIGZyb20gJy4uL0lWYWxpZGF0b3IuaW50ZXJmYWNlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENwclZhbGlkYXRvciBpbXBsZW1lbnRzIElWYWxpZGF0aW9uIHtcclxuICAgIGlzU2F0aXNmaWVkQnkoaW5wdXQ6IHN0cmluZywgYWxsb3dFbXB0eTogYm9vbGVhbiA9IHRydWUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jaGVja0NwcihpbnB1dCwgYWxsb3dFbXB0eSk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIG1vZHVsdXMxMU11bHRpcGx5KHZhbHVlOiBudW1iZXIsIGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2w6IG51bWJlcltdID0gWzQsIDMsIDIsIDcsIDYsIDUsIDQsIDMsIDIsIDFdO1xyXG4gICAgICAgIHJldHVybiBjb250cm9sW2luZGV4XSAqIHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW9kdWx1czExRXhjZXB0aW9ucyhpbnB1dDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgZXhjZXB0aW9uRGF0ZXM6IERhdGVbXSA9IFtcclxuICAgICAgICAgICAgMTk2MCxcclxuICAgICAgICAgICAgMTk2NCxcclxuICAgICAgICAgICAgMTk2NSxcclxuICAgICAgICAgICAgMTk2NixcclxuICAgICAgICAgICAgMTk2OSxcclxuICAgICAgICAgICAgMTk3MCxcclxuICAgICAgICAgICAgMTk4MCxcclxuICAgICAgICAgICAgMTk4MixcclxuICAgICAgICAgICAgMTk4NCxcclxuICAgICAgICAgICAgMTk4NSxcclxuICAgICAgICAgICAgMTk4NixcclxuICAgICAgICAgICAgMTk4NyxcclxuICAgICAgICAgICAgMTk4OCxcclxuICAgICAgICAgICAgMTk4OSxcclxuICAgICAgICAgICAgMTk5MCxcclxuICAgICAgICBdLm1hcCh4ID0+IG5ldyBEYXRlKHgsIDAsIDEpKTsgLy8gbW9udGhzIGFyZSAwLWluZGV4ZWRcclxuXHJcbiAgICAgICAgY29uc3QgY3ByRGF0ZTogRGF0ZSA9IHRoaXMuZ2V0Q3ByRGF0ZShpbnB1dCk7XHJcblxyXG4gICAgICAgIHJldHVybiBleGNlcHRpb25EYXRlcy5zb21lKHggPT4geC5nZXREYXRlKCkgPT09IGNwckRhdGUuZ2V0RGF0ZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrQ3ByRGF0ZShpbnB1dDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHllYXI6IG51bWJlciA9ICtpbnB1dC5zdWJzdHIoNCwgMikgKyAyMDAwO1xyXG4gICAgICAgIHllYXIgLT0geWVhciA+IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSA/IDEwMCA6IDA7IC8vIGlzIDIweHggb3IgMTl4eFxyXG4gICAgICAgIGNvbnN0IG1vbnRoOiBudW1iZXIgPSAraW5wdXQuc3Vic3RyKDIsIDIpIC0gMTtcclxuICAgICAgICBjb25zdCBkYXk6IG51bWJlciA9ICtpbnB1dC5zdWJzdHIoMCwgMik7XHJcbiAgICAgICAgY29uc3QgZGF0ZTogRGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIGRhdGUuZ2V0RnVsbFllYXIoKSA9PT0geWVhciAmJlxyXG4gICAgICAgICAgICBkYXRlLmdldE1vbnRoKCkgPT09IG1vbnRoICYmXHJcbiAgICAgICAgICAgIGRhdGUuZ2V0RGF0ZSgpID09PSBkYXlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Q3ByRGF0ZShpbnB1dDogc3RyaW5nKTogRGF0ZSB7XHJcbiAgICAgICAgbGV0IHllYXI6IG51bWJlciA9ICtpbnB1dC5zdWJzdHIoNCwgMikgKyAyMDAwO1xyXG4gICAgICAgIHllYXIgLT0geWVhciA+IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSA/IDEwMCA6IDA7IC8vIGlzIDIweHggb3IgMTl4eFxyXG4gICAgICAgIGNvbnN0IG1vbnRoOiBudW1iZXIgPSAraW5wdXQuc3Vic3RyKDIsIDIpIC0gMTtcclxuICAgICAgICBjb25zdCBkYXk6IG51bWJlciA9ICtpbnB1dC5zdWJzdHIoMCwgMik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tDcHIoaW5wdXQ6IHN0cmluZywgYWxsb3dFbXB0eTogYm9vbGVhbiA9IHRydWUpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIWlucHV0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhbGxvd0VtcHR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjcHJucjogc3RyaW5nID0gaW5wdXQucmVwbGFjZSgnICcsICcnKS5yZXBsYWNlKCctJywgJycpO1xyXG4gICAgICAgIGlmICghY3BybnIubWF0Y2goL15cXGR7MTB9JC8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmNoZWNrQ3ByRGF0ZShjcHJucikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5tb2R1bHVzMTFFeGNlcHRpb25zKGNwcm5yKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBvdXRwdXQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IDEwOyBpKyspIHtcclxuICAgICAgICAgICAgb3V0cHV0ICs9IHRoaXMubW9kdWx1czExTXVsdGlwbHkoXHJcbiAgICAgICAgICAgICAgICBwYXJzZUludChjcHJuci5zdWJzdHIoaSwgMSksIDEwKSxcclxuICAgICAgICAgICAgICAgIGksXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb3V0cHV0ICUgMTEgPT09IDA7IC8vIGh2aXMgb3V0cHV0IGfDpXIgb3AgaSAxMSwgZXIgZGV0IGV0IGd5bGRpZ3QgY3ByLlxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBJVmFsaWRhdGlvbiBmcm9tICcuLi9JVmFsaWRhdG9yLmludGVyZmFjZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdnJWYWxpZGF0b3IgaW1wbGVtZW50cyBJVmFsaWRhdGlvbiB7XHJcbiAgICBpc1NhdGlzZmllZEJ5KGlucHV0OiBzdHJpbmcsIGFsbG93RW1wdHk6IGJvb2xlYW4gPSB0cnVlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tDdnIoaW5wdXQsIGFsbG93RW1wdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tDdnIoaW5wdXQ6IHN0cmluZywgYWxsb3dFbXB0eTogYm9vbGVhbiA9IHRydWUpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIWFsbG93RW1wdHkgJiYgIWlucHV0KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgY3ZybnI6IHN0cmluZyA9IGlucHV0LnJlcGxhY2UoJyAnLCAnJykucmVwbGFjZSgnLScsICcnKTtcclxuICAgICAgICBpZiAoIWN2cm5yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhbGxvd0VtcHR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIS9eXFxkezh9JC8udGVzdChjdnJucikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY3ZyIG51bXJlIGthbiDDpWJlbmJhcnQgb2dzw6UgbW9kdWx1czExIHRlc3Rlcy5cclxuICAgICAgICBsZXQgdG90YWw6IG51bWJlciA9IDA7XHJcblxyXG4gICAgICAgIFsyLCA3LCA2LCA1LCA0LCAzLCAyLCAxXS5mb3JFYWNoKChlbG0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIHRvdGFsICs9IHBhcnNlSW50KGN2cm5yW2luZGV4XSwgMTApICogZWxtO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdG90YWwgJSAxMSA9PT0gMDtcclxuICAgIH1cclxufVxyXG4iLCJjbGFzcyBlbGVtZW50Q29uZmlnIHtcclxuICAgIHNlbGVjdG9yOiBzdHJpbmc7XHJcbiAgICB0ZW1wbGF0ZTogc3RyaW5nO1xyXG4gICAgc3R5bGU6IHN0cmluZztcclxuICAgIHVzZVNoYWRvdzogYm9vbGVhbjtcclxuICAgIHRlbXBsYXRlUGF0aD86IHN0cmluZztcclxufVxyXG5cclxuY29uc3QgdmFsaWRhdGVTZWxlY3RvciA9IChzZWxlY3Rvcjogc3RyaW5nKSA9PiB7XHJcbiAgICBpZiAoc2VsZWN0b3IuaW5kZXhPZignLScpIDw9IDApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBuZWVkIGF0IGxlYXN0IDEgZGFzaCBpbiB0aGUgY3VzdG9tIGVsZW1lbnQgbmFtZSEnKTtcclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IEN1c3RvbUVsZW1lbnQgPSAoY29uZmlnOiBlbGVtZW50Q29uZmlnKSA9PiB7XHJcbiAgICByZXR1cm4gKGNsczogYW55KSA9PiB7XHJcbiAgICAgICAgdmFsaWRhdGVTZWxlY3Rvcihjb25maWcuc2VsZWN0b3IpO1xyXG4gICAgICAgIGxldCB0ZW1wbGF0ZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xyXG4gICAgICAgIGlmICghY29uZmlnLnRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgdG8gcGFzcyBhIHRlbXBsYXRlIGZvciB0aGUgZWxlbWVudCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0ZW1wbGF0ZUVsZW1lbnQuaW5uZXJIVE1MID0gYDxzdHlsZT4ke2NvbmZpZy5zdHlsZX08L3N0eWxlPiAke1xyXG4gICAgICAgICAgICBjb25maWcudGVtcGxhdGVcclxuICAgICAgICB9YDtcclxuICAgICAgICBsZXQgY29ubmVjdGVkQ2FsbGJhY2sgPVxyXG4gICAgICAgICAgICBjbHMucHJvdG90eXBlLmNvbm5lY3RlZENhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XHJcbiAgICAgICAgY2xzLnByb3RvdHlwZS5jb25uZWN0ZWRDYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsZXQgY2xvbmUgPSBkb2N1bWVudC5pbXBvcnROb2RlKHRlbXBsYXRlRWxlbWVudC5jb250ZW50LCB0cnVlKTtcclxuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VTaGFkb3cpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pLmFwcGVuZENoaWxkKGNsb25lKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoY2xvbmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbm5lY3RlZENhbGxiYWNrLmNhbGwodGhpcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKGNvbmZpZy5zZWxlY3RvciwgY2xzKTtcclxuICAgIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDdXN0b21FbGVtZW50O1xyXG4iLCJpbXBvcnQgJ2pzLXBvbHlmaWxscyc7XHJcbmltcG9ydCAnQHdlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzL3dlYmNvbXBvbmVudHMtYnVuZGxlJztcclxuaW1wb3J0ICdAd2ViY29tcG9uZW50cy93ZWJjb21wb25lbnRzanMvY3VzdG9tLWVsZW1lbnRzLWVzNS1hZGFwdGVyLmpzJztcclxuaW1wb3J0ICdAd2ViY29tcG9uZW50cy93ZWJjb21wb25lbnRzanMvd2ViY29tcG9uZW50cy1sb2FkZXIuanMnO1xyXG5cclxuLy8gZm9ybVxyXG5pbXBvcnQgeyBDdXN0b21Gb3JtIH0gZnJvbSAnLi9jdXN0b20tZm9ybSc7XHJcbmltcG9ydCB7IEN1c3RvbUlucHV0RWxlbWVudCB9IGZyb20gJy4vZnJhbWV3b3JrL0N1c3RvbUlucHV0RWxlbWVudCc7XHJcblxyXG4vLyBlbGVtZW50c1xyXG5pbXBvcnQgKiBhcyBlbGVtZW50cyBmcm9tICcuL2VsZW1lbnRzL0VsZW1lbnRzJztcclxuXHJcbmV4cG9ydCB7IEN1c3RvbUZvcm0sIGVsZW1lbnRzLCBDdXN0b21JbnB1dEVsZW1lbnQgfTtcclxuIl19"}